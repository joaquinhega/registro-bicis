const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/index-CknR6_H1.js","assets/is-plan-event-enabled-DS1Agtkw.js","assets/index-aQ8sKHFz.js","assets/index-CF_u2lKC.js","assets/solanaRpcMiddlewares-BSNeYyv4.js","assets/index-BbW0vY6A.js"])))=>i.map(i=>d[i]);
var ZK=Object.defineProperty;var lI=t=>{throw TypeError(t)};var QK=(t,e,n)=>e in t?ZK(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;var _a=(t,e,n)=>QK(t,typeof e!="symbol"?e+"":e,n),g3=(t,e,n)=>e.has(t)||lI("Cannot "+n);var ye=(t,e,n)=>(g3(t,e,"read from private field"),n?n.call(t):e.get(t)),Et=(t,e,n)=>e.has(t)?lI("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(t):e.set(t,n),lt=(t,e,n,r)=>(g3(t,e,"write to private field"),r?r.call(t,n):e.set(t,n),n),Pn=(t,e,n)=>(g3(t,e,"access private method"),n);var xy=(t,e,n,r)=>({set _(i){lt(t,e,i,n)},get _(){return ye(t,e,r)}});(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const o of i)if(o.type==="childList")for(const s of o.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&r(s)}).observe(document,{childList:!0,subtree:!0});function n(i){const o={};return i.integrity&&(o.integrity=i.integrity),i.referrerPolicy&&(o.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?o.credentials="include":i.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(i){if(i.ep)return;i.ep=!0;const o=n(i);fetch(i.href,o)}})();var en=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof globalThis<"u"?globalThis:typeof self<"u"?self:{};function Bo(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function XK(t){if(t.__esModule)return t;var e=t.default;if(typeof e=="function"){var n=function r(){return this instanceof r?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};n.prototype=e.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(t).forEach(function(r){var i=Object.getOwnPropertyDescriptor(t,r);Object.defineProperty(n,r,i.get?i:{enumerable:!0,get:function(){return t[r]}})}),n}var ma={},vb={};vb.byteLength=nq;vb.toByteArray=iq;vb.fromByteArray=aq;var Us=[],mo=[],eq=typeof Uint8Array<"u"?Uint8Array:Array,m3="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";for(var af=0,tq=m3.length;af<tq;++af)Us[af]=m3[af],mo[m3.charCodeAt(af)]=af;mo[45]=62;mo[95]=63;function YN(t){var e=t.length;if(e%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var n=t.indexOf("=");n===-1&&(n=e);var r=n===e?0:4-n%4;return[n,r]}function nq(t){var e=YN(t),n=e[0],r=e[1];return(n+r)*3/4-r}function rq(t,e,n){return(e+n)*3/4-n}function iq(t){var e,n=YN(t),r=n[0],i=n[1],o=new eq(rq(t,r,i)),s=0,a=i>0?r-4:r,c;for(c=0;c<a;c+=4)e=mo[t.charCodeAt(c)]<<18|mo[t.charCodeAt(c+1)]<<12|mo[t.charCodeAt(c+2)]<<6|mo[t.charCodeAt(c+3)],o[s++]=e>>16&255,o[s++]=e>>8&255,o[s++]=e&255;return i===2&&(e=mo[t.charCodeAt(c)]<<2|mo[t.charCodeAt(c+1)]>>4,o[s++]=e&255),i===1&&(e=mo[t.charCodeAt(c)]<<10|mo[t.charCodeAt(c+1)]<<4|mo[t.charCodeAt(c+2)]>>2,o[s++]=e>>8&255,o[s++]=e&255),o}function oq(t){return Us[t>>18&63]+Us[t>>12&63]+Us[t>>6&63]+Us[t&63]}function sq(t,e,n){for(var r,i=[],o=e;o<n;o+=3)r=(t[o]<<16&16711680)+(t[o+1]<<8&65280)+(t[o+2]&255),i.push(oq(r));return i.join("")}function aq(t){for(var e,n=t.length,r=n%3,i=[],o=16383,s=0,a=n-r;s<a;s+=o)i.push(sq(t,s,s+o>a?a:s+o));return r===1?(e=t[n-1],i.push(Us[e>>2]+Us[e<<4&63]+"==")):r===2&&(e=(t[n-2]<<8)+t[n-1],i.push(Us[e>>10]+Us[e>>4&63]+Us[e<<2&63]+"=")),i.join("")}var X_={};/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */X_.read=function(t,e,n,r,i){var o,s,a=i*8-r-1,c=(1<<a)-1,l=c>>1,u=-7,d=n?i-1:0,f=n?-1:1,h=t[e+d];for(d+=f,o=h&(1<<-u)-1,h>>=-u,u+=a;u>0;o=o*256+t[e+d],d+=f,u-=8);for(s=o&(1<<-u)-1,o>>=-u,u+=r;u>0;s=s*256+t[e+d],d+=f,u-=8);if(o===0)o=1-l;else{if(o===c)return s?NaN:(h?-1:1)*(1/0);s=s+Math.pow(2,r),o=o-l}return(h?-1:1)*s*Math.pow(2,o-r)};X_.write=function(t,e,n,r,i,o){var s,a,c,l=o*8-i-1,u=(1<<l)-1,d=u>>1,f=i===23?Math.pow(2,-24)-Math.pow(2,-77):0,h=r?0:o-1,g=r?1:-1,p=e<0||e===0&&1/e<0?1:0;for(e=Math.abs(e),isNaN(e)||e===1/0?(a=isNaN(e)?1:0,s=u):(s=Math.floor(Math.log(e)/Math.LN2),e*(c=Math.pow(2,-s))<1&&(s--,c*=2),s+d>=1?e+=f/c:e+=f*Math.pow(2,1-d),e*c>=2&&(s++,c/=2),s+d>=u?(a=0,s=u):s+d>=1?(a=(e*c-1)*Math.pow(2,i),s=s+d):(a=e*Math.pow(2,d-1)*Math.pow(2,i),s=0));i>=8;t[n+h]=a&255,h+=g,a/=256,i-=8);for(s=s<<i|a,l+=i;l>0;t[n+h]=s&255,h+=g,s/=256,l-=8);t[n+h-g]|=p*128};/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 */(function(t){const e=vb,n=X_,r=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):null;t.Buffer=a,t.SlowBuffer=b,t.INSPECT_MAX_BYTES=50;const i=2147483647;t.kMaxLength=i,a.TYPED_ARRAY_SUPPORT=o(),!a.TYPED_ARRAY_SUPPORT&&typeof console<"u"&&typeof console.error=="function"&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support.");function o(){try{const q=new Uint8Array(1),F={foo:function(){return 42}};return Object.setPrototypeOf(F,Uint8Array.prototype),Object.setPrototypeOf(q,F),q.foo()===42}catch{return!1}}Object.defineProperty(a.prototype,"parent",{enumerable:!0,get:function(){if(a.isBuffer(this))return this.buffer}}),Object.defineProperty(a.prototype,"offset",{enumerable:!0,get:function(){if(a.isBuffer(this))return this.byteOffset}});function s(q){if(q>i)throw new RangeError('The value "'+q+'" is invalid for option "size"');const F=new Uint8Array(q);return Object.setPrototypeOf(F,a.prototype),F}function a(q,F,U){if(typeof q=="number"){if(typeof F=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return d(q)}return c(q,F,U)}a.poolSize=8192;function c(q,F,U){if(typeof q=="string")return f(q,F);if(ArrayBuffer.isView(q))return g(q);if(q==null)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof q);if(we(q,ArrayBuffer)||q&&we(q.buffer,ArrayBuffer)||typeof SharedArrayBuffer<"u"&&(we(q,SharedArrayBuffer)||q&&we(q.buffer,SharedArrayBuffer)))return p(q,F,U);if(typeof q=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');const Z=q.valueOf&&q.valueOf();if(Z!=null&&Z!==q)return a.from(Z,F,U);const se=S(q);if(se)return se;if(typeof Symbol<"u"&&Symbol.toPrimitive!=null&&typeof q[Symbol.toPrimitive]=="function")return a.from(q[Symbol.toPrimitive]("string"),F,U);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof q)}a.from=function(q,F,U){return c(q,F,U)},Object.setPrototypeOf(a.prototype,Uint8Array.prototype),Object.setPrototypeOf(a,Uint8Array);function l(q){if(typeof q!="number")throw new TypeError('"size" argument must be of type number');if(q<0)throw new RangeError('The value "'+q+'" is invalid for option "size"')}function u(q,F,U){return l(q),q<=0?s(q):F!==void 0?typeof U=="string"?s(q).fill(F,U):s(q).fill(F):s(q)}a.alloc=function(q,F,U){return u(q,F,U)};function d(q){return l(q),s(q<0?0:y(q)|0)}a.allocUnsafe=function(q){return d(q)},a.allocUnsafeSlow=function(q){return d(q)};function f(q,F){if((typeof F!="string"||F==="")&&(F="utf8"),!a.isEncoding(F))throw new TypeError("Unknown encoding: "+F);const U=_(q,F)|0;let Z=s(U);const se=Z.write(q,F);return se!==U&&(Z=Z.slice(0,se)),Z}function h(q){const F=q.length<0?0:y(q.length)|0,U=s(F);for(let Z=0;Z<F;Z+=1)U[Z]=q[Z]&255;return U}function g(q){if(we(q,Uint8Array)){const F=new Uint8Array(q);return p(F.buffer,F.byteOffset,F.byteLength)}return h(q)}function p(q,F,U){if(F<0||q.byteLength<F)throw new RangeError('"offset" is outside of buffer bounds');if(q.byteLength<F+(U||0))throw new RangeError('"length" is outside of buffer bounds');let Z;return F===void 0&&U===void 0?Z=new Uint8Array(q):U===void 0?Z=new Uint8Array(q,F):Z=new Uint8Array(q,F,U),Object.setPrototypeOf(Z,a.prototype),Z}function S(q){if(a.isBuffer(q)){const F=y(q.length)|0,U=s(F);return U.length===0||q.copy(U,0,0,F),U}if(q.length!==void 0)return typeof q.length!="number"||Je(q.length)?s(0):h(q);if(q.type==="Buffer"&&Array.isArray(q.data))return h(q.data)}function y(q){if(q>=i)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+i.toString(16)+" bytes");return q|0}function b(q){return+q!=q&&(q=0),a.alloc(+q)}a.isBuffer=function(F){return F!=null&&F._isBuffer===!0&&F!==a.prototype},a.compare=function(F,U){if(we(F,Uint8Array)&&(F=a.from(F,F.offset,F.byteLength)),we(U,Uint8Array)&&(U=a.from(U,U.offset,U.byteLength)),!a.isBuffer(F)||!a.isBuffer(U))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(F===U)return 0;let Z=F.length,se=U.length;for(let fe=0,ge=Math.min(Z,se);fe<ge;++fe)if(F[fe]!==U[fe]){Z=F[fe],se=U[fe];break}return Z<se?-1:se<Z?1:0},a.isEncoding=function(F){switch(String(F).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},a.concat=function(F,U){if(!Array.isArray(F))throw new TypeError('"list" argument must be an Array of Buffers');if(F.length===0)return a.alloc(0);let Z;if(U===void 0)for(U=0,Z=0;Z<F.length;++Z)U+=F[Z].length;const se=a.allocUnsafe(U);let fe=0;for(Z=0;Z<F.length;++Z){let ge=F[Z];if(we(ge,Uint8Array))fe+ge.length>se.length?(a.isBuffer(ge)||(ge=a.from(ge)),ge.copy(se,fe)):Uint8Array.prototype.set.call(se,ge,fe);else if(a.isBuffer(ge))ge.copy(se,fe);else throw new TypeError('"list" argument must be an Array of Buffers');fe+=ge.length}return se};function _(q,F){if(a.isBuffer(q))return q.length;if(ArrayBuffer.isView(q)||we(q,ArrayBuffer))return q.byteLength;if(typeof q!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof q);const U=q.length,Z=arguments.length>2&&arguments[2]===!0;if(!Z&&U===0)return 0;let se=!1;for(;;)switch(F){case"ascii":case"latin1":case"binary":return U;case"utf8":case"utf-8":return he(q).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return U*2;case"hex":return U>>>1;case"base64":return Le(q).length;default:if(se)return Z?-1:he(q).length;F=(""+F).toLowerCase(),se=!0}}a.byteLength=_;function N(q,F,U){let Z=!1;if((F===void 0||F<0)&&(F=0),F>this.length||((U===void 0||U>this.length)&&(U=this.length),U<=0)||(U>>>=0,F>>>=0,U<=F))return"";for(q||(q="utf8");;)switch(q){case"hex":return C(this,F,U);case"utf8":case"utf-8":return A(this,F,U);case"ascii":return M(this,F,U);case"latin1":case"binary":return E(this,F,U);case"base64":return w(this,F,U);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return x(this,F,U);default:if(Z)throw new TypeError("Unknown encoding: "+q);q=(q+"").toLowerCase(),Z=!0}}a.prototype._isBuffer=!0;function O(q,F,U){const Z=q[F];q[F]=q[U],q[U]=Z}a.prototype.swap16=function(){const F=this.length;if(F%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(let U=0;U<F;U+=2)O(this,U,U+1);return this},a.prototype.swap32=function(){const F=this.length;if(F%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(let U=0;U<F;U+=4)O(this,U,U+3),O(this,U+1,U+2);return this},a.prototype.swap64=function(){const F=this.length;if(F%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(let U=0;U<F;U+=8)O(this,U,U+7),O(this,U+1,U+6),O(this,U+2,U+5),O(this,U+3,U+4);return this},a.prototype.toString=function(){const F=this.length;return F===0?"":arguments.length===0?A(this,0,F):N.apply(this,arguments)},a.prototype.toLocaleString=a.prototype.toString,a.prototype.equals=function(F){if(!a.isBuffer(F))throw new TypeError("Argument must be a Buffer");return this===F?!0:a.compare(this,F)===0},a.prototype.inspect=function(){let F="";const U=t.INSPECT_MAX_BYTES;return F=this.toString("hex",0,U).replace(/(.{2})/g,"$1 ").trim(),this.length>U&&(F+=" ... "),"<Buffer "+F+">"},r&&(a.prototype[r]=a.prototype.inspect),a.prototype.compare=function(F,U,Z,se,fe){if(we(F,Uint8Array)&&(F=a.from(F,F.offset,F.byteLength)),!a.isBuffer(F))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof F);if(U===void 0&&(U=0),Z===void 0&&(Z=F?F.length:0),se===void 0&&(se=0),fe===void 0&&(fe=this.length),U<0||Z>F.length||se<0||fe>this.length)throw new RangeError("out of range index");if(se>=fe&&U>=Z)return 0;if(se>=fe)return-1;if(U>=Z)return 1;if(U>>>=0,Z>>>=0,se>>>=0,fe>>>=0,this===F)return 0;let ge=fe-se,je=Z-U;const yt=Math.min(ge,je),Ke=this.slice(se,fe),at=F.slice(U,Z);for(let ft=0;ft<yt;++ft)if(Ke[ft]!==at[ft]){ge=Ke[ft],je=at[ft];break}return ge<je?-1:je<ge?1:0};function $(q,F,U,Z,se){if(q.length===0)return-1;if(typeof U=="string"?(Z=U,U=0):U>2147483647?U=2147483647:U<-2147483648&&(U=-2147483648),U=+U,Je(U)&&(U=se?0:q.length-1),U<0&&(U=q.length+U),U>=q.length){if(se)return-1;U=q.length-1}else if(U<0)if(se)U=0;else return-1;if(typeof F=="string"&&(F=a.from(F,Z)),a.isBuffer(F))return F.length===0?-1:j(q,F,U,Z,se);if(typeof F=="number")return F=F&255,typeof Uint8Array.prototype.indexOf=="function"?se?Uint8Array.prototype.indexOf.call(q,F,U):Uint8Array.prototype.lastIndexOf.call(q,F,U):j(q,[F],U,Z,se);throw new TypeError("val must be string, number or Buffer")}function j(q,F,U,Z,se){let fe=1,ge=q.length,je=F.length;if(Z!==void 0&&(Z=String(Z).toLowerCase(),Z==="ucs2"||Z==="ucs-2"||Z==="utf16le"||Z==="utf-16le")){if(q.length<2||F.length<2)return-1;fe=2,ge/=2,je/=2,U/=2}function yt(at,ft){return fe===1?at[ft]:at.readUInt16BE(ft*fe)}let Ke;if(se){let at=-1;for(Ke=U;Ke<ge;Ke++)if(yt(q,Ke)===yt(F,at===-1?0:Ke-at)){if(at===-1&&(at=Ke),Ke-at+1===je)return at*fe}else at!==-1&&(Ke-=Ke-at),at=-1}else for(U+je>ge&&(U=ge-je),Ke=U;Ke>=0;Ke--){let at=!0;for(let ft=0;ft<je;ft++)if(yt(q,Ke+ft)!==yt(F,ft)){at=!1;break}if(at)return Ke}return-1}a.prototype.includes=function(F,U,Z){return this.indexOf(F,U,Z)!==-1},a.prototype.indexOf=function(F,U,Z){return $(this,F,U,Z,!0)},a.prototype.lastIndexOf=function(F,U,Z){return $(this,F,U,Z,!1)};function k(q,F,U,Z){U=Number(U)||0;const se=q.length-U;Z?(Z=Number(Z),Z>se&&(Z=se)):Z=se;const fe=F.length;Z>fe/2&&(Z=fe/2);let ge;for(ge=0;ge<Z;++ge){const je=parseInt(F.substr(ge*2,2),16);if(Je(je))return ge;q[U+ge]=je}return ge}function T(q,F,U,Z){return De(he(F,q.length-U),q,U,Z)}function L(q,F,U,Z){return De(pe(F),q,U,Z)}function P(q,F,U,Z){return De(Le(F),q,U,Z)}function m(q,F,U,Z){return De(Ee(F,q.length-U),q,U,Z)}a.prototype.write=function(F,U,Z,se){if(U===void 0)se="utf8",Z=this.length,U=0;else if(Z===void 0&&typeof U=="string")se=U,Z=this.length,U=0;else if(isFinite(U))U=U>>>0,isFinite(Z)?(Z=Z>>>0,se===void 0&&(se="utf8")):(se=Z,Z=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");const fe=this.length-U;if((Z===void 0||Z>fe)&&(Z=fe),F.length>0&&(Z<0||U<0)||U>this.length)throw new RangeError("Attempt to write outside buffer bounds");se||(se="utf8");let ge=!1;for(;;)switch(se){case"hex":return k(this,F,U,Z);case"utf8":case"utf-8":return T(this,F,U,Z);case"ascii":case"latin1":case"binary":return L(this,F,U,Z);case"base64":return P(this,F,U,Z);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return m(this,F,U,Z);default:if(ge)throw new TypeError("Unknown encoding: "+se);se=(""+se).toLowerCase(),ge=!0}},a.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function w(q,F,U){return F===0&&U===q.length?e.fromByteArray(q):e.fromByteArray(q.slice(F,U))}function A(q,F,U){U=Math.min(q.length,U);const Z=[];let se=F;for(;se<U;){const fe=q[se];let ge=null,je=fe>239?4:fe>223?3:fe>191?2:1;if(se+je<=U){let yt,Ke,at,ft;switch(je){case 1:fe<128&&(ge=fe);break;case 2:yt=q[se+1],(yt&192)===128&&(ft=(fe&31)<<6|yt&63,ft>127&&(ge=ft));break;case 3:yt=q[se+1],Ke=q[se+2],(yt&192)===128&&(Ke&192)===128&&(ft=(fe&15)<<12|(yt&63)<<6|Ke&63,ft>2047&&(ft<55296||ft>57343)&&(ge=ft));break;case 4:yt=q[se+1],Ke=q[se+2],at=q[se+3],(yt&192)===128&&(Ke&192)===128&&(at&192)===128&&(ft=(fe&15)<<18|(yt&63)<<12|(Ke&63)<<6|at&63,ft>65535&&ft<1114112&&(ge=ft))}}ge===null?(ge=65533,je=1):ge>65535&&(ge-=65536,Z.push(ge>>>10&1023|55296),ge=56320|ge&1023),Z.push(ge),se+=je}return I(Z)}const v=4096;function I(q){const F=q.length;if(F<=v)return String.fromCharCode.apply(String,q);let U="",Z=0;for(;Z<F;)U+=String.fromCharCode.apply(String,q.slice(Z,Z+=v));return U}function M(q,F,U){let Z="";U=Math.min(q.length,U);for(let se=F;se<U;++se)Z+=String.fromCharCode(q[se]&127);return Z}function E(q,F,U){let Z="";U=Math.min(q.length,U);for(let se=F;se<U;++se)Z+=String.fromCharCode(q[se]);return Z}function C(q,F,U){const Z=q.length;(!F||F<0)&&(F=0),(!U||U<0||U>Z)&&(U=Z);let se="";for(let fe=F;fe<U;++fe)se+=He[q[fe]];return se}function x(q,F,U){const Z=q.slice(F,U);let se="";for(let fe=0;fe<Z.length-1;fe+=2)se+=String.fromCharCode(Z[fe]+Z[fe+1]*256);return se}a.prototype.slice=function(F,U){const Z=this.length;F=~~F,U=U===void 0?Z:~~U,F<0?(F+=Z,F<0&&(F=0)):F>Z&&(F=Z),U<0?(U+=Z,U<0&&(U=0)):U>Z&&(U=Z),U<F&&(U=F);const se=this.subarray(F,U);return Object.setPrototypeOf(se,a.prototype),se};function R(q,F,U){if(q%1!==0||q<0)throw new RangeError("offset is not uint");if(q+F>U)throw new RangeError("Trying to access beyond buffer length")}a.prototype.readUintLE=a.prototype.readUIntLE=function(F,U,Z){F=F>>>0,U=U>>>0,Z||R(F,U,this.length);let se=this[F],fe=1,ge=0;for(;++ge<U&&(fe*=256);)se+=this[F+ge]*fe;return se},a.prototype.readUintBE=a.prototype.readUIntBE=function(F,U,Z){F=F>>>0,U=U>>>0,Z||R(F,U,this.length);let se=this[F+--U],fe=1;for(;U>0&&(fe*=256);)se+=this[F+--U]*fe;return se},a.prototype.readUint8=a.prototype.readUInt8=function(F,U){return F=F>>>0,U||R(F,1,this.length),this[F]},a.prototype.readUint16LE=a.prototype.readUInt16LE=function(F,U){return F=F>>>0,U||R(F,2,this.length),this[F]|this[F+1]<<8},a.prototype.readUint16BE=a.prototype.readUInt16BE=function(F,U){return F=F>>>0,U||R(F,2,this.length),this[F]<<8|this[F+1]},a.prototype.readUint32LE=a.prototype.readUInt32LE=function(F,U){return F=F>>>0,U||R(F,4,this.length),(this[F]|this[F+1]<<8|this[F+2]<<16)+this[F+3]*16777216},a.prototype.readUint32BE=a.prototype.readUInt32BE=function(F,U){return F=F>>>0,U||R(F,4,this.length),this[F]*16777216+(this[F+1]<<16|this[F+2]<<8|this[F+3])},a.prototype.readBigUInt64LE=Xe(function(F){F=F>>>0,K(F,"offset");const U=this[F],Z=this[F+7];(U===void 0||Z===void 0)&&Q(F,this.length-8);const se=U+this[++F]*2**8+this[++F]*2**16+this[++F]*2**24,fe=this[++F]+this[++F]*2**8+this[++F]*2**16+Z*2**24;return BigInt(se)+(BigInt(fe)<<BigInt(32))}),a.prototype.readBigUInt64BE=Xe(function(F){F=F>>>0,K(F,"offset");const U=this[F],Z=this[F+7];(U===void 0||Z===void 0)&&Q(F,this.length-8);const se=U*2**24+this[++F]*2**16+this[++F]*2**8+this[++F],fe=this[++F]*2**24+this[++F]*2**16+this[++F]*2**8+Z;return(BigInt(se)<<BigInt(32))+BigInt(fe)}),a.prototype.readIntLE=function(F,U,Z){F=F>>>0,U=U>>>0,Z||R(F,U,this.length);let se=this[F],fe=1,ge=0;for(;++ge<U&&(fe*=256);)se+=this[F+ge]*fe;return fe*=128,se>=fe&&(se-=Math.pow(2,8*U)),se},a.prototype.readIntBE=function(F,U,Z){F=F>>>0,U=U>>>0,Z||R(F,U,this.length);let se=U,fe=1,ge=this[F+--se];for(;se>0&&(fe*=256);)ge+=this[F+--se]*fe;return fe*=128,ge>=fe&&(ge-=Math.pow(2,8*U)),ge},a.prototype.readInt8=function(F,U){return F=F>>>0,U||R(F,1,this.length),this[F]&128?(255-this[F]+1)*-1:this[F]},a.prototype.readInt16LE=function(F,U){F=F>>>0,U||R(F,2,this.length);const Z=this[F]|this[F+1]<<8;return Z&32768?Z|4294901760:Z},a.prototype.readInt16BE=function(F,U){F=F>>>0,U||R(F,2,this.length);const Z=this[F+1]|this[F]<<8;return Z&32768?Z|4294901760:Z},a.prototype.readInt32LE=function(F,U){return F=F>>>0,U||R(F,4,this.length),this[F]|this[F+1]<<8|this[F+2]<<16|this[F+3]<<24},a.prototype.readInt32BE=function(F,U){return F=F>>>0,U||R(F,4,this.length),this[F]<<24|this[F+1]<<16|this[F+2]<<8|this[F+3]},a.prototype.readBigInt64LE=Xe(function(F){F=F>>>0,K(F,"offset");const U=this[F],Z=this[F+7];(U===void 0||Z===void 0)&&Q(F,this.length-8);const se=this[F+4]+this[F+5]*2**8+this[F+6]*2**16+(Z<<24);return(BigInt(se)<<BigInt(32))+BigInt(U+this[++F]*2**8+this[++F]*2**16+this[++F]*2**24)}),a.prototype.readBigInt64BE=Xe(function(F){F=F>>>0,K(F,"offset");const U=this[F],Z=this[F+7];(U===void 0||Z===void 0)&&Q(F,this.length-8);const se=(U<<24)+this[++F]*2**16+this[++F]*2**8+this[++F];return(BigInt(se)<<BigInt(32))+BigInt(this[++F]*2**24+this[++F]*2**16+this[++F]*2**8+Z)}),a.prototype.readFloatLE=function(F,U){return F=F>>>0,U||R(F,4,this.length),n.read(this,F,!0,23,4)},a.prototype.readFloatBE=function(F,U){return F=F>>>0,U||R(F,4,this.length),n.read(this,F,!1,23,4)},a.prototype.readDoubleLE=function(F,U){return F=F>>>0,U||R(F,8,this.length),n.read(this,F,!0,52,8)},a.prototype.readDoubleBE=function(F,U){return F=F>>>0,U||R(F,8,this.length),n.read(this,F,!1,52,8)};function D(q,F,U,Z,se,fe){if(!a.isBuffer(q))throw new TypeError('"buffer" argument must be a Buffer instance');if(F>se||F<fe)throw new RangeError('"value" argument is out of bounds');if(U+Z>q.length)throw new RangeError("Index out of range")}a.prototype.writeUintLE=a.prototype.writeUIntLE=function(F,U,Z,se){if(F=+F,U=U>>>0,Z=Z>>>0,!se){const je=Math.pow(2,8*Z)-1;D(this,F,U,Z,je,0)}let fe=1,ge=0;for(this[U]=F&255;++ge<Z&&(fe*=256);)this[U+ge]=F/fe&255;return U+Z},a.prototype.writeUintBE=a.prototype.writeUIntBE=function(F,U,Z,se){if(F=+F,U=U>>>0,Z=Z>>>0,!se){const je=Math.pow(2,8*Z)-1;D(this,F,U,Z,je,0)}let fe=Z-1,ge=1;for(this[U+fe]=F&255;--fe>=0&&(ge*=256);)this[U+fe]=F/ge&255;return U+Z},a.prototype.writeUint8=a.prototype.writeUInt8=function(F,U,Z){return F=+F,U=U>>>0,Z||D(this,F,U,1,255,0),this[U]=F&255,U+1},a.prototype.writeUint16LE=a.prototype.writeUInt16LE=function(F,U,Z){return F=+F,U=U>>>0,Z||D(this,F,U,2,65535,0),this[U]=F&255,this[U+1]=F>>>8,U+2},a.prototype.writeUint16BE=a.prototype.writeUInt16BE=function(F,U,Z){return F=+F,U=U>>>0,Z||D(this,F,U,2,65535,0),this[U]=F>>>8,this[U+1]=F&255,U+2},a.prototype.writeUint32LE=a.prototype.writeUInt32LE=function(F,U,Z){return F=+F,U=U>>>0,Z||D(this,F,U,4,4294967295,0),this[U+3]=F>>>24,this[U+2]=F>>>16,this[U+1]=F>>>8,this[U]=F&255,U+4},a.prototype.writeUint32BE=a.prototype.writeUInt32BE=function(F,U,Z){return F=+F,U=U>>>0,Z||D(this,F,U,4,4294967295,0),this[U]=F>>>24,this[U+1]=F>>>16,this[U+2]=F>>>8,this[U+3]=F&255,U+4};function B(q,F,U,Z,se){ne(F,Z,se,q,U,7);let fe=Number(F&BigInt(4294967295));q[U++]=fe,fe=fe>>8,q[U++]=fe,fe=fe>>8,q[U++]=fe,fe=fe>>8,q[U++]=fe;let ge=Number(F>>BigInt(32)&BigInt(4294967295));return q[U++]=ge,ge=ge>>8,q[U++]=ge,ge=ge>>8,q[U++]=ge,ge=ge>>8,q[U++]=ge,U}function z(q,F,U,Z,se){ne(F,Z,se,q,U,7);let fe=Number(F&BigInt(4294967295));q[U+7]=fe,fe=fe>>8,q[U+6]=fe,fe=fe>>8,q[U+5]=fe,fe=fe>>8,q[U+4]=fe;let ge=Number(F>>BigInt(32)&BigInt(4294967295));return q[U+3]=ge,ge=ge>>8,q[U+2]=ge,ge=ge>>8,q[U+1]=ge,ge=ge>>8,q[U]=ge,U+8}a.prototype.writeBigUInt64LE=Xe(function(F,U=0){return B(this,F,U,BigInt(0),BigInt("0xffffffffffffffff"))}),a.prototype.writeBigUInt64BE=Xe(function(F,U=0){return z(this,F,U,BigInt(0),BigInt("0xffffffffffffffff"))}),a.prototype.writeIntLE=function(F,U,Z,se){if(F=+F,U=U>>>0,!se){const yt=Math.pow(2,8*Z-1);D(this,F,U,Z,yt-1,-yt)}let fe=0,ge=1,je=0;for(this[U]=F&255;++fe<Z&&(ge*=256);)F<0&&je===0&&this[U+fe-1]!==0&&(je=1),this[U+fe]=(F/ge>>0)-je&255;return U+Z},a.prototype.writeIntBE=function(F,U,Z,se){if(F=+F,U=U>>>0,!se){const yt=Math.pow(2,8*Z-1);D(this,F,U,Z,yt-1,-yt)}let fe=Z-1,ge=1,je=0;for(this[U+fe]=F&255;--fe>=0&&(ge*=256);)F<0&&je===0&&this[U+fe+1]!==0&&(je=1),this[U+fe]=(F/ge>>0)-je&255;return U+Z},a.prototype.writeInt8=function(F,U,Z){return F=+F,U=U>>>0,Z||D(this,F,U,1,127,-128),F<0&&(F=255+F+1),this[U]=F&255,U+1},a.prototype.writeInt16LE=function(F,U,Z){return F=+F,U=U>>>0,Z||D(this,F,U,2,32767,-32768),this[U]=F&255,this[U+1]=F>>>8,U+2},a.prototype.writeInt16BE=function(F,U,Z){return F=+F,U=U>>>0,Z||D(this,F,U,2,32767,-32768),this[U]=F>>>8,this[U+1]=F&255,U+2},a.prototype.writeInt32LE=function(F,U,Z){return F=+F,U=U>>>0,Z||D(this,F,U,4,2147483647,-2147483648),this[U]=F&255,this[U+1]=F>>>8,this[U+2]=F>>>16,this[U+3]=F>>>24,U+4},a.prototype.writeInt32BE=function(F,U,Z){return F=+F,U=U>>>0,Z||D(this,F,U,4,2147483647,-2147483648),F<0&&(F=4294967295+F+1),this[U]=F>>>24,this[U+1]=F>>>16,this[U+2]=F>>>8,this[U+3]=F&255,U+4},a.prototype.writeBigInt64LE=Xe(function(F,U=0){return B(this,F,U,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),a.prototype.writeBigInt64BE=Xe(function(F,U=0){return z(this,F,U,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))});function H(q,F,U,Z,se,fe){if(U+Z>q.length)throw new RangeError("Index out of range");if(U<0)throw new RangeError("Index out of range")}function W(q,F,U,Z,se){return F=+F,U=U>>>0,se||H(q,F,U,4),n.write(q,F,U,Z,23,4),U+4}a.prototype.writeFloatLE=function(F,U,Z){return W(this,F,U,!0,Z)},a.prototype.writeFloatBE=function(F,U,Z){return W(this,F,U,!1,Z)};function G(q,F,U,Z,se){return F=+F,U=U>>>0,se||H(q,F,U,8),n.write(q,F,U,Z,52,8),U+8}a.prototype.writeDoubleLE=function(F,U,Z){return G(this,F,U,!0,Z)},a.prototype.writeDoubleBE=function(F,U,Z){return G(this,F,U,!1,Z)},a.prototype.copy=function(F,U,Z,se){if(!a.isBuffer(F))throw new TypeError("argument should be a Buffer");if(Z||(Z=0),!se&&se!==0&&(se=this.length),U>=F.length&&(U=F.length),U||(U=0),se>0&&se<Z&&(se=Z),se===Z||F.length===0||this.length===0)return 0;if(U<0)throw new RangeError("targetStart out of bounds");if(Z<0||Z>=this.length)throw new RangeError("Index out of range");if(se<0)throw new RangeError("sourceEnd out of bounds");se>this.length&&(se=this.length),F.length-U<se-Z&&(se=F.length-U+Z);const fe=se-Z;return this===F&&typeof Uint8Array.prototype.copyWithin=="function"?this.copyWithin(U,Z,se):Uint8Array.prototype.set.call(F,this.subarray(Z,se),U),fe},a.prototype.fill=function(F,U,Z,se){if(typeof F=="string"){if(typeof U=="string"?(se=U,U=0,Z=this.length):typeof Z=="string"&&(se=Z,Z=this.length),se!==void 0&&typeof se!="string")throw new TypeError("encoding must be a string");if(typeof se=="string"&&!a.isEncoding(se))throw new TypeError("Unknown encoding: "+se);if(F.length===1){const ge=F.charCodeAt(0);(se==="utf8"&&ge<128||se==="latin1")&&(F=ge)}}else typeof F=="number"?F=F&255:typeof F=="boolean"&&(F=Number(F));if(U<0||this.length<U||this.length<Z)throw new RangeError("Out of range index");if(Z<=U)return this;U=U>>>0,Z=Z===void 0?this.length:Z>>>0,F||(F=0);let fe;if(typeof F=="number")for(fe=U;fe<Z;++fe)this[fe]=F;else{const ge=a.isBuffer(F)?F:a.from(F,se),je=ge.length;if(je===0)throw new TypeError('The value "'+F+'" is invalid for argument "value"');for(fe=0;fe<Z-U;++fe)this[fe+U]=ge[fe%je]}return this};const V={};function J(q,F,U){V[q]=class extends U{constructor(){super(),Object.defineProperty(this,"message",{value:F.apply(this,arguments),writable:!0,configurable:!0}),this.name=`${this.name} [${q}]`,this.stack,delete this.name}get code(){return q}set code(se){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:se,writable:!0})}toString(){return`${this.name} [${q}]: ${this.message}`}}}J("ERR_BUFFER_OUT_OF_BOUNDS",function(q){return q?`${q} is outside of buffer bounds`:"Attempt to access memory outside buffer bounds"},RangeError),J("ERR_INVALID_ARG_TYPE",function(q,F){return`The "${q}" argument must be of type number. Received type ${typeof F}`},TypeError),J("ERR_OUT_OF_RANGE",function(q,F,U){let Z=`The value of "${q}" is out of range.`,se=U;return Number.isInteger(U)&&Math.abs(U)>2**32?se=Y(String(U)):typeof U=="bigint"&&(se=String(U),(U>BigInt(2)**BigInt(32)||U<-(BigInt(2)**BigInt(32)))&&(se=Y(se)),se+="n"),Z+=` It must be ${F}. Received ${se}`,Z},RangeError);function Y(q){let F="",U=q.length;const Z=q[0]==="-"?1:0;for(;U>=Z+4;U-=3)F=`_${q.slice(U-3,U)}${F}`;return`${q.slice(0,U)}${F}`}function ee(q,F,U){K(F,"offset"),(q[F]===void 0||q[F+U]===void 0)&&Q(F,q.length-(U+1))}function ne(q,F,U,Z,se,fe){if(q>U||q<F){const ge=typeof F=="bigint"?"n":"";let je;throw F===0||F===BigInt(0)?je=`>= 0${ge} and < 2${ge} ** ${(fe+1)*8}${ge}`:je=`>= -(2${ge} ** ${(fe+1)*8-1}${ge}) and < 2 ** ${(fe+1)*8-1}${ge}`,new V.ERR_OUT_OF_RANGE("value",je,q)}ee(Z,se,fe)}function K(q,F){if(typeof q!="number")throw new V.ERR_INVALID_ARG_TYPE(F,"number",q)}function Q(q,F,U){throw Math.floor(q)!==q?(K(q,U),new V.ERR_OUT_OF_RANGE("offset","an integer",q)):F<0?new V.ERR_BUFFER_OUT_OF_BOUNDS:new V.ERR_OUT_OF_RANGE("offset",`>= 0 and <= ${F}`,q)}const ie=/[^+/0-9A-Za-z-_]/g;function ce(q){if(q=q.split("=")[0],q=q.trim().replace(ie,""),q.length<2)return"";for(;q.length%4!==0;)q=q+"=";return q}function he(q,F){F=F||1/0;let U;const Z=q.length;let se=null;const fe=[];for(let ge=0;ge<Z;++ge){if(U=q.charCodeAt(ge),U>55295&&U<57344){if(!se){if(U>56319){(F-=3)>-1&&fe.push(239,191,189);continue}else if(ge+1===Z){(F-=3)>-1&&fe.push(239,191,189);continue}se=U;continue}if(U<56320){(F-=3)>-1&&fe.push(239,191,189),se=U;continue}U=(se-55296<<10|U-56320)+65536}else se&&(F-=3)>-1&&fe.push(239,191,189);if(se=null,U<128){if((F-=1)<0)break;fe.push(U)}else if(U<2048){if((F-=2)<0)break;fe.push(U>>6|192,U&63|128)}else if(U<65536){if((F-=3)<0)break;fe.push(U>>12|224,U>>6&63|128,U&63|128)}else if(U<1114112){if((F-=4)<0)break;fe.push(U>>18|240,U>>12&63|128,U>>6&63|128,U&63|128)}else throw new Error("Invalid code point")}return fe}function pe(q){const F=[];for(let U=0;U<q.length;++U)F.push(q.charCodeAt(U)&255);return F}function Ee(q,F){let U,Z,se;const fe=[];for(let ge=0;ge<q.length&&!((F-=2)<0);++ge)U=q.charCodeAt(ge),Z=U>>8,se=U%256,fe.push(se),fe.push(Z);return fe}function Le(q){return e.toByteArray(ce(q))}function De(q,F,U,Z){let se;for(se=0;se<Z&&!(se+U>=F.length||se>=q.length);++se)F[se+U]=q[se];return se}function we(q,F){return q instanceof F||q!=null&&q.constructor!=null&&q.constructor.name!=null&&q.constructor.name===F.name}function Je(q){return q!==q}const He=function(){const q="0123456789abcdef",F=new Array(256);for(let U=0;U<16;++U){const Z=U*16;for(let se=0;se<16;++se)F[Z+se]=q[U]+q[se]}return F}();function Xe(q){return typeof BigInt>"u"?ze:q}function ze(){throw new Error("BigInt not supported")}})(ma);var JN={exports:{}},Ln=JN.exports={},Rs,Ls;function y5(){throw new Error("setTimeout has not been defined")}function v5(){throw new Error("clearTimeout has not been defined")}(function(){try{typeof setTimeout=="function"?Rs=setTimeout:Rs=y5}catch{Rs=y5}try{typeof clearTimeout=="function"?Ls=clearTimeout:Ls=v5}catch{Ls=v5}})();function ZN(t){if(Rs===setTimeout)return setTimeout(t,0);if((Rs===y5||!Rs)&&setTimeout)return Rs=setTimeout,setTimeout(t,0);try{return Rs(t,0)}catch{try{return Rs.call(null,t,0)}catch{return Rs.call(this,t,0)}}}function cq(t){if(Ls===clearTimeout)return clearTimeout(t);if((Ls===v5||!Ls)&&clearTimeout)return Ls=clearTimeout,clearTimeout(t);try{return Ls(t)}catch{try{return Ls.call(null,t)}catch{return Ls.call(this,t)}}}var Xa=[],ih=!1,Uu,W1=-1;function lq(){!ih||!Uu||(ih=!1,Uu.length?Xa=Uu.concat(Xa):W1=-1,Xa.length&&QN())}function QN(){if(!ih){var t=ZN(lq);ih=!0;for(var e=Xa.length;e;){for(Uu=Xa,Xa=[];++W1<e;)Uu&&Uu[W1].run();W1=-1,e=Xa.length}Uu=null,ih=!1,cq(t)}}Ln.nextTick=function(t){var e=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)e[n-1]=arguments[n];Xa.push(new XN(t,e)),Xa.length===1&&!ih&&ZN(QN)};function XN(t,e){this.fun=t,this.array=e}XN.prototype.run=function(){this.fun.apply(null,this.array)};Ln.title="browser";Ln.browser=!0;Ln.env={};Ln.argv=[];Ln.version="";Ln.versions={};function Oc(){}Ln.on=Oc;Ln.addListener=Oc;Ln.once=Oc;Ln.off=Oc;Ln.removeListener=Oc;Ln.removeAllListeners=Oc;Ln.emit=Oc;Ln.prependListener=Oc;Ln.prependOnceListener=Oc;Ln.listeners=function(t){return[]};Ln.binding=function(t){throw new Error("process.binding is not supported")};Ln.cwd=function(){return"/"};Ln.chdir=function(t){throw new Error("process.chdir is not supported")};Ln.umask=function(){return 0};var hu=JN.exports;const uq=Bo(hu);window.Buffer=ma.Buffer;window.process=uq;var eR={exports:{}},wb={},tR={exports:{}},It={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Tm=Symbol.for("react.element"),dq=Symbol.for("react.portal"),fq=Symbol.for("react.fragment"),hq=Symbol.for("react.strict_mode"),pq=Symbol.for("react.profiler"),gq=Symbol.for("react.provider"),mq=Symbol.for("react.context"),yq=Symbol.for("react.forward_ref"),vq=Symbol.for("react.suspense"),wq=Symbol.for("react.memo"),bq=Symbol.for("react.lazy"),uI=Symbol.iterator;function Eq(t){return t===null||typeof t!="object"?null:(t=uI&&t[uI]||t["@@iterator"],typeof t=="function"?t:null)}var nR={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},rR=Object.assign,iR={};function m0(t,e,n){this.props=t,this.context=e,this.refs=iR,this.updater=n||nR}m0.prototype.isReactComponent={};m0.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};m0.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function oR(){}oR.prototype=m0.prototype;function e4(t,e,n){this.props=t,this.context=e,this.refs=iR,this.updater=n||nR}var t4=e4.prototype=new oR;t4.constructor=e4;rR(t4,m0.prototype);t4.isPureReactComponent=!0;var dI=Array.isArray,sR=Object.prototype.hasOwnProperty,n4={current:null},aR={key:!0,ref:!0,__self:!0,__source:!0};function cR(t,e,n){var r,i={},o=null,s=null;if(e!=null)for(r in e.ref!==void 0&&(s=e.ref),e.key!==void 0&&(o=""+e.key),e)sR.call(e,r)&&!aR.hasOwnProperty(r)&&(i[r]=e[r]);var a=arguments.length-2;if(a===1)i.children=n;else if(1<a){for(var c=Array(a),l=0;l<a;l++)c[l]=arguments[l+2];i.children=c}if(t&&t.defaultProps)for(r in a=t.defaultProps,a)i[r]===void 0&&(i[r]=a[r]);return{$$typeof:Tm,type:t,key:o,ref:s,props:i,_owner:n4.current}}function xq(t,e){return{$$typeof:Tm,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function r4(t){return typeof t=="object"&&t!==null&&t.$$typeof===Tm}function Sq(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var fI=/\/+/g;function y3(t,e){return typeof t=="object"&&t!==null&&t.key!=null?Sq(""+t.key):e.toString(36)}function K1(t,e,n,r,i){var o=typeof t;(o==="undefined"||o==="boolean")&&(t=null);var s=!1;if(t===null)s=!0;else switch(o){case"string":case"number":s=!0;break;case"object":switch(t.$$typeof){case Tm:case dq:s=!0}}if(s)return s=t,i=i(s),t=r===""?"."+y3(s,0):r,dI(i)?(n="",t!=null&&(n=t.replace(fI,"$&/")+"/"),K1(i,e,n,"",function(l){return l})):i!=null&&(r4(i)&&(i=xq(i,n+(!i.key||s&&s.key===i.key?"":(""+i.key).replace(fI,"$&/")+"/")+t)),e.push(i)),1;if(s=0,r=r===""?".":r+":",dI(t))for(var a=0;a<t.length;a++){o=t[a];var c=r+y3(o,a);s+=K1(o,e,n,c,i)}else if(c=Eq(t),typeof c=="function")for(t=c.call(t),a=0;!(o=t.next()).done;)o=o.value,c=r+y3(o,a++),s+=K1(o,e,n,c,i);else if(o==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return s}function Sy(t,e,n){if(t==null)return t;var r=[],i=0;return K1(t,r,"","",function(o){return e.call(n,o,i++)}),r}function _q(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var Zr={current:null},q1={transition:null},Cq={ReactCurrentDispatcher:Zr,ReactCurrentBatchConfig:q1,ReactCurrentOwner:n4};function lR(){throw Error("act(...) is not supported in production builds of React.")}It.Children={map:Sy,forEach:function(t,e,n){Sy(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return Sy(t,function(){e++}),e},toArray:function(t){return Sy(t,function(e){return e})||[]},only:function(t){if(!r4(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};It.Component=m0;It.Fragment=fq;It.Profiler=pq;It.PureComponent=e4;It.StrictMode=hq;It.Suspense=vq;It.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Cq;It.act=lR;It.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=rR({},t.props),i=t.key,o=t.ref,s=t._owner;if(e!=null){if(e.ref!==void 0&&(o=e.ref,s=n4.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var a=t.type.defaultProps;for(c in e)sR.call(e,c)&&!aR.hasOwnProperty(c)&&(r[c]=e[c]===void 0&&a!==void 0?a[c]:e[c])}var c=arguments.length-2;if(c===1)r.children=n;else if(1<c){a=Array(c);for(var l=0;l<c;l++)a[l]=arguments[l+2];r.children=a}return{$$typeof:Tm,type:t.type,key:i,ref:o,props:r,_owner:s}};It.createContext=function(t){return t={$$typeof:mq,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:gq,_context:t},t.Consumer=t};It.createElement=cR;It.createFactory=function(t){var e=cR.bind(null,t);return e.type=t,e};It.createRef=function(){return{current:null}};It.forwardRef=function(t){return{$$typeof:yq,render:t}};It.isValidElement=r4;It.lazy=function(t){return{$$typeof:bq,_payload:{_status:-1,_result:t},_init:_q}};It.memo=function(t,e){return{$$typeof:wq,type:t,compare:e===void 0?null:e}};It.startTransition=function(t){var e=q1.transition;q1.transition={};try{t()}finally{q1.transition=e}};It.unstable_act=lR;It.useCallback=function(t,e){return Zr.current.useCallback(t,e)};It.useContext=function(t){return Zr.current.useContext(t)};It.useDebugValue=function(){};It.useDeferredValue=function(t){return Zr.current.useDeferredValue(t)};It.useEffect=function(t,e){return Zr.current.useEffect(t,e)};It.useId=function(){return Zr.current.useId()};It.useImperativeHandle=function(t,e,n){return Zr.current.useImperativeHandle(t,e,n)};It.useInsertionEffect=function(t,e){return Zr.current.useInsertionEffect(t,e)};It.useLayoutEffect=function(t,e){return Zr.current.useLayoutEffect(t,e)};It.useMemo=function(t,e){return Zr.current.useMemo(t,e)};It.useReducer=function(t,e,n){return Zr.current.useReducer(t,e,n)};It.useRef=function(t){return Zr.current.useRef(t)};It.useState=function(t){return Zr.current.useState(t)};It.useSyncExternalStore=function(t,e,n){return Zr.current.useSyncExternalStore(t,e,n)};It.useTransition=function(){return Zr.current.useTransition()};It.version="18.3.1";tR.exports=It;var le=tR.exports;/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Aq=le,Iq=Symbol.for("react.element"),kq=Symbol.for("react.fragment"),Pq=Object.prototype.hasOwnProperty,Oq=Aq.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,Tq={key:!0,ref:!0,__self:!0,__source:!0};function uR(t,e,n){var r,i={},o=null,s=null;n!==void 0&&(o=""+n),e.key!==void 0&&(o=""+e.key),e.ref!==void 0&&(s=e.ref);for(r in e)Pq.call(e,r)&&!Tq.hasOwnProperty(r)&&(i[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)i[r]===void 0&&(i[r]=e[r]);return{$$typeof:Iq,type:t,key:o,ref:s,props:i,_owner:Oq.current}}wb.Fragment=kq;wb.jsx=uR;wb.jsxs=uR;eR.exports=wb;var te=eR.exports,w5={},dR={exports:{}},Vi={},fR={exports:{}},hR={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(E,C){var x=E.length;E.push(C);e:for(;0<x;){var R=x-1>>>1,D=E[R];if(0<i(D,C))E[R]=C,E[x]=D,x=R;else break e}}function n(E){return E.length===0?null:E[0]}function r(E){if(E.length===0)return null;var C=E[0],x=E.pop();if(x!==C){E[0]=x;e:for(var R=0,D=E.length,B=D>>>1;R<B;){var z=2*(R+1)-1,H=E[z],W=z+1,G=E[W];if(0>i(H,x))W<D&&0>i(G,H)?(E[R]=G,E[W]=x,R=W):(E[R]=H,E[z]=x,R=z);else if(W<D&&0>i(G,x))E[R]=G,E[W]=x,R=W;else break e}}return C}function i(E,C){var x=E.sortIndex-C.sortIndex;return x!==0?x:E.id-C.id}if(typeof performance=="object"&&typeof performance.now=="function"){var o=performance;t.unstable_now=function(){return o.now()}}else{var s=Date,a=s.now();t.unstable_now=function(){return s.now()-a}}var c=[],l=[],u=1,d=null,f=3,h=!1,g=!1,p=!1,S=typeof setTimeout=="function"?setTimeout:null,y=typeof clearTimeout=="function"?clearTimeout:null,b=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function _(E){for(var C=n(l);C!==null;){if(C.callback===null)r(l);else if(C.startTime<=E)r(l),C.sortIndex=C.expirationTime,e(c,C);else break;C=n(l)}}function N(E){if(p=!1,_(E),!g)if(n(c)!==null)g=!0,I(O);else{var C=n(l);C!==null&&M(N,C.startTime-E)}}function O(E,C){g=!1,p&&(p=!1,y(k),k=-1),h=!0;var x=f;try{for(_(C),d=n(c);d!==null&&(!(d.expirationTime>C)||E&&!P());){var R=d.callback;if(typeof R=="function"){d.callback=null,f=d.priorityLevel;var D=R(d.expirationTime<=C);C=t.unstable_now(),typeof D=="function"?d.callback=D:d===n(c)&&r(c),_(C)}else r(c);d=n(c)}if(d!==null)var B=!0;else{var z=n(l);z!==null&&M(N,z.startTime-C),B=!1}return B}finally{d=null,f=x,h=!1}}var $=!1,j=null,k=-1,T=5,L=-1;function P(){return!(t.unstable_now()-L<T)}function m(){if(j!==null){var E=t.unstable_now();L=E;var C=!0;try{C=j(!0,E)}finally{C?w():($=!1,j=null)}}else $=!1}var w;if(typeof b=="function")w=function(){b(m)};else if(typeof MessageChannel<"u"){var A=new MessageChannel,v=A.port2;A.port1.onmessage=m,w=function(){v.postMessage(null)}}else w=function(){S(m,0)};function I(E){j=E,$||($=!0,w())}function M(E,C){k=S(function(){E(t.unstable_now())},C)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(E){E.callback=null},t.unstable_continueExecution=function(){g||h||(g=!0,I(O))},t.unstable_forceFrameRate=function(E){0>E||125<E?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):T=0<E?Math.floor(1e3/E):5},t.unstable_getCurrentPriorityLevel=function(){return f},t.unstable_getFirstCallbackNode=function(){return n(c)},t.unstable_next=function(E){switch(f){case 1:case 2:case 3:var C=3;break;default:C=f}var x=f;f=C;try{return E()}finally{f=x}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(E,C){switch(E){case 1:case 2:case 3:case 4:case 5:break;default:E=3}var x=f;f=E;try{return C()}finally{f=x}},t.unstable_scheduleCallback=function(E,C,x){var R=t.unstable_now();switch(typeof x=="object"&&x!==null?(x=x.delay,x=typeof x=="number"&&0<x?R+x:R):x=R,E){case 1:var D=-1;break;case 2:D=250;break;case 5:D=1073741823;break;case 4:D=1e4;break;default:D=5e3}return D=x+D,E={id:u++,callback:C,priorityLevel:E,startTime:x,expirationTime:D,sortIndex:-1},x>R?(E.sortIndex=x,e(l,E),n(c)===null&&E===n(l)&&(p?(y(k),k=-1):p=!0,M(N,x-R))):(E.sortIndex=D,e(c,E),g||h||(g=!0,I(O))),E},t.unstable_shouldYield=P,t.unstable_wrapCallback=function(E){var C=f;return function(){var x=f;f=C;try{return E.apply(this,arguments)}finally{f=x}}}})(hR);fR.exports=hR;var Mq=fR.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Nq=le,Wi=Mq;function Me(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var pR=new Set,pg={};function zd(t,e){$h(t,e),$h(t+"Capture",e)}function $h(t,e){for(pg[t]=e,t=0;t<e.length;t++)pR.add(e[t])}var gc=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),b5=Object.prototype.hasOwnProperty,Rq=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,hI={},pI={};function Lq(t){return b5.call(pI,t)?!0:b5.call(hI,t)?!1:Rq.test(t)?pI[t]=!0:(hI[t]=!0,!1)}function $q(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function Bq(t,e,n,r){if(e===null||typeof e>"u"||$q(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function Qr(t,e,n,r,i,o,s){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=o,this.removeEmptyString=s}var wr={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){wr[t]=new Qr(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];wr[e]=new Qr(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){wr[t]=new Qr(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){wr[t]=new Qr(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){wr[t]=new Qr(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){wr[t]=new Qr(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){wr[t]=new Qr(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){wr[t]=new Qr(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){wr[t]=new Qr(t,5,!1,t.toLowerCase(),null,!1,!1)});var i4=/[\-:]([a-z])/g;function o4(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(i4,o4);wr[e]=new Qr(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(i4,o4);wr[e]=new Qr(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(i4,o4);wr[e]=new Qr(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){wr[t]=new Qr(t,1,!1,t.toLowerCase(),null,!1,!1)});wr.xlinkHref=new Qr("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){wr[t]=new Qr(t,1,!1,t.toLowerCase(),null,!0,!0)});function s4(t,e,n,r){var i=wr.hasOwnProperty(e)?wr[e]:null;(i!==null?i.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(Bq(e,n,i,r)&&(n=null),r||i===null?Lq(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):i.mustUseProperty?t[i.propertyName]=n===null?i.type===3?!1:"":n:(e=i.attributeName,r=i.attributeNamespace,n===null?t.removeAttribute(e):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var Tc=Nq.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,_y=Symbol.for("react.element"),Nf=Symbol.for("react.portal"),Rf=Symbol.for("react.fragment"),a4=Symbol.for("react.strict_mode"),E5=Symbol.for("react.profiler"),gR=Symbol.for("react.provider"),mR=Symbol.for("react.context"),c4=Symbol.for("react.forward_ref"),x5=Symbol.for("react.suspense"),S5=Symbol.for("react.suspense_list"),l4=Symbol.for("react.memo"),fl=Symbol.for("react.lazy"),yR=Symbol.for("react.offscreen"),gI=Symbol.iterator;function rp(t){return t===null||typeof t!="object"?null:(t=gI&&t[gI]||t["@@iterator"],typeof t=="function"?t:null)}var wn=Object.assign,v3;function Pp(t){if(v3===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);v3=e&&e[1]||""}return`
`+v3+t}var w3=!1;function b3(t,e){if(!t||w3)return"";w3=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(l){var r=l}Reflect.construct(t,[],e)}else{try{e.call()}catch(l){r=l}t.call(e.prototype)}else{try{throw Error()}catch(l){r=l}t()}}catch(l){if(l&&r&&typeof l.stack=="string"){for(var i=l.stack.split(`
`),o=r.stack.split(`
`),s=i.length-1,a=o.length-1;1<=s&&0<=a&&i[s]!==o[a];)a--;for(;1<=s&&0<=a;s--,a--)if(i[s]!==o[a]){if(s!==1||a!==1)do if(s--,a--,0>a||i[s]!==o[a]){var c=`
`+i[s].replace(" at new "," at ");return t.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",t.displayName)),c}while(1<=s&&0<=a);break}}}finally{w3=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?Pp(t):""}function Dq(t){switch(t.tag){case 5:return Pp(t.type);case 16:return Pp("Lazy");case 13:return Pp("Suspense");case 19:return Pp("SuspenseList");case 0:case 2:case 15:return t=b3(t.type,!1),t;case 11:return t=b3(t.type.render,!1),t;case 1:return t=b3(t.type,!0),t;default:return""}}function _5(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case Rf:return"Fragment";case Nf:return"Portal";case E5:return"Profiler";case a4:return"StrictMode";case x5:return"Suspense";case S5:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case mR:return(t.displayName||"Context")+".Consumer";case gR:return(t._context.displayName||"Context")+".Provider";case c4:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case l4:return e=t.displayName||null,e!==null?e:_5(t.type)||"Memo";case fl:e=t._payload,t=t._init;try{return _5(t(e))}catch{}}return null}function jq(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return _5(e);case 8:return e===a4?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function ru(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function vR(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function Fq(t){var e=vR(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,o=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(s){r=""+s,o.call(this,s)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(s){r=""+s},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function Cy(t){t._valueTracker||(t._valueTracker=Fq(t))}function wR(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=vR(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function Uv(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function C5(t,e){var n=e.checked;return wn({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function mI(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=ru(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function bR(t,e){e=e.checked,e!=null&&s4(t,"checked",e,!1)}function A5(t,e){bR(t,e);var n=ru(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?I5(t,e.type,n):e.hasOwnProperty("defaultValue")&&I5(t,e.type,ru(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function yI(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function I5(t,e,n){(e!=="number"||Uv(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var Op=Array.isArray;function oh(t,e,n,r){if(t=t.options,e){e={};for(var i=0;i<n.length;i++)e["$"+n[i]]=!0;for(n=0;n<t.length;n++)i=e.hasOwnProperty("$"+t[n].value),t[n].selected!==i&&(t[n].selected=i),i&&r&&(t[n].defaultSelected=!0)}else{for(n=""+ru(n),e=null,i=0;i<t.length;i++){if(t[i].value===n){t[i].selected=!0,r&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function k5(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(Me(91));return wn({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function vI(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(Me(92));if(Op(n)){if(1<n.length)throw Error(Me(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:ru(n)}}function ER(t,e){var n=ru(e.value),r=ru(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function wI(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function xR(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function P5(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?xR(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var Ay,SR=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,i){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,i)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(Ay=Ay||document.createElement("div"),Ay.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=Ay.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function gg(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var Up={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Uq=["Webkit","ms","Moz","O"];Object.keys(Up).forEach(function(t){Uq.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),Up[e]=Up[t]})});function _R(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||Up.hasOwnProperty(t)&&Up[t]?(""+e).trim():e+"px"}function CR(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=_R(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,i):t[n]=i}}var zq=wn({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function O5(t,e){if(e){if(zq[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(Me(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(Me(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(Me(61))}if(e.style!=null&&typeof e.style!="object")throw Error(Me(62))}}function T5(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var M5=null;function u4(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var N5=null,sh=null,ah=null;function bI(t){if(t=Rm(t)){if(typeof N5!="function")throw Error(Me(280));var e=t.stateNode;e&&(e=_b(e),N5(t.stateNode,t.type,e))}}function AR(t){sh?ah?ah.push(t):ah=[t]:sh=t}function IR(){if(sh){var t=sh,e=ah;if(ah=sh=null,bI(t),e)for(t=0;t<e.length;t++)bI(e[t])}}function kR(t,e){return t(e)}function PR(){}var E3=!1;function OR(t,e,n){if(E3)return t(e,n);E3=!0;try{return kR(t,e,n)}finally{E3=!1,(sh!==null||ah!==null)&&(PR(),IR())}}function mg(t,e){var n=t.stateNode;if(n===null)return null;var r=_b(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(Me(231,e,typeof n));return n}var R5=!1;if(gc)try{var ip={};Object.defineProperty(ip,"passive",{get:function(){R5=!0}}),window.addEventListener("test",ip,ip),window.removeEventListener("test",ip,ip)}catch{R5=!1}function Hq(t,e,n,r,i,o,s,a,c){var l=Array.prototype.slice.call(arguments,3);try{e.apply(n,l)}catch(u){this.onError(u)}}var zp=!1,zv=null,Hv=!1,L5=null,Wq={onError:function(t){zp=!0,zv=t}};function Kq(t,e,n,r,i,o,s,a,c){zp=!1,zv=null,Hq.apply(Wq,arguments)}function qq(t,e,n,r,i,o,s,a,c){if(Kq.apply(this,arguments),zp){if(zp){var l=zv;zp=!1,zv=null}else throw Error(Me(198));Hv||(Hv=!0,L5=l)}}function Hd(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function TR(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function EI(t){if(Hd(t)!==t)throw Error(Me(188))}function Vq(t){var e=t.alternate;if(!e){if(e=Hd(t),e===null)throw Error(Me(188));return e!==t?null:t}for(var n=t,r=e;;){var i=n.return;if(i===null)break;var o=i.alternate;if(o===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===o.child){for(o=i.child;o;){if(o===n)return EI(i),t;if(o===r)return EI(i),e;o=o.sibling}throw Error(Me(188))}if(n.return!==r.return)n=i,r=o;else{for(var s=!1,a=i.child;a;){if(a===n){s=!0,n=i,r=o;break}if(a===r){s=!0,r=i,n=o;break}a=a.sibling}if(!s){for(a=o.child;a;){if(a===n){s=!0,n=o,r=i;break}if(a===r){s=!0,r=o,n=i;break}a=a.sibling}if(!s)throw Error(Me(189))}}if(n.alternate!==r)throw Error(Me(190))}if(n.tag!==3)throw Error(Me(188));return n.stateNode.current===n?t:e}function MR(t){return t=Vq(t),t!==null?NR(t):null}function NR(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=NR(t);if(e!==null)return e;t=t.sibling}return null}var RR=Wi.unstable_scheduleCallback,xI=Wi.unstable_cancelCallback,Gq=Wi.unstable_shouldYield,Yq=Wi.unstable_requestPaint,Tn=Wi.unstable_now,Jq=Wi.unstable_getCurrentPriorityLevel,d4=Wi.unstable_ImmediatePriority,LR=Wi.unstable_UserBlockingPriority,Wv=Wi.unstable_NormalPriority,Zq=Wi.unstable_LowPriority,$R=Wi.unstable_IdlePriority,bb=null,Qs=null;function Qq(t){if(Qs&&typeof Qs.onCommitFiberRoot=="function")try{Qs.onCommitFiberRoot(bb,t,void 0,(t.current.flags&128)===128)}catch{}}var ls=Math.clz32?Math.clz32:tV,Xq=Math.log,eV=Math.LN2;function tV(t){return t>>>=0,t===0?32:31-(Xq(t)/eV|0)|0}var Iy=64,ky=4194304;function Tp(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function Kv(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,i=t.suspendedLanes,o=t.pingedLanes,s=n&268435455;if(s!==0){var a=s&~i;a!==0?r=Tp(a):(o&=s,o!==0&&(r=Tp(o)))}else s=n&~i,s!==0?r=Tp(s):o!==0&&(r=Tp(o));if(r===0)return 0;if(e!==0&&e!==r&&!(e&i)&&(i=r&-r,o=e&-e,i>=o||i===16&&(o&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-ls(e),i=1<<n,r|=t[n],e&=~i;return r}function nV(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function rV(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,i=t.expirationTimes,o=t.pendingLanes;0<o;){var s=31-ls(o),a=1<<s,c=i[s];c===-1?(!(a&n)||a&r)&&(i[s]=nV(a,e)):c<=e&&(t.expiredLanes|=a),o&=~a}}function $5(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function BR(){var t=Iy;return Iy<<=1,!(Iy&4194240)&&(Iy=64),t}function x3(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function Mm(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-ls(e),t[e]=n}function iV(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var i=31-ls(n),o=1<<i;e[i]=0,r[i]=-1,t[i]=-1,n&=~o}}function f4(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-ls(n),i=1<<r;i&e|t[r]&e&&(t[r]|=e),n&=~i}}var Kt=0;function DR(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var jR,h4,FR,UR,zR,B5=!1,Py=[],Ul=null,zl=null,Hl=null,yg=new Map,vg=new Map,bl=[],oV="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function SI(t,e){switch(t){case"focusin":case"focusout":Ul=null;break;case"dragenter":case"dragleave":zl=null;break;case"mouseover":case"mouseout":Hl=null;break;case"pointerover":case"pointerout":yg.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":vg.delete(e.pointerId)}}function op(t,e,n,r,i,o){return t===null||t.nativeEvent!==o?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:o,targetContainers:[i]},e!==null&&(e=Rm(e),e!==null&&h4(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function sV(t,e,n,r,i){switch(e){case"focusin":return Ul=op(Ul,t,e,n,r,i),!0;case"dragenter":return zl=op(zl,t,e,n,r,i),!0;case"mouseover":return Hl=op(Hl,t,e,n,r,i),!0;case"pointerover":var o=i.pointerId;return yg.set(o,op(yg.get(o)||null,t,e,n,r,i)),!0;case"gotpointercapture":return o=i.pointerId,vg.set(o,op(vg.get(o)||null,t,e,n,r,i)),!0}return!1}function HR(t){var e=zu(t.target);if(e!==null){var n=Hd(e);if(n!==null){if(e=n.tag,e===13){if(e=TR(n),e!==null){t.blockedOn=e,zR(t.priority,function(){FR(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function V1(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=D5(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);M5=r,n.target.dispatchEvent(r),M5=null}else return e=Rm(n),e!==null&&h4(e),t.blockedOn=n,!1;e.shift()}return!0}function _I(t,e,n){V1(t)&&n.delete(e)}function aV(){B5=!1,Ul!==null&&V1(Ul)&&(Ul=null),zl!==null&&V1(zl)&&(zl=null),Hl!==null&&V1(Hl)&&(Hl=null),yg.forEach(_I),vg.forEach(_I)}function sp(t,e){t.blockedOn===e&&(t.blockedOn=null,B5||(B5=!0,Wi.unstable_scheduleCallback(Wi.unstable_NormalPriority,aV)))}function wg(t){function e(i){return sp(i,t)}if(0<Py.length){sp(Py[0],t);for(var n=1;n<Py.length;n++){var r=Py[n];r.blockedOn===t&&(r.blockedOn=null)}}for(Ul!==null&&sp(Ul,t),zl!==null&&sp(zl,t),Hl!==null&&sp(Hl,t),yg.forEach(e),vg.forEach(e),n=0;n<bl.length;n++)r=bl[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<bl.length&&(n=bl[0],n.blockedOn===null);)HR(n),n.blockedOn===null&&bl.shift()}var ch=Tc.ReactCurrentBatchConfig,qv=!0;function cV(t,e,n,r){var i=Kt,o=ch.transition;ch.transition=null;try{Kt=1,p4(t,e,n,r)}finally{Kt=i,ch.transition=o}}function lV(t,e,n,r){var i=Kt,o=ch.transition;ch.transition=null;try{Kt=4,p4(t,e,n,r)}finally{Kt=i,ch.transition=o}}function p4(t,e,n,r){if(qv){var i=D5(t,e,n,r);if(i===null)M3(t,e,r,Vv,n),SI(t,r);else if(sV(i,t,e,n,r))r.stopPropagation();else if(SI(t,r),e&4&&-1<oV.indexOf(t)){for(;i!==null;){var o=Rm(i);if(o!==null&&jR(o),o=D5(t,e,n,r),o===null&&M3(t,e,r,Vv,n),o===i)break;i=o}i!==null&&r.stopPropagation()}else M3(t,e,r,null,n)}}var Vv=null;function D5(t,e,n,r){if(Vv=null,t=u4(r),t=zu(t),t!==null)if(e=Hd(t),e===null)t=null;else if(n=e.tag,n===13){if(t=TR(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return Vv=t,null}function WR(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Jq()){case d4:return 1;case LR:return 4;case Wv:case Zq:return 16;case $R:return 536870912;default:return 16}default:return 16}}var Ll=null,g4=null,G1=null;function KR(){if(G1)return G1;var t,e=g4,n=e.length,r,i="value"in Ll?Ll.value:Ll.textContent,o=i.length;for(t=0;t<n&&e[t]===i[t];t++);var s=n-t;for(r=1;r<=s&&e[n-r]===i[o-r];r++);return G1=i.slice(t,1<r?1-r:void 0)}function Y1(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function Oy(){return!0}function CI(){return!1}function Gi(t){function e(n,r,i,o,s){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=o,this.target=s,this.currentTarget=null;for(var a in t)t.hasOwnProperty(a)&&(n=t[a],this[a]=n?n(o):o[a]);return this.isDefaultPrevented=(o.defaultPrevented!=null?o.defaultPrevented:o.returnValue===!1)?Oy:CI,this.isPropagationStopped=CI,this}return wn(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Oy)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Oy)},persist:function(){},isPersistent:Oy}),e}var y0={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},m4=Gi(y0),Nm=wn({},y0,{view:0,detail:0}),uV=Gi(Nm),S3,_3,ap,Eb=wn({},Nm,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:y4,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==ap&&(ap&&t.type==="mousemove"?(S3=t.screenX-ap.screenX,_3=t.screenY-ap.screenY):_3=S3=0,ap=t),S3)},movementY:function(t){return"movementY"in t?t.movementY:_3}}),AI=Gi(Eb),dV=wn({},Eb,{dataTransfer:0}),fV=Gi(dV),hV=wn({},Nm,{relatedTarget:0}),C3=Gi(hV),pV=wn({},y0,{animationName:0,elapsedTime:0,pseudoElement:0}),gV=Gi(pV),mV=wn({},y0,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),yV=Gi(mV),vV=wn({},y0,{data:0}),II=Gi(vV),wV={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},bV={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},EV={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function xV(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=EV[t])?!!e[t]:!1}function y4(){return xV}var SV=wn({},Nm,{key:function(t){if(t.key){var e=wV[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=Y1(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?bV[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:y4,charCode:function(t){return t.type==="keypress"?Y1(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Y1(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),_V=Gi(SV),CV=wn({},Eb,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),kI=Gi(CV),AV=wn({},Nm,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:y4}),IV=Gi(AV),kV=wn({},y0,{propertyName:0,elapsedTime:0,pseudoElement:0}),PV=Gi(kV),OV=wn({},Eb,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),TV=Gi(OV),MV=[9,13,27,32],v4=gc&&"CompositionEvent"in window,Hp=null;gc&&"documentMode"in document&&(Hp=document.documentMode);var NV=gc&&"TextEvent"in window&&!Hp,qR=gc&&(!v4||Hp&&8<Hp&&11>=Hp),PI=" ",OI=!1;function VR(t,e){switch(t){case"keyup":return MV.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function GR(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Lf=!1;function RV(t,e){switch(t){case"compositionend":return GR(e);case"keypress":return e.which!==32?null:(OI=!0,PI);case"textInput":return t=e.data,t===PI&&OI?null:t;default:return null}}function LV(t,e){if(Lf)return t==="compositionend"||!v4&&VR(t,e)?(t=KR(),G1=g4=Ll=null,Lf=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return qR&&e.locale!=="ko"?null:e.data;default:return null}}var $V={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function TI(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!$V[t.type]:e==="textarea"}function YR(t,e,n,r){AR(r),e=Gv(e,"onChange"),0<e.length&&(n=new m4("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var Wp=null,bg=null;function BV(t){sL(t,0)}function xb(t){var e=Df(t);if(wR(e))return t}function DV(t,e){if(t==="change")return e}var JR=!1;if(gc){var A3;if(gc){var I3="oninput"in document;if(!I3){var MI=document.createElement("div");MI.setAttribute("oninput","return;"),I3=typeof MI.oninput=="function"}A3=I3}else A3=!1;JR=A3&&(!document.documentMode||9<document.documentMode)}function NI(){Wp&&(Wp.detachEvent("onpropertychange",ZR),bg=Wp=null)}function ZR(t){if(t.propertyName==="value"&&xb(bg)){var e=[];YR(e,bg,t,u4(t)),OR(BV,e)}}function jV(t,e,n){t==="focusin"?(NI(),Wp=e,bg=n,Wp.attachEvent("onpropertychange",ZR)):t==="focusout"&&NI()}function FV(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return xb(bg)}function UV(t,e){if(t==="click")return xb(e)}function zV(t,e){if(t==="input"||t==="change")return xb(e)}function HV(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var fs=typeof Object.is=="function"?Object.is:HV;function Eg(t,e){if(fs(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!b5.call(e,i)||!fs(t[i],e[i]))return!1}return!0}function RI(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function LI(t,e){var n=RI(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=RI(n)}}function QR(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?QR(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function XR(){for(var t=window,e=Uv();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=Uv(t.document)}return e}function w4(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function WV(t){var e=XR(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&QR(n.ownerDocument.documentElement,n)){if(r!==null&&w4(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var i=n.textContent.length,o=Math.min(r.start,i);r=r.end===void 0?o:Math.min(r.end,i),!t.extend&&o>r&&(i=r,r=o,o=i),i=LI(n,o);var s=LI(n,r);i&&s&&(t.rangeCount!==1||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==s.node||t.focusOffset!==s.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),t.removeAllRanges(),o>r?(t.addRange(e),t.extend(s.node,s.offset)):(e.setEnd(s.node,s.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var KV=gc&&"documentMode"in document&&11>=document.documentMode,$f=null,j5=null,Kp=null,F5=!1;function $I(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;F5||$f==null||$f!==Uv(r)||(r=$f,"selectionStart"in r&&w4(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Kp&&Eg(Kp,r)||(Kp=r,r=Gv(j5,"onSelect"),0<r.length&&(e=new m4("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=$f)))}function Ty(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var Bf={animationend:Ty("Animation","AnimationEnd"),animationiteration:Ty("Animation","AnimationIteration"),animationstart:Ty("Animation","AnimationStart"),transitionend:Ty("Transition","TransitionEnd")},k3={},eL={};gc&&(eL=document.createElement("div").style,"AnimationEvent"in window||(delete Bf.animationend.animation,delete Bf.animationiteration.animation,delete Bf.animationstart.animation),"TransitionEvent"in window||delete Bf.transitionend.transition);function Sb(t){if(k3[t])return k3[t];if(!Bf[t])return t;var e=Bf[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in eL)return k3[t]=e[n];return t}var tL=Sb("animationend"),nL=Sb("animationiteration"),rL=Sb("animationstart"),iL=Sb("transitionend"),oL=new Map,BI="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function pu(t,e){oL.set(t,e),zd(e,[t])}for(var P3=0;P3<BI.length;P3++){var O3=BI[P3],qV=O3.toLowerCase(),VV=O3[0].toUpperCase()+O3.slice(1);pu(qV,"on"+VV)}pu(tL,"onAnimationEnd");pu(nL,"onAnimationIteration");pu(rL,"onAnimationStart");pu("dblclick","onDoubleClick");pu("focusin","onFocus");pu("focusout","onBlur");pu(iL,"onTransitionEnd");$h("onMouseEnter",["mouseout","mouseover"]);$h("onMouseLeave",["mouseout","mouseover"]);$h("onPointerEnter",["pointerout","pointerover"]);$h("onPointerLeave",["pointerout","pointerover"]);zd("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));zd("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));zd("onBeforeInput",["compositionend","keypress","textInput","paste"]);zd("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));zd("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));zd("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Mp="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),GV=new Set("cancel close invalid load scroll toggle".split(" ").concat(Mp));function DI(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,qq(r,e,void 0,t),t.currentTarget=null}function sL(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],i=r.event;r=r.listeners;e:{var o=void 0;if(e)for(var s=r.length-1;0<=s;s--){var a=r[s],c=a.instance,l=a.currentTarget;if(a=a.listener,c!==o&&i.isPropagationStopped())break e;DI(i,a,l),o=c}else for(s=0;s<r.length;s++){if(a=r[s],c=a.instance,l=a.currentTarget,a=a.listener,c!==o&&i.isPropagationStopped())break e;DI(i,a,l),o=c}}}if(Hv)throw t=L5,Hv=!1,L5=null,t}function on(t,e){var n=e[K5];n===void 0&&(n=e[K5]=new Set);var r=t+"__bubble";n.has(r)||(aL(e,t,2,!1),n.add(r))}function T3(t,e,n){var r=0;e&&(r|=4),aL(n,t,r,e)}var My="_reactListening"+Math.random().toString(36).slice(2);function xg(t){if(!t[My]){t[My]=!0,pR.forEach(function(n){n!=="selectionchange"&&(GV.has(n)||T3(n,!1,t),T3(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[My]||(e[My]=!0,T3("selectionchange",!1,e))}}function aL(t,e,n,r){switch(WR(e)){case 1:var i=cV;break;case 4:i=lV;break;default:i=p4}n=i.bind(null,e,n,t),i=void 0,!R5||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),r?i!==void 0?t.addEventListener(e,n,{capture:!0,passive:i}):t.addEventListener(e,n,!0):i!==void 0?t.addEventListener(e,n,{passive:i}):t.addEventListener(e,n,!1)}function M3(t,e,n,r,i){var o=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var s=r.tag;if(s===3||s===4){var a=r.stateNode.containerInfo;if(a===i||a.nodeType===8&&a.parentNode===i)break;if(s===4)for(s=r.return;s!==null;){var c=s.tag;if((c===3||c===4)&&(c=s.stateNode.containerInfo,c===i||c.nodeType===8&&c.parentNode===i))return;s=s.return}for(;a!==null;){if(s=zu(a),s===null)return;if(c=s.tag,c===5||c===6){r=o=s;continue e}a=a.parentNode}}r=r.return}OR(function(){var l=o,u=u4(n),d=[];e:{var f=oL.get(t);if(f!==void 0){var h=m4,g=t;switch(t){case"keypress":if(Y1(n)===0)break e;case"keydown":case"keyup":h=_V;break;case"focusin":g="focus",h=C3;break;case"focusout":g="blur",h=C3;break;case"beforeblur":case"afterblur":h=C3;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":h=AI;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":h=fV;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":h=IV;break;case tL:case nL:case rL:h=gV;break;case iL:h=PV;break;case"scroll":h=uV;break;case"wheel":h=TV;break;case"copy":case"cut":case"paste":h=yV;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":h=kI}var p=(e&4)!==0,S=!p&&t==="scroll",y=p?f!==null?f+"Capture":null:f;p=[];for(var b=l,_;b!==null;){_=b;var N=_.stateNode;if(_.tag===5&&N!==null&&(_=N,y!==null&&(N=mg(b,y),N!=null&&p.push(Sg(b,N,_)))),S)break;b=b.return}0<p.length&&(f=new h(f,g,null,n,u),d.push({event:f,listeners:p}))}}if(!(e&7)){e:{if(f=t==="mouseover"||t==="pointerover",h=t==="mouseout"||t==="pointerout",f&&n!==M5&&(g=n.relatedTarget||n.fromElement)&&(zu(g)||g[mc]))break e;if((h||f)&&(f=u.window===u?u:(f=u.ownerDocument)?f.defaultView||f.parentWindow:window,h?(g=n.relatedTarget||n.toElement,h=l,g=g?zu(g):null,g!==null&&(S=Hd(g),g!==S||g.tag!==5&&g.tag!==6)&&(g=null)):(h=null,g=l),h!==g)){if(p=AI,N="onMouseLeave",y="onMouseEnter",b="mouse",(t==="pointerout"||t==="pointerover")&&(p=kI,N="onPointerLeave",y="onPointerEnter",b="pointer"),S=h==null?f:Df(h),_=g==null?f:Df(g),f=new p(N,b+"leave",h,n,u),f.target=S,f.relatedTarget=_,N=null,zu(u)===l&&(p=new p(y,b+"enter",g,n,u),p.target=_,p.relatedTarget=S,N=p),S=N,h&&g)t:{for(p=h,y=g,b=0,_=p;_;_=cf(_))b++;for(_=0,N=y;N;N=cf(N))_++;for(;0<b-_;)p=cf(p),b--;for(;0<_-b;)y=cf(y),_--;for(;b--;){if(p===y||y!==null&&p===y.alternate)break t;p=cf(p),y=cf(y)}p=null}else p=null;h!==null&&jI(d,f,h,p,!1),g!==null&&S!==null&&jI(d,S,g,p,!0)}}e:{if(f=l?Df(l):window,h=f.nodeName&&f.nodeName.toLowerCase(),h==="select"||h==="input"&&f.type==="file")var O=DV;else if(TI(f))if(JR)O=zV;else{O=FV;var $=jV}else(h=f.nodeName)&&h.toLowerCase()==="input"&&(f.type==="checkbox"||f.type==="radio")&&(O=UV);if(O&&(O=O(t,l))){YR(d,O,n,u);break e}$&&$(t,f,l),t==="focusout"&&($=f._wrapperState)&&$.controlled&&f.type==="number"&&I5(f,"number",f.value)}switch($=l?Df(l):window,t){case"focusin":(TI($)||$.contentEditable==="true")&&($f=$,j5=l,Kp=null);break;case"focusout":Kp=j5=$f=null;break;case"mousedown":F5=!0;break;case"contextmenu":case"mouseup":case"dragend":F5=!1,$I(d,n,u);break;case"selectionchange":if(KV)break;case"keydown":case"keyup":$I(d,n,u)}var j;if(v4)e:{switch(t){case"compositionstart":var k="onCompositionStart";break e;case"compositionend":k="onCompositionEnd";break e;case"compositionupdate":k="onCompositionUpdate";break e}k=void 0}else Lf?VR(t,n)&&(k="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(k="onCompositionStart");k&&(qR&&n.locale!=="ko"&&(Lf||k!=="onCompositionStart"?k==="onCompositionEnd"&&Lf&&(j=KR()):(Ll=u,g4="value"in Ll?Ll.value:Ll.textContent,Lf=!0)),$=Gv(l,k),0<$.length&&(k=new II(k,t,null,n,u),d.push({event:k,listeners:$}),j?k.data=j:(j=GR(n),j!==null&&(k.data=j)))),(j=NV?RV(t,n):LV(t,n))&&(l=Gv(l,"onBeforeInput"),0<l.length&&(u=new II("onBeforeInput","beforeinput",null,n,u),d.push({event:u,listeners:l}),u.data=j))}sL(d,e)})}function Sg(t,e,n){return{instance:t,listener:e,currentTarget:n}}function Gv(t,e){for(var n=e+"Capture",r=[];t!==null;){var i=t,o=i.stateNode;i.tag===5&&o!==null&&(i=o,o=mg(t,n),o!=null&&r.unshift(Sg(t,o,i)),o=mg(t,e),o!=null&&r.push(Sg(t,o,i))),t=t.return}return r}function cf(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function jI(t,e,n,r,i){for(var o=e._reactName,s=[];n!==null&&n!==r;){var a=n,c=a.alternate,l=a.stateNode;if(c!==null&&c===r)break;a.tag===5&&l!==null&&(a=l,i?(c=mg(n,o),c!=null&&s.unshift(Sg(n,c,a))):i||(c=mg(n,o),c!=null&&s.push(Sg(n,c,a)))),n=n.return}s.length!==0&&t.push({event:e,listeners:s})}var YV=/\r\n?/g,JV=/\u0000|\uFFFD/g;function FI(t){return(typeof t=="string"?t:""+t).replace(YV,`
`).replace(JV,"")}function Ny(t,e,n){if(e=FI(e),FI(t)!==e&&n)throw Error(Me(425))}function Yv(){}var U5=null,z5=null;function H5(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var W5=typeof setTimeout=="function"?setTimeout:void 0,ZV=typeof clearTimeout=="function"?clearTimeout:void 0,UI=typeof Promise=="function"?Promise:void 0,QV=typeof queueMicrotask=="function"?queueMicrotask:typeof UI<"u"?function(t){return UI.resolve(null).then(t).catch(XV)}:W5;function XV(t){setTimeout(function(){throw t})}function N3(t,e){var n=e,r=0;do{var i=n.nextSibling;if(t.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){t.removeChild(i),wg(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);wg(e)}function Wl(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function zI(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var v0=Math.random().toString(36).slice(2),zs="__reactFiber$"+v0,_g="__reactProps$"+v0,mc="__reactContainer$"+v0,K5="__reactEvents$"+v0,eG="__reactListeners$"+v0,tG="__reactHandles$"+v0;function zu(t){var e=t[zs];if(e)return e;for(var n=t.parentNode;n;){if(e=n[mc]||n[zs]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=zI(t);t!==null;){if(n=t[zs])return n;t=zI(t)}return e}t=n,n=t.parentNode}return null}function Rm(t){return t=t[zs]||t[mc],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function Df(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(Me(33))}function _b(t){return t[_g]||null}var q5=[],jf=-1;function gu(t){return{current:t}}function sn(t){0>jf||(t.current=q5[jf],q5[jf]=null,jf--)}function Qt(t,e){jf++,q5[jf]=t.current,t.current=e}var iu={},$r=gu(iu),yi=gu(!1),Ed=iu;function Bh(t,e){var n=t.type.contextTypes;if(!n)return iu;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var i={},o;for(o in n)i[o]=e[o];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function vi(t){return t=t.childContextTypes,t!=null}function Jv(){sn(yi),sn($r)}function HI(t,e,n){if($r.current!==iu)throw Error(Me(168));Qt($r,e),Qt(yi,n)}function cL(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in e))throw Error(Me(108,jq(t)||"Unknown",i));return wn({},n,r)}function Zv(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||iu,Ed=$r.current,Qt($r,t),Qt(yi,yi.current),!0}function WI(t,e,n){var r=t.stateNode;if(!r)throw Error(Me(169));n?(t=cL(t,e,Ed),r.__reactInternalMemoizedMergedChildContext=t,sn(yi),sn($r),Qt($r,t)):sn(yi),Qt(yi,n)}var ja=null,Cb=!1,R3=!1;function lL(t){ja===null?ja=[t]:ja.push(t)}function nG(t){Cb=!0,lL(t)}function mu(){if(!R3&&ja!==null){R3=!0;var t=0,e=Kt;try{var n=ja;for(Kt=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}ja=null,Cb=!1}catch(i){throw ja!==null&&(ja=ja.slice(t+1)),RR(d4,mu),i}finally{Kt=e,R3=!1}}return null}var Ff=[],Uf=0,Qv=null,Xv=0,_o=[],Co=0,xd=null,ec=1,tc="";function Mu(t,e){Ff[Uf++]=Xv,Ff[Uf++]=Qv,Qv=t,Xv=e}function uL(t,e,n){_o[Co++]=ec,_o[Co++]=tc,_o[Co++]=xd,xd=t;var r=ec;t=tc;var i=32-ls(r)-1;r&=~(1<<i),n+=1;var o=32-ls(e)+i;if(30<o){var s=i-i%5;o=(r&(1<<s)-1).toString(32),r>>=s,i-=s,ec=1<<32-ls(e)+i|n<<i|r,tc=o+t}else ec=1<<o|n<<i|r,tc=t}function b4(t){t.return!==null&&(Mu(t,1),uL(t,1,0))}function E4(t){for(;t===Qv;)Qv=Ff[--Uf],Ff[Uf]=null,Xv=Ff[--Uf],Ff[Uf]=null;for(;t===xd;)xd=_o[--Co],_o[Co]=null,tc=_o[--Co],_o[Co]=null,ec=_o[--Co],_o[Co]=null}var Hi=null,Ui=null,cn=!1,ns=null;function dL(t,e){var n=Io(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function KI(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,Hi=t,Ui=Wl(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,Hi=t,Ui=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=xd!==null?{id:ec,overflow:tc}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=Io(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,Hi=t,Ui=null,!0):!1;default:return!1}}function V5(t){return(t.mode&1)!==0&&(t.flags&128)===0}function G5(t){if(cn){var e=Ui;if(e){var n=e;if(!KI(t,e)){if(V5(t))throw Error(Me(418));e=Wl(n.nextSibling);var r=Hi;e&&KI(t,e)?dL(r,n):(t.flags=t.flags&-4097|2,cn=!1,Hi=t)}}else{if(V5(t))throw Error(Me(418));t.flags=t.flags&-4097|2,cn=!1,Hi=t}}}function qI(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;Hi=t}function Ry(t){if(t!==Hi)return!1;if(!cn)return qI(t),cn=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!H5(t.type,t.memoizedProps)),e&&(e=Ui)){if(V5(t))throw fL(),Error(Me(418));for(;e;)dL(t,e),e=Wl(e.nextSibling)}if(qI(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(Me(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){Ui=Wl(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}Ui=null}}else Ui=Hi?Wl(t.stateNode.nextSibling):null;return!0}function fL(){for(var t=Ui;t;)t=Wl(t.nextSibling)}function Dh(){Ui=Hi=null,cn=!1}function x4(t){ns===null?ns=[t]:ns.push(t)}var rG=Tc.ReactCurrentBatchConfig;function cp(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(Me(309));var r=n.stateNode}if(!r)throw Error(Me(147,t));var i=r,o=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===o?e.ref:(e=function(s){var a=i.refs;s===null?delete a[o]:a[o]=s},e._stringRef=o,e)}if(typeof t!="string")throw Error(Me(284));if(!n._owner)throw Error(Me(290,t))}return t}function Ly(t,e){throw t=Object.prototype.toString.call(e),Error(Me(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function VI(t){var e=t._init;return e(t._payload)}function hL(t){function e(y,b){if(t){var _=y.deletions;_===null?(y.deletions=[b],y.flags|=16):_.push(b)}}function n(y,b){if(!t)return null;for(;b!==null;)e(y,b),b=b.sibling;return null}function r(y,b){for(y=new Map;b!==null;)b.key!==null?y.set(b.key,b):y.set(b.index,b),b=b.sibling;return y}function i(y,b){return y=Gl(y,b),y.index=0,y.sibling=null,y}function o(y,b,_){return y.index=_,t?(_=y.alternate,_!==null?(_=_.index,_<b?(y.flags|=2,b):_):(y.flags|=2,b)):(y.flags|=1048576,b)}function s(y){return t&&y.alternate===null&&(y.flags|=2),y}function a(y,b,_,N){return b===null||b.tag!==6?(b=U3(_,y.mode,N),b.return=y,b):(b=i(b,_),b.return=y,b)}function c(y,b,_,N){var O=_.type;return O===Rf?u(y,b,_.props.children,N,_.key):b!==null&&(b.elementType===O||typeof O=="object"&&O!==null&&O.$$typeof===fl&&VI(O)===b.type)?(N=i(b,_.props),N.ref=cp(y,b,_),N.return=y,N):(N=nv(_.type,_.key,_.props,null,y.mode,N),N.ref=cp(y,b,_),N.return=y,N)}function l(y,b,_,N){return b===null||b.tag!==4||b.stateNode.containerInfo!==_.containerInfo||b.stateNode.implementation!==_.implementation?(b=z3(_,y.mode,N),b.return=y,b):(b=i(b,_.children||[]),b.return=y,b)}function u(y,b,_,N,O){return b===null||b.tag!==7?(b=ud(_,y.mode,N,O),b.return=y,b):(b=i(b,_),b.return=y,b)}function d(y,b,_){if(typeof b=="string"&&b!==""||typeof b=="number")return b=U3(""+b,y.mode,_),b.return=y,b;if(typeof b=="object"&&b!==null){switch(b.$$typeof){case _y:return _=nv(b.type,b.key,b.props,null,y.mode,_),_.ref=cp(y,null,b),_.return=y,_;case Nf:return b=z3(b,y.mode,_),b.return=y,b;case fl:var N=b._init;return d(y,N(b._payload),_)}if(Op(b)||rp(b))return b=ud(b,y.mode,_,null),b.return=y,b;Ly(y,b)}return null}function f(y,b,_,N){var O=b!==null?b.key:null;if(typeof _=="string"&&_!==""||typeof _=="number")return O!==null?null:a(y,b,""+_,N);if(typeof _=="object"&&_!==null){switch(_.$$typeof){case _y:return _.key===O?c(y,b,_,N):null;case Nf:return _.key===O?l(y,b,_,N):null;case fl:return O=_._init,f(y,b,O(_._payload),N)}if(Op(_)||rp(_))return O!==null?null:u(y,b,_,N,null);Ly(y,_)}return null}function h(y,b,_,N,O){if(typeof N=="string"&&N!==""||typeof N=="number")return y=y.get(_)||null,a(b,y,""+N,O);if(typeof N=="object"&&N!==null){switch(N.$$typeof){case _y:return y=y.get(N.key===null?_:N.key)||null,c(b,y,N,O);case Nf:return y=y.get(N.key===null?_:N.key)||null,l(b,y,N,O);case fl:var $=N._init;return h(y,b,_,$(N._payload),O)}if(Op(N)||rp(N))return y=y.get(_)||null,u(b,y,N,O,null);Ly(b,N)}return null}function g(y,b,_,N){for(var O=null,$=null,j=b,k=b=0,T=null;j!==null&&k<_.length;k++){j.index>k?(T=j,j=null):T=j.sibling;var L=f(y,j,_[k],N);if(L===null){j===null&&(j=T);break}t&&j&&L.alternate===null&&e(y,j),b=o(L,b,k),$===null?O=L:$.sibling=L,$=L,j=T}if(k===_.length)return n(y,j),cn&&Mu(y,k),O;if(j===null){for(;k<_.length;k++)j=d(y,_[k],N),j!==null&&(b=o(j,b,k),$===null?O=j:$.sibling=j,$=j);return cn&&Mu(y,k),O}for(j=r(y,j);k<_.length;k++)T=h(j,y,k,_[k],N),T!==null&&(t&&T.alternate!==null&&j.delete(T.key===null?k:T.key),b=o(T,b,k),$===null?O=T:$.sibling=T,$=T);return t&&j.forEach(function(P){return e(y,P)}),cn&&Mu(y,k),O}function p(y,b,_,N){var O=rp(_);if(typeof O!="function")throw Error(Me(150));if(_=O.call(_),_==null)throw Error(Me(151));for(var $=O=null,j=b,k=b=0,T=null,L=_.next();j!==null&&!L.done;k++,L=_.next()){j.index>k?(T=j,j=null):T=j.sibling;var P=f(y,j,L.value,N);if(P===null){j===null&&(j=T);break}t&&j&&P.alternate===null&&e(y,j),b=o(P,b,k),$===null?O=P:$.sibling=P,$=P,j=T}if(L.done)return n(y,j),cn&&Mu(y,k),O;if(j===null){for(;!L.done;k++,L=_.next())L=d(y,L.value,N),L!==null&&(b=o(L,b,k),$===null?O=L:$.sibling=L,$=L);return cn&&Mu(y,k),O}for(j=r(y,j);!L.done;k++,L=_.next())L=h(j,y,k,L.value,N),L!==null&&(t&&L.alternate!==null&&j.delete(L.key===null?k:L.key),b=o(L,b,k),$===null?O=L:$.sibling=L,$=L);return t&&j.forEach(function(m){return e(y,m)}),cn&&Mu(y,k),O}function S(y,b,_,N){if(typeof _=="object"&&_!==null&&_.type===Rf&&_.key===null&&(_=_.props.children),typeof _=="object"&&_!==null){switch(_.$$typeof){case _y:e:{for(var O=_.key,$=b;$!==null;){if($.key===O){if(O=_.type,O===Rf){if($.tag===7){n(y,$.sibling),b=i($,_.props.children),b.return=y,y=b;break e}}else if($.elementType===O||typeof O=="object"&&O!==null&&O.$$typeof===fl&&VI(O)===$.type){n(y,$.sibling),b=i($,_.props),b.ref=cp(y,$,_),b.return=y,y=b;break e}n(y,$);break}else e(y,$);$=$.sibling}_.type===Rf?(b=ud(_.props.children,y.mode,N,_.key),b.return=y,y=b):(N=nv(_.type,_.key,_.props,null,y.mode,N),N.ref=cp(y,b,_),N.return=y,y=N)}return s(y);case Nf:e:{for($=_.key;b!==null;){if(b.key===$)if(b.tag===4&&b.stateNode.containerInfo===_.containerInfo&&b.stateNode.implementation===_.implementation){n(y,b.sibling),b=i(b,_.children||[]),b.return=y,y=b;break e}else{n(y,b);break}else e(y,b);b=b.sibling}b=z3(_,y.mode,N),b.return=y,y=b}return s(y);case fl:return $=_._init,S(y,b,$(_._payload),N)}if(Op(_))return g(y,b,_,N);if(rp(_))return p(y,b,_,N);Ly(y,_)}return typeof _=="string"&&_!==""||typeof _=="number"?(_=""+_,b!==null&&b.tag===6?(n(y,b.sibling),b=i(b,_),b.return=y,y=b):(n(y,b),b=U3(_,y.mode,N),b.return=y,y=b),s(y)):n(y,b)}return S}var jh=hL(!0),pL=hL(!1),ew=gu(null),tw=null,zf=null,S4=null;function _4(){S4=zf=tw=null}function C4(t){var e=ew.current;sn(ew),t._currentValue=e}function Y5(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function lh(t,e){tw=t,S4=zf=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(pi=!0),t.firstContext=null)}function Mo(t){var e=t._currentValue;if(S4!==t)if(t={context:t,memoizedValue:e,next:null},zf===null){if(tw===null)throw Error(Me(308));zf=t,tw.dependencies={lanes:0,firstContext:t}}else zf=zf.next=t;return e}var Hu=null;function A4(t){Hu===null?Hu=[t]:Hu.push(t)}function gL(t,e,n,r){var i=e.interleaved;return i===null?(n.next=n,A4(e)):(n.next=i.next,i.next=n),e.interleaved=n,yc(t,r)}function yc(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var hl=!1;function I4(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function mL(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function cc(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function Kl(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,Bt&2){var i=r.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),r.pending=e,yc(t,n)}return i=r.interleaved,i===null?(e.next=e,A4(r)):(e.next=i.next,i.next=e),r.interleaved=e,yc(t,n)}function J1(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,f4(t,n)}}function GI(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,o=null;if(n=n.firstBaseUpdate,n!==null){do{var s={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};o===null?i=o=s:o=o.next=s,n=n.next}while(n!==null);o===null?i=o=e:o=o.next=e}else i=o=e;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:o,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function nw(t,e,n,r){var i=t.updateQueue;hl=!1;var o=i.firstBaseUpdate,s=i.lastBaseUpdate,a=i.shared.pending;if(a!==null){i.shared.pending=null;var c=a,l=c.next;c.next=null,s===null?o=l:s.next=l,s=c;var u=t.alternate;u!==null&&(u=u.updateQueue,a=u.lastBaseUpdate,a!==s&&(a===null?u.firstBaseUpdate=l:a.next=l,u.lastBaseUpdate=c))}if(o!==null){var d=i.baseState;s=0,u=l=c=null,a=o;do{var f=a.lane,h=a.eventTime;if((r&f)===f){u!==null&&(u=u.next={eventTime:h,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var g=t,p=a;switch(f=e,h=n,p.tag){case 1:if(g=p.payload,typeof g=="function"){d=g.call(h,d,f);break e}d=g;break e;case 3:g.flags=g.flags&-65537|128;case 0:if(g=p.payload,f=typeof g=="function"?g.call(h,d,f):g,f==null)break e;d=wn({},d,f);break e;case 2:hl=!0}}a.callback!==null&&a.lane!==0&&(t.flags|=64,f=i.effects,f===null?i.effects=[a]:f.push(a))}else h={eventTime:h,lane:f,tag:a.tag,payload:a.payload,callback:a.callback,next:null},u===null?(l=u=h,c=d):u=u.next=h,s|=f;if(a=a.next,a===null){if(a=i.shared.pending,a===null)break;f=a,a=f.next,f.next=null,i.lastBaseUpdate=f,i.shared.pending=null}}while(!0);if(u===null&&(c=d),i.baseState=c,i.firstBaseUpdate=l,i.lastBaseUpdate=u,e=i.shared.interleaved,e!==null){i=e;do s|=i.lane,i=i.next;while(i!==e)}else o===null&&(i.shared.lanes=0);_d|=s,t.lanes=s,t.memoizedState=d}}function YI(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(Me(191,i));i.call(r)}}}var Lm={},Xs=gu(Lm),Cg=gu(Lm),Ag=gu(Lm);function Wu(t){if(t===Lm)throw Error(Me(174));return t}function k4(t,e){switch(Qt(Ag,e),Qt(Cg,t),Qt(Xs,Lm),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:P5(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=P5(e,t)}sn(Xs),Qt(Xs,e)}function Fh(){sn(Xs),sn(Cg),sn(Ag)}function yL(t){Wu(Ag.current);var e=Wu(Xs.current),n=P5(e,t.type);e!==n&&(Qt(Cg,t),Qt(Xs,n))}function P4(t){Cg.current===t&&(sn(Xs),sn(Cg))}var yn=gu(0);function rw(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var L3=[];function O4(){for(var t=0;t<L3.length;t++)L3[t]._workInProgressVersionPrimary=null;L3.length=0}var Z1=Tc.ReactCurrentDispatcher,$3=Tc.ReactCurrentBatchConfig,Sd=0,vn=null,Fn=null,Xn=null,iw=!1,qp=!1,Ig=0,iG=0;function Sr(){throw Error(Me(321))}function T4(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!fs(t[n],e[n]))return!1;return!0}function M4(t,e,n,r,i,o){if(Sd=o,vn=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,Z1.current=t===null||t.memoizedState===null?cG:lG,t=n(r,i),qp){o=0;do{if(qp=!1,Ig=0,25<=o)throw Error(Me(301));o+=1,Xn=Fn=null,e.updateQueue=null,Z1.current=uG,t=n(r,i)}while(qp)}if(Z1.current=ow,e=Fn!==null&&Fn.next!==null,Sd=0,Xn=Fn=vn=null,iw=!1,e)throw Error(Me(300));return t}function N4(){var t=Ig!==0;return Ig=0,t}function Ns(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Xn===null?vn.memoizedState=Xn=t:Xn=Xn.next=t,Xn}function No(){if(Fn===null){var t=vn.alternate;t=t!==null?t.memoizedState:null}else t=Fn.next;var e=Xn===null?vn.memoizedState:Xn.next;if(e!==null)Xn=e,Fn=t;else{if(t===null)throw Error(Me(310));Fn=t,t={memoizedState:Fn.memoizedState,baseState:Fn.baseState,baseQueue:Fn.baseQueue,queue:Fn.queue,next:null},Xn===null?vn.memoizedState=Xn=t:Xn=Xn.next=t}return Xn}function kg(t,e){return typeof e=="function"?e(t):e}function B3(t){var e=No(),n=e.queue;if(n===null)throw Error(Me(311));n.lastRenderedReducer=t;var r=Fn,i=r.baseQueue,o=n.pending;if(o!==null){if(i!==null){var s=i.next;i.next=o.next,o.next=s}r.baseQueue=i=o,n.pending=null}if(i!==null){o=i.next,r=r.baseState;var a=s=null,c=null,l=o;do{var u=l.lane;if((Sd&u)===u)c!==null&&(c=c.next={lane:0,action:l.action,hasEagerState:l.hasEagerState,eagerState:l.eagerState,next:null}),r=l.hasEagerState?l.eagerState:t(r,l.action);else{var d={lane:u,action:l.action,hasEagerState:l.hasEagerState,eagerState:l.eagerState,next:null};c===null?(a=c=d,s=r):c=c.next=d,vn.lanes|=u,_d|=u}l=l.next}while(l!==null&&l!==o);c===null?s=r:c.next=a,fs(r,e.memoizedState)||(pi=!0),e.memoizedState=r,e.baseState=s,e.baseQueue=c,n.lastRenderedState=r}if(t=n.interleaved,t!==null){i=t;do o=i.lane,vn.lanes|=o,_d|=o,i=i.next;while(i!==t)}else i===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function D3(t){var e=No(),n=e.queue;if(n===null)throw Error(Me(311));n.lastRenderedReducer=t;var r=n.dispatch,i=n.pending,o=e.memoizedState;if(i!==null){n.pending=null;var s=i=i.next;do o=t(o,s.action),s=s.next;while(s!==i);fs(o,e.memoizedState)||(pi=!0),e.memoizedState=o,e.baseQueue===null&&(e.baseState=o),n.lastRenderedState=o}return[o,r]}function vL(){}function wL(t,e){var n=vn,r=No(),i=e(),o=!fs(r.memoizedState,i);if(o&&(r.memoizedState=i,pi=!0),r=r.queue,R4(xL.bind(null,n,r,t),[t]),r.getSnapshot!==e||o||Xn!==null&&Xn.memoizedState.tag&1){if(n.flags|=2048,Pg(9,EL.bind(null,n,r,i,e),void 0,null),nr===null)throw Error(Me(349));Sd&30||bL(n,e,i)}return i}function bL(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=vn.updateQueue,e===null?(e={lastEffect:null,stores:null},vn.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function EL(t,e,n,r){e.value=n,e.getSnapshot=r,SL(e)&&_L(t)}function xL(t,e,n){return n(function(){SL(e)&&_L(t)})}function SL(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!fs(t,n)}catch{return!0}}function _L(t){var e=yc(t,1);e!==null&&us(e,t,1,-1)}function JI(t){var e=Ns();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:kg,lastRenderedState:t},e.queue=t,t=t.dispatch=aG.bind(null,vn,t),[e.memoizedState,t]}function Pg(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=vn.updateQueue,e===null?(e={lastEffect:null,stores:null},vn.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function CL(){return No().memoizedState}function Q1(t,e,n,r){var i=Ns();vn.flags|=t,i.memoizedState=Pg(1|e,n,void 0,r===void 0?null:r)}function Ab(t,e,n,r){var i=No();r=r===void 0?null:r;var o=void 0;if(Fn!==null){var s=Fn.memoizedState;if(o=s.destroy,r!==null&&T4(r,s.deps)){i.memoizedState=Pg(e,n,o,r);return}}vn.flags|=t,i.memoizedState=Pg(1|e,n,o,r)}function ZI(t,e){return Q1(8390656,8,t,e)}function R4(t,e){return Ab(2048,8,t,e)}function AL(t,e){return Ab(4,2,t,e)}function IL(t,e){return Ab(4,4,t,e)}function kL(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function PL(t,e,n){return n=n!=null?n.concat([t]):null,Ab(4,4,kL.bind(null,e,t),n)}function L4(){}function OL(t,e){var n=No();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&T4(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function TL(t,e){var n=No();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&T4(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function ML(t,e,n){return Sd&21?(fs(n,e)||(n=BR(),vn.lanes|=n,_d|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,pi=!0),t.memoizedState=n)}function oG(t,e){var n=Kt;Kt=n!==0&&4>n?n:4,t(!0);var r=$3.transition;$3.transition={};try{t(!1),e()}finally{Kt=n,$3.transition=r}}function NL(){return No().memoizedState}function sG(t,e,n){var r=Vl(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},RL(t))LL(e,n);else if(n=gL(t,e,n,r),n!==null){var i=Gr();us(n,t,r,i),$L(n,e,r)}}function aG(t,e,n){var r=Vl(t),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(RL(t))LL(e,i);else{var o=t.alternate;if(t.lanes===0&&(o===null||o.lanes===0)&&(o=e.lastRenderedReducer,o!==null))try{var s=e.lastRenderedState,a=o(s,n);if(i.hasEagerState=!0,i.eagerState=a,fs(a,s)){var c=e.interleaved;c===null?(i.next=i,A4(e)):(i.next=c.next,c.next=i),e.interleaved=i;return}}catch{}finally{}n=gL(t,e,i,r),n!==null&&(i=Gr(),us(n,t,r,i),$L(n,e,r))}}function RL(t){var e=t.alternate;return t===vn||e!==null&&e===vn}function LL(t,e){qp=iw=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function $L(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,f4(t,n)}}var ow={readContext:Mo,useCallback:Sr,useContext:Sr,useEffect:Sr,useImperativeHandle:Sr,useInsertionEffect:Sr,useLayoutEffect:Sr,useMemo:Sr,useReducer:Sr,useRef:Sr,useState:Sr,useDebugValue:Sr,useDeferredValue:Sr,useTransition:Sr,useMutableSource:Sr,useSyncExternalStore:Sr,useId:Sr,unstable_isNewReconciler:!1},cG={readContext:Mo,useCallback:function(t,e){return Ns().memoizedState=[t,e===void 0?null:e],t},useContext:Mo,useEffect:ZI,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,Q1(4194308,4,kL.bind(null,e,t),n)},useLayoutEffect:function(t,e){return Q1(4194308,4,t,e)},useInsertionEffect:function(t,e){return Q1(4,2,t,e)},useMemo:function(t,e){var n=Ns();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=Ns();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=sG.bind(null,vn,t),[r.memoizedState,t]},useRef:function(t){var e=Ns();return t={current:t},e.memoizedState=t},useState:JI,useDebugValue:L4,useDeferredValue:function(t){return Ns().memoizedState=t},useTransition:function(){var t=JI(!1),e=t[0];return t=oG.bind(null,t[1]),Ns().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=vn,i=Ns();if(cn){if(n===void 0)throw Error(Me(407));n=n()}else{if(n=e(),nr===null)throw Error(Me(349));Sd&30||bL(r,e,n)}i.memoizedState=n;var o={value:n,getSnapshot:e};return i.queue=o,ZI(xL.bind(null,r,o,t),[t]),r.flags|=2048,Pg(9,EL.bind(null,r,o,n,e),void 0,null),n},useId:function(){var t=Ns(),e=nr.identifierPrefix;if(cn){var n=tc,r=ec;n=(r&~(1<<32-ls(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=Ig++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=iG++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},lG={readContext:Mo,useCallback:OL,useContext:Mo,useEffect:R4,useImperativeHandle:PL,useInsertionEffect:AL,useLayoutEffect:IL,useMemo:TL,useReducer:B3,useRef:CL,useState:function(){return B3(kg)},useDebugValue:L4,useDeferredValue:function(t){var e=No();return ML(e,Fn.memoizedState,t)},useTransition:function(){var t=B3(kg)[0],e=No().memoizedState;return[t,e]},useMutableSource:vL,useSyncExternalStore:wL,useId:NL,unstable_isNewReconciler:!1},uG={readContext:Mo,useCallback:OL,useContext:Mo,useEffect:R4,useImperativeHandle:PL,useInsertionEffect:AL,useLayoutEffect:IL,useMemo:TL,useReducer:D3,useRef:CL,useState:function(){return D3(kg)},useDebugValue:L4,useDeferredValue:function(t){var e=No();return Fn===null?e.memoizedState=t:ML(e,Fn.memoizedState,t)},useTransition:function(){var t=D3(kg)[0],e=No().memoizedState;return[t,e]},useMutableSource:vL,useSyncExternalStore:wL,useId:NL,unstable_isNewReconciler:!1};function Jo(t,e){if(t&&t.defaultProps){e=wn({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function J5(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:wn({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var Ib={isMounted:function(t){return(t=t._reactInternals)?Hd(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=Gr(),i=Vl(t),o=cc(r,i);o.payload=e,n!=null&&(o.callback=n),e=Kl(t,o,i),e!==null&&(us(e,t,i,r),J1(e,t,i))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=Gr(),i=Vl(t),o=cc(r,i);o.tag=1,o.payload=e,n!=null&&(o.callback=n),e=Kl(t,o,i),e!==null&&(us(e,t,i,r),J1(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=Gr(),r=Vl(t),i=cc(n,r);i.tag=2,e!=null&&(i.callback=e),e=Kl(t,i,r),e!==null&&(us(e,t,r,n),J1(e,t,r))}};function QI(t,e,n,r,i,o,s){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,o,s):e.prototype&&e.prototype.isPureReactComponent?!Eg(n,r)||!Eg(i,o):!0}function BL(t,e,n){var r=!1,i=iu,o=e.contextType;return typeof o=="object"&&o!==null?o=Mo(o):(i=vi(e)?Ed:$r.current,r=e.contextTypes,o=(r=r!=null)?Bh(t,i):iu),e=new e(n,o),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=Ib,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=o),e}function XI(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&Ib.enqueueReplaceState(e,e.state,null)}function Z5(t,e,n,r){var i=t.stateNode;i.props=n,i.state=t.memoizedState,i.refs={},I4(t);var o=e.contextType;typeof o=="object"&&o!==null?i.context=Mo(o):(o=vi(e)?Ed:$r.current,i.context=Bh(t,o)),i.state=t.memoizedState,o=e.getDerivedStateFromProps,typeof o=="function"&&(J5(t,e,o,n),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&Ib.enqueueReplaceState(i,i.state,null),nw(t,n,i,r),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308)}function Uh(t,e){try{var n="",r=e;do n+=Dq(r),r=r.return;while(r);var i=n}catch(o){i=`
Error generating stack: `+o.message+`
`+o.stack}return{value:t,source:e,stack:i,digest:null}}function j3(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function Q5(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var dG=typeof WeakMap=="function"?WeakMap:Map;function DL(t,e,n){n=cc(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){aw||(aw=!0,cx=r),Q5(t,e)},n}function jL(t,e,n){n=cc(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var i=e.value;n.payload=function(){return r(i)},n.callback=function(){Q5(t,e)}}var o=t.stateNode;return o!==null&&typeof o.componentDidCatch=="function"&&(n.callback=function(){Q5(t,e),typeof r!="function"&&(ql===null?ql=new Set([this]):ql.add(this));var s=e.stack;this.componentDidCatch(e.value,{componentStack:s!==null?s:""})}),n}function e9(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new dG;var i=new Set;r.set(e,i)}else i=r.get(e),i===void 0&&(i=new Set,r.set(e,i));i.has(n)||(i.add(n),t=CG.bind(null,t,e,n),e.then(t,t))}function t9(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function n9(t,e,n,r,i){return t.mode&1?(t.flags|=65536,t.lanes=i,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=cc(-1,1),e.tag=2,Kl(n,e,1))),n.lanes|=1),t)}var fG=Tc.ReactCurrentOwner,pi=!1;function zr(t,e,n,r){e.child=t===null?pL(e,null,n,r):jh(e,t.child,n,r)}function r9(t,e,n,r,i){n=n.render;var o=e.ref;return lh(e,i),r=M4(t,e,n,r,o,i),n=N4(),t!==null&&!pi?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,vc(t,e,i)):(cn&&n&&b4(e),e.flags|=1,zr(t,e,r,i),e.child)}function i9(t,e,n,r,i){if(t===null){var o=n.type;return typeof o=="function"&&!H4(o)&&o.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=o,FL(t,e,o,r,i)):(t=nv(n.type,null,r,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(o=t.child,!(t.lanes&i)){var s=o.memoizedProps;if(n=n.compare,n=n!==null?n:Eg,n(s,r)&&t.ref===e.ref)return vc(t,e,i)}return e.flags|=1,t=Gl(o,r),t.ref=e.ref,t.return=e,e.child=t}function FL(t,e,n,r,i){if(t!==null){var o=t.memoizedProps;if(Eg(o,r)&&t.ref===e.ref)if(pi=!1,e.pendingProps=r=o,(t.lanes&i)!==0)t.flags&131072&&(pi=!0);else return e.lanes=t.lanes,vc(t,e,i)}return X5(t,e,n,r,i)}function UL(t,e,n){var r=e.pendingProps,i=r.children,o=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},Qt(Wf,$i),$i|=n;else{if(!(n&1073741824))return t=o!==null?o.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,Qt(Wf,$i),$i|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=o!==null?o.baseLanes:n,Qt(Wf,$i),$i|=r}else o!==null?(r=o.baseLanes|n,e.memoizedState=null):r=n,Qt(Wf,$i),$i|=r;return zr(t,e,i,n),e.child}function zL(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function X5(t,e,n,r,i){var o=vi(n)?Ed:$r.current;return o=Bh(e,o),lh(e,i),n=M4(t,e,n,r,o,i),r=N4(),t!==null&&!pi?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,vc(t,e,i)):(cn&&r&&b4(e),e.flags|=1,zr(t,e,n,i),e.child)}function o9(t,e,n,r,i){if(vi(n)){var o=!0;Zv(e)}else o=!1;if(lh(e,i),e.stateNode===null)X1(t,e),BL(e,n,r),Z5(e,n,r,i),r=!0;else if(t===null){var s=e.stateNode,a=e.memoizedProps;s.props=a;var c=s.context,l=n.contextType;typeof l=="object"&&l!==null?l=Mo(l):(l=vi(n)?Ed:$r.current,l=Bh(e,l));var u=n.getDerivedStateFromProps,d=typeof u=="function"||typeof s.getSnapshotBeforeUpdate=="function";d||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(a!==r||c!==l)&&XI(e,s,r,l),hl=!1;var f=e.memoizedState;s.state=f,nw(e,r,s,i),c=e.memoizedState,a!==r||f!==c||yi.current||hl?(typeof u=="function"&&(J5(e,n,u,r),c=e.memoizedState),(a=hl||QI(e,n,a,r,f,c,l))?(d||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount()),typeof s.componentDidMount=="function"&&(e.flags|=4194308)):(typeof s.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=c),s.props=r,s.state=c,s.context=l,r=a):(typeof s.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{s=e.stateNode,mL(t,e),a=e.memoizedProps,l=e.type===e.elementType?a:Jo(e.type,a),s.props=l,d=e.pendingProps,f=s.context,c=n.contextType,typeof c=="object"&&c!==null?c=Mo(c):(c=vi(n)?Ed:$r.current,c=Bh(e,c));var h=n.getDerivedStateFromProps;(u=typeof h=="function"||typeof s.getSnapshotBeforeUpdate=="function")||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(a!==d||f!==c)&&XI(e,s,r,c),hl=!1,f=e.memoizedState,s.state=f,nw(e,r,s,i);var g=e.memoizedState;a!==d||f!==g||yi.current||hl?(typeof h=="function"&&(J5(e,n,h,r),g=e.memoizedState),(l=hl||QI(e,n,l,r,f,g,c)||!1)?(u||typeof s.UNSAFE_componentWillUpdate!="function"&&typeof s.componentWillUpdate!="function"||(typeof s.componentWillUpdate=="function"&&s.componentWillUpdate(r,g,c),typeof s.UNSAFE_componentWillUpdate=="function"&&s.UNSAFE_componentWillUpdate(r,g,c)),typeof s.componentDidUpdate=="function"&&(e.flags|=4),typeof s.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof s.componentDidUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=g),s.props=r,s.state=g,s.context=c,r=l):(typeof s.componentDidUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=1024),r=!1)}return ex(t,e,n,r,o,i)}function ex(t,e,n,r,i,o){zL(t,e);var s=(e.flags&128)!==0;if(!r&&!s)return i&&WI(e,n,!1),vc(t,e,o);r=e.stateNode,fG.current=e;var a=s&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&s?(e.child=jh(e,t.child,null,o),e.child=jh(e,null,a,o)):zr(t,e,a,o),e.memoizedState=r.state,i&&WI(e,n,!0),e.child}function HL(t){var e=t.stateNode;e.pendingContext?HI(t,e.pendingContext,e.pendingContext!==e.context):e.context&&HI(t,e.context,!1),k4(t,e.containerInfo)}function s9(t,e,n,r,i){return Dh(),x4(i),e.flags|=256,zr(t,e,n,r),e.child}var tx={dehydrated:null,treeContext:null,retryLane:0};function nx(t){return{baseLanes:t,cachePool:null,transitions:null}}function WL(t,e,n){var r=e.pendingProps,i=yn.current,o=!1,s=(e.flags&128)!==0,a;if((a=s)||(a=t!==null&&t.memoizedState===null?!1:(i&2)!==0),a?(o=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(i|=1),Qt(yn,i&1),t===null)return G5(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(s=r.children,t=r.fallback,o?(r=e.mode,o=e.child,s={mode:"hidden",children:s},!(r&1)&&o!==null?(o.childLanes=0,o.pendingProps=s):o=Ob(s,r,0,null),t=ud(t,r,n,null),o.return=e,t.return=e,o.sibling=t,e.child=o,e.child.memoizedState=nx(n),e.memoizedState=tx,t):$4(e,s));if(i=t.memoizedState,i!==null&&(a=i.dehydrated,a!==null))return hG(t,e,s,r,a,i,n);if(o){o=r.fallback,s=e.mode,i=t.child,a=i.sibling;var c={mode:"hidden",children:r.children};return!(s&1)&&e.child!==i?(r=e.child,r.childLanes=0,r.pendingProps=c,e.deletions=null):(r=Gl(i,c),r.subtreeFlags=i.subtreeFlags&14680064),a!==null?o=Gl(a,o):(o=ud(o,s,n,null),o.flags|=2),o.return=e,r.return=e,r.sibling=o,e.child=r,r=o,o=e.child,s=t.child.memoizedState,s=s===null?nx(n):{baseLanes:s.baseLanes|n,cachePool:null,transitions:s.transitions},o.memoizedState=s,o.childLanes=t.childLanes&~n,e.memoizedState=tx,r}return o=t.child,t=o.sibling,r=Gl(o,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function $4(t,e){return e=Ob({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function $y(t,e,n,r){return r!==null&&x4(r),jh(e,t.child,null,n),t=$4(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function hG(t,e,n,r,i,o,s){if(n)return e.flags&256?(e.flags&=-257,r=j3(Error(Me(422))),$y(t,e,s,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(o=r.fallback,i=e.mode,r=Ob({mode:"visible",children:r.children},i,0,null),o=ud(o,i,s,null),o.flags|=2,r.return=e,o.return=e,r.sibling=o,e.child=r,e.mode&1&&jh(e,t.child,null,s),e.child.memoizedState=nx(s),e.memoizedState=tx,o);if(!(e.mode&1))return $y(t,e,s,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var a=r.dgst;return r=a,o=Error(Me(419)),r=j3(o,r,void 0),$y(t,e,s,r)}if(a=(s&t.childLanes)!==0,pi||a){if(r=nr,r!==null){switch(s&-s){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|s)?0:i,i!==0&&i!==o.retryLane&&(o.retryLane=i,yc(t,i),us(r,t,i,-1))}return z4(),r=j3(Error(Me(421))),$y(t,e,s,r)}return i.data==="$?"?(e.flags|=128,e.child=t.child,e=AG.bind(null,t),i._reactRetry=e,null):(t=o.treeContext,Ui=Wl(i.nextSibling),Hi=e,cn=!0,ns=null,t!==null&&(_o[Co++]=ec,_o[Co++]=tc,_o[Co++]=xd,ec=t.id,tc=t.overflow,xd=e),e=$4(e,r.children),e.flags|=4096,e)}function a9(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),Y5(t.return,e,n)}function F3(t,e,n,r,i){var o=t.memoizedState;o===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(o.isBackwards=e,o.rendering=null,o.renderingStartTime=0,o.last=r,o.tail=n,o.tailMode=i)}function KL(t,e,n){var r=e.pendingProps,i=r.revealOrder,o=r.tail;if(zr(t,e,r.children,n),r=yn.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&a9(t,n,e);else if(t.tag===19)a9(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(Qt(yn,r),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(n=e.child,i=null;n!==null;)t=n.alternate,t!==null&&rw(t)===null&&(i=n),n=n.sibling;n=i,n===null?(i=e.child,e.child=null):(i=n.sibling,n.sibling=null),F3(e,!1,i,n,o);break;case"backwards":for(n=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&rw(t)===null){e.child=i;break}t=i.sibling,i.sibling=n,n=i,i=t}F3(e,!0,n,null,o);break;case"together":F3(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function X1(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function vc(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),_d|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(Me(153));if(e.child!==null){for(t=e.child,n=Gl(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=Gl(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function pG(t,e,n){switch(e.tag){case 3:HL(e),Dh();break;case 5:yL(e);break;case 1:vi(e.type)&&Zv(e);break;case 4:k4(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,i=e.memoizedProps.value;Qt(ew,r._currentValue),r._currentValue=i;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(Qt(yn,yn.current&1),e.flags|=128,null):n&e.child.childLanes?WL(t,e,n):(Qt(yn,yn.current&1),t=vc(t,e,n),t!==null?t.sibling:null);Qt(yn,yn.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return KL(t,e,n);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),Qt(yn,yn.current),r)break;return null;case 22:case 23:return e.lanes=0,UL(t,e,n)}return vc(t,e,n)}var qL,rx,VL,GL;qL=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};rx=function(){};VL=function(t,e,n,r){var i=t.memoizedProps;if(i!==r){t=e.stateNode,Wu(Xs.current);var o=null;switch(n){case"input":i=C5(t,i),r=C5(t,r),o=[];break;case"select":i=wn({},i,{value:void 0}),r=wn({},r,{value:void 0}),o=[];break;case"textarea":i=k5(t,i),r=k5(t,r),o=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=Yv)}O5(n,r);var s;n=null;for(l in i)if(!r.hasOwnProperty(l)&&i.hasOwnProperty(l)&&i[l]!=null)if(l==="style"){var a=i[l];for(s in a)a.hasOwnProperty(s)&&(n||(n={}),n[s]="")}else l!=="dangerouslySetInnerHTML"&&l!=="children"&&l!=="suppressContentEditableWarning"&&l!=="suppressHydrationWarning"&&l!=="autoFocus"&&(pg.hasOwnProperty(l)?o||(o=[]):(o=o||[]).push(l,null));for(l in r){var c=r[l];if(a=i!=null?i[l]:void 0,r.hasOwnProperty(l)&&c!==a&&(c!=null||a!=null))if(l==="style")if(a){for(s in a)!a.hasOwnProperty(s)||c&&c.hasOwnProperty(s)||(n||(n={}),n[s]="");for(s in c)c.hasOwnProperty(s)&&a[s]!==c[s]&&(n||(n={}),n[s]=c[s])}else n||(o||(o=[]),o.push(l,n)),n=c;else l==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,a=a?a.__html:void 0,c!=null&&a!==c&&(o=o||[]).push(l,c)):l==="children"?typeof c!="string"&&typeof c!="number"||(o=o||[]).push(l,""+c):l!=="suppressContentEditableWarning"&&l!=="suppressHydrationWarning"&&(pg.hasOwnProperty(l)?(c!=null&&l==="onScroll"&&on("scroll",t),o||a===c||(o=[])):(o=o||[]).push(l,c))}n&&(o=o||[]).push("style",n);var l=o;(e.updateQueue=l)&&(e.flags|=4)}};GL=function(t,e,n,r){n!==r&&(e.flags|=4)};function lp(t,e){if(!cn)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function _r(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function gG(t,e,n){var r=e.pendingProps;switch(E4(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return _r(e),null;case 1:return vi(e.type)&&Jv(),_r(e),null;case 3:return r=e.stateNode,Fh(),sn(yi),sn($r),O4(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(Ry(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,ns!==null&&(dx(ns),ns=null))),rx(t,e),_r(e),null;case 5:P4(e);var i=Wu(Ag.current);if(n=e.type,t!==null&&e.stateNode!=null)VL(t,e,n,r,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(Me(166));return _r(e),null}if(t=Wu(Xs.current),Ry(e)){r=e.stateNode,n=e.type;var o=e.memoizedProps;switch(r[zs]=e,r[_g]=o,t=(e.mode&1)!==0,n){case"dialog":on("cancel",r),on("close",r);break;case"iframe":case"object":case"embed":on("load",r);break;case"video":case"audio":for(i=0;i<Mp.length;i++)on(Mp[i],r);break;case"source":on("error",r);break;case"img":case"image":case"link":on("error",r),on("load",r);break;case"details":on("toggle",r);break;case"input":mI(r,o),on("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!o.multiple},on("invalid",r);break;case"textarea":vI(r,o),on("invalid",r)}O5(n,o),i=null;for(var s in o)if(o.hasOwnProperty(s)){var a=o[s];s==="children"?typeof a=="string"?r.textContent!==a&&(o.suppressHydrationWarning!==!0&&Ny(r.textContent,a,t),i=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(o.suppressHydrationWarning!==!0&&Ny(r.textContent,a,t),i=["children",""+a]):pg.hasOwnProperty(s)&&a!=null&&s==="onScroll"&&on("scroll",r)}switch(n){case"input":Cy(r),yI(r,o,!0);break;case"textarea":Cy(r),wI(r);break;case"select":case"option":break;default:typeof o.onClick=="function"&&(r.onclick=Yv)}r=i,e.updateQueue=r,r!==null&&(e.flags|=4)}else{s=i.nodeType===9?i:i.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=xR(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=s.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=s.createElement(n,{is:r.is}):(t=s.createElement(n),n==="select"&&(s=t,r.multiple?s.multiple=!0:r.size&&(s.size=r.size))):t=s.createElementNS(t,n),t[zs]=e,t[_g]=r,qL(t,e,!1,!1),e.stateNode=t;e:{switch(s=T5(n,r),n){case"dialog":on("cancel",t),on("close",t),i=r;break;case"iframe":case"object":case"embed":on("load",t),i=r;break;case"video":case"audio":for(i=0;i<Mp.length;i++)on(Mp[i],t);i=r;break;case"source":on("error",t),i=r;break;case"img":case"image":case"link":on("error",t),on("load",t),i=r;break;case"details":on("toggle",t),i=r;break;case"input":mI(t,r),i=C5(t,r),on("invalid",t);break;case"option":i=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},i=wn({},r,{value:void 0}),on("invalid",t);break;case"textarea":vI(t,r),i=k5(t,r),on("invalid",t);break;default:i=r}O5(n,i),a=i;for(o in a)if(a.hasOwnProperty(o)){var c=a[o];o==="style"?CR(t,c):o==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&SR(t,c)):o==="children"?typeof c=="string"?(n!=="textarea"||c!=="")&&gg(t,c):typeof c=="number"&&gg(t,""+c):o!=="suppressContentEditableWarning"&&o!=="suppressHydrationWarning"&&o!=="autoFocus"&&(pg.hasOwnProperty(o)?c!=null&&o==="onScroll"&&on("scroll",t):c!=null&&s4(t,o,c,s))}switch(n){case"input":Cy(t),yI(t,r,!1);break;case"textarea":Cy(t),wI(t);break;case"option":r.value!=null&&t.setAttribute("value",""+ru(r.value));break;case"select":t.multiple=!!r.multiple,o=r.value,o!=null?oh(t,!!r.multiple,o,!1):r.defaultValue!=null&&oh(t,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=Yv)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return _r(e),null;case 6:if(t&&e.stateNode!=null)GL(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(Me(166));if(n=Wu(Ag.current),Wu(Xs.current),Ry(e)){if(r=e.stateNode,n=e.memoizedProps,r[zs]=e,(o=r.nodeValue!==n)&&(t=Hi,t!==null))switch(t.tag){case 3:Ny(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&Ny(r.nodeValue,n,(t.mode&1)!==0)}o&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[zs]=e,e.stateNode=r}return _r(e),null;case 13:if(sn(yn),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(cn&&Ui!==null&&e.mode&1&&!(e.flags&128))fL(),Dh(),e.flags|=98560,o=!1;else if(o=Ry(e),r!==null&&r.dehydrated!==null){if(t===null){if(!o)throw Error(Me(318));if(o=e.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(Me(317));o[zs]=e}else Dh(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;_r(e),o=!1}else ns!==null&&(dx(ns),ns=null),o=!0;if(!o)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||yn.current&1?Un===0&&(Un=3):z4())),e.updateQueue!==null&&(e.flags|=4),_r(e),null);case 4:return Fh(),rx(t,e),t===null&&xg(e.stateNode.containerInfo),_r(e),null;case 10:return C4(e.type._context),_r(e),null;case 17:return vi(e.type)&&Jv(),_r(e),null;case 19:if(sn(yn),o=e.memoizedState,o===null)return _r(e),null;if(r=(e.flags&128)!==0,s=o.rendering,s===null)if(r)lp(o,!1);else{if(Un!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(s=rw(t),s!==null){for(e.flags|=128,lp(o,!1),r=s.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)o=n,t=r,o.flags&=14680066,s=o.alternate,s===null?(o.childLanes=0,o.lanes=t,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=s.childLanes,o.lanes=s.lanes,o.child=s.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=s.memoizedProps,o.memoizedState=s.memoizedState,o.updateQueue=s.updateQueue,o.type=s.type,t=s.dependencies,o.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return Qt(yn,yn.current&1|2),e.child}t=t.sibling}o.tail!==null&&Tn()>zh&&(e.flags|=128,r=!0,lp(o,!1),e.lanes=4194304)}else{if(!r)if(t=rw(s),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),lp(o,!0),o.tail===null&&o.tailMode==="hidden"&&!s.alternate&&!cn)return _r(e),null}else 2*Tn()-o.renderingStartTime>zh&&n!==1073741824&&(e.flags|=128,r=!0,lp(o,!1),e.lanes=4194304);o.isBackwards?(s.sibling=e.child,e.child=s):(n=o.last,n!==null?n.sibling=s:e.child=s,o.last=s)}return o.tail!==null?(e=o.tail,o.rendering=e,o.tail=e.sibling,o.renderingStartTime=Tn(),e.sibling=null,n=yn.current,Qt(yn,r?n&1|2:n&1),e):(_r(e),null);case 22:case 23:return U4(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?$i&1073741824&&(_r(e),e.subtreeFlags&6&&(e.flags|=8192)):_r(e),null;case 24:return null;case 25:return null}throw Error(Me(156,e.tag))}function mG(t,e){switch(E4(e),e.tag){case 1:return vi(e.type)&&Jv(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return Fh(),sn(yi),sn($r),O4(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return P4(e),null;case 13:if(sn(yn),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(Me(340));Dh()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return sn(yn),null;case 4:return Fh(),null;case 10:return C4(e.type._context),null;case 22:case 23:return U4(),null;case 24:return null;default:return null}}var By=!1,Mr=!1,yG=typeof WeakSet=="function"?WeakSet:Set,Ge=null;function Hf(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){_n(t,e,r)}else n.current=null}function ix(t,e,n){try{n()}catch(r){_n(t,e,r)}}var c9=!1;function vG(t,e){if(U5=qv,t=XR(),w4(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,o=r.focusNode;r=r.focusOffset;try{n.nodeType,o.nodeType}catch{n=null;break e}var s=0,a=-1,c=-1,l=0,u=0,d=t,f=null;t:for(;;){for(var h;d!==n||i!==0&&d.nodeType!==3||(a=s+i),d!==o||r!==0&&d.nodeType!==3||(c=s+r),d.nodeType===3&&(s+=d.nodeValue.length),(h=d.firstChild)!==null;)f=d,d=h;for(;;){if(d===t)break t;if(f===n&&++l===i&&(a=s),f===o&&++u===r&&(c=s),(h=d.nextSibling)!==null)break;d=f,f=d.parentNode}d=h}n=a===-1||c===-1?null:{start:a,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(z5={focusedElem:t,selectionRange:n},qv=!1,Ge=e;Ge!==null;)if(e=Ge,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,Ge=t;else for(;Ge!==null;){e=Ge;try{var g=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(g!==null){var p=g.memoizedProps,S=g.memoizedState,y=e.stateNode,b=y.getSnapshotBeforeUpdate(e.elementType===e.type?p:Jo(e.type,p),S);y.__reactInternalSnapshotBeforeUpdate=b}break;case 3:var _=e.stateNode.containerInfo;_.nodeType===1?_.textContent="":_.nodeType===9&&_.documentElement&&_.removeChild(_.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(Me(163))}}catch(N){_n(e,e.return,N)}if(t=e.sibling,t!==null){t.return=e.return,Ge=t;break}Ge=e.return}return g=c9,c9=!1,g}function Vp(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&t)===t){var o=i.destroy;i.destroy=void 0,o!==void 0&&ix(e,n,o)}i=i.next}while(i!==r)}}function kb(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function ox(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function YL(t){var e=t.alternate;e!==null&&(t.alternate=null,YL(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[zs],delete e[_g],delete e[K5],delete e[eG],delete e[tG])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function JL(t){return t.tag===5||t.tag===3||t.tag===4}function l9(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||JL(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function sx(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=Yv));else if(r!==4&&(t=t.child,t!==null))for(sx(t,e,n),t=t.sibling;t!==null;)sx(t,e,n),t=t.sibling}function ax(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(ax(t,e,n),t=t.sibling;t!==null;)ax(t,e,n),t=t.sibling}var fr=null,es=!1;function Uc(t,e,n){for(n=n.child;n!==null;)ZL(t,e,n),n=n.sibling}function ZL(t,e,n){if(Qs&&typeof Qs.onCommitFiberUnmount=="function")try{Qs.onCommitFiberUnmount(bb,n)}catch{}switch(n.tag){case 5:Mr||Hf(n,e);case 6:var r=fr,i=es;fr=null,Uc(t,e,n),fr=r,es=i,fr!==null&&(es?(t=fr,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):fr.removeChild(n.stateNode));break;case 18:fr!==null&&(es?(t=fr,n=n.stateNode,t.nodeType===8?N3(t.parentNode,n):t.nodeType===1&&N3(t,n),wg(t)):N3(fr,n.stateNode));break;case 4:r=fr,i=es,fr=n.stateNode.containerInfo,es=!0,Uc(t,e,n),fr=r,es=i;break;case 0:case 11:case 14:case 15:if(!Mr&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var o=i,s=o.destroy;o=o.tag,s!==void 0&&(o&2||o&4)&&ix(n,e,s),i=i.next}while(i!==r)}Uc(t,e,n);break;case 1:if(!Mr&&(Hf(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){_n(n,e,a)}Uc(t,e,n);break;case 21:Uc(t,e,n);break;case 22:n.mode&1?(Mr=(r=Mr)||n.memoizedState!==null,Uc(t,e,n),Mr=r):Uc(t,e,n);break;default:Uc(t,e,n)}}function u9(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new yG),e.forEach(function(r){var i=IG.bind(null,t,r);n.has(r)||(n.add(r),r.then(i,i))})}}function Ko(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var o=t,s=e,a=s;e:for(;a!==null;){switch(a.tag){case 5:fr=a.stateNode,es=!1;break e;case 3:fr=a.stateNode.containerInfo,es=!0;break e;case 4:fr=a.stateNode.containerInfo,es=!0;break e}a=a.return}if(fr===null)throw Error(Me(160));ZL(o,s,i),fr=null,es=!1;var c=i.alternate;c!==null&&(c.return=null),i.return=null}catch(l){_n(i,e,l)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)QL(e,t),e=e.sibling}function QL(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(Ko(e,t),_s(t),r&4){try{Vp(3,t,t.return),kb(3,t)}catch(p){_n(t,t.return,p)}try{Vp(5,t,t.return)}catch(p){_n(t,t.return,p)}}break;case 1:Ko(e,t),_s(t),r&512&&n!==null&&Hf(n,n.return);break;case 5:if(Ko(e,t),_s(t),r&512&&n!==null&&Hf(n,n.return),t.flags&32){var i=t.stateNode;try{gg(i,"")}catch(p){_n(t,t.return,p)}}if(r&4&&(i=t.stateNode,i!=null)){var o=t.memoizedProps,s=n!==null?n.memoizedProps:o,a=t.type,c=t.updateQueue;if(t.updateQueue=null,c!==null)try{a==="input"&&o.type==="radio"&&o.name!=null&&bR(i,o),T5(a,s);var l=T5(a,o);for(s=0;s<c.length;s+=2){var u=c[s],d=c[s+1];u==="style"?CR(i,d):u==="dangerouslySetInnerHTML"?SR(i,d):u==="children"?gg(i,d):s4(i,u,d,l)}switch(a){case"input":A5(i,o);break;case"textarea":ER(i,o);break;case"select":var f=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!o.multiple;var h=o.value;h!=null?oh(i,!!o.multiple,h,!1):f!==!!o.multiple&&(o.defaultValue!=null?oh(i,!!o.multiple,o.defaultValue,!0):oh(i,!!o.multiple,o.multiple?[]:"",!1))}i[_g]=o}catch(p){_n(t,t.return,p)}}break;case 6:if(Ko(e,t),_s(t),r&4){if(t.stateNode===null)throw Error(Me(162));i=t.stateNode,o=t.memoizedProps;try{i.nodeValue=o}catch(p){_n(t,t.return,p)}}break;case 3:if(Ko(e,t),_s(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{wg(e.containerInfo)}catch(p){_n(t,t.return,p)}break;case 4:Ko(e,t),_s(t);break;case 13:Ko(e,t),_s(t),i=t.child,i.flags&8192&&(o=i.memoizedState!==null,i.stateNode.isHidden=o,!o||i.alternate!==null&&i.alternate.memoizedState!==null||(j4=Tn())),r&4&&u9(t);break;case 22:if(u=n!==null&&n.memoizedState!==null,t.mode&1?(Mr=(l=Mr)||u,Ko(e,t),Mr=l):Ko(e,t),_s(t),r&8192){if(l=t.memoizedState!==null,(t.stateNode.isHidden=l)&&!u&&t.mode&1)for(Ge=t,u=t.child;u!==null;){for(d=Ge=u;Ge!==null;){switch(f=Ge,h=f.child,f.tag){case 0:case 11:case 14:case 15:Vp(4,f,f.return);break;case 1:Hf(f,f.return);var g=f.stateNode;if(typeof g.componentWillUnmount=="function"){r=f,n=f.return;try{e=r,g.props=e.memoizedProps,g.state=e.memoizedState,g.componentWillUnmount()}catch(p){_n(r,n,p)}}break;case 5:Hf(f,f.return);break;case 22:if(f.memoizedState!==null){f9(d);continue}}h!==null?(h.return=f,Ge=h):f9(d)}u=u.sibling}e:for(u=null,d=t;;){if(d.tag===5){if(u===null){u=d;try{i=d.stateNode,l?(o=i.style,typeof o.setProperty=="function"?o.setProperty("display","none","important"):o.display="none"):(a=d.stateNode,c=d.memoizedProps.style,s=c!=null&&c.hasOwnProperty("display")?c.display:null,a.style.display=_R("display",s))}catch(p){_n(t,t.return,p)}}}else if(d.tag===6){if(u===null)try{d.stateNode.nodeValue=l?"":d.memoizedProps}catch(p){_n(t,t.return,p)}}else if((d.tag!==22&&d.tag!==23||d.memoizedState===null||d===t)&&d.child!==null){d.child.return=d,d=d.child;continue}if(d===t)break e;for(;d.sibling===null;){if(d.return===null||d.return===t)break e;u===d&&(u=null),d=d.return}u===d&&(u=null),d.sibling.return=d.return,d=d.sibling}}break;case 19:Ko(e,t),_s(t),r&4&&u9(t);break;case 21:break;default:Ko(e,t),_s(t)}}function _s(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(JL(n)){var r=n;break e}n=n.return}throw Error(Me(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(gg(i,""),r.flags&=-33);var o=l9(t);ax(t,o,i);break;case 3:case 4:var s=r.stateNode.containerInfo,a=l9(t);sx(t,a,s);break;default:throw Error(Me(161))}}catch(c){_n(t,t.return,c)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function wG(t,e,n){Ge=t,XL(t)}function XL(t,e,n){for(var r=(t.mode&1)!==0;Ge!==null;){var i=Ge,o=i.child;if(i.tag===22&&r){var s=i.memoizedState!==null||By;if(!s){var a=i.alternate,c=a!==null&&a.memoizedState!==null||Mr;a=By;var l=Mr;if(By=s,(Mr=c)&&!l)for(Ge=i;Ge!==null;)s=Ge,c=s.child,s.tag===22&&s.memoizedState!==null?h9(i):c!==null?(c.return=s,Ge=c):h9(i);for(;o!==null;)Ge=o,XL(o),o=o.sibling;Ge=i,By=a,Mr=l}d9(t)}else i.subtreeFlags&8772&&o!==null?(o.return=i,Ge=o):d9(t)}}function d9(t){for(;Ge!==null;){var e=Ge;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:Mr||kb(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!Mr)if(n===null)r.componentDidMount();else{var i=e.elementType===e.type?n.memoizedProps:Jo(e.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var o=e.updateQueue;o!==null&&YI(e,o,r);break;case 3:var s=e.updateQueue;if(s!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}YI(e,s,n)}break;case 5:var a=e.stateNode;if(n===null&&e.flags&4){n=a;var c=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&n.focus();break;case"img":c.src&&(n.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var l=e.alternate;if(l!==null){var u=l.memoizedState;if(u!==null){var d=u.dehydrated;d!==null&&wg(d)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(Me(163))}Mr||e.flags&512&&ox(e)}catch(f){_n(e,e.return,f)}}if(e===t){Ge=null;break}if(n=e.sibling,n!==null){n.return=e.return,Ge=n;break}Ge=e.return}}function f9(t){for(;Ge!==null;){var e=Ge;if(e===t){Ge=null;break}var n=e.sibling;if(n!==null){n.return=e.return,Ge=n;break}Ge=e.return}}function h9(t){for(;Ge!==null;){var e=Ge;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{kb(4,e)}catch(c){_n(e,n,c)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var i=e.return;try{r.componentDidMount()}catch(c){_n(e,i,c)}}var o=e.return;try{ox(e)}catch(c){_n(e,o,c)}break;case 5:var s=e.return;try{ox(e)}catch(c){_n(e,s,c)}}}catch(c){_n(e,e.return,c)}if(e===t){Ge=null;break}var a=e.sibling;if(a!==null){a.return=e.return,Ge=a;break}Ge=e.return}}var bG=Math.ceil,sw=Tc.ReactCurrentDispatcher,B4=Tc.ReactCurrentOwner,Oo=Tc.ReactCurrentBatchConfig,Bt=0,nr=null,$n=null,vr=0,$i=0,Wf=gu(0),Un=0,Og=null,_d=0,Pb=0,D4=0,Gp=null,fi=null,j4=0,zh=1/0,$a=null,aw=!1,cx=null,ql=null,Dy=!1,$l=null,cw=0,Yp=0,lx=null,ev=-1,tv=0;function Gr(){return Bt&6?Tn():ev!==-1?ev:ev=Tn()}function Vl(t){return t.mode&1?Bt&2&&vr!==0?vr&-vr:rG.transition!==null?(tv===0&&(tv=BR()),tv):(t=Kt,t!==0||(t=window.event,t=t===void 0?16:WR(t.type)),t):1}function us(t,e,n,r){if(50<Yp)throw Yp=0,lx=null,Error(Me(185));Mm(t,n,r),(!(Bt&2)||t!==nr)&&(t===nr&&(!(Bt&2)&&(Pb|=n),Un===4&&El(t,vr)),wi(t,r),n===1&&Bt===0&&!(e.mode&1)&&(zh=Tn()+500,Cb&&mu()))}function wi(t,e){var n=t.callbackNode;rV(t,e);var r=Kv(t,t===nr?vr:0);if(r===0)n!==null&&xI(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&xI(n),e===1)t.tag===0?nG(p9.bind(null,t)):lL(p9.bind(null,t)),QV(function(){!(Bt&6)&&mu()}),n=null;else{switch(DR(r)){case 1:n=d4;break;case 4:n=LR;break;case 16:n=Wv;break;case 536870912:n=$R;break;default:n=Wv}n=a$(n,e$.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function e$(t,e){if(ev=-1,tv=0,Bt&6)throw Error(Me(327));var n=t.callbackNode;if(uh()&&t.callbackNode!==n)return null;var r=Kv(t,t===nr?vr:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=lw(t,r);else{e=r;var i=Bt;Bt|=2;var o=n$();(nr!==t||vr!==e)&&($a=null,zh=Tn()+500,ld(t,e));do try{SG();break}catch(a){t$(t,a)}while(!0);_4(),sw.current=o,Bt=i,$n!==null?e=0:(nr=null,vr=0,e=Un)}if(e!==0){if(e===2&&(i=$5(t),i!==0&&(r=i,e=ux(t,i))),e===1)throw n=Og,ld(t,0),El(t,r),wi(t,Tn()),n;if(e===6)El(t,r);else{if(i=t.current.alternate,!(r&30)&&!EG(i)&&(e=lw(t,r),e===2&&(o=$5(t),o!==0&&(r=o,e=ux(t,o))),e===1))throw n=Og,ld(t,0),El(t,r),wi(t,Tn()),n;switch(t.finishedWork=i,t.finishedLanes=r,e){case 0:case 1:throw Error(Me(345));case 2:Nu(t,fi,$a);break;case 3:if(El(t,r),(r&130023424)===r&&(e=j4+500-Tn(),10<e)){if(Kv(t,0)!==0)break;if(i=t.suspendedLanes,(i&r)!==r){Gr(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=W5(Nu.bind(null,t,fi,$a),e);break}Nu(t,fi,$a);break;case 4:if(El(t,r),(r&4194240)===r)break;for(e=t.eventTimes,i=-1;0<r;){var s=31-ls(r);o=1<<s,s=e[s],s>i&&(i=s),r&=~o}if(r=i,r=Tn()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*bG(r/1960))-r,10<r){t.timeoutHandle=W5(Nu.bind(null,t,fi,$a),r);break}Nu(t,fi,$a);break;case 5:Nu(t,fi,$a);break;default:throw Error(Me(329))}}}return wi(t,Tn()),t.callbackNode===n?e$.bind(null,t):null}function ux(t,e){var n=Gp;return t.current.memoizedState.isDehydrated&&(ld(t,e).flags|=256),t=lw(t,e),t!==2&&(e=fi,fi=n,e!==null&&dx(e)),t}function dx(t){fi===null?fi=t:fi.push.apply(fi,t)}function EG(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],o=i.getSnapshot;i=i.value;try{if(!fs(o(),i))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function El(t,e){for(e&=~D4,e&=~Pb,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-ls(e),r=1<<n;t[n]=-1,e&=~r}}function p9(t){if(Bt&6)throw Error(Me(327));uh();var e=Kv(t,0);if(!(e&1))return wi(t,Tn()),null;var n=lw(t,e);if(t.tag!==0&&n===2){var r=$5(t);r!==0&&(e=r,n=ux(t,r))}if(n===1)throw n=Og,ld(t,0),El(t,e),wi(t,Tn()),n;if(n===6)throw Error(Me(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,Nu(t,fi,$a),wi(t,Tn()),null}function F4(t,e){var n=Bt;Bt|=1;try{return t(e)}finally{Bt=n,Bt===0&&(zh=Tn()+500,Cb&&mu())}}function Cd(t){$l!==null&&$l.tag===0&&!(Bt&6)&&uh();var e=Bt;Bt|=1;var n=Oo.transition,r=Kt;try{if(Oo.transition=null,Kt=1,t)return t()}finally{Kt=r,Oo.transition=n,Bt=e,!(Bt&6)&&mu()}}function U4(){$i=Wf.current,sn(Wf)}function ld(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,ZV(n)),$n!==null)for(n=$n.return;n!==null;){var r=n;switch(E4(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&Jv();break;case 3:Fh(),sn(yi),sn($r),O4();break;case 5:P4(r);break;case 4:Fh();break;case 13:sn(yn);break;case 19:sn(yn);break;case 10:C4(r.type._context);break;case 22:case 23:U4()}n=n.return}if(nr=t,$n=t=Gl(t.current,null),vr=$i=e,Un=0,Og=null,D4=Pb=_d=0,fi=Gp=null,Hu!==null){for(e=0;e<Hu.length;e++)if(n=Hu[e],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,o=n.pending;if(o!==null){var s=o.next;o.next=i,r.next=s}n.pending=r}Hu=null}return t}function t$(t,e){do{var n=$n;try{if(_4(),Z1.current=ow,iw){for(var r=vn.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}iw=!1}if(Sd=0,Xn=Fn=vn=null,qp=!1,Ig=0,B4.current=null,n===null||n.return===null){Un=1,Og=e,$n=null;break}e:{var o=t,s=n.return,a=n,c=e;if(e=vr,a.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var l=c,u=a,d=u.tag;if(!(u.mode&1)&&(d===0||d===11||d===15)){var f=u.alternate;f?(u.updateQueue=f.updateQueue,u.memoizedState=f.memoizedState,u.lanes=f.lanes):(u.updateQueue=null,u.memoizedState=null)}var h=t9(s);if(h!==null){h.flags&=-257,n9(h,s,a,o,e),h.mode&1&&e9(o,l,e),e=h,c=l;var g=e.updateQueue;if(g===null){var p=new Set;p.add(c),e.updateQueue=p}else g.add(c);break e}else{if(!(e&1)){e9(o,l,e),z4();break e}c=Error(Me(426))}}else if(cn&&a.mode&1){var S=t9(s);if(S!==null){!(S.flags&65536)&&(S.flags|=256),n9(S,s,a,o,e),x4(Uh(c,a));break e}}o=c=Uh(c,a),Un!==4&&(Un=2),Gp===null?Gp=[o]:Gp.push(o),o=s;do{switch(o.tag){case 3:o.flags|=65536,e&=-e,o.lanes|=e;var y=DL(o,c,e);GI(o,y);break e;case 1:a=c;var b=o.type,_=o.stateNode;if(!(o.flags&128)&&(typeof b.getDerivedStateFromError=="function"||_!==null&&typeof _.componentDidCatch=="function"&&(ql===null||!ql.has(_)))){o.flags|=65536,e&=-e,o.lanes|=e;var N=jL(o,a,e);GI(o,N);break e}}o=o.return}while(o!==null)}i$(n)}catch(O){e=O,$n===n&&n!==null&&($n=n=n.return);continue}break}while(!0)}function n$(){var t=sw.current;return sw.current=ow,t===null?ow:t}function z4(){(Un===0||Un===3||Un===2)&&(Un=4),nr===null||!(_d&268435455)&&!(Pb&268435455)||El(nr,vr)}function lw(t,e){var n=Bt;Bt|=2;var r=n$();(nr!==t||vr!==e)&&($a=null,ld(t,e));do try{xG();break}catch(i){t$(t,i)}while(!0);if(_4(),Bt=n,sw.current=r,$n!==null)throw Error(Me(261));return nr=null,vr=0,Un}function xG(){for(;$n!==null;)r$($n)}function SG(){for(;$n!==null&&!Gq();)r$($n)}function r$(t){var e=s$(t.alternate,t,$i);t.memoizedProps=t.pendingProps,e===null?i$(t):$n=e,B4.current=null}function i$(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=mG(n,e),n!==null){n.flags&=32767,$n=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{Un=6,$n=null;return}}else if(n=gG(n,e,$i),n!==null){$n=n;return}if(e=e.sibling,e!==null){$n=e;return}$n=e=t}while(e!==null);Un===0&&(Un=5)}function Nu(t,e,n){var r=Kt,i=Oo.transition;try{Oo.transition=null,Kt=1,_G(t,e,n,r)}finally{Oo.transition=i,Kt=r}return null}function _G(t,e,n,r){do uh();while($l!==null);if(Bt&6)throw Error(Me(327));n=t.finishedWork;var i=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(Me(177));t.callbackNode=null,t.callbackPriority=0;var o=n.lanes|n.childLanes;if(iV(t,o),t===nr&&($n=nr=null,vr=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||Dy||(Dy=!0,a$(Wv,function(){return uh(),null})),o=(n.flags&15990)!==0,n.subtreeFlags&15990||o){o=Oo.transition,Oo.transition=null;var s=Kt;Kt=1;var a=Bt;Bt|=4,B4.current=null,vG(t,n),QL(n,t),WV(z5),qv=!!U5,z5=U5=null,t.current=n,wG(n),Yq(),Bt=a,Kt=s,Oo.transition=o}else t.current=n;if(Dy&&(Dy=!1,$l=t,cw=i),o=t.pendingLanes,o===0&&(ql=null),Qq(n.stateNode),wi(t,Tn()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)i=e[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(aw)throw aw=!1,t=cx,cx=null,t;return cw&1&&t.tag!==0&&uh(),o=t.pendingLanes,o&1?t===lx?Yp++:(Yp=0,lx=t):Yp=0,mu(),null}function uh(){if($l!==null){var t=DR(cw),e=Oo.transition,n=Kt;try{if(Oo.transition=null,Kt=16>t?16:t,$l===null)var r=!1;else{if(t=$l,$l=null,cw=0,Bt&6)throw Error(Me(331));var i=Bt;for(Bt|=4,Ge=t.current;Ge!==null;){var o=Ge,s=o.child;if(Ge.flags&16){var a=o.deletions;if(a!==null){for(var c=0;c<a.length;c++){var l=a[c];for(Ge=l;Ge!==null;){var u=Ge;switch(u.tag){case 0:case 11:case 15:Vp(8,u,o)}var d=u.child;if(d!==null)d.return=u,Ge=d;else for(;Ge!==null;){u=Ge;var f=u.sibling,h=u.return;if(YL(u),u===l){Ge=null;break}if(f!==null){f.return=h,Ge=f;break}Ge=h}}}var g=o.alternate;if(g!==null){var p=g.child;if(p!==null){g.child=null;do{var S=p.sibling;p.sibling=null,p=S}while(p!==null)}}Ge=o}}if(o.subtreeFlags&2064&&s!==null)s.return=o,Ge=s;else e:for(;Ge!==null;){if(o=Ge,o.flags&2048)switch(o.tag){case 0:case 11:case 15:Vp(9,o,o.return)}var y=o.sibling;if(y!==null){y.return=o.return,Ge=y;break e}Ge=o.return}}var b=t.current;for(Ge=b;Ge!==null;){s=Ge;var _=s.child;if(s.subtreeFlags&2064&&_!==null)_.return=s,Ge=_;else e:for(s=b;Ge!==null;){if(a=Ge,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:kb(9,a)}}catch(O){_n(a,a.return,O)}if(a===s){Ge=null;break e}var N=a.sibling;if(N!==null){N.return=a.return,Ge=N;break e}Ge=a.return}}if(Bt=i,mu(),Qs&&typeof Qs.onPostCommitFiberRoot=="function")try{Qs.onPostCommitFiberRoot(bb,t)}catch{}r=!0}return r}finally{Kt=n,Oo.transition=e}}return!1}function g9(t,e,n){e=Uh(n,e),e=DL(t,e,1),t=Kl(t,e,1),e=Gr(),t!==null&&(Mm(t,1,e),wi(t,e))}function _n(t,e,n){if(t.tag===3)g9(t,t,n);else for(;e!==null;){if(e.tag===3){g9(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(ql===null||!ql.has(r))){t=Uh(n,t),t=jL(e,t,1),e=Kl(e,t,1),t=Gr(),e!==null&&(Mm(e,1,t),wi(e,t));break}}e=e.return}}function CG(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=Gr(),t.pingedLanes|=t.suspendedLanes&n,nr===t&&(vr&n)===n&&(Un===4||Un===3&&(vr&130023424)===vr&&500>Tn()-j4?ld(t,0):D4|=n),wi(t,e)}function o$(t,e){e===0&&(t.mode&1?(e=ky,ky<<=1,!(ky&130023424)&&(ky=4194304)):e=1);var n=Gr();t=yc(t,e),t!==null&&(Mm(t,e,n),wi(t,n))}function AG(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),o$(t,n)}function IG(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,i=t.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(Me(314))}r!==null&&r.delete(e),o$(t,n)}var s$;s$=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||yi.current)pi=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return pi=!1,pG(t,e,n);pi=!!(t.flags&131072)}else pi=!1,cn&&e.flags&1048576&&uL(e,Xv,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;X1(t,e),t=e.pendingProps;var i=Bh(e,$r.current);lh(e,n),i=M4(null,e,r,t,i,n);var o=N4();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,vi(r)?(o=!0,Zv(e)):o=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,I4(e),i.updater=Ib,e.stateNode=i,i._reactInternals=e,Z5(e,r,t,n),e=ex(null,e,r,!0,o,n)):(e.tag=0,cn&&o&&b4(e),zr(null,e,i,n),e=e.child),e;case 16:r=e.elementType;e:{switch(X1(t,e),t=e.pendingProps,i=r._init,r=i(r._payload),e.type=r,i=e.tag=PG(r),t=Jo(r,t),i){case 0:e=X5(null,e,r,t,n);break e;case 1:e=o9(null,e,r,t,n);break e;case 11:e=r9(null,e,r,t,n);break e;case 14:e=i9(null,e,r,Jo(r.type,t),n);break e}throw Error(Me(306,r,""))}return e;case 0:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Jo(r,i),X5(t,e,r,i,n);case 1:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Jo(r,i),o9(t,e,r,i,n);case 3:e:{if(HL(e),t===null)throw Error(Me(387));r=e.pendingProps,o=e.memoizedState,i=o.element,mL(t,e),nw(e,r,null,n);var s=e.memoizedState;if(r=s.element,o.isDehydrated)if(o={element:r,isDehydrated:!1,cache:s.cache,pendingSuspenseBoundaries:s.pendingSuspenseBoundaries,transitions:s.transitions},e.updateQueue.baseState=o,e.memoizedState=o,e.flags&256){i=Uh(Error(Me(423)),e),e=s9(t,e,r,n,i);break e}else if(r!==i){i=Uh(Error(Me(424)),e),e=s9(t,e,r,n,i);break e}else for(Ui=Wl(e.stateNode.containerInfo.firstChild),Hi=e,cn=!0,ns=null,n=pL(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Dh(),r===i){e=vc(t,e,n);break e}zr(t,e,r,n)}e=e.child}return e;case 5:return yL(e),t===null&&G5(e),r=e.type,i=e.pendingProps,o=t!==null?t.memoizedProps:null,s=i.children,H5(r,i)?s=null:o!==null&&H5(r,o)&&(e.flags|=32),zL(t,e),zr(t,e,s,n),e.child;case 6:return t===null&&G5(e),null;case 13:return WL(t,e,n);case 4:return k4(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=jh(e,null,r,n):zr(t,e,r,n),e.child;case 11:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Jo(r,i),r9(t,e,r,i,n);case 7:return zr(t,e,e.pendingProps,n),e.child;case 8:return zr(t,e,e.pendingProps.children,n),e.child;case 12:return zr(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,i=e.pendingProps,o=e.memoizedProps,s=i.value,Qt(ew,r._currentValue),r._currentValue=s,o!==null)if(fs(o.value,s)){if(o.children===i.children&&!yi.current){e=vc(t,e,n);break e}}else for(o=e.child,o!==null&&(o.return=e);o!==null;){var a=o.dependencies;if(a!==null){s=o.child;for(var c=a.firstContext;c!==null;){if(c.context===r){if(o.tag===1){c=cc(-1,n&-n),c.tag=2;var l=o.updateQueue;if(l!==null){l=l.shared;var u=l.pending;u===null?c.next=c:(c.next=u.next,u.next=c),l.pending=c}}o.lanes|=n,c=o.alternate,c!==null&&(c.lanes|=n),Y5(o.return,n,e),a.lanes|=n;break}c=c.next}}else if(o.tag===10)s=o.type===e.type?null:o.child;else if(o.tag===18){if(s=o.return,s===null)throw Error(Me(341));s.lanes|=n,a=s.alternate,a!==null&&(a.lanes|=n),Y5(s,n,e),s=o.sibling}else s=o.child;if(s!==null)s.return=o;else for(s=o;s!==null;){if(s===e){s=null;break}if(o=s.sibling,o!==null){o.return=s.return,s=o;break}s=s.return}o=s}zr(t,e,i.children,n),e=e.child}return e;case 9:return i=e.type,r=e.pendingProps.children,lh(e,n),i=Mo(i),r=r(i),e.flags|=1,zr(t,e,r,n),e.child;case 14:return r=e.type,i=Jo(r,e.pendingProps),i=Jo(r.type,i),i9(t,e,r,i,n);case 15:return FL(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Jo(r,i),X1(t,e),e.tag=1,vi(r)?(t=!0,Zv(e)):t=!1,lh(e,n),BL(e,r,i),Z5(e,r,i,n),ex(null,e,r,!0,t,n);case 19:return KL(t,e,n);case 22:return UL(t,e,n)}throw Error(Me(156,e.tag))};function a$(t,e){return RR(t,e)}function kG(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Io(t,e,n,r){return new kG(t,e,n,r)}function H4(t){return t=t.prototype,!(!t||!t.isReactComponent)}function PG(t){if(typeof t=="function")return H4(t)?1:0;if(t!=null){if(t=t.$$typeof,t===c4)return 11;if(t===l4)return 14}return 2}function Gl(t,e){var n=t.alternate;return n===null?(n=Io(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function nv(t,e,n,r,i,o){var s=2;if(r=t,typeof t=="function")H4(t)&&(s=1);else if(typeof t=="string")s=5;else e:switch(t){case Rf:return ud(n.children,i,o,e);case a4:s=8,i|=8;break;case E5:return t=Io(12,n,e,i|2),t.elementType=E5,t.lanes=o,t;case x5:return t=Io(13,n,e,i),t.elementType=x5,t.lanes=o,t;case S5:return t=Io(19,n,e,i),t.elementType=S5,t.lanes=o,t;case yR:return Ob(n,i,o,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case gR:s=10;break e;case mR:s=9;break e;case c4:s=11;break e;case l4:s=14;break e;case fl:s=16,r=null;break e}throw Error(Me(130,t==null?t:typeof t,""))}return e=Io(s,n,e,i),e.elementType=t,e.type=r,e.lanes=o,e}function ud(t,e,n,r){return t=Io(7,t,r,e),t.lanes=n,t}function Ob(t,e,n,r){return t=Io(22,t,r,e),t.elementType=yR,t.lanes=n,t.stateNode={isHidden:!1},t}function U3(t,e,n){return t=Io(6,t,null,e),t.lanes=n,t}function z3(t,e,n){return e=Io(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function OG(t,e,n,r,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=x3(0),this.expirationTimes=x3(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=x3(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function W4(t,e,n,r,i,o,s,a,c){return t=new OG(t,e,n,a,c),e===1?(e=1,o===!0&&(e|=8)):e=0,o=Io(3,null,null,e),t.current=o,o.stateNode=t,o.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},I4(o),t}function TG(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Nf,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function c$(t){if(!t)return iu;t=t._reactInternals;e:{if(Hd(t)!==t||t.tag!==1)throw Error(Me(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(vi(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(Me(171))}if(t.tag===1){var n=t.type;if(vi(n))return cL(t,n,e)}return e}function l$(t,e,n,r,i,o,s,a,c){return t=W4(n,r,!0,t,i,o,s,a,c),t.context=c$(null),n=t.current,r=Gr(),i=Vl(n),o=cc(r,i),o.callback=e??null,Kl(n,o,i),t.current.lanes=i,Mm(t,i,r),wi(t,r),t}function Tb(t,e,n,r){var i=e.current,o=Gr(),s=Vl(i);return n=c$(n),e.context===null?e.context=n:e.pendingContext=n,e=cc(o,s),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=Kl(i,e,s),t!==null&&(us(t,i,s,o),J1(t,i,s)),s}function uw(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function m9(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function K4(t,e){m9(t,e),(t=t.alternate)&&m9(t,e)}function MG(){return null}var u$=typeof reportError=="function"?reportError:function(t){console.error(t)};function q4(t){this._internalRoot=t}Mb.prototype.render=q4.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(Me(409));Tb(t,e,null,null)};Mb.prototype.unmount=q4.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;Cd(function(){Tb(null,t,null,null)}),e[mc]=null}};function Mb(t){this._internalRoot=t}Mb.prototype.unstable_scheduleHydration=function(t){if(t){var e=UR();t={blockedOn:null,target:t,priority:e};for(var n=0;n<bl.length&&e!==0&&e<bl[n].priority;n++);bl.splice(n,0,t),n===0&&HR(t)}};function V4(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function Nb(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function y9(){}function NG(t,e,n,r,i){if(i){if(typeof r=="function"){var o=r;r=function(){var l=uw(s);o.call(l)}}var s=l$(e,r,t,0,null,!1,!1,"",y9);return t._reactRootContainer=s,t[mc]=s.current,xg(t.nodeType===8?t.parentNode:t),Cd(),s}for(;i=t.lastChild;)t.removeChild(i);if(typeof r=="function"){var a=r;r=function(){var l=uw(c);a.call(l)}}var c=W4(t,0,!1,null,null,!1,!1,"",y9);return t._reactRootContainer=c,t[mc]=c.current,xg(t.nodeType===8?t.parentNode:t),Cd(function(){Tb(e,c,n,r)}),c}function Rb(t,e,n,r,i){var o=n._reactRootContainer;if(o){var s=o;if(typeof i=="function"){var a=i;i=function(){var c=uw(s);a.call(c)}}Tb(e,s,t,i)}else s=NG(n,e,t,i,r);return uw(s)}jR=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=Tp(e.pendingLanes);n!==0&&(f4(e,n|1),wi(e,Tn()),!(Bt&6)&&(zh=Tn()+500,mu()))}break;case 13:Cd(function(){var r=yc(t,1);if(r!==null){var i=Gr();us(r,t,1,i)}}),K4(t,1)}};h4=function(t){if(t.tag===13){var e=yc(t,134217728);if(e!==null){var n=Gr();us(e,t,134217728,n)}K4(t,134217728)}};FR=function(t){if(t.tag===13){var e=Vl(t),n=yc(t,e);if(n!==null){var r=Gr();us(n,t,e,r)}K4(t,e)}};UR=function(){return Kt};zR=function(t,e){var n=Kt;try{return Kt=t,e()}finally{Kt=n}};N5=function(t,e,n){switch(e){case"input":if(A5(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var i=_b(r);if(!i)throw Error(Me(90));wR(r),A5(r,i)}}}break;case"textarea":ER(t,n);break;case"select":e=n.value,e!=null&&oh(t,!!n.multiple,e,!1)}};kR=F4;PR=Cd;var RG={usingClientEntryPoint:!1,Events:[Rm,Df,_b,AR,IR,F4]},up={findFiberByHostInstance:zu,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},LG={bundleType:up.bundleType,version:up.version,rendererPackageName:up.rendererPackageName,rendererConfig:up.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Tc.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=MR(t),t===null?null:t.stateNode},findFiberByHostInstance:up.findFiberByHostInstance||MG,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var jy=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!jy.isDisabled&&jy.supportsFiber)try{bb=jy.inject(LG),Qs=jy}catch{}}Vi.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=RG;Vi.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!V4(e))throw Error(Me(200));return TG(t,e,null,n)};Vi.createRoot=function(t,e){if(!V4(t))throw Error(Me(299));var n=!1,r="",i=u$;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=W4(t,1,!1,null,null,n,!1,r,i),t[mc]=e.current,xg(t.nodeType===8?t.parentNode:t),new q4(e)};Vi.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(Me(188)):(t=Object.keys(t).join(","),Error(Me(268,t)));return t=MR(e),t=t===null?null:t.stateNode,t};Vi.flushSync=function(t){return Cd(t)};Vi.hydrate=function(t,e,n){if(!Nb(e))throw Error(Me(200));return Rb(null,t,e,!0,n)};Vi.hydrateRoot=function(t,e,n){if(!V4(t))throw Error(Me(405));var r=n!=null&&n.hydratedSources||null,i=!1,o="",s=u$;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(o=n.identifierPrefix),n.onRecoverableError!==void 0&&(s=n.onRecoverableError)),e=l$(e,null,t,1,n??null,i,!1,o,s),t[mc]=e.current,xg(t),r)for(t=0;t<r.length;t++)n=r[t],i=n._getVersion,i=i(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,i]:e.mutableSourceEagerHydrationData.push(n,i);return new Mb(e)};Vi.render=function(t,e,n){if(!Nb(e))throw Error(Me(200));return Rb(null,t,e,!1,n)};Vi.unmountComponentAtNode=function(t){if(!Nb(t))throw Error(Me(40));return t._reactRootContainer?(Cd(function(){Rb(null,null,t,!1,function(){t._reactRootContainer=null,t[mc]=null})}),!0):!1};Vi.unstable_batchedUpdates=F4;Vi.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!Nb(n))throw Error(Me(200));if(t==null||t._reactInternals===void 0)throw Error(Me(38));return Rb(t,e,n,!1,r)};Vi.version="18.3.1-next-f1338f8080-20240426";function d$(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(d$)}catch(t){console.error(t)}}d$(),dR.exports=Vi;var $G=dR.exports,f$,v9=$G;f$=w5.createRoot=v9.createRoot,w5.hydrateRoot=v9.hydrateRoot;const BG="modulepreload",DG=function(t){return"/"+t},w9={},Lt=function(e,n,r){let i=Promise.resolve();if(n&&n.length>0){document.getElementsByTagName("link");const s=document.querySelector("meta[property=csp-nonce]"),a=(s==null?void 0:s.nonce)||(s==null?void 0:s.getAttribute("nonce"));i=Promise.allSettled(n.map(c=>{if(c=DG(c),c in w9)return;w9[c]=!0;const l=c.endsWith(".css"),u=l?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${c}"]${u}`))return;const d=document.createElement("link");if(d.rel=l?"stylesheet":BG,l||(d.as="script"),d.crossOrigin="",d.href=c,a&&d.setAttribute("nonce",a),document.head.appendChild(d),l)return new Promise((f,h)=>{d.addEventListener("load",f),d.addEventListener("error",()=>h(new Error(`Unable to preload CSS for ${c}`)))})}))}function o(s){const a=new Event("vite:preloadError",{cancelable:!0});if(a.payload=s,window.dispatchEvent(a),!a.defaultPrevented)throw s}return i.then(s=>{for(const a of s||[])a.status==="rejected"&&o(a.reason);return e().catch(o)})};function jG(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function Lb(t,e){if(t==null)return{};var n,r,i=jG(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function Tg(t){"@babel/helpers - typeof";return Tg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Tg(t)}function FG(t,e){if(Tg(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Tg(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function UG(t){var e=FG(t,"string");return Tg(e)=="symbol"?e:e+""}function ue(t,e,n){return(e=UG(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function b9(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function ae(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?b9(Object(n),!0).forEach(function(r){ue(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):b9(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}const lf=typeof globalThis=="object"&&"crypto"in globalThis?globalThis.crypto:void 0;/*! noble-hashes - MIT License (c) 2022 Paul Miller (paulmillr.com) */function zG(t){return t instanceof Uint8Array||ArrayBuffer.isView(t)&&t.constructor.name==="Uint8Array"}function Mg(t){if(!Number.isSafeInteger(t)||t<0)throw new Error("positive integer expected, got "+t)}function wc(t,...e){if(!zG(t))throw new Error("Uint8Array expected");if(e.length>0&&!e.includes(t.length))throw new Error("Uint8Array expected of length "+e+", got length="+t.length)}function HG(t){if(typeof t!="function"||typeof t.create!="function")throw new Error("Hash should be wrapped by utils.createHasher");Mg(t.outputLen),Mg(t.blockLen)}function Hh(t,e=!0){if(t.destroyed)throw new Error("Hash instance has been destroyed");if(e&&t.finished)throw new Error("Hash#digest() has already been called")}function h$(t,e){wc(t);const n=e.outputLen;if(t.length<n)throw new Error("digestInto() expects output buffer of length at least "+n)}function WG(t){return new Uint32Array(t.buffer,t.byteOffset,Math.floor(t.byteLength/4))}function ou(...t){for(let e=0;e<t.length;e++)t[e].fill(0)}function H3(t){return new DataView(t.buffer,t.byteOffset,t.byteLength)}function Cs(t,e){return t<<32-e|t>>>e}const KG=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68;function qG(t){return t<<24&4278190080|t<<8&16711680|t>>>8&65280|t>>>24&255}function VG(t){for(let e=0;e<t.length;e++)t[e]=qG(t[e]);return t}const E9=KG?t=>t:VG,p$=typeof Uint8Array.from([]).toHex=="function"&&typeof Uint8Array.fromHex=="function",GG=Array.from({length:256},(t,e)=>e.toString(16).padStart(2,"0"));function T5e(t){if(wc(t),p$)return t.toHex();let e="";for(let n=0;n<t.length;n++)e+=GG[t[n]];return e}const Ca={_0:48,_9:57,A:65,F:70,a:97,f:102};function x9(t){if(t>=Ca._0&&t<=Ca._9)return t-Ca._0;if(t>=Ca.A&&t<=Ca.F)return t-(Ca.A-10);if(t>=Ca.a&&t<=Ca.f)return t-(Ca.a-10)}function M5e(t){if(typeof t!="string")throw new Error("hex string expected, got "+typeof t);if(p$)return Uint8Array.fromHex(t);const e=t.length,n=e/2;if(e%2)throw new Error("hex string expected, got unpadded hex of length "+e);const r=new Uint8Array(n);for(let i=0,o=0;i<n;i++,o+=2){const s=x9(t.charCodeAt(o)),a=x9(t.charCodeAt(o+1));if(s===void 0||a===void 0){const c=t[o]+t[o+1];throw new Error('hex string expected, got non-hex character "'+c+'" at index '+o)}r[i]=s*16+a}return r}function YG(t){if(typeof t!="string")throw new Error("string expected");return new Uint8Array(new TextEncoder().encode(t))}function $b(t){return typeof t=="string"&&(t=YG(t)),wc(t),t}function JG(...t){let e=0;for(let r=0;r<t.length;r++){const i=t[r];wc(i),e+=i.length}const n=new Uint8Array(e);for(let r=0,i=0;r<t.length;r++){const o=t[r];n.set(o,i),i+=o.length}return n}let G4=class{};function Y4(t){const e=r=>t().update($b(r)).digest(),n=t();return e.outputLen=n.outputLen,e.blockLen=n.blockLen,e.create=()=>t(),e}function ZG(t=32){if(lf&&typeof lf.getRandomValues=="function")return lf.getRandomValues(new Uint8Array(t));if(lf&&typeof lf.randomBytes=="function")return Uint8Array.from(lf.randomBytes(t));throw new Error("crypto.getRandomValues must be defined")}function QG(t,e,n,r){if(typeof t.setBigUint64=="function")return t.setBigUint64(e,n,r);const i=BigInt(32),o=BigInt(4294967295),s=Number(n>>i&o),a=Number(n&o),c=r?4:0,l=r?0:4;t.setUint32(e+c,s,r),t.setUint32(e+l,a,r)}function XG(t,e,n){return t&e^~t&n}function eY(t,e,n){return t&e^t&n^e&n}let g$=class extends G4{constructor(e,n,r,i){super(),this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.blockLen=e,this.outputLen=n,this.padOffset=r,this.isLE=i,this.buffer=new Uint8Array(e),this.view=H3(this.buffer)}update(e){Hh(this),e=$b(e),wc(e);const{view:n,buffer:r,blockLen:i}=this,o=e.length;for(let s=0;s<o;){const a=Math.min(i-this.pos,o-s);if(a===i){const c=H3(e);for(;i<=o-s;s+=i)this.process(c,s);continue}r.set(e.subarray(s,s+a),this.pos),this.pos+=a,s+=a,this.pos===i&&(this.process(n,0),this.pos=0)}return this.length+=e.length,this.roundClean(),this}digestInto(e){Hh(this),h$(e,this),this.finished=!0;const{buffer:n,view:r,blockLen:i,isLE:o}=this;let{pos:s}=this;n[s++]=128,ou(this.buffer.subarray(s)),this.padOffset>i-s&&(this.process(r,0),s=0);for(let d=s;d<i;d++)n[d]=0;QG(r,i-8,BigInt(this.length*8),o),this.process(r,0);const a=H3(e),c=this.outputLen;if(c%4)throw new Error("_sha2: outputLen should be aligned to 32bit");const l=c/4,u=this.get();if(l>u.length)throw new Error("_sha2: outputLen bigger than state");for(let d=0;d<l;d++)a.setUint32(4*d,u[d],o)}digest(){const{buffer:e,outputLen:n}=this;this.digestInto(e);const r=e.slice(0,n);return this.destroy(),r}_cloneInto(e){e||(e=new this.constructor),e.set(...this.get());const{blockLen:n,buffer:r,length:i,finished:o,destroyed:s,pos:a}=this;return e.destroyed=s,e.finished=o,e.length=i,e.pos=a,i%n&&e.buffer.set(r),e}clone(){return this._cloneInto()}};const zc=Uint32Array.from([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),Cr=Uint32Array.from([1779033703,4089235720,3144134277,2227873595,1013904242,4271175723,2773480762,1595750129,1359893119,2917565137,2600822924,725511199,528734635,4215389547,1541459225,327033209]),Fy=BigInt(2**32-1),S9=BigInt(32);function tY(t,e=!1){return e?{h:Number(t&Fy),l:Number(t>>S9&Fy)}:{h:Number(t>>S9&Fy)|0,l:Number(t&Fy)|0}}function m$(t,e=!1){const n=t.length;let r=new Uint32Array(n),i=new Uint32Array(n);for(let o=0;o<n;o++){const{h:s,l:a}=tY(t[o],e);[r[o],i[o]]=[s,a]}return[r,i]}const _9=(t,e,n)=>t>>>n,C9=(t,e,n)=>t<<32-n|e>>>n,uf=(t,e,n)=>t>>>n|e<<32-n,df=(t,e,n)=>t<<32-n|e>>>n,Uy=(t,e,n)=>t<<64-n|e>>>n-32,zy=(t,e,n)=>t>>>n-32|e<<64-n,nY=(t,e,n)=>t<<n|e>>>32-n,rY=(t,e,n)=>e<<n|t>>>32-n,iY=(t,e,n)=>e<<n-32|t>>>64-n,oY=(t,e,n)=>t<<n-32|e>>>64-n;function Aa(t,e,n,r){const i=(e>>>0)+(r>>>0);return{h:t+n+(i/2**32|0)|0,l:i|0}}const sY=(t,e,n)=>(t>>>0)+(e>>>0)+(n>>>0),aY=(t,e,n,r)=>e+n+r+(t/2**32|0)|0,cY=(t,e,n,r)=>(t>>>0)+(e>>>0)+(n>>>0)+(r>>>0),lY=(t,e,n,r,i)=>e+n+r+i+(t/2**32|0)|0,uY=(t,e,n,r,i)=>(t>>>0)+(e>>>0)+(n>>>0)+(r>>>0)+(i>>>0),dY=(t,e,n,r,i,o)=>e+n+r+i+o+(t/2**32|0)|0,fY=Uint32Array.from([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),Hc=new Uint32Array(64);let hY=class extends g${constructor(e=32){super(64,e,8,!1),this.A=zc[0]|0,this.B=zc[1]|0,this.C=zc[2]|0,this.D=zc[3]|0,this.E=zc[4]|0,this.F=zc[5]|0,this.G=zc[6]|0,this.H=zc[7]|0}get(){const{A:e,B:n,C:r,D:i,E:o,F:s,G:a,H:c}=this;return[e,n,r,i,o,s,a,c]}set(e,n,r,i,o,s,a,c){this.A=e|0,this.B=n|0,this.C=r|0,this.D=i|0,this.E=o|0,this.F=s|0,this.G=a|0,this.H=c|0}process(e,n){for(let d=0;d<16;d++,n+=4)Hc[d]=e.getUint32(n,!1);for(let d=16;d<64;d++){const f=Hc[d-15],h=Hc[d-2],g=Cs(f,7)^Cs(f,18)^f>>>3,p=Cs(h,17)^Cs(h,19)^h>>>10;Hc[d]=p+Hc[d-7]+g+Hc[d-16]|0}let{A:r,B:i,C:o,D:s,E:a,F:c,G:l,H:u}=this;for(let d=0;d<64;d++){const f=Cs(a,6)^Cs(a,11)^Cs(a,25),h=u+f+XG(a,c,l)+fY[d]+Hc[d]|0,p=(Cs(r,2)^Cs(r,13)^Cs(r,22))+eY(r,i,o)|0;u=l,l=c,c=a,a=s+h|0,s=o,o=i,i=r,r=h+p|0}r=r+this.A|0,i=i+this.B|0,o=o+this.C|0,s=s+this.D|0,a=a+this.E|0,c=c+this.F|0,l=l+this.G|0,u=u+this.H|0,this.set(r,i,o,s,a,c,l,u)}roundClean(){ou(Hc)}destroy(){this.set(0,0,0,0,0,0,0,0),ou(this.buffer)}};const y$=m$(["0x428a2f98d728ae22","0x7137449123ef65cd","0xb5c0fbcfec4d3b2f","0xe9b5dba58189dbbc","0x3956c25bf348b538","0x59f111f1b605d019","0x923f82a4af194f9b","0xab1c5ed5da6d8118","0xd807aa98a3030242","0x12835b0145706fbe","0x243185be4ee4b28c","0x550c7dc3d5ffb4e2","0x72be5d74f27b896f","0x80deb1fe3b1696b1","0x9bdc06a725c71235","0xc19bf174cf692694","0xe49b69c19ef14ad2","0xefbe4786384f25e3","0x0fc19dc68b8cd5b5","0x240ca1cc77ac9c65","0x2de92c6f592b0275","0x4a7484aa6ea6e483","0x5cb0a9dcbd41fbd4","0x76f988da831153b5","0x983e5152ee66dfab","0xa831c66d2db43210","0xb00327c898fb213f","0xbf597fc7beef0ee4","0xc6e00bf33da88fc2","0xd5a79147930aa725","0x06ca6351e003826f","0x142929670a0e6e70","0x27b70a8546d22ffc","0x2e1b21385c26c926","0x4d2c6dfc5ac42aed","0x53380d139d95b3df","0x650a73548baf63de","0x766a0abb3c77b2a8","0x81c2c92e47edaee6","0x92722c851482353b","0xa2bfe8a14cf10364","0xa81a664bbc423001","0xc24b8b70d0f89791","0xc76c51a30654be30","0xd192e819d6ef5218","0xd69906245565a910","0xf40e35855771202a","0x106aa07032bbd1b8","0x19a4c116b8d2d0c8","0x1e376c085141ab53","0x2748774cdf8eeb99","0x34b0bcb5e19b48a8","0x391c0cb3c5c95a63","0x4ed8aa4ae3418acb","0x5b9cca4f7763e373","0x682e6ff3d6b2b8a3","0x748f82ee5defb2fc","0x78a5636f43172f60","0x84c87814a1f0ab72","0x8cc702081a6439ec","0x90befffa23631e28","0xa4506cebde82bde9","0xbef9a3f7b2c67915","0xc67178f2e372532b","0xca273eceea26619c","0xd186b8c721c0c207","0xeada7dd6cde0eb1e","0xf57d4f7fee6ed178","0x06f067aa72176fba","0x0a637dc5a2c898a6","0x113f9804bef90dae","0x1b710b35131c471b","0x28db77f523047d84","0x32caab7b40c72493","0x3c9ebe0a15c9bebc","0x431d67c49c100d4c","0x4cc5d4becb3e42b6","0x597f299cfc657e2a","0x5fcb6fab3ad6faec","0x6c44198c4a475817"].map(t=>BigInt(t))),pY=y$[0],gY=y$[1],Wc=new Uint32Array(80),Kc=new Uint32Array(80);let mY=class extends g${constructor(e=64){super(128,e,16,!1),this.Ah=Cr[0]|0,this.Al=Cr[1]|0,this.Bh=Cr[2]|0,this.Bl=Cr[3]|0,this.Ch=Cr[4]|0,this.Cl=Cr[5]|0,this.Dh=Cr[6]|0,this.Dl=Cr[7]|0,this.Eh=Cr[8]|0,this.El=Cr[9]|0,this.Fh=Cr[10]|0,this.Fl=Cr[11]|0,this.Gh=Cr[12]|0,this.Gl=Cr[13]|0,this.Hh=Cr[14]|0,this.Hl=Cr[15]|0}get(){const{Ah:e,Al:n,Bh:r,Bl:i,Ch:o,Cl:s,Dh:a,Dl:c,Eh:l,El:u,Fh:d,Fl:f,Gh:h,Gl:g,Hh:p,Hl:S}=this;return[e,n,r,i,o,s,a,c,l,u,d,f,h,g,p,S]}set(e,n,r,i,o,s,a,c,l,u,d,f,h,g,p,S){this.Ah=e|0,this.Al=n|0,this.Bh=r|0,this.Bl=i|0,this.Ch=o|0,this.Cl=s|0,this.Dh=a|0,this.Dl=c|0,this.Eh=l|0,this.El=u|0,this.Fh=d|0,this.Fl=f|0,this.Gh=h|0,this.Gl=g|0,this.Hh=p|0,this.Hl=S|0}process(e,n){for(let _=0;_<16;_++,n+=4)Wc[_]=e.getUint32(n),Kc[_]=e.getUint32(n+=4);for(let _=16;_<80;_++){const N=Wc[_-15]|0,O=Kc[_-15]|0,$=uf(N,O,1)^uf(N,O,8)^_9(N,O,7),j=df(N,O,1)^df(N,O,8)^C9(N,O,7),k=Wc[_-2]|0,T=Kc[_-2]|0,L=uf(k,T,19)^Uy(k,T,61)^_9(k,T,6),P=df(k,T,19)^zy(k,T,61)^C9(k,T,6),m=cY(j,P,Kc[_-7],Kc[_-16]),w=lY(m,$,L,Wc[_-7],Wc[_-16]);Wc[_]=w|0,Kc[_]=m|0}let{Ah:r,Al:i,Bh:o,Bl:s,Ch:a,Cl:c,Dh:l,Dl:u,Eh:d,El:f,Fh:h,Fl:g,Gh:p,Gl:S,Hh:y,Hl:b}=this;for(let _=0;_<80;_++){const N=uf(d,f,14)^uf(d,f,18)^Uy(d,f,41),O=df(d,f,14)^df(d,f,18)^zy(d,f,41),$=d&h^~d&p,j=f&g^~f&S,k=uY(b,O,j,gY[_],Kc[_]),T=dY(k,y,N,$,pY[_],Wc[_]),L=k|0,P=uf(r,i,28)^Uy(r,i,34)^Uy(r,i,39),m=df(r,i,28)^zy(r,i,34)^zy(r,i,39),w=r&o^r&a^o&a,A=i&s^i&c^s&c;y=p|0,b=S|0,p=h|0,S=g|0,h=d|0,g=f|0,{h:d,l:f}=Aa(l|0,u|0,T|0,L|0),l=a|0,u=c|0,a=o|0,c=s|0,o=r|0,s=i|0;const v=sY(L,m,A);r=aY(v,T,P,w),i=v|0}({h:r,l:i}=Aa(this.Ah|0,this.Al|0,r|0,i|0)),{h:o,l:s}=Aa(this.Bh|0,this.Bl|0,o|0,s|0),{h:a,l:c}=Aa(this.Ch|0,this.Cl|0,a|0,c|0),{h:l,l:u}=Aa(this.Dh|0,this.Dl|0,l|0,u|0),{h:d,l:f}=Aa(this.Eh|0,this.El|0,d|0,f|0),{h,l:g}=Aa(this.Fh|0,this.Fl|0,h|0,g|0),{h:p,l:S}=Aa(this.Gh|0,this.Gl|0,p|0,S|0),{h:y,l:b}=Aa(this.Hh|0,this.Hl|0,y|0,b|0),this.set(r,i,o,s,a,c,l,u,d,f,h,g,p,S,y,b)}roundClean(){ou(Wc,Kc)}destroy(){ou(this.buffer),this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)}};const v$=Y4(()=>new hY),B5e=Y4(()=>new mY),yY=v$,vY={},wY=Object.freeze(Object.defineProperty({__proto__:null,default:vY},Symbol.toStringTag,{value:"Module"})),w$=XK(wY);let b$=class extends G4{constructor(e,n){super(),this.finished=!1,this.destroyed=!1,HG(e);const r=$b(n);if(this.iHash=e.create(),typeof this.iHash.update!="function")throw new Error("Expected instance of class which extends utils.Hash");this.blockLen=this.iHash.blockLen,this.outputLen=this.iHash.outputLen;const i=this.blockLen,o=new Uint8Array(i);o.set(r.length>i?e.create().update(r).digest():r);for(let s=0;s<o.length;s++)o[s]^=54;this.iHash.update(o),this.oHash=e.create();for(let s=0;s<o.length;s++)o[s]^=106;this.oHash.update(o),ou(o)}update(e){return Hh(this),this.iHash.update(e),this}digestInto(e){Hh(this),wc(e,this.outputLen),this.finished=!0,this.iHash.digestInto(e),this.oHash.update(e),this.oHash.digestInto(e),this.destroy()}digest(){const e=new Uint8Array(this.oHash.outputLen);return this.digestInto(e),e}_cloneInto(e){e||(e=Object.create(Object.getPrototypeOf(this),{}));const{oHash:n,iHash:r,finished:i,destroyed:o,blockLen:s,outputLen:a}=this;return e=e,e.finished=i,e.destroyed=o,e.blockLen=s,e.outputLen=a,e.oHash=n._cloneInto(e.oHash),e.iHash=r._cloneInto(e.iHash),e}clone(){return this._cloneInto()}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}};const E$=(t,e,n)=>new b$(t,e).update(n).digest();E$.create=(t,e)=>new b$(t,e);var Bb={},Ot={},Wd=x$;function x$(t,e){if(!t)throw new Error(e||"Assertion failed")}x$.equal=function(e,n,r){if(e!=n)throw new Error(r||"Assertion failed: "+e+" != "+n)};var fx={exports:{}};typeof Object.create=="function"?fx.exports=function(e,n){n&&(e.super_=n,e.prototype=Object.create(n.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}))}:fx.exports=function(e,n){if(n){e.super_=n;var r=function(){};r.prototype=n.prototype,e.prototype=new r,e.prototype.constructor=e}};var Es=fx.exports,bY=Wd,EY=Es;Ot.inherits=EY;function xY(t,e){return(t.charCodeAt(e)&64512)!==55296||e<0||e+1>=t.length?!1:(t.charCodeAt(e+1)&64512)===56320}function SY(t,e){if(Array.isArray(t))return t.slice();if(!t)return[];var n=[];if(typeof t=="string")if(e){if(e==="hex")for(t=t.replace(/[^a-z0-9]+/ig,""),t.length%2!==0&&(t="0"+t),i=0;i<t.length;i+=2)n.push(parseInt(t[i]+t[i+1],16))}else for(var r=0,i=0;i<t.length;i++){var o=t.charCodeAt(i);o<128?n[r++]=o:o<2048?(n[r++]=o>>6|192,n[r++]=o&63|128):xY(t,i)?(o=65536+((o&1023)<<10)+(t.charCodeAt(++i)&1023),n[r++]=o>>18|240,n[r++]=o>>12&63|128,n[r++]=o>>6&63|128,n[r++]=o&63|128):(n[r++]=o>>12|224,n[r++]=o>>6&63|128,n[r++]=o&63|128)}else for(i=0;i<t.length;i++)n[i]=t[i]|0;return n}Ot.toArray=SY;function _Y(t){for(var e="",n=0;n<t.length;n++)e+=_$(t[n].toString(16));return e}Ot.toHex=_Y;function S$(t){var e=t>>>24|t>>>8&65280|t<<8&16711680|(t&255)<<24;return e>>>0}Ot.htonl=S$;function CY(t,e){for(var n="",r=0;r<t.length;r++){var i=t[r];e==="little"&&(i=S$(i)),n+=C$(i.toString(16))}return n}Ot.toHex32=CY;function _$(t){return t.length===1?"0"+t:t}Ot.zero2=_$;function C$(t){return t.length===7?"0"+t:t.length===6?"00"+t:t.length===5?"000"+t:t.length===4?"0000"+t:t.length===3?"00000"+t:t.length===2?"000000"+t:t.length===1?"0000000"+t:t}Ot.zero8=C$;function AY(t,e,n,r){var i=n-e;bY(i%4===0);for(var o=new Array(i/4),s=0,a=e;s<o.length;s++,a+=4){var c;r==="big"?c=t[a]<<24|t[a+1]<<16|t[a+2]<<8|t[a+3]:c=t[a+3]<<24|t[a+2]<<16|t[a+1]<<8|t[a],o[s]=c>>>0}return o}Ot.join32=AY;function IY(t,e){for(var n=new Array(t.length*4),r=0,i=0;r<t.length;r++,i+=4){var o=t[r];e==="big"?(n[i]=o>>>24,n[i+1]=o>>>16&255,n[i+2]=o>>>8&255,n[i+3]=o&255):(n[i+3]=o>>>24,n[i+2]=o>>>16&255,n[i+1]=o>>>8&255,n[i]=o&255)}return n}Ot.split32=IY;function kY(t,e){return t>>>e|t<<32-e}Ot.rotr32=kY;function PY(t,e){return t<<e|t>>>32-e}Ot.rotl32=PY;function OY(t,e){return t+e>>>0}Ot.sum32=OY;function TY(t,e,n){return t+e+n>>>0}Ot.sum32_3=TY;function MY(t,e,n,r){return t+e+n+r>>>0}Ot.sum32_4=MY;function NY(t,e,n,r,i){return t+e+n+r+i>>>0}Ot.sum32_5=NY;function RY(t,e,n,r){var i=t[e],o=t[e+1],s=r+o>>>0,a=(s<r?1:0)+n+i;t[e]=a>>>0,t[e+1]=s}Ot.sum64=RY;function LY(t,e,n,r){var i=e+r>>>0,o=(i<e?1:0)+t+n;return o>>>0}Ot.sum64_hi=LY;function $Y(t,e,n,r){var i=e+r;return i>>>0}Ot.sum64_lo=$Y;function BY(t,e,n,r,i,o,s,a){var c=0,l=e;l=l+r>>>0,c+=l<e?1:0,l=l+o>>>0,c+=l<o?1:0,l=l+a>>>0,c+=l<a?1:0;var u=t+n+i+s+c;return u>>>0}Ot.sum64_4_hi=BY;function DY(t,e,n,r,i,o,s,a){var c=e+r+o+a;return c>>>0}Ot.sum64_4_lo=DY;function jY(t,e,n,r,i,o,s,a,c,l){var u=0,d=e;d=d+r>>>0,u+=d<e?1:0,d=d+o>>>0,u+=d<o?1:0,d=d+a>>>0,u+=d<a?1:0,d=d+l>>>0,u+=d<l?1:0;var f=t+n+i+s+c+u;return f>>>0}Ot.sum64_5_hi=jY;function FY(t,e,n,r,i,o,s,a,c,l){var u=e+r+o+a+l;return u>>>0}Ot.sum64_5_lo=FY;function UY(t,e,n){var r=e<<32-n|t>>>n;return r>>>0}Ot.rotr64_hi=UY;function zY(t,e,n){var r=t<<32-n|e>>>n;return r>>>0}Ot.rotr64_lo=zY;function HY(t,e,n){return t>>>n}Ot.shr64_hi=HY;function WY(t,e,n){var r=t<<32-n|e>>>n;return r>>>0}Ot.shr64_lo=WY;var w0={},A9=Ot,KY=Wd;function Db(){this.pending=null,this.pendingTotal=0,this.blockSize=this.constructor.blockSize,this.outSize=this.constructor.outSize,this.hmacStrength=this.constructor.hmacStrength,this.padLength=this.constructor.padLength/8,this.endian="big",this._delta8=this.blockSize/8,this._delta32=this.blockSize/32}w0.BlockHash=Db;Db.prototype.update=function(e,n){if(e=A9.toArray(e,n),this.pending?this.pending=this.pending.concat(e):this.pending=e,this.pendingTotal+=e.length,this.pending.length>=this._delta8){e=this.pending;var r=e.length%this._delta8;this.pending=e.slice(e.length-r,e.length),this.pending.length===0&&(this.pending=null),e=A9.join32(e,0,e.length-r,this.endian);for(var i=0;i<e.length;i+=this._delta32)this._update(e,i,i+this._delta32)}return this};Db.prototype.digest=function(e){return this.update(this._pad()),KY(this.pending===null),this._digest(e)};Db.prototype._pad=function(){var e=this.pendingTotal,n=this._delta8,r=n-(e+this.padLength)%n,i=new Array(r+this.padLength);i[0]=128;for(var o=1;o<r;o++)i[o]=0;if(e<<=3,this.endian==="big"){for(var s=8;s<this.padLength;s++)i[o++]=0;i[o++]=0,i[o++]=0,i[o++]=0,i[o++]=0,i[o++]=e>>>24&255,i[o++]=e>>>16&255,i[o++]=e>>>8&255,i[o++]=e&255}else for(i[o++]=e&255,i[o++]=e>>>8&255,i[o++]=e>>>16&255,i[o++]=e>>>24&255,i[o++]=0,i[o++]=0,i[o++]=0,i[o++]=0,s=8;s<this.padLength;s++)i[o++]=0;return i};var b0={},ya={},qY=Ot,ea=qY.rotr32;function VY(t,e,n,r){if(t===0)return A$(e,n,r);if(t===1||t===3)return k$(e,n,r);if(t===2)return I$(e,n,r)}ya.ft_1=VY;function A$(t,e,n){return t&e^~t&n}ya.ch32=A$;function I$(t,e,n){return t&e^t&n^e&n}ya.maj32=I$;function k$(t,e,n){return t^e^n}ya.p32=k$;function GY(t){return ea(t,2)^ea(t,13)^ea(t,22)}ya.s0_256=GY;function YY(t){return ea(t,6)^ea(t,11)^ea(t,25)}ya.s1_256=YY;function JY(t){return ea(t,7)^ea(t,18)^t>>>3}ya.g0_256=JY;function ZY(t){return ea(t,17)^ea(t,19)^t>>>10}ya.g1_256=ZY;var Wh=Ot,QY=w0,XY=ya,W3=Wh.rotl32,dp=Wh.sum32,eJ=Wh.sum32_5,tJ=XY.ft_1,P$=QY.BlockHash,nJ=[1518500249,1859775393,2400959708,3395469782];function ca(){if(!(this instanceof ca))return new ca;P$.call(this),this.h=[1732584193,4023233417,2562383102,271733878,3285377520],this.W=new Array(80)}Wh.inherits(ca,P$);var rJ=ca;ca.blockSize=512;ca.outSize=160;ca.hmacStrength=80;ca.padLength=64;ca.prototype._update=function(e,n){for(var r=this.W,i=0;i<16;i++)r[i]=e[n+i];for(;i<r.length;i++)r[i]=W3(r[i-3]^r[i-8]^r[i-14]^r[i-16],1);var o=this.h[0],s=this.h[1],a=this.h[2],c=this.h[3],l=this.h[4];for(i=0;i<r.length;i++){var u=~~(i/20),d=eJ(W3(o,5),tJ(u,s,a,c),l,r[i],nJ[u]);l=c,c=a,a=W3(s,30),s=o,o=d}this.h[0]=dp(this.h[0],o),this.h[1]=dp(this.h[1],s),this.h[2]=dp(this.h[2],a),this.h[3]=dp(this.h[3],c),this.h[4]=dp(this.h[4],l)};ca.prototype._digest=function(e){return e==="hex"?Wh.toHex32(this.h,"big"):Wh.split32(this.h,"big")};var Kh=Ot,iJ=w0,E0=ya,oJ=Wd,qo=Kh.sum32,sJ=Kh.sum32_4,aJ=Kh.sum32_5,cJ=E0.ch32,lJ=E0.maj32,uJ=E0.s0_256,dJ=E0.s1_256,fJ=E0.g0_256,hJ=E0.g1_256,O$=iJ.BlockHash,pJ=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298];function la(){if(!(this instanceof la))return new la;O$.call(this),this.h=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225],this.k=pJ,this.W=new Array(64)}Kh.inherits(la,O$);var T$=la;la.blockSize=512;la.outSize=256;la.hmacStrength=192;la.padLength=64;la.prototype._update=function(e,n){for(var r=this.W,i=0;i<16;i++)r[i]=e[n+i];for(;i<r.length;i++)r[i]=sJ(hJ(r[i-2]),r[i-7],fJ(r[i-15]),r[i-16]);var o=this.h[0],s=this.h[1],a=this.h[2],c=this.h[3],l=this.h[4],u=this.h[5],d=this.h[6],f=this.h[7];for(oJ(this.k.length===r.length),i=0;i<r.length;i++){var h=aJ(f,dJ(l),cJ(l,u,d),this.k[i],r[i]),g=qo(uJ(o),lJ(o,s,a));f=d,d=u,u=l,l=qo(c,h),c=a,a=s,s=o,o=qo(h,g)}this.h[0]=qo(this.h[0],o),this.h[1]=qo(this.h[1],s),this.h[2]=qo(this.h[2],a),this.h[3]=qo(this.h[3],c),this.h[4]=qo(this.h[4],l),this.h[5]=qo(this.h[5],u),this.h[6]=qo(this.h[6],d),this.h[7]=qo(this.h[7],f)};la.prototype._digest=function(e){return e==="hex"?Kh.toHex32(this.h,"big"):Kh.split32(this.h,"big")};var hx=Ot,M$=T$;function bc(){if(!(this instanceof bc))return new bc;M$.call(this),this.h=[3238371032,914150663,812702999,4144912697,4290775857,1750603025,1694076839,3204075428]}hx.inherits(bc,M$);var gJ=bc;bc.blockSize=512;bc.outSize=224;bc.hmacStrength=192;bc.padLength=64;bc.prototype._digest=function(e){return e==="hex"?hx.toHex32(this.h.slice(0,7),"big"):hx.split32(this.h.slice(0,7),"big")};var Si=Ot,mJ=w0,yJ=Wd,ta=Si.rotr64_hi,na=Si.rotr64_lo,N$=Si.shr64_hi,R$=Si.shr64_lo,qc=Si.sum64,K3=Si.sum64_hi,q3=Si.sum64_lo,vJ=Si.sum64_4_hi,wJ=Si.sum64_4_lo,bJ=Si.sum64_5_hi,EJ=Si.sum64_5_lo,L$=mJ.BlockHash,xJ=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591];function hs(){if(!(this instanceof hs))return new hs;L$.call(this),this.h=[1779033703,4089235720,3144134277,2227873595,1013904242,4271175723,2773480762,1595750129,1359893119,2917565137,2600822924,725511199,528734635,4215389547,1541459225,327033209],this.k=xJ,this.W=new Array(160)}Si.inherits(hs,L$);var $$=hs;hs.blockSize=1024;hs.outSize=512;hs.hmacStrength=192;hs.padLength=128;hs.prototype._prepareBlock=function(e,n){for(var r=this.W,i=0;i<32;i++)r[i]=e[n+i];for(;i<r.length;i+=2){var o=NJ(r[i-4],r[i-3]),s=RJ(r[i-4],r[i-3]),a=r[i-14],c=r[i-13],l=TJ(r[i-30],r[i-29]),u=MJ(r[i-30],r[i-29]),d=r[i-32],f=r[i-31];r[i]=vJ(o,s,a,c,l,u,d,f),r[i+1]=wJ(o,s,a,c,l,u,d,f)}};hs.prototype._update=function(e,n){this._prepareBlock(e,n);var r=this.W,i=this.h[0],o=this.h[1],s=this.h[2],a=this.h[3],c=this.h[4],l=this.h[5],u=this.h[6],d=this.h[7],f=this.h[8],h=this.h[9],g=this.h[10],p=this.h[11],S=this.h[12],y=this.h[13],b=this.h[14],_=this.h[15];yJ(this.k.length===r.length);for(var N=0;N<r.length;N+=2){var O=b,$=_,j=PJ(f,h),k=OJ(f,h),T=SJ(f,h,g,p,S),L=_J(f,h,g,p,S,y),P=this.k[N],m=this.k[N+1],w=r[N],A=r[N+1],v=bJ(O,$,j,k,T,L,P,m,w,A),I=EJ(O,$,j,k,T,L,P,m,w,A);O=IJ(i,o),$=kJ(i,o),j=CJ(i,o,s,a,c),k=AJ(i,o,s,a,c,l);var M=K3(O,$,j,k),E=q3(O,$,j,k);b=S,_=y,S=g,y=p,g=f,p=h,f=K3(u,d,v,I),h=q3(d,d,v,I),u=c,d=l,c=s,l=a,s=i,a=o,i=K3(v,I,M,E),o=q3(v,I,M,E)}qc(this.h,0,i,o),qc(this.h,2,s,a),qc(this.h,4,c,l),qc(this.h,6,u,d),qc(this.h,8,f,h),qc(this.h,10,g,p),qc(this.h,12,S,y),qc(this.h,14,b,_)};hs.prototype._digest=function(e){return e==="hex"?Si.toHex32(this.h,"big"):Si.split32(this.h,"big")};function SJ(t,e,n,r,i){var o=t&n^~t&i;return o<0&&(o+=4294967296),o}function _J(t,e,n,r,i,o){var s=e&r^~e&o;return s<0&&(s+=4294967296),s}function CJ(t,e,n,r,i){var o=t&n^t&i^n&i;return o<0&&(o+=4294967296),o}function AJ(t,e,n,r,i,o){var s=e&r^e&o^r&o;return s<0&&(s+=4294967296),s}function IJ(t,e){var n=ta(t,e,28),r=ta(e,t,2),i=ta(e,t,7),o=n^r^i;return o<0&&(o+=4294967296),o}function kJ(t,e){var n=na(t,e,28),r=na(e,t,2),i=na(e,t,7),o=n^r^i;return o<0&&(o+=4294967296),o}function PJ(t,e){var n=ta(t,e,14),r=ta(t,e,18),i=ta(e,t,9),o=n^r^i;return o<0&&(o+=4294967296),o}function OJ(t,e){var n=na(t,e,14),r=na(t,e,18),i=na(e,t,9),o=n^r^i;return o<0&&(o+=4294967296),o}function TJ(t,e){var n=ta(t,e,1),r=ta(t,e,8),i=N$(t,e,7),o=n^r^i;return o<0&&(o+=4294967296),o}function MJ(t,e){var n=na(t,e,1),r=na(t,e,8),i=R$(t,e,7),o=n^r^i;return o<0&&(o+=4294967296),o}function NJ(t,e){var n=ta(t,e,19),r=ta(e,t,29),i=N$(t,e,6),o=n^r^i;return o<0&&(o+=4294967296),o}function RJ(t,e){var n=na(t,e,19),r=na(e,t,29),i=R$(t,e,6),o=n^r^i;return o<0&&(o+=4294967296),o}var px=Ot,B$=$$;function Ec(){if(!(this instanceof Ec))return new Ec;B$.call(this),this.h=[3418070365,3238371032,1654270250,914150663,2438529370,812702999,355462360,4144912697,1731405415,4290775857,2394180231,1750603025,3675008525,1694076839,1203062813,3204075428]}px.inherits(Ec,B$);var LJ=Ec;Ec.blockSize=1024;Ec.outSize=384;Ec.hmacStrength=192;Ec.padLength=128;Ec.prototype._digest=function(e){return e==="hex"?px.toHex32(this.h.slice(0,12),"big"):px.split32(this.h.slice(0,12),"big")};b0.sha1=rJ;b0.sha224=gJ;b0.sha256=T$;b0.sha384=LJ;b0.sha512=$$;var D$={},Ad=Ot,$J=w0,Hy=Ad.rotl32,I9=Ad.sum32,fp=Ad.sum32_3,k9=Ad.sum32_4,j$=$J.BlockHash;function ua(){if(!(this instanceof ua))return new ua;j$.call(this),this.h=[1732584193,4023233417,2562383102,271733878,3285377520],this.endian="little"}Ad.inherits(ua,j$);D$.ripemd160=ua;ua.blockSize=512;ua.outSize=160;ua.hmacStrength=192;ua.padLength=64;ua.prototype._update=function(e,n){for(var r=this.h[0],i=this.h[1],o=this.h[2],s=this.h[3],a=this.h[4],c=r,l=i,u=o,d=s,f=a,h=0;h<80;h++){var g=I9(Hy(k9(r,P9(h,i,o,s),e[jJ[h]+n],BJ(h)),UJ[h]),a);r=a,a=s,s=Hy(o,10),o=i,i=g,g=I9(Hy(k9(c,P9(79-h,l,u,d),e[FJ[h]+n],DJ(h)),zJ[h]),f),c=f,f=d,d=Hy(u,10),u=l,l=g}g=fp(this.h[1],o,d),this.h[1]=fp(this.h[2],s,f),this.h[2]=fp(this.h[3],a,c),this.h[3]=fp(this.h[4],r,l),this.h[4]=fp(this.h[0],i,u),this.h[0]=g};ua.prototype._digest=function(e){return e==="hex"?Ad.toHex32(this.h,"little"):Ad.split32(this.h,"little")};function P9(t,e,n,r){return t<=15?e^n^r:t<=31?e&n|~e&r:t<=47?(e|~n)^r:t<=63?e&r|n&~r:e^(n|~r)}function BJ(t){return t<=15?0:t<=31?1518500249:t<=47?1859775393:t<=63?2400959708:2840853838}function DJ(t){return t<=15?1352829926:t<=31?1548603684:t<=47?1836072691:t<=63?2053994217:0}var jJ=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13],FJ=[5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11],UJ=[11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6],zJ=[8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11],HJ=Ot,WJ=Wd;function qh(t,e,n){if(!(this instanceof qh))return new qh(t,e,n);this.Hash=t,this.blockSize=t.blockSize/8,this.outSize=t.outSize/8,this.inner=null,this.outer=null,this._init(HJ.toArray(e,n))}var KJ=qh;qh.prototype._init=function(e){e.length>this.blockSize&&(e=new this.Hash().update(e).digest()),WJ(e.length<=this.blockSize);for(var n=e.length;n<this.blockSize;n++)e.push(0);for(n=0;n<e.length;n++)e[n]^=54;for(this.inner=new this.Hash().update(e),n=0;n<e.length;n++)e[n]^=106;this.outer=new this.Hash().update(e)};qh.prototype.update=function(e,n){return this.inner.update(e,n),this};qh.prototype.digest=function(e){return this.outer.update(this.inner.digest()),this.outer.digest(e)};(function(t){var e=t;e.utils=Ot,e.common=w0,e.sha=b0,e.ripemd=D$,e.hmac=KJ,e.sha1=e.sha.sha1,e.sha256=e.sha.sha256,e.sha224=e.sha.sha224,e.sha384=e.sha.sha384,e.sha512=e.sha.sha512,e.ripemd160=e.ripemd.ripemd160})(Bb);var V3,O9;function qJ(){return O9||(O9=1,V3=function(){if(typeof Symbol!="function"||typeof Object.getOwnPropertySymbols!="function")return!1;if(typeof Symbol.iterator=="symbol")return!0;var e={},n=Symbol("test"),r=Object(n);if(typeof n=="string"||Object.prototype.toString.call(n)!=="[object Symbol]"||Object.prototype.toString.call(r)!=="[object Symbol]")return!1;var i=42;e[n]=i;for(var o in e)return!1;if(typeof Object.keys=="function"&&Object.keys(e).length!==0||typeof Object.getOwnPropertyNames=="function"&&Object.getOwnPropertyNames(e).length!==0)return!1;var s=Object.getOwnPropertySymbols(e);if(s.length!==1||s[0]!==n||!Object.prototype.propertyIsEnumerable.call(e,n))return!1;if(typeof Object.getOwnPropertyDescriptor=="function"){var a=Object.getOwnPropertyDescriptor(e,n);if(a.value!==i||a.enumerable!==!0)return!1}return!0}),V3}var F$=Object,VJ=Error,GJ=EvalError,YJ=RangeError,JJ=ReferenceError,U$=SyntaxError,jb=TypeError,ZJ=URIError,QJ=Math.abs,XJ=Math.floor,eZ=Math.max,tZ=Math.min,nZ=Math.pow,rZ=Math.round,iZ=Number.isNaN||function(e){return e!==e},oZ=iZ,sZ=function(e){return oZ(e)||e===0?e:e<0?-1:1},aZ=Object.getOwnPropertyDescriptor,rv=aZ;if(rv)try{rv([],"length")}catch{rv=null}var Fb=rv,iv=Object.defineProperty||!1;if(iv)try{iv({},"a",{value:1})}catch{iv=!1}var Ub=iv,G3,T9;function cZ(){if(T9)return G3;T9=1;var t=typeof Symbol<"u"&&Symbol,e=qJ();return G3=function(){return typeof t!="function"||typeof Symbol!="function"||typeof t("foo")!="symbol"||typeof Symbol("bar")!="symbol"?!1:e()},G3}var Y3,M9;function z$(){return M9||(M9=1,Y3=typeof Reflect<"u"&&Reflect.getPrototypeOf||null),Y3}var J3,N9;function H$(){if(N9)return J3;N9=1;var t=F$;return J3=t.getPrototypeOf||null,J3}var lZ="Function.prototype.bind called on incompatible ",uZ=Object.prototype.toString,dZ=Math.max,fZ="[object Function]",R9=function(e,n){for(var r=[],i=0;i<e.length;i+=1)r[i]=e[i];for(var o=0;o<n.length;o+=1)r[o+e.length]=n[o];return r},hZ=function(e,n){for(var r=[],i=n,o=0;i<e.length;i+=1,o+=1)r[o]=e[i];return r},pZ=function(t,e){for(var n="",r=0;r<t.length;r+=1)n+=t[r],r+1<t.length&&(n+=e);return n},gZ=function(e){var n=this;if(typeof n!="function"||uZ.apply(n)!==fZ)throw new TypeError(lZ+n);for(var r=hZ(arguments,1),i,o=function(){if(this instanceof i){var u=n.apply(this,R9(r,arguments));return Object(u)===u?u:this}return n.apply(e,R9(r,arguments))},s=dZ(0,n.length-r.length),a=[],c=0;c<s;c++)a[c]="$"+c;if(i=Function("binder","return function ("+pZ(a,",")+"){ return binder.apply(this,arguments); }")(o),n.prototype){var l=function(){};l.prototype=n.prototype,i.prototype=new l,l.prototype=null}return i},mZ=gZ,$m=Function.prototype.bind||mZ,J4=Function.prototype.call,Z4=Function.prototype.apply,yZ=typeof Reflect<"u"&&Reflect&&Reflect.apply,vZ=$m,wZ=Z4,bZ=J4,EZ=yZ,W$=EZ||vZ.call(bZ,wZ),xZ=$m,SZ=jb,_Z=J4,CZ=W$,Q4=function(e){if(e.length<1||typeof e[0]!="function")throw new SZ("a function is required");return CZ(xZ,_Z,e)},Z3,L9;function AZ(){if(L9)return Z3;L9=1;var t=Q4,e=Fb,n;try{n=[].__proto__===Array.prototype}catch(s){if(!s||typeof s!="object"||!("code"in s)||s.code!=="ERR_PROTO_ACCESS")throw s}var r=!!n&&e&&e(Object.prototype,"__proto__"),i=Object,o=i.getPrototypeOf;return Z3=r&&typeof r.get=="function"?t([r.get]):typeof o=="function"?function(a){return o(a==null?a:i(a))}:!1,Z3}var Q3,$9;function IZ(){if($9)return Q3;$9=1;var t=z$(),e=H$(),n=AZ();return Q3=t?function(i){return t(i)}:e?function(i){if(!i||typeof i!="object"&&typeof i!="function")throw new TypeError("getProto: not an object");return e(i)}:n?function(i){return n(i)}:null,Q3}var X3,B9;function kZ(){if(B9)return X3;B9=1;var t=Function.prototype.call,e=Object.prototype.hasOwnProperty,n=$m;return X3=n.call(t,e),X3}var Ct,PZ=F$,OZ=VJ,TZ=GJ,MZ=YJ,NZ=JJ,Vh=U$,dh=jb,RZ=ZJ,LZ=QJ,$Z=XJ,BZ=eZ,DZ=tZ,jZ=nZ,FZ=rZ,UZ=sZ,K$=Function,eE=function(t){try{return K$('"use strict"; return ('+t+").constructor;")()}catch{}},Ng=Fb,zZ=Ub,tE=function(){throw new dh},HZ=Ng?function(){try{return arguments.callee,tE}catch{try{return Ng(arguments,"callee").get}catch{return tE}}}():tE,ff=cZ()(),Yn=IZ(),WZ=H$(),KZ=z$(),q$=Z4,Bm=J4,If={},qZ=typeof Uint8Array>"u"||!Yn?Ct:Yn(Uint8Array),dd={__proto__:null,"%AggregateError%":typeof AggregateError>"u"?Ct:AggregateError,"%Array%":Array,"%ArrayBuffer%":typeof ArrayBuffer>"u"?Ct:ArrayBuffer,"%ArrayIteratorPrototype%":ff&&Yn?Yn([][Symbol.iterator]()):Ct,"%AsyncFromSyncIteratorPrototype%":Ct,"%AsyncFunction%":If,"%AsyncGenerator%":If,"%AsyncGeneratorFunction%":If,"%AsyncIteratorPrototype%":If,"%Atomics%":typeof Atomics>"u"?Ct:Atomics,"%BigInt%":typeof BigInt>"u"?Ct:BigInt,"%BigInt64Array%":typeof BigInt64Array>"u"?Ct:BigInt64Array,"%BigUint64Array%":typeof BigUint64Array>"u"?Ct:BigUint64Array,"%Boolean%":Boolean,"%DataView%":typeof DataView>"u"?Ct:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":OZ,"%eval%":eval,"%EvalError%":TZ,"%Float16Array%":typeof Float16Array>"u"?Ct:Float16Array,"%Float32Array%":typeof Float32Array>"u"?Ct:Float32Array,"%Float64Array%":typeof Float64Array>"u"?Ct:Float64Array,"%FinalizationRegistry%":typeof FinalizationRegistry>"u"?Ct:FinalizationRegistry,"%Function%":K$,"%GeneratorFunction%":If,"%Int8Array%":typeof Int8Array>"u"?Ct:Int8Array,"%Int16Array%":typeof Int16Array>"u"?Ct:Int16Array,"%Int32Array%":typeof Int32Array>"u"?Ct:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":ff&&Yn?Yn(Yn([][Symbol.iterator]())):Ct,"%JSON%":typeof JSON=="object"?JSON:Ct,"%Map%":typeof Map>"u"?Ct:Map,"%MapIteratorPrototype%":typeof Map>"u"||!ff||!Yn?Ct:Yn(new Map()[Symbol.iterator]()),"%Math%":Math,"%Number%":Number,"%Object%":PZ,"%Object.getOwnPropertyDescriptor%":Ng,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":typeof Promise>"u"?Ct:Promise,"%Proxy%":typeof Proxy>"u"?Ct:Proxy,"%RangeError%":MZ,"%ReferenceError%":NZ,"%Reflect%":typeof Reflect>"u"?Ct:Reflect,"%RegExp%":RegExp,"%Set%":typeof Set>"u"?Ct:Set,"%SetIteratorPrototype%":typeof Set>"u"||!ff||!Yn?Ct:Yn(new Set()[Symbol.iterator]()),"%SharedArrayBuffer%":typeof SharedArrayBuffer>"u"?Ct:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":ff&&Yn?Yn(""[Symbol.iterator]()):Ct,"%Symbol%":ff?Symbol:Ct,"%SyntaxError%":Vh,"%ThrowTypeError%":HZ,"%TypedArray%":qZ,"%TypeError%":dh,"%Uint8Array%":typeof Uint8Array>"u"?Ct:Uint8Array,"%Uint8ClampedArray%":typeof Uint8ClampedArray>"u"?Ct:Uint8ClampedArray,"%Uint16Array%":typeof Uint16Array>"u"?Ct:Uint16Array,"%Uint32Array%":typeof Uint32Array>"u"?Ct:Uint32Array,"%URIError%":RZ,"%WeakMap%":typeof WeakMap>"u"?Ct:WeakMap,"%WeakRef%":typeof WeakRef>"u"?Ct:WeakRef,"%WeakSet%":typeof WeakSet>"u"?Ct:WeakSet,"%Function.prototype.call%":Bm,"%Function.prototype.apply%":q$,"%Object.defineProperty%":zZ,"%Object.getPrototypeOf%":WZ,"%Math.abs%":LZ,"%Math.floor%":$Z,"%Math.max%":BZ,"%Math.min%":DZ,"%Math.pow%":jZ,"%Math.round%":FZ,"%Math.sign%":UZ,"%Reflect.getPrototypeOf%":KZ};if(Yn)try{null.error}catch(t){var VZ=Yn(Yn(t));dd["%Error.prototype%"]=VZ}var GZ=function t(e){var n;if(e==="%AsyncFunction%")n=eE("async function () {}");else if(e==="%GeneratorFunction%")n=eE("function* () {}");else if(e==="%AsyncGeneratorFunction%")n=eE("async function* () {}");else if(e==="%AsyncGenerator%"){var r=t("%AsyncGeneratorFunction%");r&&(n=r.prototype)}else if(e==="%AsyncIteratorPrototype%"){var i=t("%AsyncGenerator%");i&&Yn&&(n=Yn(i.prototype))}return dd[e]=n,n},D9={__proto__:null,"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]},Dm=$m,dw=kZ(),YZ=Dm.call(Bm,Array.prototype.concat),JZ=Dm.call(q$,Array.prototype.splice),j9=Dm.call(Bm,String.prototype.replace),fw=Dm.call(Bm,String.prototype.slice),ZZ=Dm.call(Bm,RegExp.prototype.exec),QZ=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,XZ=/\\(\\)?/g,eQ=function(e){var n=fw(e,0,1),r=fw(e,-1);if(n==="%"&&r!=="%")throw new Vh("invalid intrinsic syntax, expected closing `%`");if(r==="%"&&n!=="%")throw new Vh("invalid intrinsic syntax, expected opening `%`");var i=[];return j9(e,QZ,function(o,s,a,c){i[i.length]=a?j9(c,XZ,"$1"):s||o}),i},tQ=function(e,n){var r=e,i;if(dw(D9,r)&&(i=D9[r],r="%"+i[0]+"%"),dw(dd,r)){var o=dd[r];if(o===If&&(o=GZ(r)),typeof o>"u"&&!n)throw new dh("intrinsic "+e+" exists, but is not available. Please file an issue!");return{alias:i,name:r,value:o}}throw new Vh("intrinsic "+e+" does not exist!")},V$=function(e,n){if(typeof e!="string"||e.length===0)throw new dh("intrinsic name must be a non-empty string");if(arguments.length>1&&typeof n!="boolean")throw new dh('"allowMissing" argument must be a boolean');if(ZZ(/^%?[^%]*%?$/,e)===null)throw new Vh("`%` may not be present anywhere but at the beginning and end of the intrinsic name");var r=eQ(e),i=r.length>0?r[0]:"",o=tQ("%"+i+"%",n),s=o.name,a=o.value,c=!1,l=o.alias;l&&(i=l[0],JZ(r,YZ([0,1],l)));for(var u=1,d=!0;u<r.length;u+=1){var f=r[u],h=fw(f,0,1),g=fw(f,-1);if((h==='"'||h==="'"||h==="`"||g==='"'||g==="'"||g==="`")&&h!==g)throw new Vh("property names with quotes must have matching quotes");if((f==="constructor"||!d)&&(c=!0),i+="."+f,s="%"+i+"%",dw(dd,s))a=dd[s];else if(a!=null){if(!(f in a)){if(!n)throw new dh("base intrinsic for "+e+" exists, but the property is not available.");return}if(Ng&&u+1>=r.length){var p=Ng(a,f);d=!!p,d&&"get"in p&&!("originalValue"in p.get)?a=p.get:a=a[f]}else d=dw(a,f),a=a[f];d&&!c&&(dd[s]=a)}}return a},G$=V$,Y$=Q4,nQ=Y$([G$("%String.prototype.indexOf%")]),rQ=function(e,n){var r=G$(e,!!n);return typeof r=="function"&&nQ(e,".prototype.")>-1?Y$([r]):r},J$={exports:{}},F9=Ub,iQ=U$,hf=jb,U9=Fb,oQ=function(e,n,r){if(!e||typeof e!="object"&&typeof e!="function")throw new hf("`obj` must be an object or a function`");if(typeof n!="string"&&typeof n!="symbol")throw new hf("`property` must be a string or a symbol`");if(arguments.length>3&&typeof arguments[3]!="boolean"&&arguments[3]!==null)throw new hf("`nonEnumerable`, if provided, must be a boolean or null");if(arguments.length>4&&typeof arguments[4]!="boolean"&&arguments[4]!==null)throw new hf("`nonWritable`, if provided, must be a boolean or null");if(arguments.length>5&&typeof arguments[5]!="boolean"&&arguments[5]!==null)throw new hf("`nonConfigurable`, if provided, must be a boolean or null");if(arguments.length>6&&typeof arguments[6]!="boolean")throw new hf("`loose`, if provided, must be a boolean");var i=arguments.length>3?arguments[3]:null,o=arguments.length>4?arguments[4]:null,s=arguments.length>5?arguments[5]:null,a=arguments.length>6?arguments[6]:!1,c=!!U9&&U9(e,n);if(F9)F9(e,n,{configurable:s===null&&c?c.configurable:!s,enumerable:i===null&&c?c.enumerable:!i,value:r,writable:o===null&&c?c.writable:!o});else if(a||!i&&!o&&!s)e[n]=r;else throw new iQ("This environment does not support defining a property as non-configurable, non-writable, or non-enumerable.")},gx=Ub,Z$=function(){return!!gx};Z$.hasArrayLengthDefineBug=function(){if(!gx)return null;try{return gx([],"length",{value:1}).length!==1}catch{return!0}};var sQ=Z$,aQ=V$,z9=oQ,cQ=sQ(),H9=Fb,W9=jb,lQ=aQ("%Math.floor%"),uQ=function(e,n){if(typeof e!="function")throw new W9("`fn` is not a function");if(typeof n!="number"||n<0||n>4294967295||lQ(n)!==n)throw new W9("`length` must be a positive 32-bit integer");var r=arguments.length>2&&!!arguments[2],i=!0,o=!0;if("length"in e&&H9){var s=H9(e,"length");s&&!s.configurable&&(i=!1),s&&!s.writable&&(o=!1)}return(i||o||!r)&&(cQ?z9(e,"length",n,!0,!0):z9(e,"length",n)),e},dQ=$m,fQ=Z4,hQ=W$,pQ=function(){return hQ(dQ,fQ,arguments)};(function(t){var e=uQ,n=Ub,r=Q4,i=pQ;t.exports=function(s){var a=r(arguments),c=s.length-(arguments.length-1);return e(a,1+(c>0?c:0),!0)},n?n(t.exports,"apply",{value:i}):t.exports.apply=i})(J$);var gQ=J$.exports,K9=Object.prototype.toString,Q$=function(e){var n=K9.call(e),r=n==="[object Arguments]";return r||(r=n!=="[object Array]"&&e!==null&&typeof e=="object"&&typeof e.length=="number"&&e.length>=0&&K9.call(e.callee)==="[object Function]"),r},nE,q9;function mQ(){if(q9)return nE;q9=1;var t;if(!Object.keys){var e=Object.prototype.hasOwnProperty,n=Object.prototype.toString,r=Q$,i=Object.prototype.propertyIsEnumerable,o=!i.call({toString:null},"toString"),s=i.call(function(){},"prototype"),a=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"],c=function(f){var h=f.constructor;return h&&h.prototype===f},l={$applicationCache:!0,$console:!0,$external:!0,$frame:!0,$frameElement:!0,$frames:!0,$innerHeight:!0,$innerWidth:!0,$onmozfullscreenchange:!0,$onmozfullscreenerror:!0,$outerHeight:!0,$outerWidth:!0,$pageXOffset:!0,$pageYOffset:!0,$parent:!0,$scrollLeft:!0,$scrollTop:!0,$scrollX:!0,$scrollY:!0,$self:!0,$webkitIndexedDB:!0,$webkitStorageInfo:!0,$window:!0},u=function(){if(typeof window>"u")return!1;for(var f in window)try{if(!l["$"+f]&&e.call(window,f)&&window[f]!==null&&typeof window[f]=="object")try{c(window[f])}catch{return!0}}catch{return!0}return!1}(),d=function(f){if(typeof window>"u"||!u)return c(f);try{return c(f)}catch{return!1}};t=function(h){var g=h!==null&&typeof h=="object",p=n.call(h)==="[object Function]",S=r(h),y=g&&n.call(h)==="[object String]",b=[];if(!g&&!p&&!S)throw new TypeError("Object.keys called on a non-object");var _=s&&p;if(y&&h.length>0&&!e.call(h,0))for(var N=0;N<h.length;++N)b.push(String(N));if(S&&h.length>0)for(var O=0;O<h.length;++O)b.push(String(O));else for(var $ in h)!(_&&$==="prototype")&&e.call(h,$)&&b.push(String($));if(o)for(var j=d(h),k=0;k<a.length;++k)!(j&&a[k]==="constructor")&&e.call(h,a[k])&&b.push(a[k]);return b}}return nE=t,nE}var yQ=Array.prototype.slice,vQ=Q$,V9=Object.keys,ov=V9?function(e){return V9(e)}:mQ(),G9=Object.keys;ov.shim=function(){if(Object.keys){var e=function(){var n=Object.keys(arguments);return n&&n.length===arguments.length}(1,2);e||(Object.keys=function(r){return vQ(r)?G9(yQ.call(r)):G9(r)})}else Object.keys=ov;return Object.keys||ov};var wQ=ov,X4={};const bQ="6.6.1",EQ={version:bQ};var Yi={},eC={exports:{}};eC.exports;(function(t){(function(e,n){function r(P,m){if(!P)throw new Error(m||"Assertion failed")}function i(P,m){P.super_=m;var w=function(){};w.prototype=m.prototype,P.prototype=new w,P.prototype.constructor=P}function o(P,m,w){if(o.isBN(P))return P;this.negative=0,this.words=null,this.length=0,this.red=null,P!==null&&((m==="le"||m==="be")&&(w=m,m=10),this._init(P||0,m||10,w||"be"))}typeof e=="object"?e.exports=o:n.BN=o,o.BN=o,o.wordSize=26;var s;try{typeof window<"u"&&typeof window.Buffer<"u"?s=window.Buffer:s=w$.Buffer}catch{}o.isBN=function(m){return m instanceof o?!0:m!==null&&typeof m=="object"&&m.constructor.wordSize===o.wordSize&&Array.isArray(m.words)},o.max=function(m,w){return m.cmp(w)>0?m:w},o.min=function(m,w){return m.cmp(w)<0?m:w},o.prototype._init=function(m,w,A){if(typeof m=="number")return this._initNumber(m,w,A);if(typeof m=="object")return this._initArray(m,w,A);w==="hex"&&(w=16),r(w===(w|0)&&w>=2&&w<=36),m=m.toString().replace(/\s+/g,"");var v=0;m[0]==="-"&&(v++,this.negative=1),v<m.length&&(w===16?this._parseHex(m,v,A):(this._parseBase(m,w,v),A==="le"&&this._initArray(this.toArray(),w,A)))},o.prototype._initNumber=function(m,w,A){m<0&&(this.negative=1,m=-m),m<67108864?(this.words=[m&67108863],this.length=1):m<4503599627370496?(this.words=[m&67108863,m/67108864&67108863],this.length=2):(r(m<9007199254740992),this.words=[m&67108863,m/67108864&67108863,1],this.length=3),A==="le"&&this._initArray(this.toArray(),w,A)},o.prototype._initArray=function(m,w,A){if(r(typeof m.length=="number"),m.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(m.length/3),this.words=new Array(this.length);for(var v=0;v<this.length;v++)this.words[v]=0;var I,M,E=0;if(A==="be")for(v=m.length-1,I=0;v>=0;v-=3)M=m[v]|m[v-1]<<8|m[v-2]<<16,this.words[I]|=M<<E&67108863,this.words[I+1]=M>>>26-E&67108863,E+=24,E>=26&&(E-=26,I++);else if(A==="le")for(v=0,I=0;v<m.length;v+=3)M=m[v]|m[v+1]<<8|m[v+2]<<16,this.words[I]|=M<<E&67108863,this.words[I+1]=M>>>26-E&67108863,E+=24,E>=26&&(E-=26,I++);return this.strip()};function a(P,m){var w=P.charCodeAt(m);return w>=65&&w<=70?w-55:w>=97&&w<=102?w-87:w-48&15}function c(P,m,w){var A=a(P,w);return w-1>=m&&(A|=a(P,w-1)<<4),A}o.prototype._parseHex=function(m,w,A){this.length=Math.ceil((m.length-w)/6),this.words=new Array(this.length);for(var v=0;v<this.length;v++)this.words[v]=0;var I=0,M=0,E;if(A==="be")for(v=m.length-1;v>=w;v-=2)E=c(m,w,v)<<I,this.words[M]|=E&67108863,I>=18?(I-=18,M+=1,this.words[M]|=E>>>26):I+=8;else{var C=m.length-w;for(v=C%2===0?w+1:w;v<m.length;v+=2)E=c(m,w,v)<<I,this.words[M]|=E&67108863,I>=18?(I-=18,M+=1,this.words[M]|=E>>>26):I+=8}this.strip()};function l(P,m,w,A){for(var v=0,I=Math.min(P.length,w),M=m;M<I;M++){var E=P.charCodeAt(M)-48;v*=A,E>=49?v+=E-49+10:E>=17?v+=E-17+10:v+=E}return v}o.prototype._parseBase=function(m,w,A){this.words=[0],this.length=1;for(var v=0,I=1;I<=67108863;I*=w)v++;v--,I=I/w|0;for(var M=m.length-A,E=M%v,C=Math.min(M,M-E)+A,x=0,R=A;R<C;R+=v)x=l(m,R,R+v,w),this.imuln(I),this.words[0]+x<67108864?this.words[0]+=x:this._iaddn(x);if(E!==0){var D=1;for(x=l(m,R,m.length,w),R=0;R<E;R++)D*=w;this.imuln(D),this.words[0]+x<67108864?this.words[0]+=x:this._iaddn(x)}this.strip()},o.prototype.copy=function(m){m.words=new Array(this.length);for(var w=0;w<this.length;w++)m.words[w]=this.words[w];m.length=this.length,m.negative=this.negative,m.red=this.red},o.prototype.clone=function(){var m=new o(null);return this.copy(m),m},o.prototype._expand=function(m){for(;this.length<m;)this.words[this.length++]=0;return this},o.prototype.strip=function(){for(;this.length>1&&this.words[this.length-1]===0;)this.length--;return this._normSign()},o.prototype._normSign=function(){return this.length===1&&this.words[0]===0&&(this.negative=0),this},o.prototype.inspect=function(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"};var u=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],d=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],f=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];o.prototype.toString=function(m,w){m=m||10,w=w|0||1;var A;if(m===16||m==="hex"){A="";for(var v=0,I=0,M=0;M<this.length;M++){var E=this.words[M],C=((E<<v|I)&16777215).toString(16);I=E>>>24-v&16777215,v+=2,v>=26&&(v-=26,M--),I!==0||M!==this.length-1?A=u[6-C.length]+C+A:A=C+A}for(I!==0&&(A=I.toString(16)+A);A.length%w!==0;)A="0"+A;return this.negative!==0&&(A="-"+A),A}if(m===(m|0)&&m>=2&&m<=36){var x=d[m],R=f[m];A="";var D=this.clone();for(D.negative=0;!D.isZero();){var B=D.modn(R).toString(m);D=D.idivn(R),D.isZero()?A=B+A:A=u[x-B.length]+B+A}for(this.isZero()&&(A="0"+A);A.length%w!==0;)A="0"+A;return this.negative!==0&&(A="-"+A),A}r(!1,"Base should be between 2 and 36")},o.prototype.toNumber=function(){var m=this.words[0];return this.length===2?m+=this.words[1]*67108864:this.length===3&&this.words[2]===1?m+=4503599627370496+this.words[1]*67108864:this.length>2&&r(!1,"Number can only safely store up to 53 bits"),this.negative!==0?-m:m},o.prototype.toJSON=function(){return this.toString(16)},o.prototype.toBuffer=function(m,w){return r(typeof s<"u"),this.toArrayLike(s,m,w)},o.prototype.toArray=function(m,w){return this.toArrayLike(Array,m,w)},o.prototype.toArrayLike=function(m,w,A){var v=this.byteLength(),I=A||Math.max(1,v);r(v<=I,"byte array longer than desired length"),r(I>0,"Requested array length <= 0"),this.strip();var M=w==="le",E=new m(I),C,x,R=this.clone();if(M){for(x=0;!R.isZero();x++)C=R.andln(255),R.iushrn(8),E[x]=C;for(;x<I;x++)E[x]=0}else{for(x=0;x<I-v;x++)E[x]=0;for(x=0;!R.isZero();x++)C=R.andln(255),R.iushrn(8),E[I-x-1]=C}return E},Math.clz32?o.prototype._countBits=function(m){return 32-Math.clz32(m)}:o.prototype._countBits=function(m){var w=m,A=0;return w>=4096&&(A+=13,w>>>=13),w>=64&&(A+=7,w>>>=7),w>=8&&(A+=4,w>>>=4),w>=2&&(A+=2,w>>>=2),A+w},o.prototype._zeroBits=function(m){if(m===0)return 26;var w=m,A=0;return w&8191||(A+=13,w>>>=13),w&127||(A+=7,w>>>=7),w&15||(A+=4,w>>>=4),w&3||(A+=2,w>>>=2),w&1||A++,A},o.prototype.bitLength=function(){var m=this.words[this.length-1],w=this._countBits(m);return(this.length-1)*26+w};function h(P){for(var m=new Array(P.bitLength()),w=0;w<m.length;w++){var A=w/26|0,v=w%26;m[w]=(P.words[A]&1<<v)>>>v}return m}o.prototype.zeroBits=function(){if(this.isZero())return 0;for(var m=0,w=0;w<this.length;w++){var A=this._zeroBits(this.words[w]);if(m+=A,A!==26)break}return m},o.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},o.prototype.toTwos=function(m){return this.negative!==0?this.abs().inotn(m).iaddn(1):this.clone()},o.prototype.fromTwos=function(m){return this.testn(m-1)?this.notn(m).iaddn(1).ineg():this.clone()},o.prototype.isNeg=function(){return this.negative!==0},o.prototype.neg=function(){return this.clone().ineg()},o.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},o.prototype.iuor=function(m){for(;this.length<m.length;)this.words[this.length++]=0;for(var w=0;w<m.length;w++)this.words[w]=this.words[w]|m.words[w];return this.strip()},o.prototype.ior=function(m){return r((this.negative|m.negative)===0),this.iuor(m)},o.prototype.or=function(m){return this.length>m.length?this.clone().ior(m):m.clone().ior(this)},o.prototype.uor=function(m){return this.length>m.length?this.clone().iuor(m):m.clone().iuor(this)},o.prototype.iuand=function(m){var w;this.length>m.length?w=m:w=this;for(var A=0;A<w.length;A++)this.words[A]=this.words[A]&m.words[A];return this.length=w.length,this.strip()},o.prototype.iand=function(m){return r((this.negative|m.negative)===0),this.iuand(m)},o.prototype.and=function(m){return this.length>m.length?this.clone().iand(m):m.clone().iand(this)},o.prototype.uand=function(m){return this.length>m.length?this.clone().iuand(m):m.clone().iuand(this)},o.prototype.iuxor=function(m){var w,A;this.length>m.length?(w=this,A=m):(w=m,A=this);for(var v=0;v<A.length;v++)this.words[v]=w.words[v]^A.words[v];if(this!==w)for(;v<w.length;v++)this.words[v]=w.words[v];return this.length=w.length,this.strip()},o.prototype.ixor=function(m){return r((this.negative|m.negative)===0),this.iuxor(m)},o.prototype.xor=function(m){return this.length>m.length?this.clone().ixor(m):m.clone().ixor(this)},o.prototype.uxor=function(m){return this.length>m.length?this.clone().iuxor(m):m.clone().iuxor(this)},o.prototype.inotn=function(m){r(typeof m=="number"&&m>=0);var w=Math.ceil(m/26)|0,A=m%26;this._expand(w),A>0&&w--;for(var v=0;v<w;v++)this.words[v]=~this.words[v]&67108863;return A>0&&(this.words[v]=~this.words[v]&67108863>>26-A),this.strip()},o.prototype.notn=function(m){return this.clone().inotn(m)},o.prototype.setn=function(m,w){r(typeof m=="number"&&m>=0);var A=m/26|0,v=m%26;return this._expand(A+1),w?this.words[A]=this.words[A]|1<<v:this.words[A]=this.words[A]&~(1<<v),this.strip()},o.prototype.iadd=function(m){var w;if(this.negative!==0&&m.negative===0)return this.negative=0,w=this.isub(m),this.negative^=1,this._normSign();if(this.negative===0&&m.negative!==0)return m.negative=0,w=this.isub(m),m.negative=1,w._normSign();var A,v;this.length>m.length?(A=this,v=m):(A=m,v=this);for(var I=0,M=0;M<v.length;M++)w=(A.words[M]|0)+(v.words[M]|0)+I,this.words[M]=w&67108863,I=w>>>26;for(;I!==0&&M<A.length;M++)w=(A.words[M]|0)+I,this.words[M]=w&67108863,I=w>>>26;if(this.length=A.length,I!==0)this.words[this.length]=I,this.length++;else if(A!==this)for(;M<A.length;M++)this.words[M]=A.words[M];return this},o.prototype.add=function(m){var w;return m.negative!==0&&this.negative===0?(m.negative=0,w=this.sub(m),m.negative^=1,w):m.negative===0&&this.negative!==0?(this.negative=0,w=m.sub(this),this.negative=1,w):this.length>m.length?this.clone().iadd(m):m.clone().iadd(this)},o.prototype.isub=function(m){if(m.negative!==0){m.negative=0;var w=this.iadd(m);return m.negative=1,w._normSign()}else if(this.negative!==0)return this.negative=0,this.iadd(m),this.negative=1,this._normSign();var A=this.cmp(m);if(A===0)return this.negative=0,this.length=1,this.words[0]=0,this;var v,I;A>0?(v=this,I=m):(v=m,I=this);for(var M=0,E=0;E<I.length;E++)w=(v.words[E]|0)-(I.words[E]|0)+M,M=w>>26,this.words[E]=w&67108863;for(;M!==0&&E<v.length;E++)w=(v.words[E]|0)+M,M=w>>26,this.words[E]=w&67108863;if(M===0&&E<v.length&&v!==this)for(;E<v.length;E++)this.words[E]=v.words[E];return this.length=Math.max(this.length,E),v!==this&&(this.negative=1),this.strip()},o.prototype.sub=function(m){return this.clone().isub(m)};function g(P,m,w){w.negative=m.negative^P.negative;var A=P.length+m.length|0;w.length=A,A=A-1|0;var v=P.words[0]|0,I=m.words[0]|0,M=v*I,E=M&67108863,C=M/67108864|0;w.words[0]=E;for(var x=1;x<A;x++){for(var R=C>>>26,D=C&67108863,B=Math.min(x,m.length-1),z=Math.max(0,x-P.length+1);z<=B;z++){var H=x-z|0;v=P.words[H]|0,I=m.words[z]|0,M=v*I+D,R+=M/67108864|0,D=M&67108863}w.words[x]=D|0,C=R|0}return C!==0?w.words[x]=C|0:w.length--,w.strip()}var p=function(m,w,A){var v=m.words,I=w.words,M=A.words,E=0,C,x,R,D=v[0]|0,B=D&8191,z=D>>>13,H=v[1]|0,W=H&8191,G=H>>>13,V=v[2]|0,J=V&8191,Y=V>>>13,ee=v[3]|0,ne=ee&8191,K=ee>>>13,Q=v[4]|0,ie=Q&8191,ce=Q>>>13,he=v[5]|0,pe=he&8191,Ee=he>>>13,Le=v[6]|0,De=Le&8191,we=Le>>>13,Je=v[7]|0,He=Je&8191,Xe=Je>>>13,ze=v[8]|0,q=ze&8191,F=ze>>>13,U=v[9]|0,Z=U&8191,se=U>>>13,fe=I[0]|0,ge=fe&8191,je=fe>>>13,yt=I[1]|0,Ke=yt&8191,at=yt>>>13,ft=I[2]|0,vt=ft&8191,jt=ft>>>13,ti=I[3]|0,Ne=ti&8191,ct=ti>>>13,Tt=I[4]|0,ut=Tt&8191,it=Tt>>>13,X=I[5]|0,re=X&8191,_e=X>>>13,Oe=I[6]|0,Re=Oe&8191,dt=Oe>>>13,fn=I[7]|0,Dt=fn&8191,kt=fn>>>13,ni=I[8]|0,an=ni&8191,nn=ni>>>13,xu=I[9]|0,Yt=xu&8191,Jt=xu>>>13;A.negative=m.negative^w.negative,A.length=19,C=Math.imul(B,ge),x=Math.imul(B,je),x=x+Math.imul(z,ge)|0,R=Math.imul(z,je);var ar=(E+C|0)+((x&8191)<<13)|0;E=(R+(x>>>13)|0)+(ar>>>26)|0,ar&=67108863,C=Math.imul(W,ge),x=Math.imul(W,je),x=x+Math.imul(G,ge)|0,R=Math.imul(G,je),C=C+Math.imul(B,Ke)|0,x=x+Math.imul(B,at)|0,x=x+Math.imul(z,Ke)|0,R=R+Math.imul(z,at)|0;var zo=(E+C|0)+((x&8191)<<13)|0;E=(R+(x>>>13)|0)+(zo>>>26)|0,zo&=67108863,C=Math.imul(J,ge),x=Math.imul(J,je),x=x+Math.imul(Y,ge)|0,R=Math.imul(Y,je),C=C+Math.imul(W,Ke)|0,x=x+Math.imul(W,at)|0,x=x+Math.imul(G,Ke)|0,R=R+Math.imul(G,at)|0,C=C+Math.imul(B,vt)|0,x=x+Math.imul(B,jt)|0,x=x+Math.imul(z,vt)|0,R=R+Math.imul(z,jt)|0;var Oi=(E+C|0)+((x&8191)<<13)|0;E=(R+(x>>>13)|0)+(Oi>>>26)|0,Oi&=67108863,C=Math.imul(ne,ge),x=Math.imul(ne,je),x=x+Math.imul(K,ge)|0,R=Math.imul(K,je),C=C+Math.imul(J,Ke)|0,x=x+Math.imul(J,at)|0,x=x+Math.imul(Y,Ke)|0,R=R+Math.imul(Y,at)|0,C=C+Math.imul(W,vt)|0,x=x+Math.imul(W,jt)|0,x=x+Math.imul(G,vt)|0,R=R+Math.imul(G,jt)|0,C=C+Math.imul(B,Ne)|0,x=x+Math.imul(B,ct)|0,x=x+Math.imul(z,Ne)|0,R=R+Math.imul(z,ct)|0;var Dr=(E+C|0)+((x&8191)<<13)|0;E=(R+(x>>>13)|0)+(Dr>>>26)|0,Dr&=67108863,C=Math.imul(ie,ge),x=Math.imul(ie,je),x=x+Math.imul(ce,ge)|0,R=Math.imul(ce,je),C=C+Math.imul(ne,Ke)|0,x=x+Math.imul(ne,at)|0,x=x+Math.imul(K,Ke)|0,R=R+Math.imul(K,at)|0,C=C+Math.imul(J,vt)|0,x=x+Math.imul(J,jt)|0,x=x+Math.imul(Y,vt)|0,R=R+Math.imul(Y,jt)|0,C=C+Math.imul(W,Ne)|0,x=x+Math.imul(W,ct)|0,x=x+Math.imul(G,Ne)|0,R=R+Math.imul(G,ct)|0,C=C+Math.imul(B,ut)|0,x=x+Math.imul(B,it)|0,x=x+Math.imul(z,ut)|0,R=R+Math.imul(z,it)|0;var H0=(E+C|0)+((x&8191)<<13)|0;E=(R+(x>>>13)|0)+(H0>>>26)|0,H0&=67108863,C=Math.imul(pe,ge),x=Math.imul(pe,je),x=x+Math.imul(Ee,ge)|0,R=Math.imul(Ee,je),C=C+Math.imul(ie,Ke)|0,x=x+Math.imul(ie,at)|0,x=x+Math.imul(ce,Ke)|0,R=R+Math.imul(ce,at)|0,C=C+Math.imul(ne,vt)|0,x=x+Math.imul(ne,jt)|0,x=x+Math.imul(K,vt)|0,R=R+Math.imul(K,jt)|0,C=C+Math.imul(J,Ne)|0,x=x+Math.imul(J,ct)|0,x=x+Math.imul(Y,Ne)|0,R=R+Math.imul(Y,ct)|0,C=C+Math.imul(W,ut)|0,x=x+Math.imul(W,it)|0,x=x+Math.imul(G,ut)|0,R=R+Math.imul(G,it)|0,C=C+Math.imul(B,re)|0,x=x+Math.imul(B,_e)|0,x=x+Math.imul(z,re)|0,R=R+Math.imul(z,_e)|0;var W0=(E+C|0)+((x&8191)<<13)|0;E=(R+(x>>>13)|0)+(W0>>>26)|0,W0&=67108863,C=Math.imul(De,ge),x=Math.imul(De,je),x=x+Math.imul(we,ge)|0,R=Math.imul(we,je),C=C+Math.imul(pe,Ke)|0,x=x+Math.imul(pe,at)|0,x=x+Math.imul(Ee,Ke)|0,R=R+Math.imul(Ee,at)|0,C=C+Math.imul(ie,vt)|0,x=x+Math.imul(ie,jt)|0,x=x+Math.imul(ce,vt)|0,R=R+Math.imul(ce,jt)|0,C=C+Math.imul(ne,Ne)|0,x=x+Math.imul(ne,ct)|0,x=x+Math.imul(K,Ne)|0,R=R+Math.imul(K,ct)|0,C=C+Math.imul(J,ut)|0,x=x+Math.imul(J,it)|0,x=x+Math.imul(Y,ut)|0,R=R+Math.imul(Y,it)|0,C=C+Math.imul(W,re)|0,x=x+Math.imul(W,_e)|0,x=x+Math.imul(G,re)|0,R=R+Math.imul(G,_e)|0,C=C+Math.imul(B,Re)|0,x=x+Math.imul(B,dt)|0,x=x+Math.imul(z,Re)|0,R=R+Math.imul(z,dt)|0;var Ho=(E+C|0)+((x&8191)<<13)|0;E=(R+(x>>>13)|0)+(Ho>>>26)|0,Ho&=67108863,C=Math.imul(He,ge),x=Math.imul(He,je),x=x+Math.imul(Xe,ge)|0,R=Math.imul(Xe,je),C=C+Math.imul(De,Ke)|0,x=x+Math.imul(De,at)|0,x=x+Math.imul(we,Ke)|0,R=R+Math.imul(we,at)|0,C=C+Math.imul(pe,vt)|0,x=x+Math.imul(pe,jt)|0,x=x+Math.imul(Ee,vt)|0,R=R+Math.imul(Ee,jt)|0,C=C+Math.imul(ie,Ne)|0,x=x+Math.imul(ie,ct)|0,x=x+Math.imul(ce,Ne)|0,R=R+Math.imul(ce,ct)|0,C=C+Math.imul(ne,ut)|0,x=x+Math.imul(ne,it)|0,x=x+Math.imul(K,ut)|0,R=R+Math.imul(K,it)|0,C=C+Math.imul(J,re)|0,x=x+Math.imul(J,_e)|0,x=x+Math.imul(Y,re)|0,R=R+Math.imul(Y,_e)|0,C=C+Math.imul(W,Re)|0,x=x+Math.imul(W,dt)|0,x=x+Math.imul(G,Re)|0,R=R+Math.imul(G,dt)|0,C=C+Math.imul(B,Dt)|0,x=x+Math.imul(B,kt)|0,x=x+Math.imul(z,Dt)|0,R=R+Math.imul(z,kt)|0;var K0=(E+C|0)+((x&8191)<<13)|0;E=(R+(x>>>13)|0)+(K0>>>26)|0,K0&=67108863,C=Math.imul(q,ge),x=Math.imul(q,je),x=x+Math.imul(F,ge)|0,R=Math.imul(F,je),C=C+Math.imul(He,Ke)|0,x=x+Math.imul(He,at)|0,x=x+Math.imul(Xe,Ke)|0,R=R+Math.imul(Xe,at)|0,C=C+Math.imul(De,vt)|0,x=x+Math.imul(De,jt)|0,x=x+Math.imul(we,vt)|0,R=R+Math.imul(we,jt)|0,C=C+Math.imul(pe,Ne)|0,x=x+Math.imul(pe,ct)|0,x=x+Math.imul(Ee,Ne)|0,R=R+Math.imul(Ee,ct)|0,C=C+Math.imul(ie,ut)|0,x=x+Math.imul(ie,it)|0,x=x+Math.imul(ce,ut)|0,R=R+Math.imul(ce,it)|0,C=C+Math.imul(ne,re)|0,x=x+Math.imul(ne,_e)|0,x=x+Math.imul(K,re)|0,R=R+Math.imul(K,_e)|0,C=C+Math.imul(J,Re)|0,x=x+Math.imul(J,dt)|0,x=x+Math.imul(Y,Re)|0,R=R+Math.imul(Y,dt)|0,C=C+Math.imul(W,Dt)|0,x=x+Math.imul(W,kt)|0,x=x+Math.imul(G,Dt)|0,R=R+Math.imul(G,kt)|0,C=C+Math.imul(B,an)|0,x=x+Math.imul(B,nn)|0,x=x+Math.imul(z,an)|0,R=R+Math.imul(z,nn)|0;var q0=(E+C|0)+((x&8191)<<13)|0;E=(R+(x>>>13)|0)+(q0>>>26)|0,q0&=67108863,C=Math.imul(Z,ge),x=Math.imul(Z,je),x=x+Math.imul(se,ge)|0,R=Math.imul(se,je),C=C+Math.imul(q,Ke)|0,x=x+Math.imul(q,at)|0,x=x+Math.imul(F,Ke)|0,R=R+Math.imul(F,at)|0,C=C+Math.imul(He,vt)|0,x=x+Math.imul(He,jt)|0,x=x+Math.imul(Xe,vt)|0,R=R+Math.imul(Xe,jt)|0,C=C+Math.imul(De,Ne)|0,x=x+Math.imul(De,ct)|0,x=x+Math.imul(we,Ne)|0,R=R+Math.imul(we,ct)|0,C=C+Math.imul(pe,ut)|0,x=x+Math.imul(pe,it)|0,x=x+Math.imul(Ee,ut)|0,R=R+Math.imul(Ee,it)|0,C=C+Math.imul(ie,re)|0,x=x+Math.imul(ie,_e)|0,x=x+Math.imul(ce,re)|0,R=R+Math.imul(ce,_e)|0,C=C+Math.imul(ne,Re)|0,x=x+Math.imul(ne,dt)|0,x=x+Math.imul(K,Re)|0,R=R+Math.imul(K,dt)|0,C=C+Math.imul(J,Dt)|0,x=x+Math.imul(J,kt)|0,x=x+Math.imul(Y,Dt)|0,R=R+Math.imul(Y,kt)|0,C=C+Math.imul(W,an)|0,x=x+Math.imul(W,nn)|0,x=x+Math.imul(G,an)|0,R=R+Math.imul(G,nn)|0,C=C+Math.imul(B,Yt)|0,x=x+Math.imul(B,Jt)|0,x=x+Math.imul(z,Yt)|0,R=R+Math.imul(z,Jt)|0;var V0=(E+C|0)+((x&8191)<<13)|0;E=(R+(x>>>13)|0)+(V0>>>26)|0,V0&=67108863,C=Math.imul(Z,Ke),x=Math.imul(Z,at),x=x+Math.imul(se,Ke)|0,R=Math.imul(se,at),C=C+Math.imul(q,vt)|0,x=x+Math.imul(q,jt)|0,x=x+Math.imul(F,vt)|0,R=R+Math.imul(F,jt)|0,C=C+Math.imul(He,Ne)|0,x=x+Math.imul(He,ct)|0,x=x+Math.imul(Xe,Ne)|0,R=R+Math.imul(Xe,ct)|0,C=C+Math.imul(De,ut)|0,x=x+Math.imul(De,it)|0,x=x+Math.imul(we,ut)|0,R=R+Math.imul(we,it)|0,C=C+Math.imul(pe,re)|0,x=x+Math.imul(pe,_e)|0,x=x+Math.imul(Ee,re)|0,R=R+Math.imul(Ee,_e)|0,C=C+Math.imul(ie,Re)|0,x=x+Math.imul(ie,dt)|0,x=x+Math.imul(ce,Re)|0,R=R+Math.imul(ce,dt)|0,C=C+Math.imul(ne,Dt)|0,x=x+Math.imul(ne,kt)|0,x=x+Math.imul(K,Dt)|0,R=R+Math.imul(K,kt)|0,C=C+Math.imul(J,an)|0,x=x+Math.imul(J,nn)|0,x=x+Math.imul(Y,an)|0,R=R+Math.imul(Y,nn)|0,C=C+Math.imul(W,Yt)|0,x=x+Math.imul(W,Jt)|0,x=x+Math.imul(G,Yt)|0,R=R+Math.imul(G,Jt)|0;var G0=(E+C|0)+((x&8191)<<13)|0;E=(R+(x>>>13)|0)+(G0>>>26)|0,G0&=67108863,C=Math.imul(Z,vt),x=Math.imul(Z,jt),x=x+Math.imul(se,vt)|0,R=Math.imul(se,jt),C=C+Math.imul(q,Ne)|0,x=x+Math.imul(q,ct)|0,x=x+Math.imul(F,Ne)|0,R=R+Math.imul(F,ct)|0,C=C+Math.imul(He,ut)|0,x=x+Math.imul(He,it)|0,x=x+Math.imul(Xe,ut)|0,R=R+Math.imul(Xe,it)|0,C=C+Math.imul(De,re)|0,x=x+Math.imul(De,_e)|0,x=x+Math.imul(we,re)|0,R=R+Math.imul(we,_e)|0,C=C+Math.imul(pe,Re)|0,x=x+Math.imul(pe,dt)|0,x=x+Math.imul(Ee,Re)|0,R=R+Math.imul(Ee,dt)|0,C=C+Math.imul(ie,Dt)|0,x=x+Math.imul(ie,kt)|0,x=x+Math.imul(ce,Dt)|0,R=R+Math.imul(ce,kt)|0,C=C+Math.imul(ne,an)|0,x=x+Math.imul(ne,nn)|0,x=x+Math.imul(K,an)|0,R=R+Math.imul(K,nn)|0,C=C+Math.imul(J,Yt)|0,x=x+Math.imul(J,Jt)|0,x=x+Math.imul(Y,Yt)|0,R=R+Math.imul(Y,Jt)|0;var Y0=(E+C|0)+((x&8191)<<13)|0;E=(R+(x>>>13)|0)+(Y0>>>26)|0,Y0&=67108863,C=Math.imul(Z,Ne),x=Math.imul(Z,ct),x=x+Math.imul(se,Ne)|0,R=Math.imul(se,ct),C=C+Math.imul(q,ut)|0,x=x+Math.imul(q,it)|0,x=x+Math.imul(F,ut)|0,R=R+Math.imul(F,it)|0,C=C+Math.imul(He,re)|0,x=x+Math.imul(He,_e)|0,x=x+Math.imul(Xe,re)|0,R=R+Math.imul(Xe,_e)|0,C=C+Math.imul(De,Re)|0,x=x+Math.imul(De,dt)|0,x=x+Math.imul(we,Re)|0,R=R+Math.imul(we,dt)|0,C=C+Math.imul(pe,Dt)|0,x=x+Math.imul(pe,kt)|0,x=x+Math.imul(Ee,Dt)|0,R=R+Math.imul(Ee,kt)|0,C=C+Math.imul(ie,an)|0,x=x+Math.imul(ie,nn)|0,x=x+Math.imul(ce,an)|0,R=R+Math.imul(ce,nn)|0,C=C+Math.imul(ne,Yt)|0,x=x+Math.imul(ne,Jt)|0,x=x+Math.imul(K,Yt)|0,R=R+Math.imul(K,Jt)|0;var Dc=(E+C|0)+((x&8191)<<13)|0;E=(R+(x>>>13)|0)+(Dc>>>26)|0,Dc&=67108863,C=Math.imul(Z,ut),x=Math.imul(Z,it),x=x+Math.imul(se,ut)|0,R=Math.imul(se,it),C=C+Math.imul(q,re)|0,x=x+Math.imul(q,_e)|0,x=x+Math.imul(F,re)|0,R=R+Math.imul(F,_e)|0,C=C+Math.imul(He,Re)|0,x=x+Math.imul(He,dt)|0,x=x+Math.imul(Xe,Re)|0,R=R+Math.imul(Xe,dt)|0,C=C+Math.imul(De,Dt)|0,x=x+Math.imul(De,kt)|0,x=x+Math.imul(we,Dt)|0,R=R+Math.imul(we,kt)|0,C=C+Math.imul(pe,an)|0,x=x+Math.imul(pe,nn)|0,x=x+Math.imul(Ee,an)|0,R=R+Math.imul(Ee,nn)|0,C=C+Math.imul(ie,Yt)|0,x=x+Math.imul(ie,Jt)|0,x=x+Math.imul(ce,Yt)|0,R=R+Math.imul(ce,Jt)|0;var J0=(E+C|0)+((x&8191)<<13)|0;E=(R+(x>>>13)|0)+(J0>>>26)|0,J0&=67108863,C=Math.imul(Z,re),x=Math.imul(Z,_e),x=x+Math.imul(se,re)|0,R=Math.imul(se,_e),C=C+Math.imul(q,Re)|0,x=x+Math.imul(q,dt)|0,x=x+Math.imul(F,Re)|0,R=R+Math.imul(F,dt)|0,C=C+Math.imul(He,Dt)|0,x=x+Math.imul(He,kt)|0,x=x+Math.imul(Xe,Dt)|0,R=R+Math.imul(Xe,kt)|0,C=C+Math.imul(De,an)|0,x=x+Math.imul(De,nn)|0,x=x+Math.imul(we,an)|0,R=R+Math.imul(we,nn)|0,C=C+Math.imul(pe,Yt)|0,x=x+Math.imul(pe,Jt)|0,x=x+Math.imul(Ee,Yt)|0,R=R+Math.imul(Ee,Jt)|0;var Z0=(E+C|0)+((x&8191)<<13)|0;E=(R+(x>>>13)|0)+(Z0>>>26)|0,Z0&=67108863,C=Math.imul(Z,Re),x=Math.imul(Z,dt),x=x+Math.imul(se,Re)|0,R=Math.imul(se,dt),C=C+Math.imul(q,Dt)|0,x=x+Math.imul(q,kt)|0,x=x+Math.imul(F,Dt)|0,R=R+Math.imul(F,kt)|0,C=C+Math.imul(He,an)|0,x=x+Math.imul(He,nn)|0,x=x+Math.imul(Xe,an)|0,R=R+Math.imul(Xe,nn)|0,C=C+Math.imul(De,Yt)|0,x=x+Math.imul(De,Jt)|0,x=x+Math.imul(we,Yt)|0,R=R+Math.imul(we,Jt)|0;var eo=(E+C|0)+((x&8191)<<13)|0;E=(R+(x>>>13)|0)+(eo>>>26)|0,eo&=67108863,C=Math.imul(Z,Dt),x=Math.imul(Z,kt),x=x+Math.imul(se,Dt)|0,R=Math.imul(se,kt),C=C+Math.imul(q,an)|0,x=x+Math.imul(q,nn)|0,x=x+Math.imul(F,an)|0,R=R+Math.imul(F,nn)|0,C=C+Math.imul(He,Yt)|0,x=x+Math.imul(He,Jt)|0,x=x+Math.imul(Xe,Yt)|0,R=R+Math.imul(Xe,Jt)|0;var Q0=(E+C|0)+((x&8191)<<13)|0;E=(R+(x>>>13)|0)+(Q0>>>26)|0,Q0&=67108863,C=Math.imul(Z,an),x=Math.imul(Z,nn),x=x+Math.imul(se,an)|0,R=Math.imul(se,nn),C=C+Math.imul(q,Yt)|0,x=x+Math.imul(q,Jt)|0,x=x+Math.imul(F,Yt)|0,R=R+Math.imul(F,Jt)|0;var X0=(E+C|0)+((x&8191)<<13)|0;E=(R+(x>>>13)|0)+(X0>>>26)|0,X0&=67108863,C=Math.imul(Z,Yt),x=Math.imul(Z,Jt),x=x+Math.imul(se,Yt)|0,R=Math.imul(se,Jt);var ep=(E+C|0)+((x&8191)<<13)|0;return E=(R+(x>>>13)|0)+(ep>>>26)|0,ep&=67108863,M[0]=ar,M[1]=zo,M[2]=Oi,M[3]=Dr,M[4]=H0,M[5]=W0,M[6]=Ho,M[7]=K0,M[8]=q0,M[9]=V0,M[10]=G0,M[11]=Y0,M[12]=Dc,M[13]=J0,M[14]=Z0,M[15]=eo,M[16]=Q0,M[17]=X0,M[18]=ep,E!==0&&(M[19]=E,A.length++),A};Math.imul||(p=g);function S(P,m,w){w.negative=m.negative^P.negative,w.length=P.length+m.length;for(var A=0,v=0,I=0;I<w.length-1;I++){var M=v;v=0;for(var E=A&67108863,C=Math.min(I,m.length-1),x=Math.max(0,I-P.length+1);x<=C;x++){var R=I-x,D=P.words[R]|0,B=m.words[x]|0,z=D*B,H=z&67108863;M=M+(z/67108864|0)|0,H=H+E|0,E=H&67108863,M=M+(H>>>26)|0,v+=M>>>26,M&=67108863}w.words[I]=E,A=M,M=v}return A!==0?w.words[I]=A:w.length--,w.strip()}function y(P,m,w){var A=new b;return A.mulp(P,m,w)}o.prototype.mulTo=function(m,w){var A,v=this.length+m.length;return this.length===10&&m.length===10?A=p(this,m,w):v<63?A=g(this,m,w):v<1024?A=S(this,m,w):A=y(this,m,w),A};function b(P,m){this.x=P,this.y=m}b.prototype.makeRBT=function(m){for(var w=new Array(m),A=o.prototype._countBits(m)-1,v=0;v<m;v++)w[v]=this.revBin(v,A,m);return w},b.prototype.revBin=function(m,w,A){if(m===0||m===A-1)return m;for(var v=0,I=0;I<w;I++)v|=(m&1)<<w-I-1,m>>=1;return v},b.prototype.permute=function(m,w,A,v,I,M){for(var E=0;E<M;E++)v[E]=w[m[E]],I[E]=A[m[E]]},b.prototype.transform=function(m,w,A,v,I,M){this.permute(M,m,w,A,v,I);for(var E=1;E<I;E<<=1)for(var C=E<<1,x=Math.cos(2*Math.PI/C),R=Math.sin(2*Math.PI/C),D=0;D<I;D+=C)for(var B=x,z=R,H=0;H<E;H++){var W=A[D+H],G=v[D+H],V=A[D+H+E],J=v[D+H+E],Y=B*V-z*J;J=B*J+z*V,V=Y,A[D+H]=W+V,v[D+H]=G+J,A[D+H+E]=W-V,v[D+H+E]=G-J,H!==C&&(Y=x*B-R*z,z=x*z+R*B,B=Y)}},b.prototype.guessLen13b=function(m,w){var A=Math.max(w,m)|1,v=A&1,I=0;for(A=A/2|0;A;A=A>>>1)I++;return 1<<I+1+v},b.prototype.conjugate=function(m,w,A){if(!(A<=1))for(var v=0;v<A/2;v++){var I=m[v];m[v]=m[A-v-1],m[A-v-1]=I,I=w[v],w[v]=-w[A-v-1],w[A-v-1]=-I}},b.prototype.normalize13b=function(m,w){for(var A=0,v=0;v<w/2;v++){var I=Math.round(m[2*v+1]/w)*8192+Math.round(m[2*v]/w)+A;m[v]=I&67108863,I<67108864?A=0:A=I/67108864|0}return m},b.prototype.convert13b=function(m,w,A,v){for(var I=0,M=0;M<w;M++)I=I+(m[M]|0),A[2*M]=I&8191,I=I>>>13,A[2*M+1]=I&8191,I=I>>>13;for(M=2*w;M<v;++M)A[M]=0;r(I===0),r((I&-8192)===0)},b.prototype.stub=function(m){for(var w=new Array(m),A=0;A<m;A++)w[A]=0;return w},b.prototype.mulp=function(m,w,A){var v=2*this.guessLen13b(m.length,w.length),I=this.makeRBT(v),M=this.stub(v),E=new Array(v),C=new Array(v),x=new Array(v),R=new Array(v),D=new Array(v),B=new Array(v),z=A.words;z.length=v,this.convert13b(m.words,m.length,E,v),this.convert13b(w.words,w.length,R,v),this.transform(E,M,C,x,v,I),this.transform(R,M,D,B,v,I);for(var H=0;H<v;H++){var W=C[H]*D[H]-x[H]*B[H];x[H]=C[H]*B[H]+x[H]*D[H],C[H]=W}return this.conjugate(C,x,v),this.transform(C,x,z,M,v,I),this.conjugate(z,M,v),this.normalize13b(z,v),A.negative=m.negative^w.negative,A.length=m.length+w.length,A.strip()},o.prototype.mul=function(m){var w=new o(null);return w.words=new Array(this.length+m.length),this.mulTo(m,w)},o.prototype.mulf=function(m){var w=new o(null);return w.words=new Array(this.length+m.length),y(this,m,w)},o.prototype.imul=function(m){return this.clone().mulTo(m,this)},o.prototype.imuln=function(m){r(typeof m=="number"),r(m<67108864);for(var w=0,A=0;A<this.length;A++){var v=(this.words[A]|0)*m,I=(v&67108863)+(w&67108863);w>>=26,w+=v/67108864|0,w+=I>>>26,this.words[A]=I&67108863}return w!==0&&(this.words[A]=w,this.length++),this.length=m===0?1:this.length,this},o.prototype.muln=function(m){return this.clone().imuln(m)},o.prototype.sqr=function(){return this.mul(this)},o.prototype.isqr=function(){return this.imul(this.clone())},o.prototype.pow=function(m){var w=h(m);if(w.length===0)return new o(1);for(var A=this,v=0;v<w.length&&w[v]===0;v++,A=A.sqr());if(++v<w.length)for(var I=A.sqr();v<w.length;v++,I=I.sqr())w[v]!==0&&(A=A.mul(I));return A},o.prototype.iushln=function(m){r(typeof m=="number"&&m>=0);var w=m%26,A=(m-w)/26,v=67108863>>>26-w<<26-w,I;if(w!==0){var M=0;for(I=0;I<this.length;I++){var E=this.words[I]&v,C=(this.words[I]|0)-E<<w;this.words[I]=C|M,M=E>>>26-w}M&&(this.words[I]=M,this.length++)}if(A!==0){for(I=this.length-1;I>=0;I--)this.words[I+A]=this.words[I];for(I=0;I<A;I++)this.words[I]=0;this.length+=A}return this.strip()},o.prototype.ishln=function(m){return r(this.negative===0),this.iushln(m)},o.prototype.iushrn=function(m,w,A){r(typeof m=="number"&&m>=0);var v;w?v=(w-w%26)/26:v=0;var I=m%26,M=Math.min((m-I)/26,this.length),E=67108863^67108863>>>I<<I,C=A;if(v-=M,v=Math.max(0,v),C){for(var x=0;x<M;x++)C.words[x]=this.words[x];C.length=M}if(M!==0)if(this.length>M)for(this.length-=M,x=0;x<this.length;x++)this.words[x]=this.words[x+M];else this.words[0]=0,this.length=1;var R=0;for(x=this.length-1;x>=0&&(R!==0||x>=v);x--){var D=this.words[x]|0;this.words[x]=R<<26-I|D>>>I,R=D&E}return C&&R!==0&&(C.words[C.length++]=R),this.length===0&&(this.words[0]=0,this.length=1),this.strip()},o.prototype.ishrn=function(m,w,A){return r(this.negative===0),this.iushrn(m,w,A)},o.prototype.shln=function(m){return this.clone().ishln(m)},o.prototype.ushln=function(m){return this.clone().iushln(m)},o.prototype.shrn=function(m){return this.clone().ishrn(m)},o.prototype.ushrn=function(m){return this.clone().iushrn(m)},o.prototype.testn=function(m){r(typeof m=="number"&&m>=0);var w=m%26,A=(m-w)/26,v=1<<w;if(this.length<=A)return!1;var I=this.words[A];return!!(I&v)},o.prototype.imaskn=function(m){r(typeof m=="number"&&m>=0);var w=m%26,A=(m-w)/26;if(r(this.negative===0,"imaskn works only with positive numbers"),this.length<=A)return this;if(w!==0&&A++,this.length=Math.min(A,this.length),w!==0){var v=67108863^67108863>>>w<<w;this.words[this.length-1]&=v}return this.strip()},o.prototype.maskn=function(m){return this.clone().imaskn(m)},o.prototype.iaddn=function(m){return r(typeof m=="number"),r(m<67108864),m<0?this.isubn(-m):this.negative!==0?this.length===1&&(this.words[0]|0)<m?(this.words[0]=m-(this.words[0]|0),this.negative=0,this):(this.negative=0,this.isubn(m),this.negative=1,this):this._iaddn(m)},o.prototype._iaddn=function(m){this.words[0]+=m;for(var w=0;w<this.length&&this.words[w]>=67108864;w++)this.words[w]-=67108864,w===this.length-1?this.words[w+1]=1:this.words[w+1]++;return this.length=Math.max(this.length,w+1),this},o.prototype.isubn=function(m){if(r(typeof m=="number"),r(m<67108864),m<0)return this.iaddn(-m);if(this.negative!==0)return this.negative=0,this.iaddn(m),this.negative=1,this;if(this.words[0]-=m,this.length===1&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var w=0;w<this.length&&this.words[w]<0;w++)this.words[w]+=67108864,this.words[w+1]-=1;return this.strip()},o.prototype.addn=function(m){return this.clone().iaddn(m)},o.prototype.subn=function(m){return this.clone().isubn(m)},o.prototype.iabs=function(){return this.negative=0,this},o.prototype.abs=function(){return this.clone().iabs()},o.prototype._ishlnsubmul=function(m,w,A){var v=m.length+A,I;this._expand(v);var M,E=0;for(I=0;I<m.length;I++){M=(this.words[I+A]|0)+E;var C=(m.words[I]|0)*w;M-=C&67108863,E=(M>>26)-(C/67108864|0),this.words[I+A]=M&67108863}for(;I<this.length-A;I++)M=(this.words[I+A]|0)+E,E=M>>26,this.words[I+A]=M&67108863;if(E===0)return this.strip();for(r(E===-1),E=0,I=0;I<this.length;I++)M=-(this.words[I]|0)+E,E=M>>26,this.words[I]=M&67108863;return this.negative=1,this.strip()},o.prototype._wordDiv=function(m,w){var A=this.length-m.length,v=this.clone(),I=m,M=I.words[I.length-1]|0,E=this._countBits(M);A=26-E,A!==0&&(I=I.ushln(A),v.iushln(A),M=I.words[I.length-1]|0);var C=v.length-I.length,x;if(w!=="mod"){x=new o(null),x.length=C+1,x.words=new Array(x.length);for(var R=0;R<x.length;R++)x.words[R]=0}var D=v.clone()._ishlnsubmul(I,1,C);D.negative===0&&(v=D,x&&(x.words[C]=1));for(var B=C-1;B>=0;B--){var z=(v.words[I.length+B]|0)*67108864+(v.words[I.length+B-1]|0);for(z=Math.min(z/M|0,67108863),v._ishlnsubmul(I,z,B);v.negative!==0;)z--,v.negative=0,v._ishlnsubmul(I,1,B),v.isZero()||(v.negative^=1);x&&(x.words[B]=z)}return x&&x.strip(),v.strip(),w!=="div"&&A!==0&&v.iushrn(A),{div:x||null,mod:v}},o.prototype.divmod=function(m,w,A){if(r(!m.isZero()),this.isZero())return{div:new o(0),mod:new o(0)};var v,I,M;return this.negative!==0&&m.negative===0?(M=this.neg().divmod(m,w),w!=="mod"&&(v=M.div.neg()),w!=="div"&&(I=M.mod.neg(),A&&I.negative!==0&&I.iadd(m)),{div:v,mod:I}):this.negative===0&&m.negative!==0?(M=this.divmod(m.neg(),w),w!=="mod"&&(v=M.div.neg()),{div:v,mod:M.mod}):this.negative&m.negative?(M=this.neg().divmod(m.neg(),w),w!=="div"&&(I=M.mod.neg(),A&&I.negative!==0&&I.isub(m)),{div:M.div,mod:I}):m.length>this.length||this.cmp(m)<0?{div:new o(0),mod:this}:m.length===1?w==="div"?{div:this.divn(m.words[0]),mod:null}:w==="mod"?{div:null,mod:new o(this.modn(m.words[0]))}:{div:this.divn(m.words[0]),mod:new o(this.modn(m.words[0]))}:this._wordDiv(m,w)},o.prototype.div=function(m){return this.divmod(m,"div",!1).div},o.prototype.mod=function(m){return this.divmod(m,"mod",!1).mod},o.prototype.umod=function(m){return this.divmod(m,"mod",!0).mod},o.prototype.divRound=function(m){var w=this.divmod(m);if(w.mod.isZero())return w.div;var A=w.div.negative!==0?w.mod.isub(m):w.mod,v=m.ushrn(1),I=m.andln(1),M=A.cmp(v);return M<0||I===1&&M===0?w.div:w.div.negative!==0?w.div.isubn(1):w.div.iaddn(1)},o.prototype.modn=function(m){r(m<=67108863);for(var w=(1<<26)%m,A=0,v=this.length-1;v>=0;v--)A=(w*A+(this.words[v]|0))%m;return A},o.prototype.idivn=function(m){r(m<=67108863);for(var w=0,A=this.length-1;A>=0;A--){var v=(this.words[A]|0)+w*67108864;this.words[A]=v/m|0,w=v%m}return this.strip()},o.prototype.divn=function(m){return this.clone().idivn(m)},o.prototype.egcd=function(m){r(m.negative===0),r(!m.isZero());var w=this,A=m.clone();w.negative!==0?w=w.umod(m):w=w.clone();for(var v=new o(1),I=new o(0),M=new o(0),E=new o(1),C=0;w.isEven()&&A.isEven();)w.iushrn(1),A.iushrn(1),++C;for(var x=A.clone(),R=w.clone();!w.isZero();){for(var D=0,B=1;!(w.words[0]&B)&&D<26;++D,B<<=1);if(D>0)for(w.iushrn(D);D-- >0;)(v.isOdd()||I.isOdd())&&(v.iadd(x),I.isub(R)),v.iushrn(1),I.iushrn(1);for(var z=0,H=1;!(A.words[0]&H)&&z<26;++z,H<<=1);if(z>0)for(A.iushrn(z);z-- >0;)(M.isOdd()||E.isOdd())&&(M.iadd(x),E.isub(R)),M.iushrn(1),E.iushrn(1);w.cmp(A)>=0?(w.isub(A),v.isub(M),I.isub(E)):(A.isub(w),M.isub(v),E.isub(I))}return{a:M,b:E,gcd:A.iushln(C)}},o.prototype._invmp=function(m){r(m.negative===0),r(!m.isZero());var w=this,A=m.clone();w.negative!==0?w=w.umod(m):w=w.clone();for(var v=new o(1),I=new o(0),M=A.clone();w.cmpn(1)>0&&A.cmpn(1)>0;){for(var E=0,C=1;!(w.words[0]&C)&&E<26;++E,C<<=1);if(E>0)for(w.iushrn(E);E-- >0;)v.isOdd()&&v.iadd(M),v.iushrn(1);for(var x=0,R=1;!(A.words[0]&R)&&x<26;++x,R<<=1);if(x>0)for(A.iushrn(x);x-- >0;)I.isOdd()&&I.iadd(M),I.iushrn(1);w.cmp(A)>=0?(w.isub(A),v.isub(I)):(A.isub(w),I.isub(v))}var D;return w.cmpn(1)===0?D=v:D=I,D.cmpn(0)<0&&D.iadd(m),D},o.prototype.gcd=function(m){if(this.isZero())return m.abs();if(m.isZero())return this.abs();var w=this.clone(),A=m.clone();w.negative=0,A.negative=0;for(var v=0;w.isEven()&&A.isEven();v++)w.iushrn(1),A.iushrn(1);do{for(;w.isEven();)w.iushrn(1);for(;A.isEven();)A.iushrn(1);var I=w.cmp(A);if(I<0){var M=w;w=A,A=M}else if(I===0||A.cmpn(1)===0)break;w.isub(A)}while(!0);return A.iushln(v)},o.prototype.invm=function(m){return this.egcd(m).a.umod(m)},o.prototype.isEven=function(){return(this.words[0]&1)===0},o.prototype.isOdd=function(){return(this.words[0]&1)===1},o.prototype.andln=function(m){return this.words[0]&m},o.prototype.bincn=function(m){r(typeof m=="number");var w=m%26,A=(m-w)/26,v=1<<w;if(this.length<=A)return this._expand(A+1),this.words[A]|=v,this;for(var I=v,M=A;I!==0&&M<this.length;M++){var E=this.words[M]|0;E+=I,I=E>>>26,E&=67108863,this.words[M]=E}return I!==0&&(this.words[M]=I,this.length++),this},o.prototype.isZero=function(){return this.length===1&&this.words[0]===0},o.prototype.cmpn=function(m){var w=m<0;if(this.negative!==0&&!w)return-1;if(this.negative===0&&w)return 1;this.strip();var A;if(this.length>1)A=1;else{w&&(m=-m),r(m<=67108863,"Number is too big");var v=this.words[0]|0;A=v===m?0:v<m?-1:1}return this.negative!==0?-A|0:A},o.prototype.cmp=function(m){if(this.negative!==0&&m.negative===0)return-1;if(this.negative===0&&m.negative!==0)return 1;var w=this.ucmp(m);return this.negative!==0?-w|0:w},o.prototype.ucmp=function(m){if(this.length>m.length)return 1;if(this.length<m.length)return-1;for(var w=0,A=this.length-1;A>=0;A--){var v=this.words[A]|0,I=m.words[A]|0;if(v!==I){v<I?w=-1:v>I&&(w=1);break}}return w},o.prototype.gtn=function(m){return this.cmpn(m)===1},o.prototype.gt=function(m){return this.cmp(m)===1},o.prototype.gten=function(m){return this.cmpn(m)>=0},o.prototype.gte=function(m){return this.cmp(m)>=0},o.prototype.ltn=function(m){return this.cmpn(m)===-1},o.prototype.lt=function(m){return this.cmp(m)===-1},o.prototype.lten=function(m){return this.cmpn(m)<=0},o.prototype.lte=function(m){return this.cmp(m)<=0},o.prototype.eqn=function(m){return this.cmpn(m)===0},o.prototype.eq=function(m){return this.cmp(m)===0},o.red=function(m){return new T(m)},o.prototype.toRed=function(m){return r(!this.red,"Already a number in reduction context"),r(this.negative===0,"red works only with positives"),m.convertTo(this)._forceRed(m)},o.prototype.fromRed=function(){return r(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},o.prototype._forceRed=function(m){return this.red=m,this},o.prototype.forceRed=function(m){return r(!this.red,"Already a number in reduction context"),this._forceRed(m)},o.prototype.redAdd=function(m){return r(this.red,"redAdd works only with red numbers"),this.red.add(this,m)},o.prototype.redIAdd=function(m){return r(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,m)},o.prototype.redSub=function(m){return r(this.red,"redSub works only with red numbers"),this.red.sub(this,m)},o.prototype.redISub=function(m){return r(this.red,"redISub works only with red numbers"),this.red.isub(this,m)},o.prototype.redShl=function(m){return r(this.red,"redShl works only with red numbers"),this.red.shl(this,m)},o.prototype.redMul=function(m){return r(this.red,"redMul works only with red numbers"),this.red._verify2(this,m),this.red.mul(this,m)},o.prototype.redIMul=function(m){return r(this.red,"redMul works only with red numbers"),this.red._verify2(this,m),this.red.imul(this,m)},o.prototype.redSqr=function(){return r(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},o.prototype.redISqr=function(){return r(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},o.prototype.redSqrt=function(){return r(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},o.prototype.redInvm=function(){return r(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},o.prototype.redNeg=function(){return r(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},o.prototype.redPow=function(m){return r(this.red&&!m.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,m)};var _={k256:null,p224:null,p192:null,p25519:null};function N(P,m){this.name=P,this.p=new o(m,16),this.n=this.p.bitLength(),this.k=new o(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}N.prototype._tmp=function(){var m=new o(null);return m.words=new Array(Math.ceil(this.n/13)),m},N.prototype.ireduce=function(m){var w=m,A;do this.split(w,this.tmp),w=this.imulK(w),w=w.iadd(this.tmp),A=w.bitLength();while(A>this.n);var v=A<this.n?-1:w.ucmp(this.p);return v===0?(w.words[0]=0,w.length=1):v>0?w.isub(this.p):w.strip!==void 0?w.strip():w._strip(),w},N.prototype.split=function(m,w){m.iushrn(this.n,0,w)},N.prototype.imulK=function(m){return m.imul(this.k)};function O(){N.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}i(O,N),O.prototype.split=function(m,w){for(var A=4194303,v=Math.min(m.length,9),I=0;I<v;I++)w.words[I]=m.words[I];if(w.length=v,m.length<=9){m.words[0]=0,m.length=1;return}var M=m.words[9];for(w.words[w.length++]=M&A,I=10;I<m.length;I++){var E=m.words[I]|0;m.words[I-10]=(E&A)<<4|M>>>22,M=E}M>>>=22,m.words[I-10]=M,M===0&&m.length>10?m.length-=10:m.length-=9},O.prototype.imulK=function(m){m.words[m.length]=0,m.words[m.length+1]=0,m.length+=2;for(var w=0,A=0;A<m.length;A++){var v=m.words[A]|0;w+=v*977,m.words[A]=w&67108863,w=v*64+(w/67108864|0)}return m.words[m.length-1]===0&&(m.length--,m.words[m.length-1]===0&&m.length--),m};function $(){N.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}i($,N);function j(){N.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}i(j,N);function k(){N.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}i(k,N),k.prototype.imulK=function(m){for(var w=0,A=0;A<m.length;A++){var v=(m.words[A]|0)*19+w,I=v&67108863;v>>>=26,m.words[A]=I,w=v}return w!==0&&(m.words[m.length++]=w),m},o._prime=function(m){if(_[m])return _[m];var w;if(m==="k256")w=new O;else if(m==="p224")w=new $;else if(m==="p192")w=new j;else if(m==="p25519")w=new k;else throw new Error("Unknown prime "+m);return _[m]=w,w};function T(P){if(typeof P=="string"){var m=o._prime(P);this.m=m.p,this.prime=m}else r(P.gtn(1),"modulus must be greater than 1"),this.m=P,this.prime=null}T.prototype._verify1=function(m){r(m.negative===0,"red works only with positives"),r(m.red,"red works only with red numbers")},T.prototype._verify2=function(m,w){r((m.negative|w.negative)===0,"red works only with positives"),r(m.red&&m.red===w.red,"red works only with red numbers")},T.prototype.imod=function(m){return this.prime?this.prime.ireduce(m)._forceRed(this):m.umod(this.m)._forceRed(this)},T.prototype.neg=function(m){return m.isZero()?m.clone():this.m.sub(m)._forceRed(this)},T.prototype.add=function(m,w){this._verify2(m,w);var A=m.add(w);return A.cmp(this.m)>=0&&A.isub(this.m),A._forceRed(this)},T.prototype.iadd=function(m,w){this._verify2(m,w);var A=m.iadd(w);return A.cmp(this.m)>=0&&A.isub(this.m),A},T.prototype.sub=function(m,w){this._verify2(m,w);var A=m.sub(w);return A.cmpn(0)<0&&A.iadd(this.m),A._forceRed(this)},T.prototype.isub=function(m,w){this._verify2(m,w);var A=m.isub(w);return A.cmpn(0)<0&&A.iadd(this.m),A},T.prototype.shl=function(m,w){return this._verify1(m),this.imod(m.ushln(w))},T.prototype.imul=function(m,w){return this._verify2(m,w),this.imod(m.imul(w))},T.prototype.mul=function(m,w){return this._verify2(m,w),this.imod(m.mul(w))},T.prototype.isqr=function(m){return this.imul(m,m.clone())},T.prototype.sqr=function(m){return this.mul(m,m)},T.prototype.sqrt=function(m){if(m.isZero())return m.clone();var w=this.m.andln(3);if(r(w%2===1),w===3){var A=this.m.add(new o(1)).iushrn(2);return this.pow(m,A)}for(var v=this.m.subn(1),I=0;!v.isZero()&&v.andln(1)===0;)I++,v.iushrn(1);r(!v.isZero());var M=new o(1).toRed(this),E=M.redNeg(),C=this.m.subn(1).iushrn(1),x=this.m.bitLength();for(x=new o(2*x*x).toRed(this);this.pow(x,C).cmp(E)!==0;)x.redIAdd(E);for(var R=this.pow(x,v),D=this.pow(m,v.addn(1).iushrn(1)),B=this.pow(m,v),z=I;B.cmp(M)!==0;){for(var H=B,W=0;H.cmp(M)!==0;W++)H=H.redSqr();r(W<z);var G=this.pow(R,new o(1).iushln(z-W-1));D=D.redMul(G),R=G.redSqr(),B=B.redMul(R),z=W}return D},T.prototype.invm=function(m){var w=m._invmp(this.m);return w.negative!==0?(w.negative=0,this.imod(w).redNeg()):this.imod(w)},T.prototype.pow=function(m,w){if(w.isZero())return new o(1).toRed(this);if(w.cmpn(1)===0)return m.clone();var A=4,v=new Array(1<<A);v[0]=new o(1).toRed(this),v[1]=m;for(var I=2;I<v.length;I++)v[I]=this.mul(v[I-1],m);var M=v[0],E=0,C=0,x=w.bitLength()%26;for(x===0&&(x=26),I=w.length-1;I>=0;I--){for(var R=w.words[I],D=x-1;D>=0;D--){var B=R>>D&1;if(M!==v[0]&&(M=this.sqr(M)),B===0&&E===0){C=0;continue}E<<=1,E|=B,C++,!(C!==A&&(I!==0||D!==0))&&(M=this.mul(M,v[E]),C=0,E=0)}x=26}return M},T.prototype.convertTo=function(m){var w=m.umod(this.m);return w===m?w.clone():w},T.prototype.convertFrom=function(m){var w=m.clone();return w.red=null,w},o.mont=function(m){return new L(m)};function L(P){T.call(this,P),this.shift=this.m.bitLength(),this.shift%26!==0&&(this.shift+=26-this.shift%26),this.r=new o(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}i(L,T),L.prototype.convertTo=function(m){return this.imod(m.ushln(this.shift))},L.prototype.convertFrom=function(m){var w=this.imod(m.mul(this.rinv));return w.red=null,w},L.prototype.imul=function(m,w){if(m.isZero()||w.isZero())return m.words[0]=0,m.length=1,m;var A=m.imul(w),v=A.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),I=A.isub(v).iushrn(this.shift),M=I;return I.cmp(this.m)>=0?M=I.isub(this.m):I.cmpn(0)<0&&(M=I.iadd(this.m)),M._forceRed(this)},L.prototype.mul=function(m,w){if(m.isZero()||w.isZero())return new o(0)._forceRed(this);var A=m.mul(w),v=A.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),I=A.isub(v).iushrn(this.shift),M=I;return I.cmp(this.m)>=0?M=I.isub(this.m):I.cmpn(0)<0&&(M=I.iadd(this.m)),M._forceRed(this)},L.prototype.invm=function(m){var w=this.imod(m._invmp(this.m).mul(this.r2));return w._forceRed(this)}})(t,en)})(eC);var Mc=eC.exports,tC={};(function(t){var e=t;function n(o,s){if(Array.isArray(o))return o.slice();if(!o)return[];var a=[];if(typeof o!="string"){for(var c=0;c<o.length;c++)a[c]=o[c]|0;return a}if(s==="hex"){o=o.replace(/[^a-z0-9]+/ig,""),o.length%2!==0&&(o="0"+o);for(var c=0;c<o.length;c+=2)a.push(parseInt(o[c]+o[c+1],16))}else for(var c=0;c<o.length;c++){var l=o.charCodeAt(c),u=l>>8,d=l&255;u?a.push(u,d):a.push(d)}return a}e.toArray=n;function r(o){return o.length===1?"0"+o:o}e.zero2=r;function i(o){for(var s="",a=0;a<o.length;a++)s+=r(o[a].toString(16));return s}e.toHex=i,e.encode=function(s,a){return a==="hex"?i(s):s}})(tC);(function(t){var e=t,n=Mc,r=Wd,i=tC;e.assert=r,e.toArray=i.toArray,e.zero2=i.zero2,e.toHex=i.toHex,e.encode=i.encode;function o(u,d,f){var h=new Array(Math.max(u.bitLength(),f)+1),g;for(g=0;g<h.length;g+=1)h[g]=0;var p=1<<d+1,S=u.clone();for(g=0;g<h.length;g++){var y,b=S.andln(p-1);S.isOdd()?(b>(p>>1)-1?y=(p>>1)-b:y=b,S.isubn(y)):y=0,h[g]=y,S.iushrn(1)}return h}e.getNAF=o;function s(u,d){var f=[[],[]];u=u.clone(),d=d.clone();for(var h=0,g=0,p;u.cmpn(-h)>0||d.cmpn(-g)>0;){var S=u.andln(3)+h&3,y=d.andln(3)+g&3;S===3&&(S=-1),y===3&&(y=-1);var b;S&1?(p=u.andln(7)+h&7,(p===3||p===5)&&y===2?b=-S:b=S):b=0,f[0].push(b);var _;y&1?(p=d.andln(7)+g&7,(p===3||p===5)&&S===2?_=-y:_=y):_=0,f[1].push(_),2*h===b+1&&(h=1-h),2*g===_+1&&(g=1-g),u.iushrn(1),d.iushrn(1)}return f}e.getJSF=s;function a(u,d,f){var h="_"+d;u.prototype[d]=function(){return this[h]!==void 0?this[h]:this[h]=f.call(this)}}e.cachedProperty=a;function c(u){return typeof u=="string"?e.toArray(u,"hex"):u}e.parseBytes=c;function l(u){return new n(u,"hex","le")}e.intFromLE=l})(Yi);var nC={exports:{}},rE;nC.exports=function(e){return rE||(rE=new Bl(null)),rE.generate(e)};function Bl(t){this.rand=t}nC.exports.Rand=Bl;Bl.prototype.generate=function(e){return this._rand(e)};Bl.prototype._rand=function(e){if(this.rand.getBytes)return this.rand.getBytes(e);for(var n=new Uint8Array(e),r=0;r<n.length;r++)n[r]=this.rand.getByte();return n};if(typeof self=="object")self.crypto&&self.crypto.getRandomValues?Bl.prototype._rand=function(e){var n=new Uint8Array(e);return self.crypto.getRandomValues(n),n}:self.msCrypto&&self.msCrypto.getRandomValues?Bl.prototype._rand=function(e){var n=new Uint8Array(e);return self.msCrypto.getRandomValues(n),n}:typeof window=="object"&&(Bl.prototype._rand=function(){throw new Error("Not implemented yet")});else try{var Y9=w$;if(typeof Y9.randomBytes!="function")throw new Error("Not supported");Bl.prototype._rand=function(e){return Y9.randomBytes(e)}}catch{}var X$=nC.exports,rC={},Cu=Mc,jm=Yi,hw=jm.getNAF,xQ=jm.getJSF,pw=jm.assert;function yu(t,e){this.type=t,this.p=new Cu(e.p,16),this.red=e.prime?Cu.red(e.prime):Cu.mont(this.p),this.zero=new Cu(0).toRed(this.red),this.one=new Cu(1).toRed(this.red),this.two=new Cu(2).toRed(this.red),this.n=e.n&&new Cu(e.n,16),this.g=e.g&&this.pointFromJSON(e.g,e.gRed),this._wnafT1=new Array(4),this._wnafT2=new Array(4),this._wnafT3=new Array(4),this._wnafT4=new Array(4),this._bitLength=this.n?this.n.bitLength():0;var n=this.n&&this.p.div(this.n);!n||n.cmpn(100)>0?this.redN=null:(this._maxwellTrick=!0,this.redN=this.n.toRed(this.red))}var zb=yu;yu.prototype.point=function(){throw new Error("Not implemented")};yu.prototype.validate=function(){throw new Error("Not implemented")};yu.prototype._fixedNafMul=function(e,n){pw(e.precomputed);var r=e._getDoubles(),i=hw(n,1,this._bitLength),o=(1<<r.step+1)-(r.step%2===0?2:1);o/=3;var s=[],a,c;for(a=0;a<i.length;a+=r.step){c=0;for(var l=a+r.step-1;l>=a;l--)c=(c<<1)+i[l];s.push(c)}for(var u=this.jpoint(null,null,null),d=this.jpoint(null,null,null),f=o;f>0;f--){for(a=0;a<s.length;a++)c=s[a],c===f?d=d.mixedAdd(r.points[a]):c===-f&&(d=d.mixedAdd(r.points[a].neg()));u=u.add(d)}return u.toP()};yu.prototype._wnafMul=function(e,n){var r=4,i=e._getNAFPoints(r);r=i.wnd;for(var o=i.points,s=hw(n,r,this._bitLength),a=this.jpoint(null,null,null),c=s.length-1;c>=0;c--){for(var l=0;c>=0&&s[c]===0;c--)l++;if(c>=0&&l++,a=a.dblp(l),c<0)break;var u=s[c];pw(u!==0),e.type==="affine"?u>0?a=a.mixedAdd(o[u-1>>1]):a=a.mixedAdd(o[-u-1>>1].neg()):u>0?a=a.add(o[u-1>>1]):a=a.add(o[-u-1>>1].neg())}return e.type==="affine"?a.toP():a};yu.prototype._wnafMulAdd=function(e,n,r,i,o){var s=this._wnafT1,a=this._wnafT2,c=this._wnafT3,l=0,u,d,f;for(u=0;u<i;u++){f=n[u];var h=f._getNAFPoints(e);s[u]=h.wnd,a[u]=h.points}for(u=i-1;u>=1;u-=2){var g=u-1,p=u;if(s[g]!==1||s[p]!==1){c[g]=hw(r[g],s[g],this._bitLength),c[p]=hw(r[p],s[p],this._bitLength),l=Math.max(c[g].length,l),l=Math.max(c[p].length,l);continue}var S=[n[g],null,null,n[p]];n[g].y.cmp(n[p].y)===0?(S[1]=n[g].add(n[p]),S[2]=n[g].toJ().mixedAdd(n[p].neg())):n[g].y.cmp(n[p].y.redNeg())===0?(S[1]=n[g].toJ().mixedAdd(n[p]),S[2]=n[g].add(n[p].neg())):(S[1]=n[g].toJ().mixedAdd(n[p]),S[2]=n[g].toJ().mixedAdd(n[p].neg()));var y=[-3,-1,-5,-7,0,7,5,1,3],b=xQ(r[g],r[p]);for(l=Math.max(b[0].length,l),c[g]=new Array(l),c[p]=new Array(l),d=0;d<l;d++){var _=b[0][d]|0,N=b[1][d]|0;c[g][d]=y[(_+1)*3+(N+1)],c[p][d]=0,a[g]=S}}var O=this.jpoint(null,null,null),$=this._wnafT4;for(u=l;u>=0;u--){for(var j=0;u>=0;){var k=!0;for(d=0;d<i;d++)$[d]=c[d][u]|0,$[d]!==0&&(k=!1);if(!k)break;j++,u--}if(u>=0&&j++,O=O.dblp(j),u<0)break;for(d=0;d<i;d++){var T=$[d];T!==0&&(T>0?f=a[d][T-1>>1]:T<0&&(f=a[d][-T-1>>1].neg()),f.type==="affine"?O=O.mixedAdd(f):O=O.add(f))}}for(u=0;u<i;u++)a[u]=null;return o?O:O.toP()};function Do(t,e){this.curve=t,this.type=e,this.precomputed=null}yu.BasePoint=Do;Do.prototype.eq=function(){throw new Error("Not implemented")};Do.prototype.validate=function(){return this.curve.validate(this)};yu.prototype.decodePoint=function(e,n){e=jm.toArray(e,n);var r=this.p.byteLength();if((e[0]===4||e[0]===6||e[0]===7)&&e.length-1===2*r){e[0]===6?pw(e[e.length-1]%2===0):e[0]===7&&pw(e[e.length-1]%2===1);var i=this.point(e.slice(1,1+r),e.slice(1+r,1+2*r));return i}else if((e[0]===2||e[0]===3)&&e.length-1===r)return this.pointFromX(e.slice(1,1+r),e[0]===3);throw new Error("Unknown point format")};Do.prototype.encodeCompressed=function(e){return this.encode(e,!0)};Do.prototype._encode=function(e){var n=this.curve.p.byteLength(),r=this.getX().toArray("be",n);return e?[this.getY().isEven()?2:3].concat(r):[4].concat(r,this.getY().toArray("be",n))};Do.prototype.encode=function(e,n){return jm.encode(this._encode(n),e)};Do.prototype.precompute=function(e){if(this.precomputed)return this;var n={doubles:null,naf:null,beta:null};return n.naf=this._getNAFPoints(8),n.doubles=this._getDoubles(4,e),n.beta=this._getBeta(),this.precomputed=n,this};Do.prototype._hasDoubles=function(e){if(!this.precomputed)return!1;var n=this.precomputed.doubles;return n?n.points.length>=Math.ceil((e.bitLength()+1)/n.step):!1};Do.prototype._getDoubles=function(e,n){if(this.precomputed&&this.precomputed.doubles)return this.precomputed.doubles;for(var r=[this],i=this,o=0;o<n;o+=e){for(var s=0;s<e;s++)i=i.dbl();r.push(i)}return{step:e,points:r}};Do.prototype._getNAFPoints=function(e){if(this.precomputed&&this.precomputed.naf)return this.precomputed.naf;for(var n=[this],r=(1<<e)-1,i=r===1?null:this.dbl(),o=1;o<r;o++)n[o]=n[o-1].add(i);return{wnd:e,points:n}};Do.prototype._getBeta=function(){return null};Do.prototype.dblp=function(e){for(var n=this,r=0;r<e;r++)n=n.dbl();return n};var SQ=Yi,In=Mc,iC=Es,x0=zb,_Q=SQ.assert;function jo(t){x0.call(this,"short",t),this.a=new In(t.a,16).toRed(this.red),this.b=new In(t.b,16).toRed(this.red),this.tinv=this.two.redInvm(),this.zeroA=this.a.fromRed().cmpn(0)===0,this.threeA=this.a.fromRed().sub(this.p).cmpn(-3)===0,this.endo=this._getEndomorphism(t),this._endoWnafT1=new Array(4),this._endoWnafT2=new Array(4)}iC(jo,x0);var CQ=jo;jo.prototype._getEndomorphism=function(e){if(!(!this.zeroA||!this.g||!this.n||this.p.modn(3)!==1)){var n,r;if(e.beta)n=new In(e.beta,16).toRed(this.red);else{var i=this._getEndoRoots(this.p);n=i[0].cmp(i[1])<0?i[0]:i[1],n=n.toRed(this.red)}if(e.lambda)r=new In(e.lambda,16);else{var o=this._getEndoRoots(this.n);this.g.mul(o[0]).x.cmp(this.g.x.redMul(n))===0?r=o[0]:(r=o[1],_Q(this.g.mul(r).x.cmp(this.g.x.redMul(n))===0))}var s;return e.basis?s=e.basis.map(function(a){return{a:new In(a.a,16),b:new In(a.b,16)}}):s=this._getEndoBasis(r),{beta:n,lambda:r,basis:s}}};jo.prototype._getEndoRoots=function(e){var n=e===this.p?this.red:In.mont(e),r=new In(2).toRed(n).redInvm(),i=r.redNeg(),o=new In(3).toRed(n).redNeg().redSqrt().redMul(r),s=i.redAdd(o).fromRed(),a=i.redSub(o).fromRed();return[s,a]};jo.prototype._getEndoBasis=function(e){for(var n=this.n.ushrn(Math.floor(this.n.bitLength()/2)),r=e,i=this.n.clone(),o=new In(1),s=new In(0),a=new In(0),c=new In(1),l,u,d,f,h,g,p,S=0,y,b;r.cmpn(0)!==0;){var _=i.div(r);y=i.sub(_.mul(r)),b=a.sub(_.mul(o));var N=c.sub(_.mul(s));if(!d&&y.cmp(n)<0)l=p.neg(),u=o,d=y.neg(),f=b;else if(d&&++S===2)break;p=y,i=r,r=y,a=o,o=b,c=s,s=N}h=y.neg(),g=b;var O=d.sqr().add(f.sqr()),$=h.sqr().add(g.sqr());return $.cmp(O)>=0&&(h=l,g=u),d.negative&&(d=d.neg(),f=f.neg()),h.negative&&(h=h.neg(),g=g.neg()),[{a:d,b:f},{a:h,b:g}]};jo.prototype._endoSplit=function(e){var n=this.endo.basis,r=n[0],i=n[1],o=i.b.mul(e).divRound(this.n),s=r.b.neg().mul(e).divRound(this.n),a=o.mul(r.a),c=s.mul(i.a),l=o.mul(r.b),u=s.mul(i.b),d=e.sub(a).sub(c),f=l.add(u).neg();return{k1:d,k2:f}};jo.prototype.pointFromX=function(e,n){e=new In(e,16),e.red||(e=e.toRed(this.red));var r=e.redSqr().redMul(e).redIAdd(e.redMul(this.a)).redIAdd(this.b),i=r.redSqrt();if(i.redSqr().redSub(r).cmp(this.zero)!==0)throw new Error("invalid point");var o=i.fromRed().isOdd();return(n&&!o||!n&&o)&&(i=i.redNeg()),this.point(e,i)};jo.prototype.validate=function(e){if(e.inf)return!0;var n=e.x,r=e.y,i=this.a.redMul(n),o=n.redSqr().redMul(n).redIAdd(i).redIAdd(this.b);return r.redSqr().redISub(o).cmpn(0)===0};jo.prototype._endoWnafMulAdd=function(e,n,r){for(var i=this._endoWnafT1,o=this._endoWnafT2,s=0;s<e.length;s++){var a=this._endoSplit(n[s]),c=e[s],l=c._getBeta();a.k1.negative&&(a.k1.ineg(),c=c.neg(!0)),a.k2.negative&&(a.k2.ineg(),l=l.neg(!0)),i[s*2]=c,i[s*2+1]=l,o[s*2]=a.k1,o[s*2+1]=a.k2}for(var u=this._wnafMulAdd(1,i,o,s*2,r),d=0;d<s*2;d++)i[d]=null,o[d]=null;return u};function or(t,e,n,r){x0.BasePoint.call(this,t,"affine"),e===null&&n===null?(this.x=null,this.y=null,this.inf=!0):(this.x=new In(e,16),this.y=new In(n,16),r&&(this.x.forceRed(this.curve.red),this.y.forceRed(this.curve.red)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.inf=!1)}iC(or,x0.BasePoint);jo.prototype.point=function(e,n,r){return new or(this,e,n,r)};jo.prototype.pointFromJSON=function(e,n){return or.fromJSON(this,e,n)};or.prototype._getBeta=function(){if(this.curve.endo){var e=this.precomputed;if(e&&e.beta)return e.beta;var n=this.curve.point(this.x.redMul(this.curve.endo.beta),this.y);if(e){var r=this.curve,i=function(o){return r.point(o.x.redMul(r.endo.beta),o.y)};e.beta=n,n.precomputed={beta:null,naf:e.naf&&{wnd:e.naf.wnd,points:e.naf.points.map(i)},doubles:e.doubles&&{step:e.doubles.step,points:e.doubles.points.map(i)}}}return n}};or.prototype.toJSON=function(){return this.precomputed?[this.x,this.y,this.precomputed&&{doubles:this.precomputed.doubles&&{step:this.precomputed.doubles.step,points:this.precomputed.doubles.points.slice(1)},naf:this.precomputed.naf&&{wnd:this.precomputed.naf.wnd,points:this.precomputed.naf.points.slice(1)}}]:[this.x,this.y]};or.fromJSON=function(e,n,r){typeof n=="string"&&(n=JSON.parse(n));var i=e.point(n[0],n[1],r);if(!n[2])return i;function o(a){return e.point(a[0],a[1],r)}var s=n[2];return i.precomputed={beta:null,doubles:s.doubles&&{step:s.doubles.step,points:[i].concat(s.doubles.points.map(o))},naf:s.naf&&{wnd:s.naf.wnd,points:[i].concat(s.naf.points.map(o))}},i};or.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" y: "+this.y.fromRed().toString(16,2)+">"};or.prototype.isInfinity=function(){return this.inf};or.prototype.add=function(e){if(this.inf)return e;if(e.inf)return this;if(this.eq(e))return this.dbl();if(this.neg().eq(e))return this.curve.point(null,null);if(this.x.cmp(e.x)===0)return this.curve.point(null,null);var n=this.y.redSub(e.y);n.cmpn(0)!==0&&(n=n.redMul(this.x.redSub(e.x).redInvm()));var r=n.redSqr().redISub(this.x).redISub(e.x),i=n.redMul(this.x.redSub(r)).redISub(this.y);return this.curve.point(r,i)};or.prototype.dbl=function(){if(this.inf)return this;var e=this.y.redAdd(this.y);if(e.cmpn(0)===0)return this.curve.point(null,null);var n=this.curve.a,r=this.x.redSqr(),i=e.redInvm(),o=r.redAdd(r).redIAdd(r).redIAdd(n).redMul(i),s=o.redSqr().redISub(this.x.redAdd(this.x)),a=o.redMul(this.x.redSub(s)).redISub(this.y);return this.curve.point(s,a)};or.prototype.getX=function(){return this.x.fromRed()};or.prototype.getY=function(){return this.y.fromRed()};or.prototype.mul=function(e){return e=new In(e,16),this.isInfinity()?this:this._hasDoubles(e)?this.curve._fixedNafMul(this,e):this.curve.endo?this.curve._endoWnafMulAdd([this],[e]):this.curve._wnafMul(this,e)};or.prototype.mulAdd=function(e,n,r){var i=[this,n],o=[e,r];return this.curve.endo?this.curve._endoWnafMulAdd(i,o):this.curve._wnafMulAdd(1,i,o,2)};or.prototype.jmulAdd=function(e,n,r){var i=[this,n],o=[e,r];return this.curve.endo?this.curve._endoWnafMulAdd(i,o,!0):this.curve._wnafMulAdd(1,i,o,2,!0)};or.prototype.eq=function(e){return this===e||this.inf===e.inf&&(this.inf||this.x.cmp(e.x)===0&&this.y.cmp(e.y)===0)};or.prototype.neg=function(e){if(this.inf)return this;var n=this.curve.point(this.x,this.y.redNeg());if(e&&this.precomputed){var r=this.precomputed,i=function(o){return o.neg()};n.precomputed={naf:r.naf&&{wnd:r.naf.wnd,points:r.naf.points.map(i)},doubles:r.doubles&&{step:r.doubles.step,points:r.doubles.points.map(i)}}}return n};or.prototype.toJ=function(){if(this.inf)return this.curve.jpoint(null,null,null);var e=this.curve.jpoint(this.x,this.y,this.curve.one);return e};function br(t,e,n,r){x0.BasePoint.call(this,t,"jacobian"),e===null&&n===null&&r===null?(this.x=this.curve.one,this.y=this.curve.one,this.z=new In(0)):(this.x=new In(e,16),this.y=new In(n,16),this.z=new In(r,16)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)),this.zOne=this.z===this.curve.one}iC(br,x0.BasePoint);jo.prototype.jpoint=function(e,n,r){return new br(this,e,n,r)};br.prototype.toP=function(){if(this.isInfinity())return this.curve.point(null,null);var e=this.z.redInvm(),n=e.redSqr(),r=this.x.redMul(n),i=this.y.redMul(n).redMul(e);return this.curve.point(r,i)};br.prototype.neg=function(){return this.curve.jpoint(this.x,this.y.redNeg(),this.z)};br.prototype.add=function(e){if(this.isInfinity())return e;if(e.isInfinity())return this;var n=e.z.redSqr(),r=this.z.redSqr(),i=this.x.redMul(n),o=e.x.redMul(r),s=this.y.redMul(n.redMul(e.z)),a=e.y.redMul(r.redMul(this.z)),c=i.redSub(o),l=s.redSub(a);if(c.cmpn(0)===0)return l.cmpn(0)!==0?this.curve.jpoint(null,null,null):this.dbl();var u=c.redSqr(),d=u.redMul(c),f=i.redMul(u),h=l.redSqr().redIAdd(d).redISub(f).redISub(f),g=l.redMul(f.redISub(h)).redISub(s.redMul(d)),p=this.z.redMul(e.z).redMul(c);return this.curve.jpoint(h,g,p)};br.prototype.mixedAdd=function(e){if(this.isInfinity())return e.toJ();if(e.isInfinity())return this;var n=this.z.redSqr(),r=this.x,i=e.x.redMul(n),o=this.y,s=e.y.redMul(n).redMul(this.z),a=r.redSub(i),c=o.redSub(s);if(a.cmpn(0)===0)return c.cmpn(0)!==0?this.curve.jpoint(null,null,null):this.dbl();var l=a.redSqr(),u=l.redMul(a),d=r.redMul(l),f=c.redSqr().redIAdd(u).redISub(d).redISub(d),h=c.redMul(d.redISub(f)).redISub(o.redMul(u)),g=this.z.redMul(a);return this.curve.jpoint(f,h,g)};br.prototype.dblp=function(e){if(e===0)return this;if(this.isInfinity())return this;if(!e)return this.dbl();var n;if(this.curve.zeroA||this.curve.threeA){var r=this;for(n=0;n<e;n++)r=r.dbl();return r}var i=this.curve.a,o=this.curve.tinv,s=this.x,a=this.y,c=this.z,l=c.redSqr().redSqr(),u=a.redAdd(a);for(n=0;n<e;n++){var d=s.redSqr(),f=u.redSqr(),h=f.redSqr(),g=d.redAdd(d).redIAdd(d).redIAdd(i.redMul(l)),p=s.redMul(f),S=g.redSqr().redISub(p.redAdd(p)),y=p.redISub(S),b=g.redMul(y);b=b.redIAdd(b).redISub(h);var _=u.redMul(c);n+1<e&&(l=l.redMul(h)),s=S,c=_,u=b}return this.curve.jpoint(s,u.redMul(o),c)};br.prototype.dbl=function(){return this.isInfinity()?this:this.curve.zeroA?this._zeroDbl():this.curve.threeA?this._threeDbl():this._dbl()};br.prototype._zeroDbl=function(){var e,n,r;if(this.zOne){var i=this.x.redSqr(),o=this.y.redSqr(),s=o.redSqr(),a=this.x.redAdd(o).redSqr().redISub(i).redISub(s);a=a.redIAdd(a);var c=i.redAdd(i).redIAdd(i),l=c.redSqr().redISub(a).redISub(a),u=s.redIAdd(s);u=u.redIAdd(u),u=u.redIAdd(u),e=l,n=c.redMul(a.redISub(l)).redISub(u),r=this.y.redAdd(this.y)}else{var d=this.x.redSqr(),f=this.y.redSqr(),h=f.redSqr(),g=this.x.redAdd(f).redSqr().redISub(d).redISub(h);g=g.redIAdd(g);var p=d.redAdd(d).redIAdd(d),S=p.redSqr(),y=h.redIAdd(h);y=y.redIAdd(y),y=y.redIAdd(y),e=S.redISub(g).redISub(g),n=p.redMul(g.redISub(e)).redISub(y),r=this.y.redMul(this.z),r=r.redIAdd(r)}return this.curve.jpoint(e,n,r)};br.prototype._threeDbl=function(){var e,n,r;if(this.zOne){var i=this.x.redSqr(),o=this.y.redSqr(),s=o.redSqr(),a=this.x.redAdd(o).redSqr().redISub(i).redISub(s);a=a.redIAdd(a);var c=i.redAdd(i).redIAdd(i).redIAdd(this.curve.a),l=c.redSqr().redISub(a).redISub(a);e=l;var u=s.redIAdd(s);u=u.redIAdd(u),u=u.redIAdd(u),n=c.redMul(a.redISub(l)).redISub(u),r=this.y.redAdd(this.y)}else{var d=this.z.redSqr(),f=this.y.redSqr(),h=this.x.redMul(f),g=this.x.redSub(d).redMul(this.x.redAdd(d));g=g.redAdd(g).redIAdd(g);var p=h.redIAdd(h);p=p.redIAdd(p);var S=p.redAdd(p);e=g.redSqr().redISub(S),r=this.y.redAdd(this.z).redSqr().redISub(f).redISub(d);var y=f.redSqr();y=y.redIAdd(y),y=y.redIAdd(y),y=y.redIAdd(y),n=g.redMul(p.redISub(e)).redISub(y)}return this.curve.jpoint(e,n,r)};br.prototype._dbl=function(){var e=this.curve.a,n=this.x,r=this.y,i=this.z,o=i.redSqr().redSqr(),s=n.redSqr(),a=r.redSqr(),c=s.redAdd(s).redIAdd(s).redIAdd(e.redMul(o)),l=n.redAdd(n);l=l.redIAdd(l);var u=l.redMul(a),d=c.redSqr().redISub(u.redAdd(u)),f=u.redISub(d),h=a.redSqr();h=h.redIAdd(h),h=h.redIAdd(h),h=h.redIAdd(h);var g=c.redMul(f).redISub(h),p=r.redAdd(r).redMul(i);return this.curve.jpoint(d,g,p)};br.prototype.trpl=function(){if(!this.curve.zeroA)return this.dbl().add(this);var e=this.x.redSqr(),n=this.y.redSqr(),r=this.z.redSqr(),i=n.redSqr(),o=e.redAdd(e).redIAdd(e),s=o.redSqr(),a=this.x.redAdd(n).redSqr().redISub(e).redISub(i);a=a.redIAdd(a),a=a.redAdd(a).redIAdd(a),a=a.redISub(s);var c=a.redSqr(),l=i.redIAdd(i);l=l.redIAdd(l),l=l.redIAdd(l),l=l.redIAdd(l);var u=o.redIAdd(a).redSqr().redISub(s).redISub(c).redISub(l),d=n.redMul(u);d=d.redIAdd(d),d=d.redIAdd(d);var f=this.x.redMul(c).redISub(d);f=f.redIAdd(f),f=f.redIAdd(f);var h=this.y.redMul(u.redMul(l.redISub(u)).redISub(a.redMul(c)));h=h.redIAdd(h),h=h.redIAdd(h),h=h.redIAdd(h);var g=this.z.redAdd(a).redSqr().redISub(r).redISub(c);return this.curve.jpoint(f,h,g)};br.prototype.mul=function(e,n){return e=new In(e,n),this.curve._wnafMul(this,e)};br.prototype.eq=function(e){if(e.type==="affine")return this.eq(e.toJ());if(this===e)return!0;var n=this.z.redSqr(),r=e.z.redSqr();if(this.x.redMul(r).redISub(e.x.redMul(n)).cmpn(0)!==0)return!1;var i=n.redMul(this.z),o=r.redMul(e.z);return this.y.redMul(o).redISub(e.y.redMul(i)).cmpn(0)===0};br.prototype.eqXToP=function(e){var n=this.z.redSqr(),r=e.toRed(this.curve.red).redMul(n);if(this.x.cmp(r)===0)return!0;for(var i=e.clone(),o=this.curve.redN.redMul(n);;){if(i.iadd(this.curve.n),i.cmp(this.curve.p)>=0)return!1;if(r.redIAdd(o),this.x.cmp(r)===0)return!0}};br.prototype.inspect=function(){return this.isInfinity()?"<EC JPoint Infinity>":"<EC JPoint x: "+this.x.toString(16,2)+" y: "+this.y.toString(16,2)+" z: "+this.z.toString(16,2)+">"};br.prototype.isInfinity=function(){return this.z.cmpn(0)===0};var Kf=Mc,eB=Es,Hb=zb,AQ=Yi;function S0(t){Hb.call(this,"mont",t),this.a=new Kf(t.a,16).toRed(this.red),this.b=new Kf(t.b,16).toRed(this.red),this.i4=new Kf(4).toRed(this.red).redInvm(),this.two=new Kf(2).toRed(this.red),this.a24=this.i4.redMul(this.a.redAdd(this.two))}eB(S0,Hb);var IQ=S0;S0.prototype.validate=function(e){var n=e.normalize().x,r=n.redSqr(),i=r.redMul(n).redAdd(r.redMul(this.a)).redAdd(n),o=i.redSqrt();return o.redSqr().cmp(i)===0};function ir(t,e,n){Hb.BasePoint.call(this,t,"projective"),e===null&&n===null?(this.x=this.curve.one,this.z=this.curve.zero):(this.x=new Kf(e,16),this.z=new Kf(n,16),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)))}eB(ir,Hb.BasePoint);S0.prototype.decodePoint=function(e,n){return this.point(AQ.toArray(e,n),1)};S0.prototype.point=function(e,n){return new ir(this,e,n)};S0.prototype.pointFromJSON=function(e){return ir.fromJSON(this,e)};ir.prototype.precompute=function(){};ir.prototype._encode=function(){return this.getX().toArray("be",this.curve.p.byteLength())};ir.fromJSON=function(e,n){return new ir(e,n[0],n[1]||e.one)};ir.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" z: "+this.z.fromRed().toString(16,2)+">"};ir.prototype.isInfinity=function(){return this.z.cmpn(0)===0};ir.prototype.dbl=function(){var e=this.x.redAdd(this.z),n=e.redSqr(),r=this.x.redSub(this.z),i=r.redSqr(),o=n.redSub(i),s=n.redMul(i),a=o.redMul(i.redAdd(this.curve.a24.redMul(o)));return this.curve.point(s,a)};ir.prototype.add=function(){throw new Error("Not supported on Montgomery curve")};ir.prototype.diffAdd=function(e,n){var r=this.x.redAdd(this.z),i=this.x.redSub(this.z),o=e.x.redAdd(e.z),s=e.x.redSub(e.z),a=s.redMul(r),c=o.redMul(i),l=n.z.redMul(a.redAdd(c).redSqr()),u=n.x.redMul(a.redISub(c).redSqr());return this.curve.point(l,u)};ir.prototype.mul=function(e){for(var n=e.clone(),r=this,i=this.curve.point(null,null),o=this,s=[];n.cmpn(0)!==0;n.iushrn(1))s.push(n.andln(1));for(var a=s.length-1;a>=0;a--)s[a]===0?(r=r.diffAdd(i,o),i=i.dbl()):(i=r.diffAdd(i,o),r=r.dbl());return i};ir.prototype.mulAdd=function(){throw new Error("Not supported on Montgomery curve")};ir.prototype.jumlAdd=function(){throw new Error("Not supported on Montgomery curve")};ir.prototype.eq=function(e){return this.getX().cmp(e.getX())===0};ir.prototype.normalize=function(){return this.x=this.x.redMul(this.z.redInvm()),this.z=this.curve.one,this};ir.prototype.getX=function(){return this.normalize(),this.x.fromRed()};var kQ=Yi,nc=Mc,tB=Es,Wb=zb,PQ=kQ.assert;function va(t){this.twisted=(t.a|0)!==1,this.mOneA=this.twisted&&(t.a|0)===-1,this.extended=this.mOneA,Wb.call(this,"edwards",t),this.a=new nc(t.a,16).umod(this.red.m),this.a=this.a.toRed(this.red),this.c=new nc(t.c,16).toRed(this.red),this.c2=this.c.redSqr(),this.d=new nc(t.d,16).toRed(this.red),this.dd=this.d.redAdd(this.d),PQ(!this.twisted||this.c.fromRed().cmpn(1)===0),this.oneC=(t.c|0)===1}tB(va,Wb);var OQ=va;va.prototype._mulA=function(e){return this.mOneA?e.redNeg():this.a.redMul(e)};va.prototype._mulC=function(e){return this.oneC?e:this.c.redMul(e)};va.prototype.jpoint=function(e,n,r,i){return this.point(e,n,r,i)};va.prototype.pointFromX=function(e,n){e=new nc(e,16),e.red||(e=e.toRed(this.red));var r=e.redSqr(),i=this.c2.redSub(this.a.redMul(r)),o=this.one.redSub(this.c2.redMul(this.d).redMul(r)),s=i.redMul(o.redInvm()),a=s.redSqrt();if(a.redSqr().redSub(s).cmp(this.zero)!==0)throw new Error("invalid point");var c=a.fromRed().isOdd();return(n&&!c||!n&&c)&&(a=a.redNeg()),this.point(e,a)};va.prototype.pointFromY=function(e,n){e=new nc(e,16),e.red||(e=e.toRed(this.red));var r=e.redSqr(),i=r.redSub(this.c2),o=r.redMul(this.d).redMul(this.c2).redSub(this.a),s=i.redMul(o.redInvm());if(s.cmp(this.zero)===0){if(n)throw new Error("invalid point");return this.point(this.zero,e)}var a=s.redSqrt();if(a.redSqr().redSub(s).cmp(this.zero)!==0)throw new Error("invalid point");return a.fromRed().isOdd()!==n&&(a=a.redNeg()),this.point(a,e)};va.prototype.validate=function(e){if(e.isInfinity())return!0;e.normalize();var n=e.x.redSqr(),r=e.y.redSqr(),i=n.redMul(this.a).redAdd(r),o=this.c2.redMul(this.one.redAdd(this.d.redMul(n).redMul(r)));return i.cmp(o)===0};function tn(t,e,n,r,i){Wb.BasePoint.call(this,t,"projective"),e===null&&n===null&&r===null?(this.x=this.curve.zero,this.y=this.curve.one,this.z=this.curve.one,this.t=this.curve.zero,this.zOne=!0):(this.x=new nc(e,16),this.y=new nc(n,16),this.z=r?new nc(r,16):this.curve.one,this.t=i&&new nc(i,16),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)),this.t&&!this.t.red&&(this.t=this.t.toRed(this.curve.red)),this.zOne=this.z===this.curve.one,this.curve.extended&&!this.t&&(this.t=this.x.redMul(this.y),this.zOne||(this.t=this.t.redMul(this.z.redInvm()))))}tB(tn,Wb.BasePoint);va.prototype.pointFromJSON=function(e){return tn.fromJSON(this,e)};va.prototype.point=function(e,n,r,i){return new tn(this,e,n,r,i)};tn.fromJSON=function(e,n){return new tn(e,n[0],n[1],n[2])};tn.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" y: "+this.y.fromRed().toString(16,2)+" z: "+this.z.fromRed().toString(16,2)+">"};tn.prototype.isInfinity=function(){return this.x.cmpn(0)===0&&(this.y.cmp(this.z)===0||this.zOne&&this.y.cmp(this.curve.c)===0)};tn.prototype._extDbl=function(){var e=this.x.redSqr(),n=this.y.redSqr(),r=this.z.redSqr();r=r.redIAdd(r);var i=this.curve._mulA(e),o=this.x.redAdd(this.y).redSqr().redISub(e).redISub(n),s=i.redAdd(n),a=s.redSub(r),c=i.redSub(n),l=o.redMul(a),u=s.redMul(c),d=o.redMul(c),f=a.redMul(s);return this.curve.point(l,u,f,d)};tn.prototype._projDbl=function(){var e=this.x.redAdd(this.y).redSqr(),n=this.x.redSqr(),r=this.y.redSqr(),i,o,s,a,c,l;if(this.curve.twisted){a=this.curve._mulA(n);var u=a.redAdd(r);this.zOne?(i=e.redSub(n).redSub(r).redMul(u.redSub(this.curve.two)),o=u.redMul(a.redSub(r)),s=u.redSqr().redSub(u).redSub(u)):(c=this.z.redSqr(),l=u.redSub(c).redISub(c),i=e.redSub(n).redISub(r).redMul(l),o=u.redMul(a.redSub(r)),s=u.redMul(l))}else a=n.redAdd(r),c=this.curve._mulC(this.z).redSqr(),l=a.redSub(c).redSub(c),i=this.curve._mulC(e.redISub(a)).redMul(l),o=this.curve._mulC(a).redMul(n.redISub(r)),s=a.redMul(l);return this.curve.point(i,o,s)};tn.prototype.dbl=function(){return this.isInfinity()?this:this.curve.extended?this._extDbl():this._projDbl()};tn.prototype._extAdd=function(e){var n=this.y.redSub(this.x).redMul(e.y.redSub(e.x)),r=this.y.redAdd(this.x).redMul(e.y.redAdd(e.x)),i=this.t.redMul(this.curve.dd).redMul(e.t),o=this.z.redMul(e.z.redAdd(e.z)),s=r.redSub(n),a=o.redSub(i),c=o.redAdd(i),l=r.redAdd(n),u=s.redMul(a),d=c.redMul(l),f=s.redMul(l),h=a.redMul(c);return this.curve.point(u,d,h,f)};tn.prototype._projAdd=function(e){var n=this.z.redMul(e.z),r=n.redSqr(),i=this.x.redMul(e.x),o=this.y.redMul(e.y),s=this.curve.d.redMul(i).redMul(o),a=r.redSub(s),c=r.redAdd(s),l=this.x.redAdd(this.y).redMul(e.x.redAdd(e.y)).redISub(i).redISub(o),u=n.redMul(a).redMul(l),d,f;return this.curve.twisted?(d=n.redMul(c).redMul(o.redSub(this.curve._mulA(i))),f=a.redMul(c)):(d=n.redMul(c).redMul(o.redSub(i)),f=this.curve._mulC(a).redMul(c)),this.curve.point(u,d,f)};tn.prototype.add=function(e){return this.isInfinity()?e:e.isInfinity()?this:this.curve.extended?this._extAdd(e):this._projAdd(e)};tn.prototype.mul=function(e){return this._hasDoubles(e)?this.curve._fixedNafMul(this,e):this.curve._wnafMul(this,e)};tn.prototype.mulAdd=function(e,n,r){return this.curve._wnafMulAdd(1,[this,n],[e,r],2,!1)};tn.prototype.jmulAdd=function(e,n,r){return this.curve._wnafMulAdd(1,[this,n],[e,r],2,!0)};tn.prototype.normalize=function(){if(this.zOne)return this;var e=this.z.redInvm();return this.x=this.x.redMul(e),this.y=this.y.redMul(e),this.t&&(this.t=this.t.redMul(e)),this.z=this.curve.one,this.zOne=!0,this};tn.prototype.neg=function(){return this.curve.point(this.x.redNeg(),this.y,this.z,this.t&&this.t.redNeg())};tn.prototype.getX=function(){return this.normalize(),this.x.fromRed()};tn.prototype.getY=function(){return this.normalize(),this.y.fromRed()};tn.prototype.eq=function(e){return this===e||this.getX().cmp(e.getX())===0&&this.getY().cmp(e.getY())===0};tn.prototype.eqXToP=function(e){var n=e.toRed(this.curve.red).redMul(this.z);if(this.x.cmp(n)===0)return!0;for(var r=e.clone(),i=this.curve.redN.redMul(this.z);;){if(r.iadd(this.curve.n),r.cmp(this.curve.p)>=0)return!1;if(n.redIAdd(i),this.x.cmp(n)===0)return!0}};tn.prototype.toP=tn.prototype.normalize;tn.prototype.mixedAdd=tn.prototype.add;(function(t){var e=t;e.base=zb,e.short=CQ,e.mont=IQ,e.edwards=OQ})(rC);var Kb={},iE,J9;function TQ(){return J9||(J9=1,iE={doubles:{step:4,points:[["e60fce93b59e9ec53011aabc21c23e97b2a31369b87a5ae9c44ee89e2a6dec0a","f7e3507399e595929db99f34f57937101296891e44d23f0be1f32cce69616821"],["8282263212c609d9ea2a6e3e172de238d8c39cabd5ac1ca10646e23fd5f51508","11f8a8098557dfe45e8256e830b60ace62d613ac2f7b17bed31b6eaff6e26caf"],["175e159f728b865a72f99cc6c6fc846de0b93833fd2222ed73fce5b551e5b739","d3506e0d9e3c79eba4ef97a51ff71f5eacb5955add24345c6efa6ffee9fed695"],["363d90d447b00c9c99ceac05b6262ee053441c7e55552ffe526bad8f83ff4640","4e273adfc732221953b445397f3363145b9a89008199ecb62003c7f3bee9de9"],["8b4b5f165df3c2be8c6244b5b745638843e4a781a15bcd1b69f79a55dffdf80c","4aad0a6f68d308b4b3fbd7813ab0da04f9e336546162ee56b3eff0c65fd4fd36"],["723cbaa6e5db996d6bf771c00bd548c7b700dbffa6c0e77bcb6115925232fcda","96e867b5595cc498a921137488824d6e2660a0653779494801dc069d9eb39f5f"],["eebfa4d493bebf98ba5feec812c2d3b50947961237a919839a533eca0e7dd7fa","5d9a8ca3970ef0f269ee7edaf178089d9ae4cdc3a711f712ddfd4fdae1de8999"],["100f44da696e71672791d0a09b7bde459f1215a29b3c03bfefd7835b39a48db0","cdd9e13192a00b772ec8f3300c090666b7ff4a18ff5195ac0fbd5cd62bc65a09"],["e1031be262c7ed1b1dc9227a4a04c017a77f8d4464f3b3852c8acde6e534fd2d","9d7061928940405e6bb6a4176597535af292dd419e1ced79a44f18f29456a00d"],["feea6cae46d55b530ac2839f143bd7ec5cf8b266a41d6af52d5e688d9094696d","e57c6b6c97dce1bab06e4e12bf3ecd5c981c8957cc41442d3155debf18090088"],["da67a91d91049cdcb367be4be6ffca3cfeed657d808583de33fa978bc1ec6cb1","9bacaa35481642bc41f463f7ec9780e5dec7adc508f740a17e9ea8e27a68be1d"],["53904faa0b334cdda6e000935ef22151ec08d0f7bb11069f57545ccc1a37b7c0","5bc087d0bc80106d88c9eccac20d3c1c13999981e14434699dcb096b022771c8"],["8e7bcd0bd35983a7719cca7764ca906779b53a043a9b8bcaeff959f43ad86047","10b7770b2a3da4b3940310420ca9514579e88e2e47fd68b3ea10047e8460372a"],["385eed34c1cdff21e6d0818689b81bde71a7f4f18397e6690a841e1599c43862","283bebc3e8ea23f56701de19e9ebf4576b304eec2086dc8cc0458fe5542e5453"],["6f9d9b803ecf191637c73a4413dfa180fddf84a5947fbc9c606ed86c3fac3a7","7c80c68e603059ba69b8e2a30e45c4d47ea4dd2f5c281002d86890603a842160"],["3322d401243c4e2582a2147c104d6ecbf774d163db0f5e5313b7e0e742d0e6bd","56e70797e9664ef5bfb019bc4ddaf9b72805f63ea2873af624f3a2e96c28b2a0"],["85672c7d2de0b7da2bd1770d89665868741b3f9af7643397721d74d28134ab83","7c481b9b5b43b2eb6374049bfa62c2e5e77f17fcc5298f44c8e3094f790313a6"],["948bf809b1988a46b06c9f1919413b10f9226c60f668832ffd959af60c82a0a","53a562856dcb6646dc6b74c5d1c3418c6d4dff08c97cd2bed4cb7f88d8c8e589"],["6260ce7f461801c34f067ce0f02873a8f1b0e44dfc69752accecd819f38fd8e8","bc2da82b6fa5b571a7f09049776a1ef7ecd292238051c198c1a84e95b2b4ae17"],["e5037de0afc1d8d43d8348414bbf4103043ec8f575bfdc432953cc8d2037fa2d","4571534baa94d3b5f9f98d09fb990bddbd5f5b03ec481f10e0e5dc841d755bda"],["e06372b0f4a207adf5ea905e8f1771b4e7e8dbd1c6a6c5b725866a0ae4fce725","7a908974bce18cfe12a27bb2ad5a488cd7484a7787104870b27034f94eee31dd"],["213c7a715cd5d45358d0bbf9dc0ce02204b10bdde2a3f58540ad6908d0559754","4b6dad0b5ae462507013ad06245ba190bb4850f5f36a7eeddff2c27534b458f2"],["4e7c272a7af4b34e8dbb9352a5419a87e2838c70adc62cddf0cc3a3b08fbd53c","17749c766c9d0b18e16fd09f6def681b530b9614bff7dd33e0b3941817dcaae6"],["fea74e3dbe778b1b10f238ad61686aa5c76e3db2be43057632427e2840fb27b6","6e0568db9b0b13297cf674deccb6af93126b596b973f7b77701d3db7f23cb96f"],["76e64113f677cf0e10a2570d599968d31544e179b760432952c02a4417bdde39","c90ddf8dee4e95cf577066d70681f0d35e2a33d2b56d2032b4b1752d1901ac01"],["c738c56b03b2abe1e8281baa743f8f9a8f7cc643df26cbee3ab150242bcbb891","893fb578951ad2537f718f2eacbfbbbb82314eef7880cfe917e735d9699a84c3"],["d895626548b65b81e264c7637c972877d1d72e5f3a925014372e9f6588f6c14b","febfaa38f2bc7eae728ec60818c340eb03428d632bb067e179363ed75d7d991f"],["b8da94032a957518eb0f6433571e8761ceffc73693e84edd49150a564f676e03","2804dfa44805a1e4d7c99cc9762808b092cc584d95ff3b511488e4e74efdf6e7"],["e80fea14441fb33a7d8adab9475d7fab2019effb5156a792f1a11778e3c0df5d","eed1de7f638e00771e89768ca3ca94472d155e80af322ea9fcb4291b6ac9ec78"],["a301697bdfcd704313ba48e51d567543f2a182031efd6915ddc07bbcc4e16070","7370f91cfb67e4f5081809fa25d40f9b1735dbf7c0a11a130c0d1a041e177ea1"],["90ad85b389d6b936463f9d0512678de208cc330b11307fffab7ac63e3fb04ed4","e507a3620a38261affdcbd9427222b839aefabe1582894d991d4d48cb6ef150"],["8f68b9d2f63b5f339239c1ad981f162ee88c5678723ea3351b7b444c9ec4c0da","662a9f2dba063986de1d90c2b6be215dbbea2cfe95510bfdf23cbf79501fff82"],["e4f3fb0176af85d65ff99ff9198c36091f48e86503681e3e6686fd5053231e11","1e63633ad0ef4f1c1661a6d0ea02b7286cc7e74ec951d1c9822c38576feb73bc"],["8c00fa9b18ebf331eb961537a45a4266c7034f2f0d4e1d0716fb6eae20eae29e","efa47267fea521a1a9dc343a3736c974c2fadafa81e36c54e7d2a4c66702414b"],["e7a26ce69dd4829f3e10cec0a9e98ed3143d084f308b92c0997fddfc60cb3e41","2a758e300fa7984b471b006a1aafbb18d0a6b2c0420e83e20e8a9421cf2cfd51"],["b6459e0ee3662ec8d23540c223bcbdc571cbcb967d79424f3cf29eb3de6b80ef","67c876d06f3e06de1dadf16e5661db3c4b3ae6d48e35b2ff30bf0b61a71ba45"],["d68a80c8280bb840793234aa118f06231d6f1fc67e73c5a5deda0f5b496943e8","db8ba9fff4b586d00c4b1f9177b0e28b5b0e7b8f7845295a294c84266b133120"],["324aed7df65c804252dc0270907a30b09612aeb973449cea4095980fc28d3d5d","648a365774b61f2ff130c0c35aec1f4f19213b0c7e332843967224af96ab7c84"],["4df9c14919cde61f6d51dfdbe5fee5dceec4143ba8d1ca888e8bd373fd054c96","35ec51092d8728050974c23a1d85d4b5d506cdc288490192ebac06cad10d5d"],["9c3919a84a474870faed8a9c1cc66021523489054d7f0308cbfc99c8ac1f98cd","ddb84f0f4a4ddd57584f044bf260e641905326f76c64c8e6be7e5e03d4fc599d"],["6057170b1dd12fdf8de05f281d8e06bb91e1493a8b91d4cc5a21382120a959e5","9a1af0b26a6a4807add9a2daf71df262465152bc3ee24c65e899be932385a2a8"],["a576df8e23a08411421439a4518da31880cef0fba7d4df12b1a6973eecb94266","40a6bf20e76640b2c92b97afe58cd82c432e10a7f514d9f3ee8be11ae1b28ec8"],["7778a78c28dec3e30a05fe9629de8c38bb30d1f5cf9a3a208f763889be58ad71","34626d9ab5a5b22ff7098e12f2ff580087b38411ff24ac563b513fc1fd9f43ac"],["928955ee637a84463729fd30e7afd2ed5f96274e5ad7e5cb09eda9c06d903ac","c25621003d3f42a827b78a13093a95eeac3d26efa8a8d83fc5180e935bcd091f"],["85d0fef3ec6db109399064f3a0e3b2855645b4a907ad354527aae75163d82751","1f03648413a38c0be29d496e582cf5663e8751e96877331582c237a24eb1f962"],["ff2b0dce97eece97c1c9b6041798b85dfdfb6d8882da20308f5404824526087e","493d13fef524ba188af4c4dc54d07936c7b7ed6fb90e2ceb2c951e01f0c29907"],["827fbbe4b1e880ea9ed2b2e6301b212b57f1ee148cd6dd28780e5e2cf856e241","c60f9c923c727b0b71bef2c67d1d12687ff7a63186903166d605b68baec293ec"],["eaa649f21f51bdbae7be4ae34ce6e5217a58fdce7f47f9aa7f3b58fa2120e2b3","be3279ed5bbbb03ac69a80f89879aa5a01a6b965f13f7e59d47a5305ba5ad93d"],["e4a42d43c5cf169d9391df6decf42ee541b6d8f0c9a137401e23632dda34d24f","4d9f92e716d1c73526fc99ccfb8ad34ce886eedfa8d8e4f13a7f7131deba9414"],["1ec80fef360cbdd954160fadab352b6b92b53576a88fea4947173b9d4300bf19","aeefe93756b5340d2f3a4958a7abbf5e0146e77f6295a07b671cdc1cc107cefd"],["146a778c04670c2f91b00af4680dfa8bce3490717d58ba889ddb5928366642be","b318e0ec3354028add669827f9d4b2870aaa971d2f7e5ed1d0b297483d83efd0"],["fa50c0f61d22e5f07e3acebb1aa07b128d0012209a28b9776d76a8793180eef9","6b84c6922397eba9b72cd2872281a68a5e683293a57a213b38cd8d7d3f4f2811"],["da1d61d0ca721a11b1a5bf6b7d88e8421a288ab5d5bba5220e53d32b5f067ec2","8157f55a7c99306c79c0766161c91e2966a73899d279b48a655fba0f1ad836f1"],["a8e282ff0c9706907215ff98e8fd416615311de0446f1e062a73b0610d064e13","7f97355b8db81c09abfb7f3c5b2515888b679a3e50dd6bd6cef7c73111f4cc0c"],["174a53b9c9a285872d39e56e6913cab15d59b1fa512508c022f382de8319497c","ccc9dc37abfc9c1657b4155f2c47f9e6646b3a1d8cb9854383da13ac079afa73"],["959396981943785c3d3e57edf5018cdbe039e730e4918b3d884fdff09475b7ba","2e7e552888c331dd8ba0386a4b9cd6849c653f64c8709385e9b8abf87524f2fd"],["d2a63a50ae401e56d645a1153b109a8fcca0a43d561fba2dbb51340c9d82b151","e82d86fb6443fcb7565aee58b2948220a70f750af484ca52d4142174dcf89405"],["64587e2335471eb890ee7896d7cfdc866bacbdbd3839317b3436f9b45617e073","d99fcdd5bf6902e2ae96dd6447c299a185b90a39133aeab358299e5e9faf6589"],["8481bde0e4e4d885b3a546d3e549de042f0aa6cea250e7fd358d6c86dd45e458","38ee7b8cba5404dd84a25bf39cecb2ca900a79c42b262e556d64b1b59779057e"],["13464a57a78102aa62b6979ae817f4637ffcfed3c4b1ce30bcd6303f6caf666b","69be159004614580ef7e433453ccb0ca48f300a81d0942e13f495a907f6ecc27"],["bc4a9df5b713fe2e9aef430bcc1dc97a0cd9ccede2f28588cada3a0d2d83f366","d3a81ca6e785c06383937adf4b798caa6e8a9fbfa547b16d758d666581f33c1"],["8c28a97bf8298bc0d23d8c749452a32e694b65e30a9472a3954ab30fe5324caa","40a30463a3305193378fedf31f7cc0eb7ae784f0451cb9459e71dc73cbef9482"],["8ea9666139527a8c1dd94ce4f071fd23c8b350c5a4bb33748c4ba111faccae0","620efabbc8ee2782e24e7c0cfb95c5d735b783be9cf0f8e955af34a30e62b945"],["dd3625faef5ba06074669716bbd3788d89bdde815959968092f76cc4eb9a9787","7a188fa3520e30d461da2501045731ca941461982883395937f68d00c644a573"],["f710d79d9eb962297e4f6232b40e8f7feb2bc63814614d692c12de752408221e","ea98e67232d3b3295d3b535532115ccac8612c721851617526ae47a9c77bfc82"]]},naf:{wnd:7,points:[["f9308a019258c31049344f85f89d5229b531c845836f99b08601f113bce036f9","388f7b0f632de8140fe337e62a37f3566500a99934c2231b6cb9fd7584b8e672"],["2f8bde4d1a07209355b4a7250a5c5128e88b84bddc619ab7cba8d569b240efe4","d8ac222636e5e3d6d4dba9dda6c9c426f788271bab0d6840dca87d3aa6ac62d6"],["5cbdf0646e5db4eaa398f365f2ea7a0e3d419b7e0330e39ce92bddedcac4f9bc","6aebca40ba255960a3178d6d861a54dba813d0b813fde7b5a5082628087264da"],["acd484e2f0c7f65309ad178a9f559abde09796974c57e714c35f110dfc27ccbe","cc338921b0a7d9fd64380971763b61e9add888a4375f8e0f05cc262ac64f9c37"],["774ae7f858a9411e5ef4246b70c65aac5649980be5c17891bbec17895da008cb","d984a032eb6b5e190243dd56d7b7b365372db1e2dff9d6a8301d74c9c953c61b"],["f28773c2d975288bc7d1d205c3748651b075fbc6610e58cddeeddf8f19405aa8","ab0902e8d880a89758212eb65cdaf473a1a06da521fa91f29b5cb52db03ed81"],["d7924d4f7d43ea965a465ae3095ff41131e5946f3c85f79e44adbcf8e27e080e","581e2872a86c72a683842ec228cc6defea40af2bd896d3a5c504dc9ff6a26b58"],["defdea4cdb677750a420fee807eacf21eb9898ae79b9768766e4faa04a2d4a34","4211ab0694635168e997b0ead2a93daeced1f4a04a95c0f6cfb199f69e56eb77"],["2b4ea0a797a443d293ef5cff444f4979f06acfebd7e86d277475656138385b6c","85e89bc037945d93b343083b5a1c86131a01f60c50269763b570c854e5c09b7a"],["352bbf4a4cdd12564f93fa332ce333301d9ad40271f8107181340aef25be59d5","321eb4075348f534d59c18259dda3e1f4a1b3b2e71b1039c67bd3d8bcf81998c"],["2fa2104d6b38d11b0230010559879124e42ab8dfeff5ff29dc9cdadd4ecacc3f","2de1068295dd865b64569335bd5dd80181d70ecfc882648423ba76b532b7d67"],["9248279b09b4d68dab21a9b066edda83263c3d84e09572e269ca0cd7f5453714","73016f7bf234aade5d1aa71bdea2b1ff3fc0de2a887912ffe54a32ce97cb3402"],["daed4f2be3a8bf278e70132fb0beb7522f570e144bf615c07e996d443dee8729","a69dce4a7d6c98e8d4a1aca87ef8d7003f83c230f3afa726ab40e52290be1c55"],["c44d12c7065d812e8acf28d7cbb19f9011ecd9e9fdf281b0e6a3b5e87d22e7db","2119a460ce326cdc76c45926c982fdac0e106e861edf61c5a039063f0e0e6482"],["6a245bf6dc698504c89a20cfded60853152b695336c28063b61c65cbd269e6b4","e022cf42c2bd4a708b3f5126f16a24ad8b33ba48d0423b6efd5e6348100d8a82"],["1697ffa6fd9de627c077e3d2fe541084ce13300b0bec1146f95ae57f0d0bd6a5","b9c398f186806f5d27561506e4557433a2cf15009e498ae7adee9d63d01b2396"],["605bdb019981718b986d0f07e834cb0d9deb8360ffb7f61df982345ef27a7479","2972d2de4f8d20681a78d93ec96fe23c26bfae84fb14db43b01e1e9056b8c49"],["62d14dab4150bf497402fdc45a215e10dcb01c354959b10cfe31c7e9d87ff33d","80fc06bd8cc5b01098088a1950eed0db01aa132967ab472235f5642483b25eaf"],["80c60ad0040f27dade5b4b06c408e56b2c50e9f56b9b8b425e555c2f86308b6f","1c38303f1cc5c30f26e66bad7fe72f70a65eed4cbe7024eb1aa01f56430bd57a"],["7a9375ad6167ad54aa74c6348cc54d344cc5dc9487d847049d5eabb0fa03c8fb","d0e3fa9eca8726909559e0d79269046bdc59ea10c70ce2b02d499ec224dc7f7"],["d528ecd9b696b54c907a9ed045447a79bb408ec39b68df504bb51f459bc3ffc9","eecf41253136e5f99966f21881fd656ebc4345405c520dbc063465b521409933"],["49370a4b5f43412ea25f514e8ecdad05266115e4a7ecb1387231808f8b45963","758f3f41afd6ed428b3081b0512fd62a54c3f3afbb5b6764b653052a12949c9a"],["77f230936ee88cbbd73df930d64702ef881d811e0e1498e2f1c13eb1fc345d74","958ef42a7886b6400a08266e9ba1b37896c95330d97077cbbe8eb3c7671c60d6"],["f2dac991cc4ce4b9ea44887e5c7c0bce58c80074ab9d4dbaeb28531b7739f530","e0dedc9b3b2f8dad4da1f32dec2531df9eb5fbeb0598e4fd1a117dba703a3c37"],["463b3d9f662621fb1b4be8fbbe2520125a216cdfc9dae3debcba4850c690d45b","5ed430d78c296c3543114306dd8622d7c622e27c970a1de31cb377b01af7307e"],["f16f804244e46e2a09232d4aff3b59976b98fac14328a2d1a32496b49998f247","cedabd9b82203f7e13d206fcdf4e33d92a6c53c26e5cce26d6579962c4e31df6"],["caf754272dc84563b0352b7a14311af55d245315ace27c65369e15f7151d41d1","cb474660ef35f5f2a41b643fa5e460575f4fa9b7962232a5c32f908318a04476"],["2600ca4b282cb986f85d0f1709979d8b44a09c07cb86d7c124497bc86f082120","4119b88753c15bd6a693b03fcddbb45d5ac6be74ab5f0ef44b0be9475a7e4b40"],["7635ca72d7e8432c338ec53cd12220bc01c48685e24f7dc8c602a7746998e435","91b649609489d613d1d5e590f78e6d74ecfc061d57048bad9e76f302c5b9c61"],["754e3239f325570cdbbf4a87deee8a66b7f2b33479d468fbc1a50743bf56cc18","673fb86e5bda30fb3cd0ed304ea49a023ee33d0197a695d0c5d98093c536683"],["e3e6bd1071a1e96aff57859c82d570f0330800661d1c952f9fe2694691d9b9e8","59c9e0bba394e76f40c0aa58379a3cb6a5a2283993e90c4167002af4920e37f5"],["186b483d056a033826ae73d88f732985c4ccb1f32ba35f4b4cc47fdcf04aa6eb","3b952d32c67cf77e2e17446e204180ab21fb8090895138b4a4a797f86e80888b"],["df9d70a6b9876ce544c98561f4be4f725442e6d2b737d9c91a8321724ce0963f","55eb2dafd84d6ccd5f862b785dc39d4ab157222720ef9da217b8c45cf2ba2417"],["5edd5cc23c51e87a497ca815d5dce0f8ab52554f849ed8995de64c5f34ce7143","efae9c8dbc14130661e8cec030c89ad0c13c66c0d17a2905cdc706ab7399a868"],["290798c2b6476830da12fe02287e9e777aa3fba1c355b17a722d362f84614fba","e38da76dcd440621988d00bcf79af25d5b29c094db2a23146d003afd41943e7a"],["af3c423a95d9f5b3054754efa150ac39cd29552fe360257362dfdecef4053b45","f98a3fd831eb2b749a93b0e6f35cfb40c8cd5aa667a15581bc2feded498fd9c6"],["766dbb24d134e745cccaa28c99bf274906bb66b26dcf98df8d2fed50d884249a","744b1152eacbe5e38dcc887980da38b897584a65fa06cedd2c924f97cbac5996"],["59dbf46f8c94759ba21277c33784f41645f7b44f6c596a58ce92e666191abe3e","c534ad44175fbc300f4ea6ce648309a042ce739a7919798cd85e216c4a307f6e"],["f13ada95103c4537305e691e74e9a4a8dd647e711a95e73cb62dc6018cfd87b8","e13817b44ee14de663bf4bc808341f326949e21a6a75c2570778419bdaf5733d"],["7754b4fa0e8aced06d4167a2c59cca4cda1869c06ebadfb6488550015a88522c","30e93e864e669d82224b967c3020b8fa8d1e4e350b6cbcc537a48b57841163a2"],["948dcadf5990e048aa3874d46abef9d701858f95de8041d2a6828c99e2262519","e491a42537f6e597d5d28a3224b1bc25df9154efbd2ef1d2cbba2cae5347d57e"],["7962414450c76c1689c7b48f8202ec37fb224cf5ac0bfa1570328a8a3d7c77ab","100b610ec4ffb4760d5c1fc133ef6f6b12507a051f04ac5760afa5b29db83437"],["3514087834964b54b15b160644d915485a16977225b8847bb0dd085137ec47ca","ef0afbb2056205448e1652c48e8127fc6039e77c15c2378b7e7d15a0de293311"],["d3cc30ad6b483e4bc79ce2c9dd8bc54993e947eb8df787b442943d3f7b527eaf","8b378a22d827278d89c5e9be8f9508ae3c2ad46290358630afb34db04eede0a4"],["1624d84780732860ce1c78fcbfefe08b2b29823db913f6493975ba0ff4847610","68651cf9b6da903e0914448c6cd9d4ca896878f5282be4c8cc06e2a404078575"],["733ce80da955a8a26902c95633e62a985192474b5af207da6df7b4fd5fc61cd4","f5435a2bd2badf7d485a4d8b8db9fcce3e1ef8e0201e4578c54673bc1dc5ea1d"],["15d9441254945064cf1a1c33bbd3b49f8966c5092171e699ef258dfab81c045c","d56eb30b69463e7234f5137b73b84177434800bacebfc685fc37bbe9efe4070d"],["a1d0fcf2ec9de675b612136e5ce70d271c21417c9d2b8aaaac138599d0717940","edd77f50bcb5a3cab2e90737309667f2641462a54070f3d519212d39c197a629"],["e22fbe15c0af8ccc5780c0735f84dbe9a790badee8245c06c7ca37331cb36980","a855babad5cd60c88b430a69f53a1a7a38289154964799be43d06d77d31da06"],["311091dd9860e8e20ee13473c1155f5f69635e394704eaa74009452246cfa9b3","66db656f87d1f04fffd1f04788c06830871ec5a64feee685bd80f0b1286d8374"],["34c1fd04d301be89b31c0442d3e6ac24883928b45a9340781867d4232ec2dbdf","9414685e97b1b5954bd46f730174136d57f1ceeb487443dc5321857ba73abee"],["f219ea5d6b54701c1c14de5b557eb42a8d13f3abbcd08affcc2a5e6b049b8d63","4cb95957e83d40b0f73af4544cccf6b1f4b08d3c07b27fb8d8c2962a400766d1"],["d7b8740f74a8fbaab1f683db8f45de26543a5490bca627087236912469a0b448","fa77968128d9c92ee1010f337ad4717eff15db5ed3c049b3411e0315eaa4593b"],["32d31c222f8f6f0ef86f7c98d3a3335ead5bcd32abdd94289fe4d3091aa824bf","5f3032f5892156e39ccd3d7915b9e1da2e6dac9e6f26e961118d14b8462e1661"],["7461f371914ab32671045a155d9831ea8793d77cd59592c4340f86cbc18347b5","8ec0ba238b96bec0cbdddcae0aa442542eee1ff50c986ea6b39847b3cc092ff6"],["ee079adb1df1860074356a25aa38206a6d716b2c3e67453d287698bad7b2b2d6","8dc2412aafe3be5c4c5f37e0ecc5f9f6a446989af04c4e25ebaac479ec1c8c1e"],["16ec93e447ec83f0467b18302ee620f7e65de331874c9dc72bfd8616ba9da6b5","5e4631150e62fb40d0e8c2a7ca5804a39d58186a50e497139626778e25b0674d"],["eaa5f980c245f6f038978290afa70b6bd8855897f98b6aa485b96065d537bd99","f65f5d3e292c2e0819a528391c994624d784869d7e6ea67fb18041024edc07dc"],["78c9407544ac132692ee1910a02439958ae04877151342ea96c4b6b35a49f51","f3e0319169eb9b85d5404795539a5e68fa1fbd583c064d2462b675f194a3ddb4"],["494f4be219a1a77016dcd838431aea0001cdc8ae7a6fc688726578d9702857a5","42242a969283a5f339ba7f075e36ba2af925ce30d767ed6e55f4b031880d562c"],["a598a8030da6d86c6bc7f2f5144ea549d28211ea58faa70ebf4c1e665c1fe9b5","204b5d6f84822c307e4b4a7140737aec23fc63b65b35f86a10026dbd2d864e6b"],["c41916365abb2b5d09192f5f2dbeafec208f020f12570a184dbadc3e58595997","4f14351d0087efa49d245b328984989d5caf9450f34bfc0ed16e96b58fa9913"],["841d6063a586fa475a724604da03bc5b92a2e0d2e0a36acfe4c73a5514742881","73867f59c0659e81904f9a1c7543698e62562d6744c169ce7a36de01a8d6154"],["5e95bb399a6971d376026947f89bde2f282b33810928be4ded112ac4d70e20d5","39f23f366809085beebfc71181313775a99c9aed7d8ba38b161384c746012865"],["36e4641a53948fd476c39f8a99fd974e5ec07564b5315d8bf99471bca0ef2f66","d2424b1b1abe4eb8164227b085c9aa9456ea13493fd563e06fd51cf5694c78fc"],["336581ea7bfbbb290c191a2f507a41cf5643842170e914faeab27c2c579f726","ead12168595fe1be99252129b6e56b3391f7ab1410cd1e0ef3dcdcabd2fda224"],["8ab89816dadfd6b6a1f2634fcf00ec8403781025ed6890c4849742706bd43ede","6fdcef09f2f6d0a044e654aef624136f503d459c3e89845858a47a9129cdd24e"],["1e33f1a746c9c5778133344d9299fcaa20b0938e8acff2544bb40284b8c5fb94","60660257dd11b3aa9c8ed618d24edff2306d320f1d03010e33a7d2057f3b3b6"],["85b7c1dcb3cec1b7ee7f30ded79dd20a0ed1f4cc18cbcfcfa410361fd8f08f31","3d98a9cdd026dd43f39048f25a8847f4fcafad1895d7a633c6fed3c35e999511"],["29df9fbd8d9e46509275f4b125d6d45d7fbe9a3b878a7af872a2800661ac5f51","b4c4fe99c775a606e2d8862179139ffda61dc861c019e55cd2876eb2a27d84b"],["a0b1cae06b0a847a3fea6e671aaf8adfdfe58ca2f768105c8082b2e449fce252","ae434102edde0958ec4b19d917a6a28e6b72da1834aff0e650f049503a296cf2"],["4e8ceafb9b3e9a136dc7ff67e840295b499dfb3b2133e4ba113f2e4c0e121e5","cf2174118c8b6d7a4b48f6d534ce5c79422c086a63460502b827ce62a326683c"],["d24a44e047e19b6f5afb81c7ca2f69080a5076689a010919f42725c2b789a33b","6fb8d5591b466f8fc63db50f1c0f1c69013f996887b8244d2cdec417afea8fa3"],["ea01606a7a6c9cdd249fdfcfacb99584001edd28abbab77b5104e98e8e3b35d4","322af4908c7312b0cfbfe369f7a7b3cdb7d4494bc2823700cfd652188a3ea98d"],["af8addbf2b661c8a6c6328655eb96651252007d8c5ea31be4ad196de8ce2131f","6749e67c029b85f52a034eafd096836b2520818680e26ac8f3dfbcdb71749700"],["e3ae1974566ca06cc516d47e0fb165a674a3dabcfca15e722f0e3450f45889","2aeabe7e4531510116217f07bf4d07300de97e4874f81f533420a72eeb0bd6a4"],["591ee355313d99721cf6993ffed1e3e301993ff3ed258802075ea8ced397e246","b0ea558a113c30bea60fc4775460c7901ff0b053d25ca2bdeee98f1a4be5d196"],["11396d55fda54c49f19aa97318d8da61fa8584e47b084945077cf03255b52984","998c74a8cd45ac01289d5833a7beb4744ff536b01b257be4c5767bea93ea57a4"],["3c5d2a1ba39c5a1790000738c9e0c40b8dcdfd5468754b6405540157e017aa7a","b2284279995a34e2f9d4de7396fc18b80f9b8b9fdd270f6661f79ca4c81bd257"],["cc8704b8a60a0defa3a99a7299f2e9c3fbc395afb04ac078425ef8a1793cc030","bdd46039feed17881d1e0862db347f8cf395b74fc4bcdc4e940b74e3ac1f1b13"],["c533e4f7ea8555aacd9777ac5cad29b97dd4defccc53ee7ea204119b2889b197","6f0a256bc5efdf429a2fb6242f1a43a2d9b925bb4a4b3a26bb8e0f45eb596096"],["c14f8f2ccb27d6f109f6d08d03cc96a69ba8c34eec07bbcf566d48e33da6593","c359d6923bb398f7fd4473e16fe1c28475b740dd098075e6c0e8649113dc3a38"],["a6cbc3046bc6a450bac24789fa17115a4c9739ed75f8f21ce441f72e0b90e6ef","21ae7f4680e889bb130619e2c0f95a360ceb573c70603139862afd617fa9b9f"],["347d6d9a02c48927ebfb86c1359b1caf130a3c0267d11ce6344b39f99d43cc38","60ea7f61a353524d1c987f6ecec92f086d565ab687870cb12689ff1e31c74448"],["da6545d2181db8d983f7dcb375ef5866d47c67b1bf31c8cf855ef7437b72656a","49b96715ab6878a79e78f07ce5680c5d6673051b4935bd897fea824b77dc208a"],["c40747cc9d012cb1a13b8148309c6de7ec25d6945d657146b9d5994b8feb1111","5ca560753be2a12fc6de6caf2cb489565db936156b9514e1bb5e83037e0fa2d4"],["4e42c8ec82c99798ccf3a610be870e78338c7f713348bd34c8203ef4037f3502","7571d74ee5e0fb92a7a8b33a07783341a5492144cc54bcc40a94473693606437"],["3775ab7089bc6af823aba2e1af70b236d251cadb0c86743287522a1b3b0dedea","be52d107bcfa09d8bcb9736a828cfa7fac8db17bf7a76a2c42ad961409018cf7"],["cee31cbf7e34ec379d94fb814d3d775ad954595d1314ba8846959e3e82f74e26","8fd64a14c06b589c26b947ae2bcf6bfa0149ef0be14ed4d80f448a01c43b1c6d"],["b4f9eaea09b6917619f6ea6a4eb5464efddb58fd45b1ebefcdc1a01d08b47986","39e5c9925b5a54b07433a4f18c61726f8bb131c012ca542eb24a8ac07200682a"],["d4263dfc3d2df923a0179a48966d30ce84e2515afc3dccc1b77907792ebcc60e","62dfaf07a0f78feb30e30d6295853ce189e127760ad6cf7fae164e122a208d54"],["48457524820fa65a4f8d35eb6930857c0032acc0a4a2de422233eeda897612c4","25a748ab367979d98733c38a1fa1c2e7dc6cc07db2d60a9ae7a76aaa49bd0f77"],["dfeeef1881101f2cb11644f3a2afdfc2045e19919152923f367a1767c11cceda","ecfb7056cf1de042f9420bab396793c0c390bde74b4bbdff16a83ae09a9a7517"],["6d7ef6b17543f8373c573f44e1f389835d89bcbc6062ced36c82df83b8fae859","cd450ec335438986dfefa10c57fea9bcc521a0959b2d80bbf74b190dca712d10"],["e75605d59102a5a2684500d3b991f2e3f3c88b93225547035af25af66e04541f","f5c54754a8f71ee540b9b48728473e314f729ac5308b06938360990e2bfad125"],["eb98660f4c4dfaa06a2be453d5020bc99a0c2e60abe388457dd43fefb1ed620c","6cb9a8876d9cb8520609af3add26cd20a0a7cd8a9411131ce85f44100099223e"],["13e87b027d8514d35939f2e6892b19922154596941888336dc3563e3b8dba942","fef5a3c68059a6dec5d624114bf1e91aac2b9da568d6abeb2570d55646b8adf1"],["ee163026e9fd6fe017c38f06a5be6fc125424b371ce2708e7bf4491691e5764a","1acb250f255dd61c43d94ccc670d0f58f49ae3fa15b96623e5430da0ad6c62b2"],["b268f5ef9ad51e4d78de3a750c2dc89b1e626d43505867999932e5db33af3d80","5f310d4b3c99b9ebb19f77d41c1dee018cf0d34fd4191614003e945a1216e423"],["ff07f3118a9df035e9fad85eb6c7bfe42b02f01ca99ceea3bf7ffdba93c4750d","438136d603e858a3a5c440c38eccbaddc1d2942114e2eddd4740d098ced1f0d8"],["8d8b9855c7c052a34146fd20ffb658bea4b9f69e0d825ebec16e8c3ce2b526a1","cdb559eedc2d79f926baf44fb84ea4d44bcf50fee51d7ceb30e2e7f463036758"],["52db0b5384dfbf05bfa9d472d7ae26dfe4b851ceca91b1eba54263180da32b63","c3b997d050ee5d423ebaf66a6db9f57b3180c902875679de924b69d84a7b375"],["e62f9490d3d51da6395efd24e80919cc7d0f29c3f3fa48c6fff543becbd43352","6d89ad7ba4876b0b22c2ca280c682862f342c8591f1daf5170e07bfd9ccafa7d"],["7f30ea2476b399b4957509c88f77d0191afa2ff5cb7b14fd6d8e7d65aaab1193","ca5ef7d4b231c94c3b15389a5f6311e9daff7bb67b103e9880ef4bff637acaec"],["5098ff1e1d9f14fb46a210fada6c903fef0fb7b4a1dd1d9ac60a0361800b7a00","9731141d81fc8f8084d37c6e7542006b3ee1b40d60dfe5362a5b132fd17ddc0"],["32b78c7de9ee512a72895be6b9cbefa6e2f3c4ccce445c96b9f2c81e2778ad58","ee1849f513df71e32efc3896ee28260c73bb80547ae2275ba497237794c8753c"],["e2cb74fddc8e9fbcd076eef2a7c72b0ce37d50f08269dfc074b581550547a4f7","d3aa2ed71c9dd2247a62df062736eb0baddea9e36122d2be8641abcb005cc4a4"],["8438447566d4d7bedadc299496ab357426009a35f235cb141be0d99cd10ae3a8","c4e1020916980a4da5d01ac5e6ad330734ef0d7906631c4f2390426b2edd791f"],["4162d488b89402039b584c6fc6c308870587d9c46f660b878ab65c82c711d67e","67163e903236289f776f22c25fb8a3afc1732f2b84b4e95dbda47ae5a0852649"],["3fad3fa84caf0f34f0f89bfd2dcf54fc175d767aec3e50684f3ba4a4bf5f683d","cd1bc7cb6cc407bb2f0ca647c718a730cf71872e7d0d2a53fa20efcdfe61826"],["674f2600a3007a00568c1a7ce05d0816c1fb84bf1370798f1c69532faeb1a86b","299d21f9413f33b3edf43b257004580b70db57da0b182259e09eecc69e0d38a5"],["d32f4da54ade74abb81b815ad1fb3b263d82d6c692714bcff87d29bd5ee9f08f","f9429e738b8e53b968e99016c059707782e14f4535359d582fc416910b3eea87"],["30e4e670435385556e593657135845d36fbb6931f72b08cb1ed954f1e3ce3ff6","462f9bce619898638499350113bbc9b10a878d35da70740dc695a559eb88db7b"],["be2062003c51cc3004682904330e4dee7f3dcd10b01e580bf1971b04d4cad297","62188bc49d61e5428573d48a74e1c655b1c61090905682a0d5558ed72dccb9bc"],["93144423ace3451ed29e0fb9ac2af211cb6e84a601df5993c419859fff5df04a","7c10dfb164c3425f5c71a3f9d7992038f1065224f72bb9d1d902a6d13037b47c"],["b015f8044f5fcbdcf21ca26d6c34fb8197829205c7b7d2a7cb66418c157b112c","ab8c1e086d04e813744a655b2df8d5f83b3cdc6faa3088c1d3aea1454e3a1d5f"],["d5e9e1da649d97d89e4868117a465a3a4f8a18de57a140d36b3f2af341a21b52","4cb04437f391ed73111a13cc1d4dd0db1693465c2240480d8955e8592f27447a"],["d3ae41047dd7ca065dbf8ed77b992439983005cd72e16d6f996a5316d36966bb","bd1aeb21ad22ebb22a10f0303417c6d964f8cdd7df0aca614b10dc14d125ac46"],["463e2763d885f958fc66cdd22800f0a487197d0a82e377b49f80af87c897b065","bfefacdb0e5d0fd7df3a311a94de062b26b80c61fbc97508b79992671ef7ca7f"],["7985fdfd127c0567c6f53ec1bb63ec3158e597c40bfe747c83cddfc910641917","603c12daf3d9862ef2b25fe1de289aed24ed291e0ec6708703a5bd567f32ed03"],["74a1ad6b5f76e39db2dd249410eac7f99e74c59cb83d2d0ed5ff1543da7703e9","cc6157ef18c9c63cd6193d83631bbea0093e0968942e8c33d5737fd790e0db08"],["30682a50703375f602d416664ba19b7fc9bab42c72747463a71d0896b22f6da3","553e04f6b018b4fa6c8f39e7f311d3176290d0e0f19ca73f17714d9977a22ff8"],["9e2158f0d7c0d5f26c3791efefa79597654e7a2b2464f52b1ee6c1347769ef57","712fcdd1b9053f09003a3481fa7762e9ffd7c8ef35a38509e2fbf2629008373"],["176e26989a43c9cfeba4029c202538c28172e566e3c4fce7322857f3be327d66","ed8cc9d04b29eb877d270b4878dc43c19aefd31f4eee09ee7b47834c1fa4b1c3"],["75d46efea3771e6e68abb89a13ad747ecf1892393dfc4f1b7004788c50374da8","9852390a99507679fd0b86fd2b39a868d7efc22151346e1a3ca4726586a6bed8"],["809a20c67d64900ffb698c4c825f6d5f2310fb0451c869345b7319f645605721","9e994980d9917e22b76b061927fa04143d096ccc54963e6a5ebfa5f3f8e286c1"],["1b38903a43f7f114ed4500b4eac7083fdefece1cf29c63528d563446f972c180","4036edc931a60ae889353f77fd53de4a2708b26b6f5da72ad3394119daf408f9"]]}}),iE}(function(t){var e=t,n=Bb,r=rC,i=Yi,o=i.assert;function s(l){l.type==="short"?this.curve=new r.short(l):l.type==="edwards"?this.curve=new r.edwards(l):this.curve=new r.mont(l),this.g=this.curve.g,this.n=this.curve.n,this.hash=l.hash,o(this.g.validate(),"Invalid curve"),o(this.g.mul(this.n).isInfinity(),"Invalid curve, G*N != O")}e.PresetCurve=s;function a(l,u){Object.defineProperty(e,l,{configurable:!0,enumerable:!0,get:function(){var d=new s(u);return Object.defineProperty(e,l,{configurable:!0,enumerable:!0,value:d}),d}})}a("p192",{type:"short",prime:"p192",p:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff",a:"ffffffff ffffffff ffffffff fffffffe ffffffff fffffffc",b:"64210519 e59c80e7 0fa7e9ab 72243049 feb8deec c146b9b1",n:"ffffffff ffffffff ffffffff 99def836 146bc9b1 b4d22831",hash:n.sha256,gRed:!1,g:["188da80e b03090f6 7cbf20eb 43a18800 f4ff0afd 82ff1012","07192b95 ffc8da78 631011ed 6b24cdd5 73f977a1 1e794811"]}),a("p224",{type:"short",prime:"p224",p:"ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001",a:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff fffffffe",b:"b4050a85 0c04b3ab f5413256 5044b0b7 d7bfd8ba 270b3943 2355ffb4",n:"ffffffff ffffffff ffffffff ffff16a2 e0b8f03e 13dd2945 5c5c2a3d",hash:n.sha256,gRed:!1,g:["b70e0cbd 6bb4bf7f 321390b9 4a03c1d3 56c21122 343280d6 115c1d21","bd376388 b5f723fb 4c22dfe6 cd4375a0 5a074764 44d58199 85007e34"]}),a("p256",{type:"short",prime:null,p:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff ffffffff",a:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff fffffffc",b:"5ac635d8 aa3a93e7 b3ebbd55 769886bc 651d06b0 cc53b0f6 3bce3c3e 27d2604b",n:"ffffffff 00000000 ffffffff ffffffff bce6faad a7179e84 f3b9cac2 fc632551",hash:n.sha256,gRed:!1,g:["6b17d1f2 e12c4247 f8bce6e5 63a440f2 77037d81 2deb33a0 f4a13945 d898c296","4fe342e2 fe1a7f9b 8ee7eb4a 7c0f9e16 2bce3357 6b315ece cbb64068 37bf51f5"]}),a("p384",{type:"short",prime:null,p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 ffffffff",a:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 fffffffc",b:"b3312fa7 e23ee7e4 988e056b e3f82d19 181d9c6e fe814112 0314088f 5013875a c656398d 8a2ed19d 2a85c8ed d3ec2aef",n:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff c7634d81 f4372ddf 581a0db2 48b0a77a ecec196a ccc52973",hash:n.sha384,gRed:!1,g:["aa87ca22 be8b0537 8eb1c71e f320ad74 6e1d3b62 8ba79b98 59f741e0 82542a38 5502f25d bf55296c 3a545e38 72760ab7","3617de4a 96262c6f 5d9e98bf 9292dc29 f8f41dbd 289a147c e9da3113 b5f0b8c0 0a60b1ce 1d7e819d 7a431d7c 90ea0e5f"]}),a("p521",{type:"short",prime:null,p:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff",a:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffc",b:"00000051 953eb961 8e1c9a1f 929a21a0 b68540ee a2da725b 99b315f3 b8b48991 8ef109e1 56193951 ec7e937b 1652c0bd 3bb1bf07 3573df88 3d2c34f1 ef451fd4 6b503f00",n:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffa 51868783 bf2f966b 7fcc0148 f709a5d0 3bb5c9b8 899c47ae bb6fb71e 91386409",hash:n.sha512,gRed:!1,g:["000000c6 858e06b7 0404e9cd 9e3ecb66 2395b442 9c648139 053fb521 f828af60 6b4d3dba a14b5e77 efe75928 fe1dc127 a2ffa8de 3348b3c1 856a429b f97e7e31 c2e5bd66","00000118 39296a78 9a3bc004 5c8a5fb4 2c7d1bd9 98f54449 579b4468 17afbd17 273e662c 97ee7299 5ef42640 c550b901 3fad0761 353c7086 a272c240 88be9476 9fd16650"]}),a("curve25519",{type:"mont",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"76d06",b:"1",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:n.sha256,gRed:!1,g:["9"]}),a("ed25519",{type:"edwards",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"-1",c:"1",d:"52036cee2b6ffe73 8cc740797779e898 00700a4d4141d8ab 75eb4dca135978a3",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:n.sha256,gRed:!1,g:["216936d3cd6e53fec0a4e231fdd6dc5c692cc7609525a7b2c9562d608f25d51a","6666666666666666666666666666666666666666666666666666666666666658"]});var c;try{c=TQ()}catch{c=void 0}a("secp256k1",{type:"short",prime:"k256",p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f",a:"0",b:"7",n:"ffffffff ffffffff ffffffff fffffffe baaedce6 af48a03b bfd25e8c d0364141",h:"1",hash:n.sha256,beta:"7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee",lambda:"5363ad4cc05c30e0a5261c028812645a122e22ea20816678df02967c1b23bd72",basis:[{a:"3086d221a7d46bcde86c90e49284eb15",b:"-e4437ed6010e88286f547fa90abfe4c3"},{a:"114ca50f7a8e2f3f657c1108d9d44cfd8",b:"3086d221a7d46bcde86c90e49284eb15"}],gRed:!1,g:["79be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f81798","483ada7726a3c4655da4fbfc0e1108a8fd17b448a68554199c47d08ffb10d4b8",c]})})(Kb);var MQ=Bb,fd=tC,nB=Wd;function su(t){if(!(this instanceof su))return new su(t);this.hash=t.hash,this.predResist=!!t.predResist,this.outLen=this.hash.outSize,this.minEntropy=t.minEntropy||this.hash.hmacStrength,this._reseed=null,this.reseedInterval=null,this.K=null,this.V=null;var e=fd.toArray(t.entropy,t.entropyEnc||"hex"),n=fd.toArray(t.nonce,t.nonceEnc||"hex"),r=fd.toArray(t.pers,t.persEnc||"hex");nB(e.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._init(e,n,r)}var NQ=su;su.prototype._init=function(e,n,r){var i=e.concat(n).concat(r);this.K=new Array(this.outLen/8),this.V=new Array(this.outLen/8);for(var o=0;o<this.V.length;o++)this.K[o]=0,this.V[o]=1;this._update(i),this._reseed=1,this.reseedInterval=281474976710656};su.prototype._hmac=function(){return new MQ.hmac(this.hash,this.K)};su.prototype._update=function(e){var n=this._hmac().update(this.V).update([0]);e&&(n=n.update(e)),this.K=n.digest(),this.V=this._hmac().update(this.V).digest(),e&&(this.K=this._hmac().update(this.V).update([1]).update(e).digest(),this.V=this._hmac().update(this.V).digest())};su.prototype.reseed=function(e,n,r,i){typeof n!="string"&&(i=r,r=n,n=null),e=fd.toArray(e,n),r=fd.toArray(r,i),nB(e.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._update(e.concat(r||[])),this._reseed=1};su.prototype.generate=function(e,n,r,i){if(this._reseed>this.reseedInterval)throw new Error("Reseed is required");typeof n!="string"&&(i=r,r=n,n=null),r&&(r=fd.toArray(r,i||"hex"),this._update(r));for(var o=[];o.length<e;)this.V=this._hmac().update(this.V).digest(),o=o.concat(this.V);var s=o.slice(0,e);return this._update(r),this._reseed++,fd.encode(s,n)};var RQ=Mc,LQ=Yi,mx=LQ.assert;function Lr(t,e){this.ec=t,this.priv=null,this.pub=null,e.priv&&this._importPrivate(e.priv,e.privEnc),e.pub&&this._importPublic(e.pub,e.pubEnc)}var $Q=Lr;Lr.fromPublic=function(e,n,r){return n instanceof Lr?n:new Lr(e,{pub:n,pubEnc:r})};Lr.fromPrivate=function(e,n,r){return n instanceof Lr?n:new Lr(e,{priv:n,privEnc:r})};Lr.prototype.validate=function(){var e=this.getPublic();return e.isInfinity()?{result:!1,reason:"Invalid public key"}:e.validate()?e.mul(this.ec.curve.n).isInfinity()?{result:!0,reason:null}:{result:!1,reason:"Public key * N != O"}:{result:!1,reason:"Public key is not a point"}};Lr.prototype.getPublic=function(e,n){return typeof e=="string"&&(n=e,e=null),this.pub||(this.pub=this.ec.g.mul(this.priv)),n?this.pub.encode(n,e):this.pub};Lr.prototype.getPrivate=function(e){return e==="hex"?this.priv.toString(16,2):this.priv};Lr.prototype._importPrivate=function(e,n){this.priv=new RQ(e,n||16),this.priv=this.priv.umod(this.ec.curve.n)};Lr.prototype._importPublic=function(e,n){if(e.x||e.y){this.ec.curve.type==="mont"?mx(e.x,"Need x coordinate"):(this.ec.curve.type==="short"||this.ec.curve.type==="edwards")&&mx(e.x&&e.y,"Need both x and y coordinate"),this.pub=this.ec.curve.point(e.x,e.y);return}this.pub=this.ec.curve.decodePoint(e,n)};Lr.prototype.derive=function(e){return e.validate()||mx(e.validate(),"public point not validated"),e.mul(this.priv).getX()};Lr.prototype.sign=function(e,n,r){return this.ec.sign(e,this,n,r)};Lr.prototype.verify=function(e,n,r){return this.ec.verify(e,n,this,void 0,r)};Lr.prototype.inspect=function(){return"<Key priv: "+(this.priv&&this.priv.toString(16,2))+" pub: "+(this.pub&&this.pub.inspect())+" >"};var gw=Mc,oC=Yi,BQ=oC.assert;function qb(t,e){if(t instanceof qb)return t;this._importDER(t,e)||(BQ(t.r&&t.s,"Signature without r or s"),this.r=new gw(t.r,16),this.s=new gw(t.s,16),t.recoveryParam===void 0?this.recoveryParam=null:this.recoveryParam=t.recoveryParam)}var DQ=qb;function jQ(){this.place=0}function oE(t,e){var n=t[e.place++];if(!(n&128))return n;var r=n&15;if(r===0||r>4||t[e.place]===0)return!1;for(var i=0,o=0,s=e.place;o<r;o++,s++)i<<=8,i|=t[s],i>>>=0;return i<=127?!1:(e.place=s,i)}function Z9(t){for(var e=0,n=t.length-1;!t[e]&&!(t[e+1]&128)&&e<n;)e++;return e===0?t:t.slice(e)}qb.prototype._importDER=function(e,n){e=oC.toArray(e,n);var r=new jQ;if(e[r.place++]!==48)return!1;var i=oE(e,r);if(i===!1||i+r.place!==e.length||e[r.place++]!==2)return!1;var o=oE(e,r);if(o===!1||e[r.place]&128)return!1;var s=e.slice(r.place,o+r.place);if(r.place+=o,e[r.place++]!==2)return!1;var a=oE(e,r);if(a===!1||e.length!==a+r.place||e[r.place]&128)return!1;var c=e.slice(r.place,a+r.place);if(s[0]===0)if(s[1]&128)s=s.slice(1);else return!1;if(c[0]===0)if(c[1]&128)c=c.slice(1);else return!1;return this.r=new gw(s),this.s=new gw(c),this.recoveryParam=null,!0};function sE(t,e){if(e<128){t.push(e);return}var n=1+(Math.log(e)/Math.LN2>>>3);for(t.push(n|128);--n;)t.push(e>>>(n<<3)&255);t.push(e)}qb.prototype.toDER=function(e){var n=this.r.toArray(),r=this.s.toArray();for(n[0]&128&&(n=[0].concat(n)),r[0]&128&&(r=[0].concat(r)),n=Z9(n),r=Z9(r);!r[0]&&!(r[1]&128);)r=r.slice(1);var i=[2];sE(i,n.length),i=i.concat(n),i.push(2),sE(i,r.length);var o=i.concat(r),s=[48];return sE(s,o.length),s=s.concat(o),oC.encode(s,e)};var as=Mc,rB=NQ,FQ=Yi,aE=Kb,UQ=X$,Bu=FQ.assert,sC=$Q,Vb=DQ;function Ro(t){if(!(this instanceof Ro))return new Ro(t);typeof t=="string"&&(Bu(Object.prototype.hasOwnProperty.call(aE,t),"Unknown curve "+t),t=aE[t]),t instanceof aE.PresetCurve&&(t={curve:t}),this.curve=t.curve.curve,this.n=this.curve.n,this.nh=this.n.ushrn(1),this.g=this.curve.g,this.g=t.curve.g,this.g.precompute(t.curve.n.bitLength()+1),this.hash=t.hash||t.curve.hash}var zQ=Ro;Ro.prototype.keyPair=function(e){return new sC(this,e)};Ro.prototype.keyFromPrivate=function(e,n){return sC.fromPrivate(this,e,n)};Ro.prototype.keyFromPublic=function(e,n){return sC.fromPublic(this,e,n)};Ro.prototype.genKeyPair=function(e){e||(e={});for(var n=new rB({hash:this.hash,pers:e.pers,persEnc:e.persEnc||"utf8",entropy:e.entropy||UQ(this.hash.hmacStrength),entropyEnc:e.entropy&&e.entropyEnc||"utf8",nonce:this.n.toArray()}),r=this.n.byteLength(),i=this.n.sub(new as(2));;){var o=new as(n.generate(r));if(!(o.cmp(i)>0))return o.iaddn(1),this.keyFromPrivate(o)}};Ro.prototype._truncateToN=function(e,n,r){var i;if(as.isBN(e)||typeof e=="number")e=new as(e,16),i=e.byteLength();else if(typeof e=="object")i=e.length,e=new as(e,16);else{var o=e.toString();i=o.length+1>>>1,e=new as(o,16)}typeof r!="number"&&(r=i*8);var s=r-this.n.bitLength();return s>0&&(e=e.ushrn(s)),!n&&e.cmp(this.n)>=0?e.sub(this.n):e};Ro.prototype.sign=function(e,n,r,i){if(typeof r=="object"&&(i=r,r=null),i||(i={}),typeof e!="string"&&typeof e!="number"&&!as.isBN(e)){Bu(typeof e=="object"&&e&&typeof e.length=="number","Expected message to be an array-like, a hex string, or a BN instance"),Bu(e.length>>>0===e.length);for(var o=0;o<e.length;o++)Bu((e[o]&255)===e[o])}n=this.keyFromPrivate(n,r),e=this._truncateToN(e,!1,i.msgBitLength),Bu(!e.isNeg(),"Can not sign a negative message");var s=this.n.byteLength(),a=n.getPrivate().toArray("be",s),c=e.toArray("be",s);Bu(new as(c).eq(e),"Can not sign message");for(var l=new rB({hash:this.hash,entropy:a,nonce:c,pers:i.pers,persEnc:i.persEnc||"utf8"}),u=this.n.sub(new as(1)),d=0;;d++){var f=i.k?i.k(d):new as(l.generate(this.n.byteLength()));if(f=this._truncateToN(f,!0),!(f.cmpn(1)<=0||f.cmp(u)>=0)){var h=this.g.mul(f);if(!h.isInfinity()){var g=h.getX(),p=g.umod(this.n);if(p.cmpn(0)!==0){var S=f.invm(this.n).mul(p.mul(n.getPrivate()).iadd(e));if(S=S.umod(this.n),S.cmpn(0)!==0){var y=(h.getY().isOdd()?1:0)|(g.cmp(p)!==0?2:0);return i.canonical&&S.cmp(this.nh)>0&&(S=this.n.sub(S),y^=1),new Vb({r:p,s:S,recoveryParam:y})}}}}}};Ro.prototype.verify=function(e,n,r,i,o){o||(o={}),e=this._truncateToN(e,!1,o.msgBitLength),r=this.keyFromPublic(r,i),n=new Vb(n,"hex");var s=n.r,a=n.s;if(s.cmpn(1)<0||s.cmp(this.n)>=0||a.cmpn(1)<0||a.cmp(this.n)>=0)return!1;var c=a.invm(this.n),l=c.mul(e).umod(this.n),u=c.mul(s).umod(this.n),d;return this.curve._maxwellTrick?(d=this.g.jmulAdd(l,r.getPublic(),u),d.isInfinity()?!1:d.eqXToP(s)):(d=this.g.mulAdd(l,r.getPublic(),u),d.isInfinity()?!1:d.getX().umod(this.n).cmp(s)===0)};Ro.prototype.recoverPubKey=function(t,e,n,r){Bu((3&n)===n,"The recovery param is more than two bits"),e=new Vb(e,r);var i=this.n,o=new as(t),s=e.r,a=e.s,c=n&1,l=n>>1;if(s.cmp(this.curve.p.umod(this.curve.n))>=0&&l)throw new Error("Unable to find sencond key candinate");l?s=this.curve.pointFromX(s.add(this.curve.n),c):s=this.curve.pointFromX(s,c);var u=e.r.invm(i),d=i.sub(o).mul(u).umod(i),f=a.mul(u).umod(i);return this.g.mulAdd(d,s,f)};Ro.prototype.getKeyRecoveryParam=function(t,e,n,r){if(e=new Vb(e,r),e.recoveryParam!==null)return e.recoveryParam;for(var i=0;i<4;i++){var o;try{o=this.recoverPubKey(t,e,i)}catch{continue}if(o.eq(n))return i}throw new Error("Unable to find valid recovery factor")};var Fm=Yi,iB=Fm.assert,Q9=Fm.parseBytes,_0=Fm.cachedProperty;function rr(t,e){this.eddsa=t,this._secret=Q9(e.secret),t.isPoint(e.pub)?this._pub=e.pub:this._pubBytes=Q9(e.pub)}rr.fromPublic=function(e,n){return n instanceof rr?n:new rr(e,{pub:n})};rr.fromSecret=function(e,n){return n instanceof rr?n:new rr(e,{secret:n})};rr.prototype.secret=function(){return this._secret};_0(rr,"pubBytes",function(){return this.eddsa.encodePoint(this.pub())});_0(rr,"pub",function(){return this._pubBytes?this.eddsa.decodePoint(this._pubBytes):this.eddsa.g.mul(this.priv())});_0(rr,"privBytes",function(){var e=this.eddsa,n=this.hash(),r=e.encodingLength-1,i=n.slice(0,e.encodingLength);return i[0]&=248,i[r]&=127,i[r]|=64,i});_0(rr,"priv",function(){return this.eddsa.decodeInt(this.privBytes())});_0(rr,"hash",function(){return this.eddsa.hash().update(this.secret()).digest()});_0(rr,"messagePrefix",function(){return this.hash().slice(this.eddsa.encodingLength)});rr.prototype.sign=function(e){return iB(this._secret,"KeyPair can only verify"),this.eddsa.sign(e,this)};rr.prototype.verify=function(e,n){return this.eddsa.verify(e,n,this)};rr.prototype.getSecret=function(e){return iB(this._secret,"KeyPair is public only"),Fm.encode(this.secret(),e)};rr.prototype.getPublic=function(e){return Fm.encode(this.pubBytes(),e)};var HQ=rr,WQ=Mc,Gb=Yi,X9=Gb.assert,Yb=Gb.cachedProperty,KQ=Gb.parseBytes;function Kd(t,e){this.eddsa=t,typeof e!="object"&&(e=KQ(e)),Array.isArray(e)&&(X9(e.length===t.encodingLength*2,"Signature has invalid size"),e={R:e.slice(0,t.encodingLength),S:e.slice(t.encodingLength)}),X9(e.R&&e.S,"Signature without R or S"),t.isPoint(e.R)&&(this._R=e.R),e.S instanceof WQ&&(this._S=e.S),this._Rencoded=Array.isArray(e.R)?e.R:e.Rencoded,this._Sencoded=Array.isArray(e.S)?e.S:e.Sencoded}Yb(Kd,"S",function(){return this.eddsa.decodeInt(this.Sencoded())});Yb(Kd,"R",function(){return this.eddsa.decodePoint(this.Rencoded())});Yb(Kd,"Rencoded",function(){return this.eddsa.encodePoint(this.R())});Yb(Kd,"Sencoded",function(){return this.eddsa.encodeInt(this.S())});Kd.prototype.toBytes=function(){return this.Rencoded().concat(this.Sencoded())};Kd.prototype.toHex=function(){return Gb.encode(this.toBytes(),"hex").toUpperCase()};var qQ=Kd,VQ=Bb,GQ=Kb,Gh=Yi,YQ=Gh.assert,oB=Gh.parseBytes,sB=HQ,ek=qQ;function _i(t){if(YQ(t==="ed25519","only tested with ed25519 so far"),!(this instanceof _i))return new _i(t);t=GQ[t].curve,this.curve=t,this.g=t.g,this.g.precompute(t.n.bitLength()+1),this.pointClass=t.point().constructor,this.encodingLength=Math.ceil(t.n.bitLength()/8),this.hash=VQ.sha512}var JQ=_i;_i.prototype.sign=function(e,n){e=oB(e);var r=this.keyFromSecret(n),i=this.hashInt(r.messagePrefix(),e),o=this.g.mul(i),s=this.encodePoint(o),a=this.hashInt(s,r.pubBytes(),e).mul(r.priv()),c=i.add(a).umod(this.curve.n);return this.makeSignature({R:o,S:c,Rencoded:s})};_i.prototype.verify=function(e,n,r){if(e=oB(e),n=this.makeSignature(n),n.S().gte(n.eddsa.curve.n)||n.S().isNeg())return!1;var i=this.keyFromPublic(r),o=this.hashInt(n.Rencoded(),i.pubBytes(),e),s=this.g.mul(n.S()),a=n.R().add(i.pub().mul(o));return a.eq(s)};_i.prototype.hashInt=function(){for(var e=this.hash(),n=0;n<arguments.length;n++)e.update(arguments[n]);return Gh.intFromLE(e.digest()).umod(this.curve.n)};_i.prototype.keyFromPublic=function(e){return sB.fromPublic(this,e)};_i.prototype.keyFromSecret=function(e){return sB.fromSecret(this,e)};_i.prototype.makeSignature=function(e){return e instanceof ek?e:new ek(this,e)};_i.prototype.encodePoint=function(e){var n=e.getY().toArray("le",this.encodingLength);return n[this.encodingLength-1]|=e.getX().isOdd()?128:0,n};_i.prototype.decodePoint=function(e){e=Gh.parseBytes(e);var n=e.length-1,r=e.slice(0,n).concat(e[n]&-129),i=(e[n]&128)!==0,o=Gh.intFromLE(r);return this.curve.pointFromY(o,i)};_i.prototype.encodeInt=function(e){return e.toArray("le",this.encodingLength)};_i.prototype.decodeInt=function(e){return Gh.intFromLE(e)};_i.prototype.isPoint=function(e){return e instanceof this.pointClass};(function(t){var e=t;e.version=EQ.version,e.utils=Yi,e.rand=X$,e.curve=rC,e.curves=Kb,e.ec=zQ,e.eddsa=JQ})(X4);const Be={GOOGLE:"google",TWITTER:"twitter",FACEBOOK:"facebook",DISCORD:"discord",FARCASTER:"farcaster",APPLE:"apple",GITHUB:"github",REDDIT:"reddit",LINE:"line",KAKAO:"kakao",LINKEDIN:"linkedin",TWITCH:"twitch",TELEGRAM:"telegram",WECHAT:"wechat",EMAIL_PASSWORDLESS:"email_passwordless",SMS_PASSWORDLESS:"sms_passwordless",CUSTOM:"custom",PASSKEYS:"passkeys",AUTHENTICATOR:"authenticator"},Pr={POPUP:"popup",REDIRECT:"redirect"};var ZQ=function(e){return QQ(e)&&!XQ(e)};function QQ(t){return!!t&&typeof t=="object"}function XQ(t){var e=Object.prototype.toString.call(t);return e==="[object RegExp]"||e==="[object Date]"||nX(t)}var eX=typeof Symbol=="function"&&Symbol.for,tX=eX?Symbol.for("react.element"):60103;function nX(t){return t.$$typeof===tX}function rX(t){return Array.isArray(t)?[]:{}}function Rg(t,e){return e.clone!==!1&&e.isMergeableObject(t)?Yh(rX(t),t,e):t}function iX(t,e,n){return t.concat(e).map(function(r){return Rg(r,n)})}function oX(t,e){if(!e.customMerge)return Yh;var n=e.customMerge(t);return typeof n=="function"?n:Yh}function sX(t){return Object.getOwnPropertySymbols?Object.getOwnPropertySymbols(t).filter(function(e){return Object.propertyIsEnumerable.call(t,e)}):[]}function tk(t){return Object.keys(t).concat(sX(t))}function aB(t,e){try{return e in t}catch{return!1}}function aX(t,e){return aB(t,e)&&!(Object.hasOwnProperty.call(t,e)&&Object.propertyIsEnumerable.call(t,e))}function cX(t,e,n){var r={};return n.isMergeableObject(t)&&tk(t).forEach(function(i){r[i]=Rg(t[i],n)}),tk(e).forEach(function(i){aX(t,i)||(aB(t,i)&&n.isMergeableObject(e[i])?r[i]=oX(i,n)(t[i],e[i],n):r[i]=Rg(e[i],n))}),r}function Yh(t,e,n){n=n||{},n.arrayMerge=n.arrayMerge||iX,n.isMergeableObject=n.isMergeableObject||ZQ,n.cloneUnlessOtherwiseSpecified=Rg;var r=Array.isArray(e),i=Array.isArray(t),o=r===i;return o?r?n.arrayMerge(t,e,n):cX(t,e,n):Rg(e,n)}Yh.all=function(e,n){if(!Array.isArray(e))throw new Error("first argument should be an array");return e.reduce(function(r,i){return Yh(r,i,n)},{})};var lX=Yh,uX=lX;const ln=Bo(uX);var cB={exports:{}};(function(t){(function(e,n){t.exports?t.exports=n():e.log=n()})(en,function(){var e=function(){},n="undefined",r=typeof window!==n&&typeof window.navigator!==n&&/Trident\/|MSIE /.test(window.navigator.userAgent),i=["trace","debug","info","warn","error"],o={},s=null;function a(p,S){var y=p[S];if(typeof y.bind=="function")return y.bind(p);try{return Function.prototype.bind.call(y,p)}catch{return function(){return Function.prototype.apply.apply(y,[p,arguments])}}}function c(){console.log&&(console.log.apply?console.log.apply(console,arguments):Function.prototype.apply.apply(console.log,[console,arguments])),console.trace&&console.trace()}function l(p){return p==="debug"&&(p="log"),typeof console===n?!1:p==="trace"&&r?c:console[p]!==void 0?a(console,p):console.log!==void 0?a(console,"log"):e}function u(){for(var p=this.getLevel(),S=0;S<i.length;S++){var y=i[S];this[y]=S<p?e:this.methodFactory(y,p,this.name)}if(this.log=this.debug,typeof console===n&&p<this.levels.SILENT)return"No console available for logging"}function d(p){return function(){typeof console!==n&&(u.call(this),this[p].apply(this,arguments))}}function f(p,S,y){return l(p)||d.apply(this,arguments)}function h(p,S){var y=this,b,_,N,O="loglevel";typeof p=="string"?O+=":"+p:typeof p=="symbol"&&(O=void 0);function $(P){var m=(i[P]||"silent").toUpperCase();if(!(typeof window===n||!O)){try{window.localStorage[O]=m;return}catch{}try{window.document.cookie=encodeURIComponent(O)+"="+m+";"}catch{}}}function j(){var P;if(!(typeof window===n||!O)){try{P=window.localStorage[O]}catch{}if(typeof P===n)try{var m=window.document.cookie,w=encodeURIComponent(O),A=m.indexOf(w+"=");A!==-1&&(P=/^([^;]+)/.exec(m.slice(A+w.length+1))[1])}catch{}return y.levels[P]===void 0&&(P=void 0),P}}function k(){if(!(typeof window===n||!O)){try{window.localStorage.removeItem(O)}catch{}try{window.document.cookie=encodeURIComponent(O)+"=; expires=Thu, 01 Jan 1970 00:00:00 UTC"}catch{}}}function T(P){var m=P;if(typeof m=="string"&&y.levels[m.toUpperCase()]!==void 0&&(m=y.levels[m.toUpperCase()]),typeof m=="number"&&m>=0&&m<=y.levels.SILENT)return m;throw new TypeError("log.setLevel() called with invalid level: "+P)}y.name=p,y.levels={TRACE:0,DEBUG:1,INFO:2,WARN:3,ERROR:4,SILENT:5},y.methodFactory=S||f,y.getLevel=function(){return N??_??b},y.setLevel=function(P,m){return N=T(P),m!==!1&&$(N),u.call(y)},y.setDefaultLevel=function(P){_=T(P),j()||y.setLevel(P,!1)},y.resetLevel=function(){N=null,k(),u.call(y)},y.enableAll=function(P){y.setLevel(y.levels.TRACE,P)},y.disableAll=function(P){y.setLevel(y.levels.SILENT,P)},y.rebuild=function(){if(s!==y&&(b=T(s.getLevel())),u.call(y),s===y)for(var P in o)o[P].rebuild()},b=T(s?s.getLevel():"WARN");var L=j();L!=null&&(N=T(L)),u.call(y)}s=new h,s.getLogger=function(S){if(typeof S!="symbol"&&typeof S!="string"||S==="")throw new TypeError("You must supply a name when creating a logger.");var y=o[S];return y||(y=o[S]=new h(S,s.methodFactory)),y};var g=typeof window!==n?window.log:void 0;return s.noConflict=function(){return typeof window!==n&&window.log===s&&(window.log=g),s},s.getLoggers=function(){return o},s.default=s,s})})(cB);var lB=cB.exports;const Nc=Bo(lB),Lg=Nc.getLogger("http-helpers");Lg.setLevel(lB.levels.INFO);let dX="torus-default";const fX="x-api-key";function hX(t){Lg.setLevel(t)}async function Jb(t,e){let n=null;try{n=new URL(t)}catch{}return fetch(t,e)}function Zb(){const t={};return t[fX]=dX,t}function Qb(t){Lg.info(`Response: ${t.status} ${t.statusText}`),Lg.info(`Url: ${t.url}`)}function pX(t){const e=t.headers.get("x-web3-correlation-id");e&&Lg.info(`Request tracing with traceID = ${e}`)}const gX=async(t,e)=>{let n=null;try{const r=new Promise((o,s)=>{n=setTimeout(()=>{s(new Error(`Timed out in ${t}ms`))},t)}),i=await Promise.race([e,r]);return n!=null&&clearTimeout(n),i}catch(r){throw n!=null&&clearTimeout(n),r}},wa=async(t,e={},n={})=>{const r={mode:"cors",headers:{}};n.useAPIKey&&(r.headers=ae(ae({},r.headers),Zb())),e.method="GET";const i=ln(r,e),o=await Jb(t,i);if(o.ok){const s=o.headers.get("content-type");return s!=null&&s.includes("application/json")?o.json():o.text()}throw Qb(o),o},Id=(t,e={},n={},r={})=>{const i={mode:"cors",headers:{"Content-Type":"application/json; charset=utf-8"}};r.useAPIKey&&(i.headers=ae(ae({},i.headers),Zb())),n.method="POST";const o=ln(i,n);return r.isUrlEncodedData?(o.body=e,o.headers["Content-Type"]==="application/json; charset=utf-8"&&delete o.headers["Content-Type"]):o.body=JSON.stringify(e),gX(r.timeout||6e4,Jb(t,o).then(s=>{if(r.logTracingHeader&&pX(s),s.ok){const a=s.headers.get("content-type");return a!=null&&a.includes("application/json")?s.json():s.text()}throw Qb(s),s}))},mX=async(t,e={},n={},r={})=>{const i={mode:"cors",headers:{"Content-Type":"application/json; charset=utf-8"}};r.useAPIKey&&(i.headers=ae(ae({},i.headers),Zb())),n.method="PATCH";const o=ln(i,n);r.isUrlEncodedData?(o.body=e,o.headers["Content-Type"]==="application/json; charset=utf-8"&&delete o.headers["Content-Type"]):o.body=JSON.stringify(e);const s=await Jb(t,o);if(s.ok){const a=s.headers.get("content-type");return a!=null&&a.includes("application/json")?s.json():s.text()}throw Qb(s),s},yX=async(t,e={},n={},r={})=>{const i={mode:"cors",headers:{"Content-Type":"application/json; charset=utf-8"}};r.useAPIKey&&(i.headers=ae(ae({},i.headers),Zb())),n.method="PUT";const o=ln(i,n);r.isUrlEncodedData?(o.body=e,o.headers["Content-Type"]==="application/json; charset=utf-8"&&delete o.headers["Content-Type"]):o.body=JSON.stringify(e);const s=await Jb(t,o);if(s.ok){const a=s.headers.get("content-type");return a!=null&&a.includes("application/json")?s.json():s.text()}throw Qb(s),s};var uB={exports:{}},aC={},cC={};Object.defineProperty(cC,"__esModule",{value:!0});function vX(t){var e=4,n=t.length,r=n%e;if(!r)return t;var i=n,o=e-r,s=n+o,a=Buffer.alloc(s);for(a.write(t);o--;)a.write("=",i++);return a.toString()}cC.default=vX;Object.defineProperty(aC,"__esModule",{value:!0});var wX=cC;function dB(t,e){return e===void 0&&(e="utf8"),Buffer.isBuffer(t)?yx(t.toString("base64")):yx(Buffer.from(t,e).toString("base64"))}function bX(t,e){return e===void 0&&(e="utf8"),Buffer.from(lC(t),"base64").toString(e)}function lC(t){return t=t.toString(),wX.default(t).replace(/\-/g,"+").replace(/_/g,"/")}function yx(t){return t.replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function EX(t){return Buffer.from(lC(t),"base64")}var C0=dB;C0.encode=dB;C0.decode=bX;C0.toBase64=lC;C0.fromBase64=yx;C0.toBuffer=EX;aC.default=C0;(function(t){t.exports=aC.default,t.exports.default=t.exports})(uB);var xX=uB.exports;const au=Bo(xX),SX={"Amazon Silk":"amazon_silk","Android Browser":"android",Bada:"bada",BlackBerry:"blackberry",Chrome:"chrome",Chromium:"chromium",Electron:"electron",Epiphany:"epiphany",Firefox:"firefox",Focus:"focus",Generic:"generic","Google Search":"google_search",Googlebot:"googlebot","Internet Explorer":"ie","K-Meleon":"k_meleon",Maxthon:"maxthon","Microsoft Edge":"edge","MZ Browser":"mz","NAVER Whale Browser":"naver",Opera:"opera","Opera Coast":"opera_coast","Pale Moon":"pale_moon",PhantomJS:"phantomjs",Puffin:"puffin",QupZilla:"qupzilla",QQ:"qq",QQLite:"qqlite",Safari:"safari",Sailfish:"sailfish","Samsung Internet for Android":"samsung_internet",SeaMonkey:"seamonkey",Sleipnir:"sleipnir",Swing:"swing",Tizen:"tizen","UC Browser":"uc",Vivaldi:"vivaldi","WebOS Browser":"webos",WeChat:"wechat","Yandex Browser":"yandex",Roku:"roku"},fB={amazon_silk:"Amazon Silk",android:"Android Browser",bada:"Bada",blackberry:"BlackBerry",chrome:"Chrome",chromium:"Chromium",electron:"Electron",epiphany:"Epiphany",firefox:"Firefox",focus:"Focus",generic:"Generic",googlebot:"Googlebot",google_search:"Google Search",ie:"Internet Explorer",k_meleon:"K-Meleon",maxthon:"Maxthon",edge:"Microsoft Edge",mz:"MZ Browser",naver:"NAVER Whale Browser",opera:"Opera",opera_coast:"Opera Coast",pale_moon:"Pale Moon",phantomjs:"PhantomJS",puffin:"Puffin",qupzilla:"QupZilla",qq:"QQ Browser",qqlite:"QQ Browser Lite",safari:"Safari",sailfish:"Sailfish",samsung_internet:"Samsung Internet for Android",seamonkey:"SeaMonkey",sleipnir:"Sleipnir",swing:"Swing",tizen:"Tizen",uc:"UC Browser",vivaldi:"Vivaldi",webos:"WebOS Browser",wechat:"WeChat",yandex:"Yandex Browser"},gn={tablet:"tablet",mobile:"mobile",desktop:"desktop",tv:"tv",bot:"bot"},jr={WindowsPhone:"Windows Phone",Windows:"Windows",MacOS:"macOS",iOS:"iOS",Android:"Android",WebOS:"WebOS",BlackBerry:"BlackBerry",Bada:"Bada",Tizen:"Tizen",Linux:"Linux",ChromeOS:"Chrome OS",PlayStation4:"PlayStation 4",Roku:"Roku"},il={EdgeHTML:"EdgeHTML",Blink:"Blink",Trident:"Trident",Presto:"Presto",Gecko:"Gecko",WebKit:"WebKit"};class Ce{static getFirstMatch(e,n){const r=n.match(e);return r&&r.length>0&&r[1]||""}static getSecondMatch(e,n){const r=n.match(e);return r&&r.length>1&&r[2]||""}static matchAndReturnConst(e,n,r){if(e.test(n))return r}static getWindowsVersionName(e){switch(e){case"NT":return"NT";case"XP":return"XP";case"NT 5.0":return"2000";case"NT 5.1":return"XP";case"NT 5.2":return"2003";case"NT 6.0":return"Vista";case"NT 6.1":return"7";case"NT 6.2":return"8";case"NT 6.3":return"8.1";case"NT 10.0":return"10";default:return}}static getMacOSVersionName(e){const n=e.split(".").splice(0,2).map(r=>parseInt(r,10)||0);if(n.push(0),n[0]===10)switch(n[1]){case 5:return"Leopard";case 6:return"Snow Leopard";case 7:return"Lion";case 8:return"Mountain Lion";case 9:return"Mavericks";case 10:return"Yosemite";case 11:return"El Capitan";case 12:return"Sierra";case 13:return"High Sierra";case 14:return"Mojave";case 15:return"Catalina";default:return}}static getAndroidVersionName(e){const n=e.split(".").splice(0,2).map(r=>parseInt(r,10)||0);if(n.push(0),!(n[0]===1&&n[1]<5)){if(n[0]===1&&n[1]<6)return"Cupcake";if(n[0]===1&&n[1]>=6)return"Donut";if(n[0]===2&&n[1]<2)return"Eclair";if(n[0]===2&&n[1]===2)return"Froyo";if(n[0]===2&&n[1]>2)return"Gingerbread";if(n[0]===3)return"Honeycomb";if(n[0]===4&&n[1]<1)return"Ice Cream Sandwich";if(n[0]===4&&n[1]<4)return"Jelly Bean";if(n[0]===4&&n[1]>=4)return"KitKat";if(n[0]===5)return"Lollipop";if(n[0]===6)return"Marshmallow";if(n[0]===7)return"Nougat";if(n[0]===8)return"Oreo";if(n[0]===9)return"Pie"}}static getVersionPrecision(e){return e.split(".").length}static compareVersions(e,n,r=!1){const i=Ce.getVersionPrecision(e),o=Ce.getVersionPrecision(n);let s=Math.max(i,o),a=0;const c=Ce.map([e,n],l=>{const u=s-Ce.getVersionPrecision(l),d=l+new Array(u+1).join(".0");return Ce.map(d.split("."),f=>new Array(20-f.length).join("0")+f).reverse()});for(r&&(a=s-Math.min(i,o)),s-=1;s>=a;){if(c[0][s]>c[1][s])return 1;if(c[0][s]===c[1][s]){if(s===a)return 0;s-=1}else if(c[0][s]<c[1][s])return-1}}static map(e,n){const r=[];let i;if(Array.prototype.map)return Array.prototype.map.call(e,n);for(i=0;i<e.length;i+=1)r.push(n(e[i]));return r}static find(e,n){let r,i;if(Array.prototype.find)return Array.prototype.find.call(e,n);for(r=0,i=e.length;r<i;r+=1){const o=e[r];if(n(o,r))return o}}static assign(e,...n){const r=e;let i,o;if(Object.assign)return Object.assign(e,...n);for(i=0,o=n.length;i<o;i+=1){const s=n[i];typeof s=="object"&&s!==null&&Object.keys(s).forEach(c=>{r[c]=s[c]})}return e}static getBrowserAlias(e){return SX[e]}static getBrowserTypeByAlias(e){return fB[e]||""}}const qt=/version\/(\d+(\.?_?\d+)+)/i,_X=[{test:[/googlebot/i],describe(t){const e={name:"Googlebot"},n=Ce.getFirstMatch(/googlebot\/(\d+(\.\d+))/i,t)||Ce.getFirstMatch(qt,t);return n&&(e.version=n),e}},{test:[/opera/i],describe(t){const e={name:"Opera"},n=Ce.getFirstMatch(qt,t)||Ce.getFirstMatch(/(?:opera)[\s/](\d+(\.?_?\d+)+)/i,t);return n&&(e.version=n),e}},{test:[/opr\/|opios/i],describe(t){const e={name:"Opera"},n=Ce.getFirstMatch(/(?:opr|opios)[\s/](\S+)/i,t)||Ce.getFirstMatch(qt,t);return n&&(e.version=n),e}},{test:[/SamsungBrowser/i],describe(t){const e={name:"Samsung Internet for Android"},n=Ce.getFirstMatch(qt,t)||Ce.getFirstMatch(/(?:SamsungBrowser)[\s/](\d+(\.?_?\d+)+)/i,t);return n&&(e.version=n),e}},{test:[/Whale/i],describe(t){const e={name:"NAVER Whale Browser"},n=Ce.getFirstMatch(qt,t)||Ce.getFirstMatch(/(?:whale)[\s/](\d+(?:\.\d+)+)/i,t);return n&&(e.version=n),e}},{test:[/PaleMoon/i],describe(t){const e={name:"Pale Moon"},n=Ce.getFirstMatch(qt,t)||Ce.getFirstMatch(/(?:PaleMoon)[\s/](\d+(?:\.\d+)+)/i,t);return n&&(e.version=n),e}},{test:[/MZBrowser/i],describe(t){const e={name:"MZ Browser"},n=Ce.getFirstMatch(/(?:MZBrowser)[\s/](\d+(?:\.\d+)+)/i,t)||Ce.getFirstMatch(qt,t);return n&&(e.version=n),e}},{test:[/focus/i],describe(t){const e={name:"Focus"},n=Ce.getFirstMatch(/(?:focus)[\s/](\d+(?:\.\d+)+)/i,t)||Ce.getFirstMatch(qt,t);return n&&(e.version=n),e}},{test:[/swing/i],describe(t){const e={name:"Swing"},n=Ce.getFirstMatch(/(?:swing)[\s/](\d+(?:\.\d+)+)/i,t)||Ce.getFirstMatch(qt,t);return n&&(e.version=n),e}},{test:[/coast/i],describe(t){const e={name:"Opera Coast"},n=Ce.getFirstMatch(qt,t)||Ce.getFirstMatch(/(?:coast)[\s/](\d+(\.?_?\d+)+)/i,t);return n&&(e.version=n),e}},{test:[/opt\/\d+(?:.?_?\d+)+/i],describe(t){const e={name:"Opera Touch"},n=Ce.getFirstMatch(/(?:opt)[\s/](\d+(\.?_?\d+)+)/i,t)||Ce.getFirstMatch(qt,t);return n&&(e.version=n),e}},{test:[/yabrowser/i],describe(t){const e={name:"Yandex Browser"},n=Ce.getFirstMatch(/(?:yabrowser)[\s/](\d+(\.?_?\d+)+)/i,t)||Ce.getFirstMatch(qt,t);return n&&(e.version=n),e}},{test:[/ucbrowser/i],describe(t){const e={name:"UC Browser"},n=Ce.getFirstMatch(qt,t)||Ce.getFirstMatch(/(?:ucbrowser)[\s/](\d+(\.?_?\d+)+)/i,t);return n&&(e.version=n),e}},{test:[/Maxthon|mxios/i],describe(t){const e={name:"Maxthon"},n=Ce.getFirstMatch(qt,t)||Ce.getFirstMatch(/(?:Maxthon|mxios)[\s/](\d+(\.?_?\d+)+)/i,t);return n&&(e.version=n),e}},{test:[/epiphany/i],describe(t){const e={name:"Epiphany"},n=Ce.getFirstMatch(qt,t)||Ce.getFirstMatch(/(?:epiphany)[\s/](\d+(\.?_?\d+)+)/i,t);return n&&(e.version=n),e}},{test:[/puffin/i],describe(t){const e={name:"Puffin"},n=Ce.getFirstMatch(qt,t)||Ce.getFirstMatch(/(?:puffin)[\s/](\d+(\.?_?\d+)+)/i,t);return n&&(e.version=n),e}},{test:[/sleipnir/i],describe(t){const e={name:"Sleipnir"},n=Ce.getFirstMatch(qt,t)||Ce.getFirstMatch(/(?:sleipnir)[\s/](\d+(\.?_?\d+)+)/i,t);return n&&(e.version=n),e}},{test:[/k-meleon/i],describe(t){const e={name:"K-Meleon"},n=Ce.getFirstMatch(qt,t)||Ce.getFirstMatch(/(?:k-meleon)[\s/](\d+(\.?_?\d+)+)/i,t);return n&&(e.version=n),e}},{test:[/micromessenger/i],describe(t){const e={name:"WeChat"},n=Ce.getFirstMatch(/(?:micromessenger)[\s/](\d+(\.?_?\d+)+)/i,t)||Ce.getFirstMatch(qt,t);return n&&(e.version=n),e}},{test:[/qqbrowser/i],describe(t){const e={name:/qqbrowserlite/i.test(t)?"QQ Browser Lite":"QQ Browser"},n=Ce.getFirstMatch(/(?:qqbrowserlite|qqbrowser)[/](\d+(\.?_?\d+)+)/i,t)||Ce.getFirstMatch(qt,t);return n&&(e.version=n),e}},{test:[/msie|trident/i],describe(t){const e={name:"Internet Explorer"},n=Ce.getFirstMatch(/(?:msie |rv:)(\d+(\.?_?\d+)+)/i,t);return n&&(e.version=n),e}},{test:[/\sedg\//i],describe(t){const e={name:"Microsoft Edge"},n=Ce.getFirstMatch(/\sedg\/(\d+(\.?_?\d+)+)/i,t);return n&&(e.version=n),e}},{test:[/edg([ea]|ios)/i],describe(t){const e={name:"Microsoft Edge"},n=Ce.getSecondMatch(/edg([ea]|ios)\/(\d+(\.?_?\d+)+)/i,t);return n&&(e.version=n),e}},{test:[/vivaldi/i],describe(t){const e={name:"Vivaldi"},n=Ce.getFirstMatch(/vivaldi\/(\d+(\.?_?\d+)+)/i,t);return n&&(e.version=n),e}},{test:[/seamonkey/i],describe(t){const e={name:"SeaMonkey"},n=Ce.getFirstMatch(/seamonkey\/(\d+(\.?_?\d+)+)/i,t);return n&&(e.version=n),e}},{test:[/sailfish/i],describe(t){const e={name:"Sailfish"},n=Ce.getFirstMatch(/sailfish\s?browser\/(\d+(\.\d+)?)/i,t);return n&&(e.version=n),e}},{test:[/silk/i],describe(t){const e={name:"Amazon Silk"},n=Ce.getFirstMatch(/silk\/(\d+(\.?_?\d+)+)/i,t);return n&&(e.version=n),e}},{test:[/phantom/i],describe(t){const e={name:"PhantomJS"},n=Ce.getFirstMatch(/phantomjs\/(\d+(\.?_?\d+)+)/i,t);return n&&(e.version=n),e}},{test:[/slimerjs/i],describe(t){const e={name:"SlimerJS"},n=Ce.getFirstMatch(/slimerjs\/(\d+(\.?_?\d+)+)/i,t);return n&&(e.version=n),e}},{test:[/blackberry|\bbb\d+/i,/rim\stablet/i],describe(t){const e={name:"BlackBerry"},n=Ce.getFirstMatch(qt,t)||Ce.getFirstMatch(/blackberry[\d]+\/(\d+(\.?_?\d+)+)/i,t);return n&&(e.version=n),e}},{test:[/(web|hpw)[o0]s/i],describe(t){const e={name:"WebOS Browser"},n=Ce.getFirstMatch(qt,t)||Ce.getFirstMatch(/w(?:eb)?[o0]sbrowser\/(\d+(\.?_?\d+)+)/i,t);return n&&(e.version=n),e}},{test:[/bada/i],describe(t){const e={name:"Bada"},n=Ce.getFirstMatch(/dolfin\/(\d+(\.?_?\d+)+)/i,t);return n&&(e.version=n),e}},{test:[/tizen/i],describe(t){const e={name:"Tizen"},n=Ce.getFirstMatch(/(?:tizen\s?)?browser\/(\d+(\.?_?\d+)+)/i,t)||Ce.getFirstMatch(qt,t);return n&&(e.version=n),e}},{test:[/qupzilla/i],describe(t){const e={name:"QupZilla"},n=Ce.getFirstMatch(/(?:qupzilla)[\s/](\d+(\.?_?\d+)+)/i,t)||Ce.getFirstMatch(qt,t);return n&&(e.version=n),e}},{test:[/firefox|iceweasel|fxios/i],describe(t){const e={name:"Firefox"},n=Ce.getFirstMatch(/(?:firefox|iceweasel|fxios)[\s/](\d+(\.?_?\d+)+)/i,t);return n&&(e.version=n),e}},{test:[/electron/i],describe(t){const e={name:"Electron"},n=Ce.getFirstMatch(/(?:electron)\/(\d+(\.?_?\d+)+)/i,t);return n&&(e.version=n),e}},{test:[/MiuiBrowser/i],describe(t){const e={name:"Miui"},n=Ce.getFirstMatch(/(?:MiuiBrowser)[\s/](\d+(\.?_?\d+)+)/i,t);return n&&(e.version=n),e}},{test:[/chromium/i],describe(t){const e={name:"Chromium"},n=Ce.getFirstMatch(/(?:chromium)[\s/](\d+(\.?_?\d+)+)/i,t)||Ce.getFirstMatch(qt,t);return n&&(e.version=n),e}},{test:[/chrome|crios|crmo/i],describe(t){const e={name:"Chrome"},n=Ce.getFirstMatch(/(?:chrome|crios|crmo)\/(\d+(\.?_?\d+)+)/i,t);return n&&(e.version=n),e}},{test:[/GSA/i],describe(t){const e={name:"Google Search"},n=Ce.getFirstMatch(/(?:GSA)\/(\d+(\.?_?\d+)+)/i,t);return n&&(e.version=n),e}},{test(t){const e=!t.test(/like android/i),n=t.test(/android/i);return e&&n},describe(t){const e={name:"Android Browser"},n=Ce.getFirstMatch(qt,t);return n&&(e.version=n),e}},{test:[/playstation 4/i],describe(t){const e={name:"PlayStation 4"},n=Ce.getFirstMatch(qt,t);return n&&(e.version=n),e}},{test:[/safari|applewebkit/i],describe(t){const e={name:"Safari"},n=Ce.getFirstMatch(qt,t);return n&&(e.version=n),e}},{test:[/.*/i],describe(t){const e=/^(.*)\/(.*) /,n=/^(.*)\/(.*)[ \t]\((.*)/,i=t.search("\\(")!==-1?n:e;return{name:Ce.getFirstMatch(i,t),version:Ce.getSecondMatch(i,t)}}}],CX=[{test:[/Roku\/DVP/],describe(t){const e=Ce.getFirstMatch(/Roku\/DVP-(\d+\.\d+)/i,t);return{name:jr.Roku,version:e}}},{test:[/windows phone/i],describe(t){const e=Ce.getFirstMatch(/windows phone (?:os)?\s?(\d+(\.\d+)*)/i,t);return{name:jr.WindowsPhone,version:e}}},{test:[/windows /i],describe(t){const e=Ce.getFirstMatch(/Windows ((NT|XP)( \d\d?.\d)?)/i,t),n=Ce.getWindowsVersionName(e);return{name:jr.Windows,version:e,versionName:n}}},{test:[/Macintosh(.*?) FxiOS(.*?)\//],describe(t){const e={name:jr.iOS},n=Ce.getSecondMatch(/(Version\/)(\d[\d.]+)/,t);return n&&(e.version=n),e}},{test:[/macintosh/i],describe(t){const e=Ce.getFirstMatch(/mac os x (\d+(\.?_?\d+)+)/i,t).replace(/[_\s]/g,"."),n=Ce.getMacOSVersionName(e),r={name:jr.MacOS,version:e};return n&&(r.versionName=n),r}},{test:[/(ipod|iphone|ipad)/i],describe(t){const e=Ce.getFirstMatch(/os (\d+([_\s]\d+)*) like mac os x/i,t).replace(/[_\s]/g,".");return{name:jr.iOS,version:e}}},{test(t){const e=!t.test(/like android/i),n=t.test(/android/i);return e&&n},describe(t){const e=Ce.getFirstMatch(/android[\s/-](\d+(\.\d+)*)/i,t),n=Ce.getAndroidVersionName(e),r={name:jr.Android,version:e};return n&&(r.versionName=n),r}},{test:[/(web|hpw)[o0]s/i],describe(t){const e=Ce.getFirstMatch(/(?:web|hpw)[o0]s\/(\d+(\.\d+)*)/i,t),n={name:jr.WebOS};return e&&e.length&&(n.version=e),n}},{test:[/blackberry|\bbb\d+/i,/rim\stablet/i],describe(t){const e=Ce.getFirstMatch(/rim\stablet\sos\s(\d+(\.\d+)*)/i,t)||Ce.getFirstMatch(/blackberry\d+\/(\d+([_\s]\d+)*)/i,t)||Ce.getFirstMatch(/\bbb(\d+)/i,t);return{name:jr.BlackBerry,version:e}}},{test:[/bada/i],describe(t){const e=Ce.getFirstMatch(/bada\/(\d+(\.\d+)*)/i,t);return{name:jr.Bada,version:e}}},{test:[/tizen/i],describe(t){const e=Ce.getFirstMatch(/tizen[/\s](\d+(\.\d+)*)/i,t);return{name:jr.Tizen,version:e}}},{test:[/linux/i],describe(){return{name:jr.Linux}}},{test:[/CrOS/],describe(){return{name:jr.ChromeOS}}},{test:[/PlayStation 4/],describe(t){const e=Ce.getFirstMatch(/PlayStation 4[/\s](\d+(\.\d+)*)/i,t);return{name:jr.PlayStation4,version:e}}}],AX=[{test:[/googlebot/i],describe(){return{type:gn.bot,vendor:"Google"}}},{test:[/huawei/i],describe(t){const e=Ce.getFirstMatch(/(can-l01)/i,t)&&"Nova",n={type:gn.mobile,vendor:"Huawei"};return e&&(n.model=e),n}},{test:[/nexus\s*(?:7|8|9|10).*/i],describe(){return{type:gn.tablet,vendor:"Nexus"}}},{test:[/ipad/i],describe(){return{type:gn.tablet,vendor:"Apple",model:"iPad"}}},{test:[/Macintosh(.*?) FxiOS(.*?)\//],describe(){return{type:gn.tablet,vendor:"Apple",model:"iPad"}}},{test:[/kftt build/i],describe(){return{type:gn.tablet,vendor:"Amazon",model:"Kindle Fire HD 7"}}},{test:[/silk/i],describe(){return{type:gn.tablet,vendor:"Amazon"}}},{test:[/tablet(?! pc)/i],describe(){return{type:gn.tablet}}},{test(t){const e=t.test(/ipod|iphone/i),n=t.test(/like (ipod|iphone)/i);return e&&!n},describe(t){const e=Ce.getFirstMatch(/(ipod|iphone)/i,t);return{type:gn.mobile,vendor:"Apple",model:e}}},{test:[/nexus\s*[0-6].*/i,/galaxy nexus/i],describe(){return{type:gn.mobile,vendor:"Nexus"}}},{test:[/Nokia/i],describe(t){const e=Ce.getFirstMatch(/Nokia\s+([0-9]+(\.[0-9]+)?)/i,t),n={type:gn.mobile,vendor:"Nokia"};return e&&(n.model=e),n}},{test:[/[^-]mobi/i],describe(){return{type:gn.mobile}}},{test(t){return t.getBrowserName(!0)==="blackberry"},describe(){return{type:gn.mobile,vendor:"BlackBerry"}}},{test(t){return t.getBrowserName(!0)==="bada"},describe(){return{type:gn.mobile}}},{test(t){return t.getBrowserName()==="windows phone"},describe(){return{type:gn.mobile,vendor:"Microsoft"}}},{test(t){const e=Number(String(t.getOSVersion()).split(".")[0]);return t.getOSName(!0)==="android"&&e>=3},describe(){return{type:gn.tablet}}},{test(t){return t.getOSName(!0)==="android"},describe(){return{type:gn.mobile}}},{test(t){return t.getOSName(!0)==="macos"},describe(){return{type:gn.desktop,vendor:"Apple"}}},{test(t){return t.getOSName(!0)==="windows"},describe(){return{type:gn.desktop}}},{test(t){return t.getOSName(!0)==="linux"},describe(){return{type:gn.desktop}}},{test(t){return t.getOSName(!0)==="playstation 4"},describe(){return{type:gn.tv}}},{test(t){return t.getOSName(!0)==="roku"},describe(){return{type:gn.tv}}}],IX=[{test(t){return t.getBrowserName(!0)==="microsoft edge"},describe(t){if(/\sedg\//i.test(t))return{name:il.Blink};const n=Ce.getFirstMatch(/edge\/(\d+(\.?_?\d+)+)/i,t);return{name:il.EdgeHTML,version:n}}},{test:[/trident/i],describe(t){const e={name:il.Trident},n=Ce.getFirstMatch(/trident\/(\d+(\.?_?\d+)+)/i,t);return n&&(e.version=n),e}},{test(t){return t.test(/presto/i)},describe(t){const e={name:il.Presto},n=Ce.getFirstMatch(/presto\/(\d+(\.?_?\d+)+)/i,t);return n&&(e.version=n),e}},{test(t){const e=t.test(/gecko/i),n=t.test(/like gecko/i);return e&&!n},describe(t){const e={name:il.Gecko},n=Ce.getFirstMatch(/gecko\/(\d+(\.?_?\d+)+)/i,t);return n&&(e.version=n),e}},{test:[/(apple)?webkit\/537\.36/i],describe(){return{name:il.Blink}}},{test:[/(apple)?webkit/i],describe(t){const e={name:il.WebKit},n=Ce.getFirstMatch(/webkit\/(\d+(\.?_?\d+)+)/i,t);return n&&(e.version=n),e}}];class nk{constructor(e,n=!1){if(e==null||e==="")throw new Error("UserAgent parameter can't be empty");this._ua=e,this.parsedResult={},n!==!0&&this.parse()}getUA(){return this._ua}test(e){return e.test(this._ua)}parseBrowser(){this.parsedResult.browser={};const e=Ce.find(_X,n=>{if(typeof n.test=="function")return n.test(this);if(Array.isArray(n.test))return n.test.some(r=>this.test(r));throw new Error("Browser's test function is not valid")});return e&&(this.parsedResult.browser=e.describe(this.getUA())),this.parsedResult.browser}getBrowser(){return this.parsedResult.browser?this.parsedResult.browser:this.parseBrowser()}getBrowserName(e){return e?String(this.getBrowser().name).toLowerCase()||"":this.getBrowser().name||""}getBrowserVersion(){return this.getBrowser().version}getOS(){return this.parsedResult.os?this.parsedResult.os:this.parseOS()}parseOS(){this.parsedResult.os={};const e=Ce.find(CX,n=>{if(typeof n.test=="function")return n.test(this);if(Array.isArray(n.test))return n.test.some(r=>this.test(r));throw new Error("Browser's test function is not valid")});return e&&(this.parsedResult.os=e.describe(this.getUA())),this.parsedResult.os}getOSName(e){const{name:n}=this.getOS();return e?String(n).toLowerCase()||"":n||""}getOSVersion(){return this.getOS().version}getPlatform(){return this.parsedResult.platform?this.parsedResult.platform:this.parsePlatform()}getPlatformType(e=!1){const{type:n}=this.getPlatform();return e?String(n).toLowerCase()||"":n||""}parsePlatform(){this.parsedResult.platform={};const e=Ce.find(AX,n=>{if(typeof n.test=="function")return n.test(this);if(Array.isArray(n.test))return n.test.some(r=>this.test(r));throw new Error("Browser's test function is not valid")});return e&&(this.parsedResult.platform=e.describe(this.getUA())),this.parsedResult.platform}getEngine(){return this.parsedResult.engine?this.parsedResult.engine:this.parseEngine()}getEngineName(e){return e?String(this.getEngine().name).toLowerCase()||"":this.getEngine().name||""}parseEngine(){this.parsedResult.engine={};const e=Ce.find(IX,n=>{if(typeof n.test=="function")return n.test(this);if(Array.isArray(n.test))return n.test.some(r=>this.test(r));throw new Error("Browser's test function is not valid")});return e&&(this.parsedResult.engine=e.describe(this.getUA())),this.parsedResult.engine}parse(){return this.parseBrowser(),this.parseOS(),this.parsePlatform(),this.parseEngine(),this}getResult(){return Ce.assign({},this.parsedResult)}satisfies(e){const n={};let r=0;const i={};let o=0;if(Object.keys(e).forEach(a=>{const c=e[a];typeof c=="string"?(i[a]=c,o+=1):typeof c=="object"&&(n[a]=c,r+=1)}),r>0){const a=Object.keys(n),c=Ce.find(a,u=>this.isOS(u));if(c){const u=this.satisfies(n[c]);if(u!==void 0)return u}const l=Ce.find(a,u=>this.isPlatform(u));if(l){const u=this.satisfies(n[l]);if(u!==void 0)return u}}if(o>0){const a=Object.keys(i),c=Ce.find(a,l=>this.isBrowser(l,!0));if(c!==void 0)return this.compareVersion(i[c])}}isBrowser(e,n=!1){const r=this.getBrowserName().toLowerCase();let i=e.toLowerCase();const o=Ce.getBrowserTypeByAlias(i);return n&&o&&(i=o.toLowerCase()),i===r}compareVersion(e){let n=[0],r=e,i=!1;const o=this.getBrowserVersion();if(typeof o=="string")return e[0]===">"||e[0]==="<"?(r=e.substr(1),e[1]==="="?(i=!0,r=e.substr(2)):n=[],e[0]===">"?n.push(1):n.push(-1)):e[0]==="="?r=e.substr(1):e[0]==="~"&&(i=!0,r=e.substr(1)),n.indexOf(Ce.compareVersions(o,r,i))>-1}isOS(e){return this.getOSName(!0)===String(e).toLowerCase()}isPlatform(e){return this.getPlatformType(!0)===String(e).toLowerCase()}isEngine(e){return this.getEngineName(!0)===String(e).toLowerCase()}is(e,n=!1){return this.isBrowser(e,n)||this.isOS(e)||this.isPlatform(e)}some(e=[]){return e.some(n=>this.is(n))}}/*!
 * Bowser - a browser detector
 * https://github.com/lancedikson/bowser
 * MIT License | (c) Dustin Diaz 2012-2015
 * MIT License | (c) Denis Demchenko 2015-2019
 */class Jp{static getParser(e,n=!1){if(typeof e!="string")throw new Error("UserAgent should be a string");return new nk(e,n)}static parse(e){return new nk(e).getResult()}static get BROWSER_MAP(){return fB}static get ENGINE_MAP(){return il}static get OS_MAP(){return jr}static get PLATFORMS_MAP(){return gn}}var Ku=Nc.getLogger("customauth");const hB={[Be.APPLE]:"apple",[Be.GITHUB]:"github",[Be.LINKEDIN]:"linkedin",[Be.TWITTER]:"twitter",[Be.LINE]:"line",[Be.EMAIL_PASSWORDLESS]:"email",[Be.SMS_PASSWORDLESS]:"sms"},pB=t=>t.href.endsWith("/")?t.href:`${t.href}/`,uC=()=>Math.random().toString(36).slice(2),kX={webWorkerSupport:!1};function cE(t,e){return e?t:t.toLowerCase()}const $g=(t,e,n,r=!0)=>{const{name:i,sub:o}=t;if(n)return cE(t[n],r);switch(e){case Be.EMAIL_PASSWORDLESS:case Be.SMS_PASSWORDLESS:case Be.AUTHENTICATOR:return cE(i,r);case Be.GITHUB:case Be.TWITTER:case Be.APPLE:case Be.LINKEDIN:case Be.LINE:case Be.WECHAT:case Be.KAKAO:case Be.FARCASTER:case Be.CUSTOM:return cE(o,r);default:throw new Error("Invalid login type to get auth connection id")}};function vx(t){let e;try{e=window[t];const n="__storage_test__";return e.setItem(n,n),e.removeItem(n),!0}catch(n){const r=n;return r&&(r.code===22||r.code===1014||r.name==="QuotaExceededError"||r.name==="NS_ERROR_DOM_QUOTA_REACHED")&&e&&e.length!==0}}function gB(){const t=window.screenLeft!==void 0?window.screenLeft:window.screenX,e=window.screenTop!==void 0?window.screenTop:window.screenY,n=1200,r=700,i=window.innerWidth?window.innerWidth:document.documentElement.clientWidth?document.documentElement.clientWidth:window.screen.width,o=window.innerHeight?window.innerHeight:document.documentElement.clientHeight?document.documentElement.clientHeight:window.screen.height,s=1,a=Math.abs((i-n)/2/s+t),c=Math.abs((o-r)/2/s+e);return`titlebar=0,toolbar=0,status=0,location=0,menubar=0,height=${r/s},width=${n/s},top=${c},left=${a}`}function Zp(t){const{baseURL:e,query:n,hash:r}=t,i=new URL(e);if(n&&Object.keys(n).forEach(o=>{i.searchParams.append(o,n[o])}),r){const o=new URL(Zp({baseURL:e,query:r})).searchParams.toString();i.hash=o}return i.toString()}const dC=t=>{try{return new URL(decodeURIComponent(t))}catch(e){throw new Error(`${(e==null?void 0:e.message)||""}, Note: Your jwt domain: (i.e ${t}) must have http:// or https:// prefix`)}},PX=t=>JSON.parse(au.decode(t));function OX(){const e=Jp.getParser(navigator.userAgent).getPlatform();return e.type===Jp.PLATFORMS_MAP.tablet||e.type===Jp.PLATFORMS_MAP.mobile}function fC(t){return(t===Be.FACEBOOK||t===Be.LINE)&&OX()?1e3*30:1e3*1}function hC(t){const[e,n]=t.split(".");return{header:JSON.parse(au.decode(e)),payload:JSON.parse(au.decode(n))}}var pC={exports:{}},fh=typeof Reflect=="object"?Reflect:null,rk=fh&&typeof fh.apply=="function"?fh.apply:function(e,n,r){return Function.prototype.apply.call(e,n,r)},sv;fh&&typeof fh.ownKeys=="function"?sv=fh.ownKeys:Object.getOwnPropertySymbols?sv=function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:sv=function(e){return Object.getOwnPropertyNames(e)};function TX(t){console&&console.warn&&console.warn(t)}var mB=Number.isNaN||function(e){return e!==e};function Gt(){Gt.init.call(this)}pC.exports=Gt;pC.exports.once=LX;Gt.EventEmitter=Gt;Gt.prototype._events=void 0;Gt.prototype._eventsCount=0;Gt.prototype._maxListeners=void 0;var ik=10;function Xb(t){if(typeof t!="function")throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof t)}Object.defineProperty(Gt,"defaultMaxListeners",{enumerable:!0,get:function(){return ik},set:function(t){if(typeof t!="number"||t<0||mB(t))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+t+".");ik=t}});Gt.init=function(){(this._events===void 0||this._events===Object.getPrototypeOf(this)._events)&&(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0};Gt.prototype.setMaxListeners=function(e){if(typeof e!="number"||e<0||mB(e))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+e+".");return this._maxListeners=e,this};function yB(t){return t._maxListeners===void 0?Gt.defaultMaxListeners:t._maxListeners}Gt.prototype.getMaxListeners=function(){return yB(this)};Gt.prototype.emit=function(e){for(var n=[],r=1;r<arguments.length;r++)n.push(arguments[r]);var i=e==="error",o=this._events;if(o!==void 0)i=i&&o.error===void 0;else if(!i)return!1;if(i){var s;if(n.length>0&&(s=n[0]),s instanceof Error)throw s;var a=new Error("Unhandled error."+(s?" ("+s.message+")":""));throw a.context=s,a}var c=o[e];if(c===void 0)return!1;if(typeof c=="function")rk(c,this,n);else for(var l=c.length,u=xB(c,l),r=0;r<l;++r)rk(u[r],this,n);return!0};function vB(t,e,n,r){var i,o,s;if(Xb(n),o=t._events,o===void 0?(o=t._events=Object.create(null),t._eventsCount=0):(o.newListener!==void 0&&(t.emit("newListener",e,n.listener?n.listener:n),o=t._events),s=o[e]),s===void 0)s=o[e]=n,++t._eventsCount;else if(typeof s=="function"?s=o[e]=r?[n,s]:[s,n]:r?s.unshift(n):s.push(n),i=yB(t),i>0&&s.length>i&&!s.warned){s.warned=!0;var a=new Error("Possible EventEmitter memory leak detected. "+s.length+" "+String(e)+" listeners added. Use emitter.setMaxListeners() to increase limit");a.name="MaxListenersExceededWarning",a.emitter=t,a.type=e,a.count=s.length,TX(a)}return t}Gt.prototype.addListener=function(e,n){return vB(this,e,n,!1)};Gt.prototype.on=Gt.prototype.addListener;Gt.prototype.prependListener=function(e,n){return vB(this,e,n,!0)};function MX(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,arguments.length===0?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function wB(t,e,n){var r={fired:!1,wrapFn:void 0,target:t,type:e,listener:n},i=MX.bind(r);return i.listener=n,r.wrapFn=i,i}Gt.prototype.once=function(e,n){return Xb(n),this.on(e,wB(this,e,n)),this};Gt.prototype.prependOnceListener=function(e,n){return Xb(n),this.prependListener(e,wB(this,e,n)),this};Gt.prototype.removeListener=function(e,n){var r,i,o,s,a;if(Xb(n),i=this._events,i===void 0)return this;if(r=i[e],r===void 0)return this;if(r===n||r.listener===n)--this._eventsCount===0?this._events=Object.create(null):(delete i[e],i.removeListener&&this.emit("removeListener",e,r.listener||n));else if(typeof r!="function"){for(o=-1,s=r.length-1;s>=0;s--)if(r[s]===n||r[s].listener===n){a=r[s].listener,o=s;break}if(o<0)return this;o===0?r.shift():NX(r,o),r.length===1&&(i[e]=r[0]),i.removeListener!==void 0&&this.emit("removeListener",e,a||n)}return this};Gt.prototype.off=Gt.prototype.removeListener;Gt.prototype.removeAllListeners=function(e){var n,r,i;if(r=this._events,r===void 0)return this;if(r.removeListener===void 0)return arguments.length===0?(this._events=Object.create(null),this._eventsCount=0):r[e]!==void 0&&(--this._eventsCount===0?this._events=Object.create(null):delete r[e]),this;if(arguments.length===0){var o=Object.keys(r),s;for(i=0;i<o.length;++i)s=o[i],s!=="removeListener"&&this.removeAllListeners(s);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if(n=r[e],typeof n=="function")this.removeListener(e,n);else if(n!==void 0)for(i=n.length-1;i>=0;i--)this.removeListener(e,n[i]);return this};function bB(t,e,n){var r=t._events;if(r===void 0)return[];var i=r[e];return i===void 0?[]:typeof i=="function"?n?[i.listener||i]:[i]:n?RX(i):xB(i,i.length)}Gt.prototype.listeners=function(e){return bB(this,e,!0)};Gt.prototype.rawListeners=function(e){return bB(this,e,!1)};Gt.listenerCount=function(t,e){return typeof t.listenerCount=="function"?t.listenerCount(e):EB.call(t,e)};Gt.prototype.listenerCount=EB;function EB(t){var e=this._events;if(e!==void 0){var n=e[t];if(typeof n=="function")return 1;if(n!==void 0)return n.length}return 0}Gt.prototype.eventNames=function(){return this._eventsCount>0?sv(this._events):[]};function xB(t,e){for(var n=new Array(e),r=0;r<e;++r)n[r]=t[r];return n}function NX(t,e){for(;e+1<t.length;e++)t[e]=t[e+1];t.pop()}function RX(t){for(var e=new Array(t.length),n=0;n<e.length;++n)e[n]=t[n].listener||t[n];return e}function LX(t,e){return new Promise(function(n,r){function i(s){t.removeListener(e,o),r(s)}function o(){typeof t.removeListener=="function"&&t.removeListener("error",i),n([].slice.call(arguments))}SB(t,e,o,{once:!0}),e!=="error"&&$X(t,i,{once:!0})})}function $X(t,e,n){typeof t.on=="function"&&SB(t,"error",e,n)}function SB(t,e,n,r){if(typeof t.on=="function")r.once?t.once(e,n):t.on(e,n);else if(typeof t.addEventListener=="function")t.addEventListener(e,function i(o){r.once&&t.removeEventListener(e,i),n(o)});else throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof t)}var vu=pC.exports;const j5e=Bo(vu);let e2=class extends vu.EventEmitter{constructor({url:e,target:n,features:r,timeout:i=3e4}){super(),ue(this,"url",void 0),ue(this,"target",void 0),ue(this,"features",void 0),ue(this,"window",void 0),ue(this,"windowTimer",void 0),ue(this,"iClosedWindow",void 0),ue(this,"timeout",void 0),this.url=e,this.target=n||"_blank",this.features=r||gB(),this.window=void 0,this.windowTimer=void 0,this.iClosedWindow=!1,this.timeout=i,this._setupTimer()}_setupTimer(){this.windowTimer=Number(setInterval(()=>{this.window&&this.window.closed&&(clearInterval(this.windowTimer),setTimeout(()=>{this.iClosedWindow||this.emit("close"),this.iClosedWindow=!1,this.window=void 0},this.timeout)),this.window===void 0&&clearInterval(this.windowTimer)},500))}open(){var e;if(this.window=window.open(this.url.href,this.target,this.features),!this.window)throw new Error("popup window is blocked");return(e=this.window)!==null&&e!==void 0&&e.focus&&this.window.focus(),Promise.resolve()}close(){this.iClosedWindow=!0,this.window&&this.window.close()}redirect(e){e?window.location.replace(this.url.href):window.location.href=this.url.href}};const BX=["access_token","id_token"];class Rc{constructor(e){ue(this,"nonce",uC()),ue(this,"finalURL",void 0),ue(this,"params",void 0),this.params=e}get state(){return encodeURIComponent(au.encode(JSON.stringify(ae(ae({},this.params.customState||{}),{},{instanceId:this.nonce,authConnectionId:this.params.authConnectionId,authConnection:this.params.authConnection,groupedAuthConnectionId:this.params.groupedAuthConnectionId,redirectToOpener:this.params.redirectToOpener||!1}))))}async handleLoginWindow(e){const n=new e2({url:this.finalURL,features:e.popupFeatures,timeout:fC(this.params.authConnection)});if(this.params.uxMode===Pr.REDIRECT)n.redirect(e.locationReplaceOnRedirect);else{const{RedundantAdaptiveBroadcastChannel:r}=await Lt(async()=>{const{RedundantAdaptiveBroadcastChannel:i}=await import("./index-CCnwt06X.js");return{RedundantAdaptiveBroadcastChannel:i}},[]);return new Promise((i,o)=>{let s;const a=async c=>{try{const{error:l,data:u}=c,d=u||{},{instanceParams:f,hashParams:{access_token:h,id_token:g}}=d,p=Lb(d.hashParams,BX);if(l){Ku.error(c),o(new Error(`Error: ${l}. Info: ${JSON.stringify(c.data||{})}`));return}c.data&&f.authConnectionId===this.params.authConnectionId&&(Ku.info(c.data),!this.params.redirectToOpener&&s&&await s.postMessage({success:!0}),i(ae(ae({accessToken:h,idToken:g||""},p),{},{state:f})))}catch(l){Ku.error(l),o(l)}};if(!this.params.redirectToOpener)s=new r(`redirect_channel_${this.nonce}`,kX),s.addEventListener("message",async c=>{await a(c),s.close(),n.close()});else{const c=async l=>{if(!l.data)return;const u=l.data;u.channel===`redirect_channel_${this.nonce}`&&(window.removeEventListener("message",c),a(u),n.close())};window.addEventListener("message",c)}try{n.open()}catch(c){Ku.error(c),o(c);return}n.once("close",()=>{s&&s.close(),o(new Error("user closed popup"))})})}return null}}class DX extends Rc{constructor(e){super(e),ue(this,"RESPONSE_TYPE","token"),ue(this,"SCOPE","identify email"),this.setFinalUrl()}setFinalUrl(){const e=new URL("https://discord.com/api/oauth2/authorize"),n=JSON.parse(JSON.stringify(this.params.jwtParams||{})),r=ln({state:this.state,response_type:this.RESPONSE_TYPE,client_id:this.params.clientId,redirect_uri:this.params.redirect_uri,scope:this.SCOPE},n);Object.keys(r).forEach(i=>{const o=i;r[o]&&e.searchParams.append(o,r[o])}),this.finalURL=e}async getUserInfo(e){const{accessToken:n}=e,r=await wa("https://discord.com/api/users/@me",{headers:{Authorization:`Bearer ${n}`}}),{id:i,avatar:o,email:s="",username:a="",discriminator:c=""}=r;return{profileImage:o===null?`https://cdn.discordapp.com/embed/avatars/${Number(c)%5}.png`:`https://cdn.discordapp.com/avatars/${i}/${o}.png?size=2048`,name:`${a}#${c}`,email:s,userId:i,authConnectionId:this.params.authConnectionId,authConnection:this.params.authConnection,groupedAuthConnectionId:this.params.groupedAuthConnectionId}}}class jX extends Rc{constructor(e){super(e),ue(this,"RESPONSE_TYPE","token"),ue(this,"SCOPE","public_profile email"),this.setFinalUrl()}setFinalUrl(){const e=new URL("https://www.facebook.com/v20.0/dialog/oauth"),n=JSON.parse(JSON.stringify(this.params.jwtParams||{})),r=ln({state:this.state,response_type:this.RESPONSE_TYPE,client_id:this.params.clientId,redirect_uri:this.params.redirect_uri,scope:this.SCOPE},n);Object.keys(r).forEach(i=>{const o=i;r[o]&&e.searchParams.append(o,r[o])}),this.finalURL=e}async getUserInfo(e){const{accessToken:n}=e,r=await wa("https://graph.facebook.com/me?fields=name,email,picture.type(large)",{headers:{Authorization:`Bearer ${n}`}}),{name:i="",id:o,picture:s,email:a=""}=r;return{email:a,name:i,profileImage:s.data.url||"",authConnectionId:this.params.authConnectionId,authConnection:this.params.authConnection,groupedAuthConnectionId:this.params.groupedAuthConnectionId,userId:o}}}class FX extends Rc{constructor(e){super(e),ue(this,"RESPONSE_TYPE","token id_token"),ue(this,"SCOPE","profile email openid"),ue(this,"PROMPT","select_account"),this.setFinalUrl()}setFinalUrl(){const e=new URL("https://accounts.google.com/o/oauth2/v2/auth"),n=JSON.parse(JSON.stringify(this.params.jwtParams||{})),r=ln({state:this.state,response_type:this.RESPONSE_TYPE,client_id:this.params.clientId,prompt:this.PROMPT,redirect_uri:this.params.redirect_uri,scope:this.SCOPE,nonce:this.nonce},n);Object.keys(r).forEach(i=>{const o=i;r[o]&&e.searchParams.append(o,r[o])}),this.finalURL=e}async getUserInfo(e){const{accessToken:n}=e,r=await wa("https://www.googleapis.com/userinfo/v2/me",{headers:{Authorization:`Bearer ${n}`}}),{picture:i="",email:o="",name:s=""}=r;return{email:o,name:s,profileImage:i,authConnectionId:this.params.authConnectionId,authConnection:this.params.authConnection,groupedAuthConnectionId:this.params.groupedAuthConnectionId,userId:o.toLowerCase()}}}class UX extends Rc{constructor(e){super(e),ue(this,"SCOPE","openid profile email"),ue(this,"RESPONSE_TYPE","token id_token"),ue(this,"PROMPT","login"),this.setFinalUrl()}setFinalUrl(){const{domain:e}=this.params.jwtParams,n=dC(e);n.pathname+=n.pathname.endsWith("/")?"authorize":"/authorize";const r=JSON.parse(JSON.stringify(this.params.jwtParams));delete r.domain;const i=ln({state:this.state,response_type:this.RESPONSE_TYPE,client_id:this.params.clientId,prompt:this.PROMPT,redirect_uri:this.params.redirect_uri,scope:this.SCOPE,connection:hB[this.params.authConnection],nonce:this.nonce},r);Object.keys(i).forEach(o=>{const s=o;i[s]&&n.searchParams.append(s,i[s])}),this.finalURL=n}async getUserInfo(e){const{idToken:n,accessToken:r}=e,{domain:i,userIdField:o,isUserIdCaseSensitive:s,user_info_route:a="userinfo"}=this.params.jwtParams;if(r)try{const c=new URL(i),l=await wa(`${pB(c)}${a}`,{headers:{Authorization:`Bearer ${r}`}}),{picture:u,name:d,email:f}=l;return{email:f,name:d,profileImage:u,userId:$g(l,this.params.authConnection,o,s),authConnectionId:this.params.authConnectionId,authConnection:this.params.authConnection,groupedAuthConnectionId:this.params.groupedAuthConnectionId}}catch(c){Nc.warn(c,"Unable to get userinfo from endpoint")}if(n){const c=hC(n).payload,{name:l,email:u,picture:d}=c;return{profileImage:d,name:l,email:u,userId:$g(c,this.params.authConnection,o,s),authConnectionId:this.params.authConnectionId,authConnection:this.params.authConnection,groupedAuthConnectionId:this.params.groupedAuthConnectionId}}throw new Error("Access/id token not available")}}class zX extends Rc{constructor(e){super(e),this.setFinalUrl()}setFinalUrl(){const e=JSON.parse(JSON.stringify(this.params.jwtParams));delete e.domain;const n=ln({state:this.state,client_id:this.params.clientId,nonce:this.nonce},e);this.finalURL=new URL(Zp({baseURL:this.params.redirect_uri,query:null,hash:n}))}async getUserInfo(e){const{idToken:n,accessToken:r}=e,{domain:i,userIdField:o,isUserIdCaseSensitive:s,user_info_route:a="userinfo"}=this.params.jwtParams;if(r)try{const c=new URL(i),l=await wa(`${pB(c)}${a}`,{headers:{Authorization:`Bearer ${r}`}}),{picture:u,name:d,email:f}=l;return{email:f,name:d,profileImage:u,userId:$g(l,this.params.authConnection,o,s),authConnectionId:this.params.authConnectionId,authConnection:this.params.authConnection,groupedAuthConnectionId:this.params.groupedAuthConnectionId}}catch(c){Nc.warn(c,"Unable to get userinfo from endpoint")}if(n){const c=hC(n).payload,{name:l,email:u,picture:d}=c;return{profileImage:d,name:l,email:u,userId:$g(c,this.params.authConnection,o,s),authConnectionId:this.params.authConnectionId,authConnection:this.params.authConnection,groupedAuthConnectionId:this.params.groupedAuthConnectionId}}throw new Error("Access/id token not available")}handleLoginWindow(e){const{id_token:n,access_token:r}=this.params.jwtParams,i=new e2({url:this.finalURL,features:e.popupFeatures});if(this.params.uxMode===Pr.REDIRECT)i.redirect(e.locationReplaceOnRedirect);else return Promise.resolve({state:{},idToken:n,accessToken:r});return null}}const wx=t=>t.padStart(64,"0").slice(0,64);class HX{constructor(){ue(this,"sessionId",void 0)}checkSessionParams(){if(!this.sessionId)throw new Error("Session id is required");this.sessionId=wx(this.sessionId)}request({method:e="GET",url:n,data:r={},headers:i={}}){const o={headers:i};switch(e){case"GET":return wa(n,o);case"POST":return Id(n,r,o);case"PUT":return yX(n,r,o);case"PATCH":return mX(n,r,o)}throw new Error("Invalid method type")}}const _B="https://api.web3auth.io/session-service",WX="https://session.web3auth.io",mw=new X4.ec("secp256k1"),zi=globalThis.crypto||globalThis.msCrypto||{},xl=zi.subtle||zi.webkitSubtle,KX=Buffer.from("fffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141","hex"),qX=Buffer.alloc(32,0);function Yl(t,e){if(!t)throw new Error(e||"Assertion failed")}function VX(t){return Buffer.isBuffer(t)&&t.length===32}function gC(t){return VX(t)?t.compare(qX)>0&&t.compare(KX)<0:!1}function GX(t,e){if(t.length!==e.length)return!1;let n=0;for(let r=0;r<t.length;r++)n|=t[r]^e[r];return n===0}function Qp(t){if(typeof zi.getRandomValues>"u")return Buffer.from(zi.randomBytes(t));const e=new Uint8Array(t);return zi.getRandomValues(e),Buffer.from(e)}async function CB(t){if(!zi.createHash){const r=await xl.digest("SHA-512",t);return new Uint8Array(r)}const n=zi.createHash("sha512").update(t).digest();return new Uint8Array(n)}function AB(t){return async function(e,n,r){if(xl&&xl[t]&&xl.importKey){const i={name:"AES-CBC"},o=await xl.importKey("raw",n,i,!1,[t]),s={name:"AES-CBC",iv:e},a=await xl[t](s,o,r);return Buffer.from(new Uint8Array(a))}else if(t==="encrypt"&&zi.createCipheriv){const i=zi.createCipheriv("aes-256-cbc",n,e),o=i.update(r),s=i.final();return Buffer.concat([o,s])}else if(t==="decrypt"&&zi.createDecipheriv){const i=zi.createDecipheriv("aes-256-cbc",n,e),o=i.update(r),s=i.final();return Buffer.concat([o,s])}throw new Error(`Unsupported operation: ${t}`)}}const YX=AB("encrypt"),JX=AB("decrypt");async function IB(t,e){if(!zi.createHmac){const i={name:"HMAC",hash:{name:"SHA-256"}},o=await xl.importKey("raw",new Uint8Array(t),i,!1,["sign","verify"]),s=await xl.sign("HMAC",o,e);return Buffer.from(new Uint8Array(s))}const n=zi.createHmac("sha256",Buffer.from(t));return n.update(e),n.digest()}async function ZX(t,e,n){const r=await IB(t,e);return GX(r,n)}const QX=function(){let t=Qp(32);for(;!gC(t);)t=Qp(32);return t},Dl=function(t){return mC(t),Buffer.from(mw.keyFromPrivate(t).getPublic("array"))},av=async function(t,e){return mC(t),Yl(e.length>0,"Message should not be empty"),Yl(e.length<=32,"Message is too long"),Buffer.from(mw.sign(e,t,{canonical:!0}).toDER())},XX=function(t){Yl(t.length===65||t.length===33,"Bad public key: expected 65 or 33 bytes, got "+t.length),t.length===65&&Yl(t[0]===4,"Bad public key: expected first byte 4, got "+t[0]),t.length===33&&Yl(t[0]===2||t[0]===3,"Bad public key: expected first byte 2 or 3, got "+t[0])},mC=function(t){Yl(Buffer.isBuffer(t),"Bad private key: expected Buffer"),Yl(t.length===32,"Bad private key: expected 32 bytes, got "+t.length),Yl(gC(t),"Bad private key: out of range")},kB=async function(t,e,n){mC(t),XX(e);const r=mw.keyFromPrivate(t),i=mw.keyFromPublic(e),o=r.derive(i.getPublic());return n?Buffer.from(o.toString(16,64),"hex"):Buffer.from(o.toArray())},eee=async function(t,e,n){n=n||{};let r=n.ephemPrivateKey||Qp(32);for(;!gC(r);)r=n.ephemPrivateKey||Qp(32);const i=Dl(r),o=await kB(r,t,n.padding),s=await CB(o),a=n.iv||Qp(16),c=s.slice(0,32),l=s.slice(32),d=await YX(a,Buffer.from(c),e),f=Buffer.concat([a,i,d]),h=await IB(Buffer.from(l),f);return{iv:a,ephemPublicKey:i,ciphertext:d,mac:h}},PB=async function(t,e,n){const r=await kB(t,e.ephemPublicKey,n),i=await CB(r),o=i.slice(0,32),s=i.slice(32),a=Buffer.concat([e.iv,e.ephemPublicKey,e.ciphertext]),c=await ZX(Buffer.from(s),a,e.mac);if(!c&&!n)return PB(t,e,!0);if(!c&&n===!0)throw new Error("bad MAC after trying padded");const l=await JX(e.iv,Buffer.from(o),e.ciphertext);return Buffer.from(new Uint8Array(l))};var Wy={},lE,ok;function tee(){if(ok)return lE;ok=1;var t,e,n={'"':'"',"\\":"\\","/":"/",b:"\b",f:"\f",n:`
`,r:"\r",t:"	"},r;function i(h){throw{name:"SyntaxError",message:h,at:t,text:r}}function o(h){return h&&h!==e&&i("Expected '"+h+"' instead of '"+e+"'"),e=r.charAt(t),t+=1,e}function s(){var h,g="";for(e==="-"&&(g="-",o("-"));e>="0"&&e<="9";)g+=e,o();if(e===".")for(g+=".";o()&&e>="0"&&e<="9";)g+=e;if(e==="e"||e==="E")for(g+=e,o(),(e==="-"||e==="+")&&(g+=e,o());e>="0"&&e<="9";)g+=e,o();return h=Number(g),isFinite(h)||i("Bad number"),h}function a(){var h,g,p="",S;if(e==='"')for(;o();){if(e==='"')return o(),p;if(e==="\\")if(o(),e==="u"){for(S=0,g=0;g<4&&(h=parseInt(o(),16),!!isFinite(h));g+=1)S=S*16+h;p+=String.fromCharCode(S)}else if(typeof n[e]=="string")p+=n[e];else break;else p+=e}i("Bad string")}function c(){for(;e&&e<=" ";)o()}function l(){switch(e){case"t":return o("t"),o("r"),o("u"),o("e"),!0;case"f":return o("f"),o("a"),o("l"),o("s"),o("e"),!1;case"n":return o("n"),o("u"),o("l"),o("l"),null;default:i("Unexpected '"+e+"'")}}function u(){var h=[];if(e==="["){if(o("["),c(),e==="]")return o("]"),h;for(;e;){if(h.push(f()),c(),e==="]")return o("]"),h;o(","),c()}}i("Bad array")}function d(){var h,g={};if(e==="{"){if(o("{"),c(),e==="}")return o("}"),g;for(;e;){if(h=a(),c(),o(":"),Object.prototype.hasOwnProperty.call(g,h)&&i('Duplicate key "'+h+'"'),g[h]=f(),c(),e==="}")return o("}"),g;o(","),c()}}i("Bad object")}function f(){switch(c(),e){case"{":return d();case"[":return u();case'"':return a();case"-":return s();default:return e>="0"&&e<="9"?s():l()}}return lE=function(h,g){var p;return r=h,t=0,e=" ",p=f(),c(),e&&i("Syntax error"),typeof g=="function"?function S(y,b){var _,N,O=y[b];if(O&&typeof O=="object")for(_ in f)Object.prototype.hasOwnProperty.call(O,_)&&(N=S(O,_),typeof N>"u"?delete O[_]:O[_]=N);return g.call(y,b,O)}({"":p},""):p},lE}var uE,sk;function nee(){if(sk)return uE;sk=1;var t=/[\\"\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,e,n,r={"\b":"\\b","	":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"},i;function o(a){return t.lastIndex=0,t.test(a)?'"'+a.replace(t,function(c){var l=r[c];return typeof l=="string"?l:"\\u"+("0000"+c.charCodeAt(0).toString(16)).slice(-4)})+'"':'"'+a+'"'}function s(a,c){var l,u,d,f,h=e,g,p=c[a];switch(p&&typeof p=="object"&&typeof p.toJSON=="function"&&(p=p.toJSON(a)),typeof i=="function"&&(p=i.call(c,a,p)),typeof p){case"string":return o(p);case"number":return isFinite(p)?String(p):"null";case"boolean":case"null":return String(p);case"object":if(!p)return"null";if(e+=n,g=[],Object.prototype.toString.apply(p)==="[object Array]"){for(f=p.length,l=0;l<f;l+=1)g[l]=s(l,p)||"null";return d=g.length===0?"[]":e?`[
`+e+g.join(`,
`+e)+`
`+h+"]":"["+g.join(",")+"]",e=h,d}if(i&&typeof i=="object")for(f=i.length,l=0;l<f;l+=1)u=i[l],typeof u=="string"&&(d=s(u,p),d&&g.push(o(u)+(e?": ":":")+d));else for(u in p)Object.prototype.hasOwnProperty.call(p,u)&&(d=s(u,p),d&&g.push(o(u)+(e?": ":":")+d));return d=g.length===0?"{}":e?`{
`+e+g.join(`,
`+e)+`
`+h+"}":"{"+g.join(",")+"}",e=h,d}}return uE=function(a,c,l){var u;if(e="",n="",typeof l=="number")for(u=0;u<l;u+=1)n+=" ";else typeof l=="string"&&(n=l);if(i=c,c&&typeof c!="function"&&(typeof c!="object"||typeof c.length!="number"))throw new Error("JSON.stringify");return s("",{"":a})},uE}var ak;function ree(){return ak||(ak=1,Wy.parse=tee(),Wy.stringify=nee()),Wy}var iee={}.toString,oee=Array.isArray||function(t){return iee.call(t)=="[object Array]"},Ky=(typeof JSON<"u"?JSON:ree()).stringify,see=oee,aee=wQ,cee=gQ,t2=rQ,lee=t2("Array.prototype.join"),ck=t2("Array.prototype.indexOf"),uee=t2("Array.prototype.splice"),dee=t2("Array.prototype.sort"),lk=function(e,n){for(var r="",i=0;i<e;i+=1)r+=n;return r},fee=function(t,e,n){return n},hee=function(e){var n=arguments.length>1?arguments[1]:void 0,r=n&&n.space||"";typeof r=="number"&&(r=lk(r," "));var i=!!n&&typeof n.cycles=="boolean"&&n.cycles,o=n&&n.replacer?cee(n.replacer):fee;if(n&&typeof n.collapseEmpty<"u"&&typeof n.collapseEmpty!="boolean")throw new TypeError("`collapseEmpty` must be a boolean, if provided");var s=!!n&&n.collapseEmpty,a=typeof n=="function"?n:n&&n.cmp,c=a&&function(u){var d=a.length>2&&function(h){return u[h]};return function(f,h){return a({key:f,value:u[f]},{key:h,value:u[h]},d?{__proto__:null,get:d}:void 0)}},l=[];return function u(d,f,h,g){var p=r?`
`+lk(g,r):"",S=r?": ":":";if(h&&h.toJSON&&typeof h.toJSON=="function"&&(h=h.toJSON()),h=o(d,f,h),h!==void 0){if(typeof h!="object"||h===null)return Ky(h);var y=function(k,T){return s&&k.length===0?T:(T==="[]"?"[":"{")+lee(k,",")+p+(T==="[]"?"]":"}")};if(see(h)){for(var O=[],b=0;b<h.length;b++){var _=u(h,b,h[b],g+1)||Ky(null);O[O.length]=p+r+_}return y(O,"[]")}if(ck(l,h)!==-1){if(i)return Ky("__cycle__");throw new TypeError("Converting circular structure to JSON")}else l[l.length]=h;for(var N=dee(aee(h),c&&c(h)),O=[],b=0;b<N.length;b++){var f=N[b],$=u(h,f,h[f],g+1);if($){var j=Ky(f)+S+$;O[O.length]=p+r+j}}return uee(l,ck(l,h),1),y(O,"{}")}}({"":e},"",e,0)};const OB=Bo(hee),pee=BigInt(0),hp=BigInt(1),gee=BigInt(2),mee=BigInt(7),yee=BigInt(256),vee=BigInt(113),TB=[],MB=[],NB=[];for(let t=0,e=hp,n=1,r=0;t<24;t++){[n,r]=[r,(2*n+3*r)%5],TB.push(2*(5*r+n)),MB.push((t+1)*(t+2)/2%64);let i=pee;for(let o=0;o<7;o++)e=(e<<hp^(e>>mee)*vee)%yee,e&gee&&(i^=hp<<(hp<<BigInt(o))-hp);NB.push(i)}const RB=m$(NB,!0),wee=RB[0],bee=RB[1],uk=(t,e,n)=>n>32?iY(t,e,n):nY(t,e,n),dk=(t,e,n)=>n>32?oY(t,e,n):rY(t,e,n);function Eee(t,e=24){const n=new Uint32Array(10);for(let r=24-e;r<24;r++){for(let s=0;s<10;s++)n[s]=t[s]^t[s+10]^t[s+20]^t[s+30]^t[s+40];for(let s=0;s<10;s+=2){const a=(s+8)%10,c=(s+2)%10,l=n[c],u=n[c+1],d=uk(l,u,1)^n[a],f=dk(l,u,1)^n[a+1];for(let h=0;h<50;h+=10)t[s+h]^=d,t[s+h+1]^=f}let i=t[2],o=t[3];for(let s=0;s<24;s++){const a=MB[s],c=uk(i,o,a),l=dk(i,o,a),u=TB[s];i=t[u],o=t[u+1],t[u]=c,t[u+1]=l}for(let s=0;s<50;s+=10){for(let a=0;a<10;a++)n[a]=t[s+a];for(let a=0;a<10;a++)t[s+a]^=~n[(a+2)%10]&n[(a+4)%10]}t[0]^=wee[r],t[1]^=bee[r]}ou(n)}class yC extends G4{constructor(e,n,r,i=!1,o=24){if(super(),this.pos=0,this.posOut=0,this.finished=!1,this.destroyed=!1,this.enableXOF=!1,this.blockLen=e,this.suffix=n,this.outputLen=r,this.enableXOF=i,this.rounds=o,Mg(r),!(0<e&&e<200))throw new Error("only keccak-f1600 function is supported");this.state=new Uint8Array(200),this.state32=WG(this.state)}clone(){return this._cloneInto()}keccak(){E9(this.state32),Eee(this.state32,this.rounds),E9(this.state32),this.posOut=0,this.pos=0}update(e){Hh(this),e=$b(e),wc(e);const{blockLen:n,state:r}=this,i=e.length;for(let o=0;o<i;){const s=Math.min(n-this.pos,i-o);for(let a=0;a<s;a++)r[this.pos++]^=e[o++];this.pos===n&&this.keccak()}return this}finish(){if(this.finished)return;this.finished=!0;const{state:e,suffix:n,pos:r,blockLen:i}=this;e[r]^=n,n&128&&r===i-1&&this.keccak(),e[i-1]^=128,this.keccak()}writeInto(e){Hh(this,!1),wc(e),this.finish();const n=this.state,{blockLen:r}=this;for(let i=0,o=e.length;i<o;){this.posOut>=r&&this.keccak();const s=Math.min(r-this.posOut,o-i);e.set(n.subarray(this.posOut,this.posOut+s),i),this.posOut+=s,i+=s}return e}xofInto(e){if(!this.enableXOF)throw new Error("XOF is not possible for this instance");return this.writeInto(e)}xof(e){return Mg(e),this.xofInto(new Uint8Array(e))}digestInto(e){if(h$(e,this),this.finished)throw new Error("digest() was already called");return this.writeInto(e),this.destroy(),e}digest(){return this.digestInto(new Uint8Array(this.outputLen))}destroy(){this.destroyed=!0,ou(this.state)}_cloneInto(e){const{blockLen:n,suffix:r,outputLen:i,rounds:o,enableXOF:s}=this;return e||(e=new yC(n,r,i,s,o)),e.state32.set(this.state32),e.pos=this.pos,e.posOut=this.posOut,e.finished=this.finished,e.rounds=o,e.suffix=r,e.outputLen=i,e.enableXOF=s,e.destroyed=this.destroyed,e}}const xee=(t,e,n)=>Y4(()=>new yC(e,t,n)),yw=xee(1,136,256/8),See=wc;function _ee(t){return e=>(See(e),t(e))}const Cee=(()=>{const t=_ee(yw);return t.create=yw.create,t})();function hh(t){return Buffer.from(Cee(t))}const Aee=new X4.ec("secp256k1");function Iee(t){return{iv:Buffer.from(t.iv,"hex"),ephemPublicKey:Buffer.from(t.ephemPublicKey,"hex"),ciphertext:Buffer.from(t.ciphertext,"hex"),mac:Buffer.from(t.mac,"hex")}}function kee(t){return{iv:Buffer.from(t.iv).toString("hex"),ephemPublicKey:Buffer.from(t.ephemPublicKey).toString("hex"),ciphertext:Buffer.from(t.ciphertext).toString("hex"),mac:Buffer.from(t.mac).toString("hex")}}async function cv(t,e){const n=JSON.stringify(e),r=Buffer.from(n,"utf-8"),i=await eee(Dl(Buffer.from(t,"hex")),r),o=kee(i);return JSON.stringify(o)}async function LB(t,e){const n=JSON.parse(e),r=Iee(n),i=Aee.keyFromPrivate(t),s=(await PB(Buffer.from(i.getPrivate().toString("hex",64),"hex"),r)).toString("utf-8");return JSON.parse(s)}const Pee=86400;class Np extends HX{constructor({sessionServerBaseUrl:e,sessionNamespace:n,sessionTime:r,sessionId:i,allowedOrigin:o}={}){super(),ue(this,"sessionServerBaseUrl",_B),ue(this,"sessionNamespace",void 0),ue(this,"allowedOrigin",void 0),ue(this,"sessionTime",Pee),ue(this,"sessionId",""),e&&(this.sessionServerBaseUrl=e),n&&(this.sessionNamespace=n),r&&(this.sessionTime=r),i&&(this.sessionId=wx(i)),o?this.allowedOrigin=o:this.allowedOrigin="*"}static generateRandomSessionKey(){return wx(QX().toString("hex"))}async createSession(e,n={}){super.checkSessionParams();const r=Buffer.from(this.sessionId,"hex"),i=Dl(r).toString("hex"),o=await cv(this.sessionId,e),s=(await av(r,hh(Buffer.from(o,"utf8")))).toString("hex"),a={key:i,data:o,signature:s,namespace:this.sessionNamespace,timeout:this.sessionTime,allowedOrigin:this.allowedOrigin};return await super.request({method:"POST",url:`${this.sessionServerBaseUrl}/v2/store/set`,data:a,headers:n}),this.sessionId}async authorizeSession({headers:e}={headers:{}}){super.checkSessionParams();const r={key:Dl(Buffer.from(this.sessionId,"hex")).toString("hex"),namespace:this.sessionNamespace},i=await super.request({method:"POST",url:`${this.sessionServerBaseUrl}/v2/store/get`,data:r,headers:e});if(!i.message)throw new Error("Session Expired or Invalid public key");const o=await LB(this.sessionId,i.message);if(o.error)throw new Error("There was an error decrypting data.");return o}async updateSession(e,n={}){super.checkSessionParams();const r=Buffer.from(this.sessionId,"hex"),i=Dl(r).toString("hex"),o=await cv(this.sessionId,e),s=(await av(r,hh(Buffer.from(o,"utf8")))).toString("hex"),a={key:i,data:o,signature:s,namespace:this.sessionNamespace,allowedOrigin:this.allowedOrigin};await super.request({method:"PUT",url:`${this.sessionServerBaseUrl}/v2/store/update`,data:a,headers:n})}async invalidateSession(e={}){super.checkSessionParams();const n=Buffer.from(this.sessionId,"hex"),r=Dl(n).toString("hex"),i=await cv(this.sessionId,{}),o=(await av(n,hh(Buffer.from(i,"utf8")))).toString("hex"),s={key:r,data:i,signature:o,namespace:this.sessionNamespace,timeout:1};return await super.request({method:"POST",url:`${this.sessionServerBaseUrl}/v2/store/set`,data:s,headers:e}),this.sessionId="",!0}}async function Oee(t,e){try{return await new Np({sessionId:t,sessionServerBaseUrl:e,allowedOrigin:!0}).authorizeSession()}catch(n){throw Nc.error("fetch data from storage server error",n),new Error("Unable to retrieve data from storage server, invalid key or key expired.")}}class Tee extends Rc{constructor(e){super(e),this.setFinalUrl()}setFinalUrl(){const{passkeysHostUrl:e}=this.params.customState||{};if(!e)throw new Error("Invalid passkeys url.");const n=new URL(e),r=JSON.parse(JSON.stringify(this.params.jwtParams||{})),i=ln({state:this.state,client_id:this.params.clientId,redirect_uri:this.params.redirect_uri},r);Object.keys(i).forEach(o=>{const s=o;i[s]&&n.searchParams.append(s,i[s])}),this.finalURL=n}async getUserInfo(e,n){const{idToken:r,extraParams:i}=e,{sessionId:o}=JSON.parse(au.decode(i))||{};if(!o)throw new Error("sessionId not found");const{verifier_id:s,signature:a,clientDataJSON:c,authenticatorData:l,publicKey:u,challenge:d,rpOrigin:f,rpId:h,credId:g,transports:p,username:S}=await Oee(o,n);if(a!==r)throw new Error("idtoken should be equal to signature");return{email:"",name:"Passkeys Login",profileImage:"",authConnectionId:this.params.authConnectionId,userId:s,authConnection:this.params.authConnection,groupedAuthConnectionId:this.params.groupedAuthConnectionId,extraConnectionParams:{signature:a,clientDataJSON:c,authenticatorData:l,publicKey:u,challenge:d,rpOrigin:f,rpId:h,credId:g,transports:p,username:S}}}}const Mee=["event","origin","result"];class Nee extends Rc{constructor(e){super(e),ue(this,"RESPONSE_TYPE","token"),ue(this,"SCOPE","profile"),ue(this,"PROMPT","select_account"),this.setFinalUrl()}setFinalUrl(){const{domain:e}=this.params.jwtParams,n=dC(e||"https://oauth.telegram.org/auth"),r=JSON.parse(JSON.stringify(this.params.jwtParams||{}));r.origin=`${this.params.redirect_uri}?state=${this.state}&nonce=${this.nonce}`;const i=ln({state:this.state,response_type:this.RESPONSE_TYPE,bot_id:this.params.clientId,prompt:this.PROMPT,redirect_uri:`${this.params.redirect_uri}?state=${this.state}&nonce=${this.nonce}`,scope:this.SCOPE,nonce:this.nonce},r);Object.keys(i).forEach(o=>{const s=o;i[s]&&n.searchParams.append(s,i[s])}),this.finalURL=n}async getUserInfo(e){const{idToken:n}=e,r=PX(n),{photo_url:i="",first_name:o="",last_name:s="",id:a}=r;return{email:"",name:`${o} ${s}`,profileImage:i,authConnectionId:this.params.authConnectionId,userId:a.toString(),authConnection:this.params.authConnection,groupedAuthConnectionId:this.params.groupedAuthConnectionId}}async handleLoginWindow(e){const n=new e2({url:this.finalURL,features:e.popupFeatures,timeout:fC(this.params.authConnection)});if(this.params.uxMode===Pr.REDIRECT)n.redirect(e.locationReplaceOnRedirect);else return new Promise((r,i)=>{const o=async a=>{try{const c=JSON.parse(a)||{},{event:l,origin:u,result:d}=c,f=Lb(c,Mee),g=new URL(u).searchParams.get("state");l&&l==="auth_result"&&r(ae(ae({accessToken:""},f),{},{idToken:au.encode(JSON.stringify(d))||"",state:au.decode(g)}))}catch(c){Ku.error(c),i(c)}},s=async a=>{if(!a.data)throw new Error("Invalid data received");if(this.finalURL.origin!==a.origin)throw new Error("Invalid origin received");const c=a.data;if(typeof c!="string")throw new Error("Invalid data type received");const{event:l}=JSON.parse(c)||{};l&&l!=="auth_result"&&Ku.info("Invalid event received"),window.removeEventListener("message",s),o(c),n.close()};window.addEventListener("message",s);try{n.open()}catch(a){Ku.error(a),i(a);return}n.once("close",()=>{i(new Error("user closed popup"))})});return null}}class Ree extends Rc{constructor(e){super(e),ue(this,"RESPONSE_TYPE","token"),ue(this,"SCOPE","user:read:email"),this.setFinalUrl()}setFinalUrl(){const e=new URL("https://id.twitch.tv/oauth2/authorize"),n=JSON.parse(JSON.stringify(this.params.jwtParams||{})),r=ln({state:this.state,response_type:this.RESPONSE_TYPE,client_id:this.params.clientId,redirect_uri:this.params.redirect_uri,scope:this.SCOPE,force_verify:"true"},n);Object.keys(r).forEach(i=>{const o=i;r[o]&&e.searchParams.append(o,r[o])}),this.finalURL=e}async getUserInfo(e){const{accessToken:n}=e,r=await wa("https://api.twitch.tv/helix/users",{headers:{Authorization:`Bearer ${n}`,"Client-ID":this.params.clientId}}),[{profile_image_url:i="",display_name:o="",email:s="",id:a}]=r.data||[];return{profileImage:i,name:o,email:s,userId:a,authConnectionId:this.params.authConnectionId,authConnection:this.params.authConnection,groupedAuthConnectionId:this.params.groupedAuthConnectionId}}}const bx={code:"code"};class Lee extends Rc{constructor(e){super(e),ue(this,"SCOPE","openid profile email"),ue(this,"RESPONSE_TYPE","token id_token"),ue(this,"PROMPT","login"),this.setFinalUrl()}setFinalUrl(){const{domain:e}=this.params.jwtParams||{},n=dC(e||"https://passwordless.web3auth.io/v7");n.pathname+=n.pathname.endsWith("/")?"authorize":"/authorize";const r=JSON.parse(JSON.stringify(this.params.jwtParams||{}));delete r.domain,this.params.customState=ae(ae({},this.params.customState||{}),{},{client:this.params.web3AuthClientId});const i=ln({state:this.state,client_id:this.params.clientId||this.params.web3AuthClientId,redirect_uri:this.params.redirect_uri,nonce:this.nonce,network:this.params.web3AuthNetwork,connection:hB[this.params.authConnection],scope:this.SCOPE,response_type:this.RESPONSE_TYPE,prompt:this.PROMPT,flow_type:(r==null?void 0:r.flow_type)||bx.code},r);Object.keys(i).forEach(o=>{const s=o;i[s]&&n.searchParams.append(s,i[s])}),this.finalURL=n}async getUserInfo(e){const{idToken:n}=e,r=hC(n).payload,{name:i,email:o,picture:s}=r;return{profileImage:s,name:i,email:o,userId:i.toLowerCase(),authConnectionId:this.params.authConnectionId,authConnection:this.params.authConnection,groupedAuthConnectionId:this.params.groupedAuthConnectionId}}}const $ee=t=>{const{authConnectionId:e,authConnection:n,clientId:r,jwtParams:i}=t;if(!e||!n||!r)throw new Error("Invalid params. Missing authConnectionId, authConnection or clientId");const{domain:o,login_hint:s,id_token:a,access_token:c}=i||{};switch(n){case Be.GOOGLE:return new FX(t);case Be.TELEGRAM:return new Nee(t);case Be.FACEBOOK:return new jX(t);case Be.TWITCH:return new Ree(t);case Be.DISCORD:return new DX(t);case Be.EMAIL_PASSWORDLESS:case Be.SMS_PASSWORDLESS:if(!s)throw new Error("Invalid params. Missing login_hint for web3auth passwordless login");return new Lee(t);case Be.APPLE:case Be.GITHUB:case Be.LINKEDIN:case Be.TWITTER:case Be.LINE:case Be.CUSTOM:case Be.REDDIT:case Be.WECHAT:case Be.KAKAO:case Be.FARCASTER:case Be.AUTHENTICATOR:if(a||c)return new zX(t);if(!o)throw new Error("Invalid params for jwt login. Missing domain");return new UX(t);case Be.PASSKEYS:return new Tee(t);default:throw new Error("Unsupported login type")}},vC=async t=>{const e=t instanceof Error,n=typeof t=="string",r=t&&typeof t=="object"&&"status"in t&&"type"in t;let i;if(r){const o=t,s=o.headers.get("content-type");if(s.includes("application/json")){const a=await o.json();i=new Error((a==null?void 0:a.error)||(a==null?void 0:a.message)||JSON.stringify(a))}else s.includes("text/plain")?i=new Error(await o.text()):i=new Error(`${o.status} ${o.type.toString()} ${o.statusText}`)}else n?i=new Error(t):e?i=t:i=new Error("Unknown error");return i},xc=Nc.getLogger("auth");xc.setLevel("error");const Xt={MAINNET:"mainnet",TESTNET:"testnet",CYAN:"cyan",AQUA:"aqua",CELESTE:"celeste"},Sl={SAPPHIRE_DEVNET:"sapphire_devnet",SAPPHIRE_MAINNET:"sapphire_mainnet"};Xt.MAINNET+"",Xt.TESTNET+"",Xt.CYAN+"",Xt.AQUA+"",Xt.CELESTE+"";Xt.AQUA+"",Sl.SAPPHIRE_MAINNET,Xt.CELESTE+"",Sl.SAPPHIRE_MAINNET,Xt.CYAN+"",Sl.SAPPHIRE_MAINNET,Xt.MAINNET+"",Sl.SAPPHIRE_MAINNET,Xt.TESTNET+"",Sl.SAPPHIRE_DEVNET;Xt.MAINNET+"",Xt.TESTNET+"",Xt.CYAN+"",Xt.AQUA+"",Xt.CELESTE+"";Sl.SAPPHIRE_MAINNET+"",Sl.SAPPHIRE_DEVNET+"",Xt.MAINNET+"",Xt.TESTNET+"",Xt.CYAN+"",Xt.AQUA+"",Xt.CELESTE+"";Xt.MAINNET+"",Xt.TESTNET+"",Xt.CYAN+"",Xt.AQUA+"",Xt.CELESTE+"";const $B="https://api.web3auth.io/session-service",BB="https://session.web3auth.io",Bee=Xt,Dee=Sl,ph=ae(ae({},Dee),Bee),jee={OTHER:"other"},pf={LOGIN:"login",ENABLE_MFA:"enable_mfa",MANAGE_MFA:"manage_mfa",ADD_AUTHENTICATOR_FACTOR:"add_authenticator_factor",ADD_PASSKEY_FACTOR:"add_passkey_factor"},li={PRODUCTION:"production",DEVELOPMENT:"development",STAGING:"staging",TESTING:"testing"},Os={DEFAULT:"default",IFRAME:"iframe"},Vc={SETUP_COMPLETE:"setup_complete",INIT_DAPP:"init_dapp",LOGIN_INITIATED:"login_initiated",LOGIN_CANCELLED:"login_cancelled",LOGIN_FAILED:"login_failed",LOGIN_SUCCESS:"login_success",DISPLAY_IFRAME:"display_iframe",HIDE_IFRAME:"hide_iframe"},fk="auth-iframe",Fee="http://localhost:3000",Uee="https://staging-auth.web3auth.io",zee="https://develop-auth.web3auth.io",Hee="https://auth.web3auth.io",Wee="http://localhost:5173",Kee="https://staging-account.web3auth.io",qee="https://develop-account.web3auth.io",Vee="https://account.web3auth.io",Gee=1e3*10,uo={en:"en",ja:"ja",ko:"ko",de:"de",zh:"zh",es:"es",fr:"fr",pt:"pt",nl:"nl",tr:"tr"},Yee={en:"english",ja:"japanese",ko:"korean",de:"german",zh:"mandarin",es:"spanish",fr:"french",pt:"portuguese",nl:"dutch",tr:"turkish"},Ex={light:"light",dark:"dark"},DB=au;function vw(t){return DB.decode(t)}function qy(t){return DB.encode(JSON.stringify(t))}const Jee=t=>{const e=window.document.createElement("template"),n=t.trim();return e.innerHTML=n,e.content.firstChild};function Zee(t){try{return structuredClone(t)}catch{return JSON.parse(JSON.stringify(t))}}const Vy=new Map;function Qee(t){return t===Ex.light?"light":t===Ex.dark||window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"}class Xee{constructor({sdkUrl:e,whiteLabel:n}){ue(this,"sdkUrl",void 0),ue(this,"whiteLabel",void 0),ue(this,"initialized",!1),ue(this,"loginCallbackSuccess",null),ue(this,"loginCallbackFailed",null),ue(this,"embedNonce",uC()),this.sdkUrl=e,this.whiteLabel=n}get targetOrigin(){return new URL(this.sdkUrl).origin}getAuthServiceIframe(){return Vy.get(this.embedNonce)}registerAuthServiceIframe(e){Vy.set(this.embedNonce,e)}cleanup(){const e=Vy.get(this.embedNonce);e&&e.parentNode&&(e.parentNode.removeChild(e),Vy.delete(this.embedNonce))}async init({network:e,clientId:n}){if(typeof window>"u"||typeof document>"u")throw new Error("window or document is not available");if(this.initialized)throw new Error("AuthProvider already initialized");const r=new URL(this.sdkUrl);r.pathname.endsWith("/")?r.pathname+="frame":r.pathname+="/frame";const i=new URLSearchParams;i.append("origin",window.location.origin),i.append("nonce",this.embedNonce),r.hash=i.toString();const o=Qee(this.whiteLabel.mode||Ex.light),s=Jee(`<iframe
        id="${fk}-${this.embedNonce}"
        class="${fk}-${this.embedNonce}"
        sandbox="allow-popups allow-scripts allow-same-origin allow-forms allow-modals allow-downloads"
        src="${r.href}"
        style="display: none; position: fixed; top: 0; right: 0; width: 100%; z-index: 10000000;
        height: 100%; border: none; border-radius: 0; color-scheme: ${o};"
        allow="clipboard-write"
      ></iframe>`);return this.registerAuthServiceIframe(s),new Promise((a,c)=>{try{window.document.body.appendChild(s);const l=u=>{var d,f,h;if(u.origin!==this.targetOrigin)return;const{data:g}=u,{type:p,nonce:S}=g;if(S!==this.embedNonce)return;const y=g.data;switch(p){case Vc.SETUP_COMPLETE:(d=this.getAuthServiceIframe())===null||d===void 0||(d=d.contentWindow)===null||d===void 0||d.postMessage({type:Vc.INIT_DAPP,data:{network:e,clientId:n}},this.targetOrigin),this.initialized=!0,a();break;case Vc.LOGIN_FAILED:(f=this.loginCallbackFailed)===null||f===void 0||f.call(this,(y==null?void 0:y.error)||"Login failed, reason: unknown");break;case Vc.DISPLAY_IFRAME:this.getAuthServiceIframe().style.display="block";break;case Vc.HIDE_IFRAME:this.getAuthServiceIframe().style.display="none";break;case Vc.LOGIN_SUCCESS:xc.info("LOGIN_SUCCESS",y),this.getAuthServiceIframe().style.display="none",y!=null&&y.sessionId&&((h=this.loginCallbackSuccess)===null||h===void 0||h.call(this,y));break;default:xc.warn(`Unknown message type: ${p}`);break}};window.addEventListener("message",l)}catch(l){c(l)}})}postLoginInitiatedMessage(e,n){var r;if(!this.initialized)throw new Error("Iframe not initialized");return(r=this.getAuthServiceIframe().contentWindow)===null||r===void 0||r.postMessage({type:Vc.LOGIN_INITIATED,data:{loginConfig:e,nonce:n}},this.targetOrigin),new Promise((i,o)=>{this.loginCallbackSuccess=i,this.loginCallbackFailed=o})}postLoginCancelledMessage(e){var n;if(!this.initialized)throw new Error("Iframe not initialized");(n=this.getAuthServiceIframe().contentWindow)===null||n===void 0||n.postMessage({type:Vc.LOGIN_CANCELLED,data:{nonce:e}},this.targetOrigin)}}function ete(t,e){var n=Object.setPrototypeOf;n?n(t,e):t.__proto__=e}function tte(t,e){e===void 0&&(e=t.constructor);var n=Error.captureStackTrace;n&&n(t,e)}var nte=function(){var t=function(n,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,o){i.__proto__=o}||function(i,o){for(var s in o)Object.prototype.hasOwnProperty.call(o,s)&&(i[s]=o[s])},t(n,r)};return function(e,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),jB=function(t){nte(e,t);function e(n,r){var i=this.constructor,o=t.call(this,n,r)||this;return Object.defineProperty(o,"name",{value:i.name,enumerable:!1,configurable:!0}),ete(o,i.prototype),tte(o),o}return e}(Error);class FB extends jB{constructor(e,n){super(n),ue(this,"code",void 0),ue(this,"message",void 0),this.code=e,this.message=n||"",Object.defineProperty(this,"name",{value:"AuthError"})}toJSON(){return{name:this.name,code:this.code,message:this.message}}toString(){return JSON.stringify(this.toJSON())}}class rc extends FB{constructor(e,n){super(e,n),Object.defineProperty(this,"name",{value:"InitializationError"})}static fromCode(e,n=""){return new rc(e,`${rc.messages[e]}, ${n}`)}static invalidParams(e=""){return rc.fromCode(5001,e)}static notInitialized(e=""){return rc.fromCode(5002,e)}}ue(rc,"messages",{5e3:"Custom",5001:"Invalid constructor params",5002:"SDK not initialized. please call init first"});class Ht extends FB{constructor(e,n){super(e,n),Object.defineProperty(this,"name",{value:"LoginError"})}static fromCode(e,n=""){return new Ht(e,`${Ht.messages[e]}, ${n}`)}static invalidLoginParams(e=""){return Ht.fromCode(5111,e)}static userNotLoggedIn(e=""){return Ht.fromCode(5112,e)}static popupClosed(e=""){return Ht.fromCode(5113,e)}static loginFailed(e=""){return Ht.fromCode(5114,e)}static popupBlocked(e=""){return Ht.fromCode(5115,e)}static mfaAlreadyEnabled(e=""){return Ht.fromCode(5116,e)}static mfaNotEnabled(e=""){return Ht.fromCode(5117,e)}}ue(Ht,"messages",{5e3:"Custom",5111:"Invalid login params",5112:"User not logged in.",5113:"login popup has been closed by the user",5114:"Login failed",5115:"Popup was blocked. Please call this function as soon as user clicks button or use redirect mode",5116:"MFA already enabled",5117:"MFA not yet enabled. Please call `enableMFA` first"});const da=Object.create(null);da.open="0";da.close="1";da.ping="2";da.pong="3";da.message="4";da.upgrade="5";da.noop="6";const lv=Object.create(null);Object.keys(da).forEach(t=>{lv[da[t]]=t});const xx={type:"error",data:"parser error"},UB=typeof Blob=="function"||typeof Blob<"u"&&Object.prototype.toString.call(Blob)==="[object BlobConstructor]",zB=typeof ArrayBuffer=="function",HB=t=>typeof ArrayBuffer.isView=="function"?ArrayBuffer.isView(t):t&&t.buffer instanceof ArrayBuffer,wC=({type:t,data:e},n,r)=>UB&&e instanceof Blob?n?r(e):hk(e,r):zB&&(e instanceof ArrayBuffer||HB(e))?n?r(e):hk(new Blob([e]),r):r(da[t]+(e||"")),hk=(t,e)=>{const n=new FileReader;return n.onload=function(){const r=n.result.split(",")[1];e("b"+(r||""))},n.readAsDataURL(t)};function pk(t){return t instanceof Uint8Array?t:t instanceof ArrayBuffer?new Uint8Array(t):new Uint8Array(t.buffer,t.byteOffset,t.byteLength)}let dE;function rte(t,e){if(UB&&t.data instanceof Blob)return t.data.arrayBuffer().then(pk).then(e);if(zB&&(t.data instanceof ArrayBuffer||HB(t.data)))return e(pk(t.data));wC(t,!1,n=>{dE||(dE=new TextEncoder),e(dE.encode(n))})}const gk="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",Rp=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(let t=0;t<gk.length;t++)Rp[gk.charCodeAt(t)]=t;const ite=t=>{let e=t.length*.75,n=t.length,r,i=0,o,s,a,c;t[t.length-1]==="="&&(e--,t[t.length-2]==="="&&e--);const l=new ArrayBuffer(e),u=new Uint8Array(l);for(r=0;r<n;r+=4)o=Rp[t.charCodeAt(r)],s=Rp[t.charCodeAt(r+1)],a=Rp[t.charCodeAt(r+2)],c=Rp[t.charCodeAt(r+3)],u[i++]=o<<2|s>>4,u[i++]=(s&15)<<4|a>>2,u[i++]=(a&3)<<6|c&63;return l},ote=typeof ArrayBuffer=="function",bC=(t,e)=>{if(typeof t!="string")return{type:"message",data:WB(t,e)};const n=t.charAt(0);return n==="b"?{type:"message",data:ste(t.substring(1),e)}:lv[n]?t.length>1?{type:lv[n],data:t.substring(1)}:{type:lv[n]}:xx},ste=(t,e)=>{if(ote){const n=ite(t);return WB(n,e)}else return{base64:!0,data:t}},WB=(t,e)=>{switch(e){case"blob":return t instanceof Blob?t:new Blob([t]);case"arraybuffer":default:return t instanceof ArrayBuffer?t:t.buffer}},KB="",ate=(t,e)=>{const n=t.length,r=new Array(n);let i=0;t.forEach((o,s)=>{wC(o,!1,a=>{r[s]=a,++i===n&&e(r.join(KB))})})},cte=(t,e)=>{const n=t.split(KB),r=[];for(let i=0;i<n.length;i++){const o=bC(n[i],e);if(r.push(o),o.type==="error")break}return r};function lte(){return new TransformStream({transform(t,e){rte(t,n=>{const r=n.length;let i;if(r<126)i=new Uint8Array(1),new DataView(i.buffer).setUint8(0,r);else if(r<65536){i=new Uint8Array(3);const o=new DataView(i.buffer);o.setUint8(0,126),o.setUint16(1,r)}else{i=new Uint8Array(9);const o=new DataView(i.buffer);o.setUint8(0,127),o.setBigUint64(1,BigInt(r))}t.data&&typeof t.data!="string"&&(i[0]|=128),e.enqueue(i),e.enqueue(n)})}})}let fE;function Gy(t){return t.reduce((e,n)=>e+n.length,0)}function Yy(t,e){if(t[0].length===e)return t.shift();const n=new Uint8Array(e);let r=0;for(let i=0;i<e;i++)n[i]=t[0][r++],r===t[0].length&&(t.shift(),r=0);return t.length&&r<t[0].length&&(t[0]=t[0].slice(r)),n}function ute(t,e){fE||(fE=new TextDecoder);const n=[];let r=0,i=-1,o=!1;return new TransformStream({transform(s,a){for(n.push(s);;){if(r===0){if(Gy(n)<1)break;const c=Yy(n,1);o=(c[0]&128)===128,i=c[0]&127,i<126?r=3:i===126?r=1:r=2}else if(r===1){if(Gy(n)<2)break;const c=Yy(n,2);i=new DataView(c.buffer,c.byteOffset,c.length).getUint16(0),r=3}else if(r===2){if(Gy(n)<8)break;const c=Yy(n,8),l=new DataView(c.buffer,c.byteOffset,c.length),u=l.getUint32(0);if(u>Math.pow(2,21)-1){a.enqueue(xx);break}i=u*Math.pow(2,32)+l.getUint32(4),r=3}else{if(Gy(n)<i)break;const c=Yy(n,i);a.enqueue(bC(o?c:fE.decode(c),e)),r=0}if(i===0||i>t){a.enqueue(xx);break}}}})}const qB=4;function Bn(t){if(t)return dte(t)}function dte(t){for(var e in Bn.prototype)t[e]=Bn.prototype[e];return t}Bn.prototype.on=Bn.prototype.addEventListener=function(t,e){return this._callbacks=this._callbacks||{},(this._callbacks["$"+t]=this._callbacks["$"+t]||[]).push(e),this};Bn.prototype.once=function(t,e){function n(){this.off(t,n),e.apply(this,arguments)}return n.fn=e,this.on(t,n),this};Bn.prototype.off=Bn.prototype.removeListener=Bn.prototype.removeAllListeners=Bn.prototype.removeEventListener=function(t,e){if(this._callbacks=this._callbacks||{},arguments.length==0)return this._callbacks={},this;var n=this._callbacks["$"+t];if(!n)return this;if(arguments.length==1)return delete this._callbacks["$"+t],this;for(var r,i=0;i<n.length;i++)if(r=n[i],r===e||r.fn===e){n.splice(i,1);break}return n.length===0&&delete this._callbacks["$"+t],this};Bn.prototype.emit=function(t){this._callbacks=this._callbacks||{};for(var e=new Array(arguments.length-1),n=this._callbacks["$"+t],r=1;r<arguments.length;r++)e[r-1]=arguments[r];if(n){n=n.slice(0);for(var r=0,i=n.length;r<i;++r)n[r].apply(this,e)}return this};Bn.prototype.emitReserved=Bn.prototype.emit;Bn.prototype.listeners=function(t){return this._callbacks=this._callbacks||{},this._callbacks["$"+t]||[]};Bn.prototype.hasListeners=function(t){return!!this.listeners(t).length};const n2=typeof Promise=="function"&&typeof Promise.resolve=="function"?e=>Promise.resolve().then(e):(e,n)=>n(e,0),Ao=typeof self<"u"?self:typeof window<"u"?window:Function("return this")(),fte="arraybuffer";function VB(t,...e){return e.reduce((n,r)=>(t.hasOwnProperty(r)&&(n[r]=t[r]),n),{})}const hte=Ao.setTimeout,pte=Ao.clearTimeout;function r2(t,e){e.useNativeTimers?(t.setTimeoutFn=hte.bind(Ao),t.clearTimeoutFn=pte.bind(Ao)):(t.setTimeoutFn=Ao.setTimeout.bind(Ao),t.clearTimeoutFn=Ao.clearTimeout.bind(Ao))}const gte=1.33;function mte(t){return typeof t=="string"?yte(t):Math.ceil((t.byteLength||t.size)*gte)}function yte(t){let e=0,n=0;for(let r=0,i=t.length;r<i;r++)e=t.charCodeAt(r),e<128?n+=1:e<2048?n+=2:e<55296||e>=57344?n+=3:(r++,n+=4);return n}function GB(){return Date.now().toString(36).substring(3)+Math.random().toString(36).substring(2,5)}function vte(t){let e="";for(let n in t)t.hasOwnProperty(n)&&(e.length&&(e+="&"),e+=encodeURIComponent(n)+"="+encodeURIComponent(t[n]));return e}function wte(t){let e={},n=t.split("&");for(let r=0,i=n.length;r<i;r++){let o=n[r].split("=");e[decodeURIComponent(o[0])]=decodeURIComponent(o[1])}return e}class bte extends Error{constructor(e,n,r){super(e),this.description=n,this.context=r,this.type="TransportError"}}class EC extends Bn{constructor(e){super(),this.writable=!1,r2(this,e),this.opts=e,this.query=e.query,this.socket=e.socket,this.supportsBinary=!e.forceBase64}onError(e,n,r){return super.emitReserved("error",new bte(e,n,r)),this}open(){return this.readyState="opening",this.doOpen(),this}close(){return(this.readyState==="opening"||this.readyState==="open")&&(this.doClose(),this.onClose()),this}send(e){this.readyState==="open"&&this.write(e)}onOpen(){this.readyState="open",this.writable=!0,super.emitReserved("open")}onData(e){const n=bC(e,this.socket.binaryType);this.onPacket(n)}onPacket(e){super.emitReserved("packet",e)}onClose(e){this.readyState="closed",super.emitReserved("close",e)}pause(e){}createUri(e,n={}){return e+"://"+this._hostname()+this._port()+this.opts.path+this._query(n)}_hostname(){const e=this.opts.hostname;return e.indexOf(":")===-1?e:"["+e+"]"}_port(){return this.opts.port&&(this.opts.secure&&+(this.opts.port!==443)||!this.opts.secure&&Number(this.opts.port)!==80)?":"+this.opts.port:""}_query(e){const n=vte(e);return n.length?"?"+n:""}}class Ete extends EC{constructor(){super(...arguments),this._polling=!1}get name(){return"polling"}doOpen(){this._poll()}pause(e){this.readyState="pausing";const n=()=>{this.readyState="paused",e()};if(this._polling||!this.writable){let r=0;this._polling&&(r++,this.once("pollComplete",function(){--r||n()})),this.writable||(r++,this.once("drain",function(){--r||n()}))}else n()}_poll(){this._polling=!0,this.doPoll(),this.emitReserved("poll")}onData(e){const n=r=>{if(this.readyState==="opening"&&r.type==="open"&&this.onOpen(),r.type==="close")return this.onClose({description:"transport closed by the server"}),!1;this.onPacket(r)};cte(e,this.socket.binaryType).forEach(n),this.readyState!=="closed"&&(this._polling=!1,this.emitReserved("pollComplete"),this.readyState==="open"&&this._poll())}doClose(){const e=()=>{this.write([{type:"close"}])};this.readyState==="open"?e():this.once("open",e)}write(e){this.writable=!1,ate(e,n=>{this.doWrite(n,()=>{this.writable=!0,this.emitReserved("drain")})})}uri(){const e=this.opts.secure?"https":"http",n=this.query||{};return this.opts.timestampRequests!==!1&&(n[this.opts.timestampParam]=GB()),!this.supportsBinary&&!n.sid&&(n.b64=1),this.createUri(e,n)}}let YB=!1;try{YB=typeof XMLHttpRequest<"u"&&"withCredentials"in new XMLHttpRequest}catch{}const xte=YB;function Ste(){}class _te extends Ete{constructor(e){if(super(e),typeof location<"u"){const n=location.protocol==="https:";let r=location.port;r||(r=n?"443":"80"),this.xd=typeof location<"u"&&e.hostname!==location.hostname||r!==e.port}}doWrite(e,n){const r=this.request({method:"POST",data:e});r.on("success",n),r.on("error",(i,o)=>{this.onError("xhr post error",i,o)})}doPoll(){const e=this.request();e.on("data",this.onData.bind(this)),e.on("error",(n,r)=>{this.onError("xhr poll error",n,r)}),this.pollXhr=e}}let gh=class uv extends Bn{constructor(e,n,r){super(),this.createRequest=e,r2(this,r),this._opts=r,this._method=r.method||"GET",this._uri=n,this._data=r.data!==void 0?r.data:null,this._create()}_create(){var e;const n=VB(this._opts,"agent","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","autoUnref");n.xdomain=!!this._opts.xd;const r=this._xhr=this.createRequest(n);try{r.open(this._method,this._uri,!0);try{if(this._opts.extraHeaders){r.setDisableHeaderCheck&&r.setDisableHeaderCheck(!0);for(let i in this._opts.extraHeaders)this._opts.extraHeaders.hasOwnProperty(i)&&r.setRequestHeader(i,this._opts.extraHeaders[i])}}catch{}if(this._method==="POST")try{r.setRequestHeader("Content-type","text/plain;charset=UTF-8")}catch{}try{r.setRequestHeader("Accept","*/*")}catch{}(e=this._opts.cookieJar)===null||e===void 0||e.addCookies(r),"withCredentials"in r&&(r.withCredentials=this._opts.withCredentials),this._opts.requestTimeout&&(r.timeout=this._opts.requestTimeout),r.onreadystatechange=()=>{var i;r.readyState===3&&((i=this._opts.cookieJar)===null||i===void 0||i.parseCookies(r.getResponseHeader("set-cookie"))),r.readyState===4&&(r.status===200||r.status===1223?this._onLoad():this.setTimeoutFn(()=>{this._onError(typeof r.status=="number"?r.status:0)},0))},r.send(this._data)}catch(i){this.setTimeoutFn(()=>{this._onError(i)},0);return}typeof document<"u"&&(this._index=uv.requestsCount++,uv.requests[this._index]=this)}_onError(e){this.emitReserved("error",e,this._xhr),this._cleanup(!0)}_cleanup(e){if(!(typeof this._xhr>"u"||this._xhr===null)){if(this._xhr.onreadystatechange=Ste,e)try{this._xhr.abort()}catch{}typeof document<"u"&&delete uv.requests[this._index],this._xhr=null}}_onLoad(){const e=this._xhr.responseText;e!==null&&(this.emitReserved("data",e),this.emitReserved("success"),this._cleanup())}abort(){this._cleanup()}};gh.requestsCount=0;gh.requests={};if(typeof document<"u"){if(typeof attachEvent=="function")attachEvent("onunload",mk);else if(typeof addEventListener=="function"){const t="onpagehide"in Ao?"pagehide":"unload";addEventListener(t,mk,!1)}}function mk(){for(let t in gh.requests)gh.requests.hasOwnProperty(t)&&gh.requests[t].abort()}const Cte=function(){const t=JB({xdomain:!1});return t&&t.responseType!==null}();class Ate extends _te{constructor(e){super(e);const n=e&&e.forceBase64;this.supportsBinary=Cte&&!n}request(e={}){return Object.assign(e,{xd:this.xd},this.opts),new gh(JB,this.uri(),e)}}function JB(t){const e=t.xdomain;try{if(typeof XMLHttpRequest<"u"&&(!e||xte))return new XMLHttpRequest}catch{}if(!e)try{return new Ao[["Active"].concat("Object").join("X")]("Microsoft.XMLHTTP")}catch{}}const ZB=typeof navigator<"u"&&typeof navigator.product=="string"&&navigator.product.toLowerCase()==="reactnative";class Ite extends EC{get name(){return"websocket"}doOpen(){const e=this.uri(),n=this.opts.protocols,r=ZB?{}:VB(this.opts,"agent","perMessageDeflate","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","localAddress","protocolVersion","origin","maxPayload","family","checkServerIdentity");this.opts.extraHeaders&&(r.headers=this.opts.extraHeaders);try{this.ws=this.createSocket(e,n,r)}catch(i){return this.emitReserved("error",i)}this.ws.binaryType=this.socket.binaryType,this.addEventListeners()}addEventListeners(){this.ws.onopen=()=>{this.opts.autoUnref&&this.ws._socket.unref(),this.onOpen()},this.ws.onclose=e=>this.onClose({description:"websocket connection closed",context:e}),this.ws.onmessage=e=>this.onData(e.data),this.ws.onerror=e=>this.onError("websocket error",e)}write(e){this.writable=!1;for(let n=0;n<e.length;n++){const r=e[n],i=n===e.length-1;wC(r,this.supportsBinary,o=>{try{this.doWrite(r,o)}catch{}i&&n2(()=>{this.writable=!0,this.emitReserved("drain")},this.setTimeoutFn)})}}doClose(){typeof this.ws<"u"&&(this.ws.onerror=()=>{},this.ws.close(),this.ws=null)}uri(){const e=this.opts.secure?"wss":"ws",n=this.query||{};return this.opts.timestampRequests&&(n[this.opts.timestampParam]=GB()),this.supportsBinary||(n.b64=1),this.createUri(e,n)}}const hE=Ao.WebSocket||Ao.MozWebSocket;class kte extends Ite{createSocket(e,n,r){return ZB?new hE(e,n,r):n?new hE(e,n):new hE(e)}doWrite(e,n){this.ws.send(n)}}class Pte extends EC{get name(){return"webtransport"}doOpen(){try{this._transport=new WebTransport(this.createUri("https"),this.opts.transportOptions[this.name])}catch(e){return this.emitReserved("error",e)}this._transport.closed.then(()=>{this.onClose()}).catch(e=>{this.onError("webtransport error",e)}),this._transport.ready.then(()=>{this._transport.createBidirectionalStream().then(e=>{const n=ute(Number.MAX_SAFE_INTEGER,this.socket.binaryType),r=e.readable.pipeThrough(n).getReader(),i=lte();i.readable.pipeTo(e.writable),this._writer=i.writable.getWriter();const o=()=>{r.read().then(({done:a,value:c})=>{a||(this.onPacket(c),o())}).catch(a=>{})};o();const s={type:"open"};this.query.sid&&(s.data=`{"sid":"${this.query.sid}"}`),this._writer.write(s).then(()=>this.onOpen())})})}write(e){this.writable=!1;for(let n=0;n<e.length;n++){const r=e[n],i=n===e.length-1;this._writer.write(r).then(()=>{i&&n2(()=>{this.writable=!0,this.emitReserved("drain")},this.setTimeoutFn)})}}doClose(){var e;(e=this._transport)===null||e===void 0||e.close()}}const Ote={websocket:kte,webtransport:Pte,polling:Ate},Tte=/^(?:(?![^:@\/?#]+:[^:@\/]*@)(http|https|ws|wss):\/\/)?((?:(([^:@\/?#]*)(?::([^:@\/?#]*))?)?@)?((?:[a-f0-9]{0,4}:){2,7}[a-f0-9]{0,4}|[^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/,Mte=["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"];function Sx(t){if(t.length>8e3)throw"URI too long";const e=t,n=t.indexOf("["),r=t.indexOf("]");n!=-1&&r!=-1&&(t=t.substring(0,n)+t.substring(n,r).replace(/:/g,";")+t.substring(r,t.length));let i=Tte.exec(t||""),o={},s=14;for(;s--;)o[Mte[s]]=i[s]||"";return n!=-1&&r!=-1&&(o.source=e,o.host=o.host.substring(1,o.host.length-1).replace(/;/g,":"),o.authority=o.authority.replace("[","").replace("]","").replace(/;/g,":"),o.ipv6uri=!0),o.pathNames=Nte(o,o.path),o.queryKey=Rte(o,o.query),o}function Nte(t,e){const n=/\/{2,9}/g,r=e.replace(n,"/").split("/");return(e.slice(0,1)=="/"||e.length===0)&&r.splice(0,1),e.slice(-1)=="/"&&r.splice(r.length-1,1),r}function Rte(t,e){const n={};return e.replace(/(?:^|&)([^&=]*)=?([^&]*)/g,function(r,i,o){i&&(n[i]=o)}),n}const _x=typeof addEventListener=="function"&&typeof removeEventListener=="function",dv=[];_x&&addEventListener("offline",()=>{dv.forEach(t=>t())},!1);class Jl extends Bn{constructor(e,n){if(super(),this.binaryType=fte,this.writeBuffer=[],this._prevBufferLen=0,this._pingInterval=-1,this._pingTimeout=-1,this._maxPayload=-1,this._pingTimeoutTime=1/0,e&&typeof e=="object"&&(n=e,e=null),e){const r=Sx(e);n.hostname=r.host,n.secure=r.protocol==="https"||r.protocol==="wss",n.port=r.port,r.query&&(n.query=r.query)}else n.host&&(n.hostname=Sx(n.host).host);r2(this,n),this.secure=n.secure!=null?n.secure:typeof location<"u"&&location.protocol==="https:",n.hostname&&!n.port&&(n.port=this.secure?"443":"80"),this.hostname=n.hostname||(typeof location<"u"?location.hostname:"localhost"),this.port=n.port||(typeof location<"u"&&location.port?location.port:this.secure?"443":"80"),this.transports=[],this._transportsByName={},n.transports.forEach(r=>{const i=r.prototype.name;this.transports.push(i),this._transportsByName[i]=r}),this.opts=Object.assign({path:"/engine.io",agent:!1,withCredentials:!1,upgrade:!0,timestampParam:"t",rememberUpgrade:!1,addTrailingSlash:!0,rejectUnauthorized:!0,perMessageDeflate:{threshold:1024},transportOptions:{},closeOnBeforeunload:!1},n),this.opts.path=this.opts.path.replace(/\/$/,"")+(this.opts.addTrailingSlash?"/":""),typeof this.opts.query=="string"&&(this.opts.query=wte(this.opts.query)),_x&&(this.opts.closeOnBeforeunload&&(this._beforeunloadEventListener=()=>{this.transport&&(this.transport.removeAllListeners(),this.transport.close())},addEventListener("beforeunload",this._beforeunloadEventListener,!1)),this.hostname!=="localhost"&&(this._offlineEventListener=()=>{this._onClose("transport close",{description:"network connection lost"})},dv.push(this._offlineEventListener))),this.opts.withCredentials&&(this._cookieJar=void 0),this._open()}createTransport(e){const n=Object.assign({},this.opts.query);n.EIO=qB,n.transport=e,this.id&&(n.sid=this.id);const r=Object.assign({},this.opts,{query:n,socket:this,hostname:this.hostname,secure:this.secure,port:this.port},this.opts.transportOptions[e]);return new this._transportsByName[e](r)}_open(){if(this.transports.length===0){this.setTimeoutFn(()=>{this.emitReserved("error","No transports available")},0);return}const e=this.opts.rememberUpgrade&&Jl.priorWebsocketSuccess&&this.transports.indexOf("websocket")!==-1?"websocket":this.transports[0];this.readyState="opening";const n=this.createTransport(e);n.open(),this.setTransport(n)}setTransport(e){this.transport&&this.transport.removeAllListeners(),this.transport=e,e.on("drain",this._onDrain.bind(this)).on("packet",this._onPacket.bind(this)).on("error",this._onError.bind(this)).on("close",n=>this._onClose("transport close",n))}onOpen(){this.readyState="open",Jl.priorWebsocketSuccess=this.transport.name==="websocket",this.emitReserved("open"),this.flush()}_onPacket(e){if(this.readyState==="opening"||this.readyState==="open"||this.readyState==="closing")switch(this.emitReserved("packet",e),this.emitReserved("heartbeat"),e.type){case"open":this.onHandshake(JSON.parse(e.data));break;case"ping":this._sendPacket("pong"),this.emitReserved("ping"),this.emitReserved("pong"),this._resetPingTimeout();break;case"error":const n=new Error("server error");n.code=e.data,this._onError(n);break;case"message":this.emitReserved("data",e.data),this.emitReserved("message",e.data);break}}onHandshake(e){this.emitReserved("handshake",e),this.id=e.sid,this.transport.query.sid=e.sid,this._pingInterval=e.pingInterval,this._pingTimeout=e.pingTimeout,this._maxPayload=e.maxPayload,this.onOpen(),this.readyState!=="closed"&&this._resetPingTimeout()}_resetPingTimeout(){this.clearTimeoutFn(this._pingTimeoutTimer);const e=this._pingInterval+this._pingTimeout;this._pingTimeoutTime=Date.now()+e,this._pingTimeoutTimer=this.setTimeoutFn(()=>{this._onClose("ping timeout")},e),this.opts.autoUnref&&this._pingTimeoutTimer.unref()}_onDrain(){this.writeBuffer.splice(0,this._prevBufferLen),this._prevBufferLen=0,this.writeBuffer.length===0?this.emitReserved("drain"):this.flush()}flush(){if(this.readyState!=="closed"&&this.transport.writable&&!this.upgrading&&this.writeBuffer.length){const e=this._getWritablePackets();this.transport.send(e),this._prevBufferLen=e.length,this.emitReserved("flush")}}_getWritablePackets(){if(!(this._maxPayload&&this.transport.name==="polling"&&this.writeBuffer.length>1))return this.writeBuffer;let n=1;for(let r=0;r<this.writeBuffer.length;r++){const i=this.writeBuffer[r].data;if(i&&(n+=mte(i)),r>0&&n>this._maxPayload)return this.writeBuffer.slice(0,r);n+=2}return this.writeBuffer}_hasPingExpired(){if(!this._pingTimeoutTime)return!0;const e=Date.now()>this._pingTimeoutTime;return e&&(this._pingTimeoutTime=0,n2(()=>{this._onClose("ping timeout")},this.setTimeoutFn)),e}write(e,n,r){return this._sendPacket("message",e,n,r),this}send(e,n,r){return this._sendPacket("message",e,n,r),this}_sendPacket(e,n,r,i){if(typeof n=="function"&&(i=n,n=void 0),typeof r=="function"&&(i=r,r=null),this.readyState==="closing"||this.readyState==="closed")return;r=r||{},r.compress=r.compress!==!1;const o={type:e,data:n,options:r};this.emitReserved("packetCreate",o),this.writeBuffer.push(o),i&&this.once("flush",i),this.flush()}close(){const e=()=>{this._onClose("forced close"),this.transport.close()},n=()=>{this.off("upgrade",n),this.off("upgradeError",n),e()},r=()=>{this.once("upgrade",n),this.once("upgradeError",n)};return(this.readyState==="opening"||this.readyState==="open")&&(this.readyState="closing",this.writeBuffer.length?this.once("drain",()=>{this.upgrading?r():e()}):this.upgrading?r():e()),this}_onError(e){if(Jl.priorWebsocketSuccess=!1,this.opts.tryAllTransports&&this.transports.length>1&&this.readyState==="opening")return this.transports.shift(),this._open();this.emitReserved("error",e),this._onClose("transport error",e)}_onClose(e,n){if(this.readyState==="opening"||this.readyState==="open"||this.readyState==="closing"){if(this.clearTimeoutFn(this._pingTimeoutTimer),this.transport.removeAllListeners("close"),this.transport.close(),this.transport.removeAllListeners(),_x&&(this._beforeunloadEventListener&&removeEventListener("beforeunload",this._beforeunloadEventListener,!1),this._offlineEventListener)){const r=dv.indexOf(this._offlineEventListener);r!==-1&&dv.splice(r,1)}this.readyState="closed",this.id=null,this.emitReserved("close",e,n),this.writeBuffer=[],this._prevBufferLen=0}}}Jl.protocol=qB;class Lte extends Jl{constructor(){super(...arguments),this._upgrades=[]}onOpen(){if(super.onOpen(),this.readyState==="open"&&this.opts.upgrade)for(let e=0;e<this._upgrades.length;e++)this._probe(this._upgrades[e])}_probe(e){let n=this.createTransport(e),r=!1;Jl.priorWebsocketSuccess=!1;const i=()=>{r||(n.send([{type:"ping",data:"probe"}]),n.once("packet",d=>{if(!r)if(d.type==="pong"&&d.data==="probe"){if(this.upgrading=!0,this.emitReserved("upgrading",n),!n)return;Jl.priorWebsocketSuccess=n.name==="websocket",this.transport.pause(()=>{r||this.readyState!=="closed"&&(u(),this.setTransport(n),n.send([{type:"upgrade"}]),this.emitReserved("upgrade",n),n=null,this.upgrading=!1,this.flush())})}else{const f=new Error("probe error");f.transport=n.name,this.emitReserved("upgradeError",f)}}))};function o(){r||(r=!0,u(),n.close(),n=null)}const s=d=>{const f=new Error("probe error: "+d);f.transport=n.name,o(),this.emitReserved("upgradeError",f)};function a(){s("transport closed")}function c(){s("socket closed")}function l(d){n&&d.name!==n.name&&o()}const u=()=>{n.removeListener("open",i),n.removeListener("error",s),n.removeListener("close",a),this.off("close",c),this.off("upgrading",l)};n.once("open",i),n.once("error",s),n.once("close",a),this.once("close",c),this.once("upgrading",l),this._upgrades.indexOf("webtransport")!==-1&&e!=="webtransport"?this.setTimeoutFn(()=>{r||n.open()},200):n.open()}onHandshake(e){this._upgrades=this._filterUpgrades(e.upgrades),super.onHandshake(e)}_filterUpgrades(e){const n=[];for(let r=0;r<e.length;r++)~this.transports.indexOf(e[r])&&n.push(e[r]);return n}}let $te=class extends Lte{constructor(e,n={}){const r=typeof e=="object"?e:n;(!r.transports||r.transports&&typeof r.transports[0]=="string")&&(r.transports=(r.transports||["polling","websocket","webtransport"]).map(i=>Ote[i]).filter(i=>!!i)),super(e,r)}};function Bte(t,e="",n){let r=t;n=n||typeof location<"u"&&location,t==null&&(t=n.protocol+"//"+n.host),typeof t=="string"&&(t.charAt(0)==="/"&&(t.charAt(1)==="/"?t=n.protocol+t:t=n.host+t),/^(https?|wss?):\/\//.test(t)||(typeof n<"u"?t=n.protocol+"//"+t:t="https://"+t),r=Sx(t)),r.port||(/^(http|ws)$/.test(r.protocol)?r.port="80":/^(http|ws)s$/.test(r.protocol)&&(r.port="443")),r.path=r.path||"/";const o=r.host.indexOf(":")!==-1?"["+r.host+"]":r.host;return r.id=r.protocol+"://"+o+":"+r.port+e,r.href=r.protocol+"://"+o+(n&&n.port===r.port?"":":"+r.port),r}const Dte=typeof ArrayBuffer=="function",jte=t=>typeof ArrayBuffer.isView=="function"?ArrayBuffer.isView(t):t.buffer instanceof ArrayBuffer,QB=Object.prototype.toString,Fte=typeof Blob=="function"||typeof Blob<"u"&&QB.call(Blob)==="[object BlobConstructor]",Ute=typeof File=="function"||typeof File<"u"&&QB.call(File)==="[object FileConstructor]";function xC(t){return Dte&&(t instanceof ArrayBuffer||jte(t))||Fte&&t instanceof Blob||Ute&&t instanceof File}function fv(t,e){if(!t||typeof t!="object")return!1;if(Array.isArray(t)){for(let n=0,r=t.length;n<r;n++)if(fv(t[n]))return!0;return!1}if(xC(t))return!0;if(t.toJSON&&typeof t.toJSON=="function"&&arguments.length===1)return fv(t.toJSON(),!0);for(const n in t)if(Object.prototype.hasOwnProperty.call(t,n)&&fv(t[n]))return!0;return!1}function zte(t){const e=[],n=t.data,r=t;return r.data=Cx(n,e),r.attachments=e.length,{packet:r,buffers:e}}function Cx(t,e){if(!t)return t;if(xC(t)){const n={_placeholder:!0,num:e.length};return e.push(t),n}else if(Array.isArray(t)){const n=new Array(t.length);for(let r=0;r<t.length;r++)n[r]=Cx(t[r],e);return n}else if(typeof t=="object"&&!(t instanceof Date)){const n={};for(const r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=Cx(t[r],e));return n}return t}function Hte(t,e){return t.data=Ax(t.data,e),delete t.attachments,t}function Ax(t,e){if(!t)return t;if(t&&t._placeholder===!0){if(typeof t.num=="number"&&t.num>=0&&t.num<e.length)return e[t.num];throw new Error("illegal attachments")}else if(Array.isArray(t))for(let n=0;n<t.length;n++)t[n]=Ax(t[n],e);else if(typeof t=="object")for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&(t[n]=Ax(t[n],e));return t}const Wte=["connect","connect_error","disconnect","disconnecting","newListener","removeListener"],Kte=5;var Mt;(function(t){t[t.CONNECT=0]="CONNECT",t[t.DISCONNECT=1]="DISCONNECT",t[t.EVENT=2]="EVENT",t[t.ACK=3]="ACK",t[t.CONNECT_ERROR=4]="CONNECT_ERROR",t[t.BINARY_EVENT=5]="BINARY_EVENT",t[t.BINARY_ACK=6]="BINARY_ACK"})(Mt||(Mt={}));class qte{constructor(e){this.replacer=e}encode(e){return(e.type===Mt.EVENT||e.type===Mt.ACK)&&fv(e)?this.encodeAsBinary({type:e.type===Mt.EVENT?Mt.BINARY_EVENT:Mt.BINARY_ACK,nsp:e.nsp,data:e.data,id:e.id}):[this.encodeAsString(e)]}encodeAsString(e){let n=""+e.type;return(e.type===Mt.BINARY_EVENT||e.type===Mt.BINARY_ACK)&&(n+=e.attachments+"-"),e.nsp&&e.nsp!=="/"&&(n+=e.nsp+","),e.id!=null&&(n+=e.id),e.data!=null&&(n+=JSON.stringify(e.data,this.replacer)),n}encodeAsBinary(e){const n=zte(e),r=this.encodeAsString(n.packet),i=n.buffers;return i.unshift(r),i}}function yk(t){return Object.prototype.toString.call(t)==="[object Object]"}class SC extends Bn{constructor(e){super(),this.reviver=e}add(e){let n;if(typeof e=="string"){if(this.reconstructor)throw new Error("got plaintext data when reconstructing a packet");n=this.decodeString(e);const r=n.type===Mt.BINARY_EVENT;r||n.type===Mt.BINARY_ACK?(n.type=r?Mt.EVENT:Mt.ACK,this.reconstructor=new Vte(n),n.attachments===0&&super.emitReserved("decoded",n)):super.emitReserved("decoded",n)}else if(xC(e)||e.base64)if(this.reconstructor)n=this.reconstructor.takeBinaryData(e),n&&(this.reconstructor=null,super.emitReserved("decoded",n));else throw new Error("got binary data when not reconstructing a packet");else throw new Error("Unknown type: "+e)}decodeString(e){let n=0;const r={type:Number(e.charAt(0))};if(Mt[r.type]===void 0)throw new Error("unknown packet type "+r.type);if(r.type===Mt.BINARY_EVENT||r.type===Mt.BINARY_ACK){const o=n+1;for(;e.charAt(++n)!=="-"&&n!=e.length;);const s=e.substring(o,n);if(s!=Number(s)||e.charAt(n)!=="-")throw new Error("Illegal attachments");r.attachments=Number(s)}if(e.charAt(n+1)==="/"){const o=n+1;for(;++n&&!(e.charAt(n)===","||n===e.length););r.nsp=e.substring(o,n)}else r.nsp="/";const i=e.charAt(n+1);if(i!==""&&Number(i)==i){const o=n+1;for(;++n;){const s=e.charAt(n);if(s==null||Number(s)!=s){--n;break}if(n===e.length)break}r.id=Number(e.substring(o,n+1))}if(e.charAt(++n)){const o=this.tryParse(e.substr(n));if(SC.isPayloadValid(r.type,o))r.data=o;else throw new Error("invalid payload")}return r}tryParse(e){try{return JSON.parse(e,this.reviver)}catch{return!1}}static isPayloadValid(e,n){switch(e){case Mt.CONNECT:return yk(n);case Mt.DISCONNECT:return n===void 0;case Mt.CONNECT_ERROR:return typeof n=="string"||yk(n);case Mt.EVENT:case Mt.BINARY_EVENT:return Array.isArray(n)&&(typeof n[0]=="number"||typeof n[0]=="string"&&Wte.indexOf(n[0])===-1);case Mt.ACK:case Mt.BINARY_ACK:return Array.isArray(n)}}destroy(){this.reconstructor&&(this.reconstructor.finishedReconstruction(),this.reconstructor=null)}}class Vte{constructor(e){this.packet=e,this.buffers=[],this.reconPack=e}takeBinaryData(e){if(this.buffers.push(e),this.buffers.length===this.reconPack.attachments){const n=Hte(this.reconPack,this.buffers);return this.finishedReconstruction(),n}return null}finishedReconstruction(){this.reconPack=null,this.buffers=[]}}const Gte=Object.freeze(Object.defineProperty({__proto__:null,Decoder:SC,Encoder:qte,get PacketType(){return Mt},protocol:Kte},Symbol.toStringTag,{value:"Module"}));function ts(t,e,n){return t.on(e,n),function(){t.off(e,n)}}const Yte=Object.freeze({connect:1,connect_error:1,disconnect:1,disconnecting:1,newListener:1,removeListener:1});class XB extends Bn{constructor(e,n,r){super(),this.connected=!1,this.recovered=!1,this.receiveBuffer=[],this.sendBuffer=[],this._queue=[],this._queueSeq=0,this.ids=0,this.acks={},this.flags={},this.io=e,this.nsp=n,r&&r.auth&&(this.auth=r.auth),this._opts=Object.assign({},r),this.io._autoConnect&&this.open()}get disconnected(){return!this.connected}subEvents(){if(this.subs)return;const e=this.io;this.subs=[ts(e,"open",this.onopen.bind(this)),ts(e,"packet",this.onpacket.bind(this)),ts(e,"error",this.onerror.bind(this)),ts(e,"close",this.onclose.bind(this))]}get active(){return!!this.subs}connect(){return this.connected?this:(this.subEvents(),this.io._reconnecting||this.io.open(),this.io._readyState==="open"&&this.onopen(),this)}open(){return this.connect()}send(...e){return e.unshift("message"),this.emit.apply(this,e),this}emit(e,...n){var r,i,o;if(Yte.hasOwnProperty(e))throw new Error('"'+e.toString()+'" is a reserved event name');if(n.unshift(e),this._opts.retries&&!this.flags.fromQueue&&!this.flags.volatile)return this._addToQueue(n),this;const s={type:Mt.EVENT,data:n};if(s.options={},s.options.compress=this.flags.compress!==!1,typeof n[n.length-1]=="function"){const u=this.ids++,d=n.pop();this._registerAckCallback(u,d),s.id=u}const a=(i=(r=this.io.engine)===null||r===void 0?void 0:r.transport)===null||i===void 0?void 0:i.writable,c=this.connected&&!(!((o=this.io.engine)===null||o===void 0)&&o._hasPingExpired());return this.flags.volatile&&!a||(c?(this.notifyOutgoingListeners(s),this.packet(s)):this.sendBuffer.push(s)),this.flags={},this}_registerAckCallback(e,n){var r;const i=(r=this.flags.timeout)!==null&&r!==void 0?r:this._opts.ackTimeout;if(i===void 0){this.acks[e]=n;return}const o=this.io.setTimeoutFn(()=>{delete this.acks[e];for(let a=0;a<this.sendBuffer.length;a++)this.sendBuffer[a].id===e&&this.sendBuffer.splice(a,1);n.call(this,new Error("operation has timed out"))},i),s=(...a)=>{this.io.clearTimeoutFn(o),n.apply(this,a)};s.withError=!0,this.acks[e]=s}emitWithAck(e,...n){return new Promise((r,i)=>{const o=(s,a)=>s?i(s):r(a);o.withError=!0,n.push(o),this.emit(e,...n)})}_addToQueue(e){let n;typeof e[e.length-1]=="function"&&(n=e.pop());const r={id:this._queueSeq++,tryCount:0,pending:!1,args:e,flags:Object.assign({fromQueue:!0},this.flags)};e.push((i,...o)=>r!==this._queue[0]?void 0:(i!==null?r.tryCount>this._opts.retries&&(this._queue.shift(),n&&n(i)):(this._queue.shift(),n&&n(null,...o)),r.pending=!1,this._drainQueue())),this._queue.push(r),this._drainQueue()}_drainQueue(e=!1){if(!this.connected||this._queue.length===0)return;const n=this._queue[0];n.pending&&!e||(n.pending=!0,n.tryCount++,this.flags=n.flags,this.emit.apply(this,n.args))}packet(e){e.nsp=this.nsp,this.io._packet(e)}onopen(){typeof this.auth=="function"?this.auth(e=>{this._sendConnectPacket(e)}):this._sendConnectPacket(this.auth)}_sendConnectPacket(e){this.packet({type:Mt.CONNECT,data:this._pid?Object.assign({pid:this._pid,offset:this._lastOffset},e):e})}onerror(e){this.connected||this.emitReserved("connect_error",e)}onclose(e,n){this.connected=!1,delete this.id,this.emitReserved("disconnect",e,n),this._clearAcks()}_clearAcks(){Object.keys(this.acks).forEach(e=>{if(!this.sendBuffer.some(r=>String(r.id)===e)){const r=this.acks[e];delete this.acks[e],r.withError&&r.call(this,new Error("socket has been disconnected"))}})}onpacket(e){if(e.nsp===this.nsp)switch(e.type){case Mt.CONNECT:e.data&&e.data.sid?this.onconnect(e.data.sid,e.data.pid):this.emitReserved("connect_error",new Error("It seems you are trying to reach a Socket.IO server in v2.x with a v3.x client, but they are not compatible (more information here: https://socket.io/docs/v3/migrating-from-2-x-to-3-0/)"));break;case Mt.EVENT:case Mt.BINARY_EVENT:this.onevent(e);break;case Mt.ACK:case Mt.BINARY_ACK:this.onack(e);break;case Mt.DISCONNECT:this.ondisconnect();break;case Mt.CONNECT_ERROR:this.destroy();const r=new Error(e.data.message);r.data=e.data.data,this.emitReserved("connect_error",r);break}}onevent(e){const n=e.data||[];e.id!=null&&n.push(this.ack(e.id)),this.connected?this.emitEvent(n):this.receiveBuffer.push(Object.freeze(n))}emitEvent(e){if(this._anyListeners&&this._anyListeners.length){const n=this._anyListeners.slice();for(const r of n)r.apply(this,e)}super.emit.apply(this,e),this._pid&&e.length&&typeof e[e.length-1]=="string"&&(this._lastOffset=e[e.length-1])}ack(e){const n=this;let r=!1;return function(...i){r||(r=!0,n.packet({type:Mt.ACK,id:e,data:i}))}}onack(e){const n=this.acks[e.id];typeof n=="function"&&(delete this.acks[e.id],n.withError&&e.data.unshift(null),n.apply(this,e.data))}onconnect(e,n){this.id=e,this.recovered=n&&this._pid===n,this._pid=n,this.connected=!0,this.emitBuffered(),this.emitReserved("connect"),this._drainQueue(!0)}emitBuffered(){this.receiveBuffer.forEach(e=>this.emitEvent(e)),this.receiveBuffer=[],this.sendBuffer.forEach(e=>{this.notifyOutgoingListeners(e),this.packet(e)}),this.sendBuffer=[]}ondisconnect(){this.destroy(),this.onclose("io server disconnect")}destroy(){this.subs&&(this.subs.forEach(e=>e()),this.subs=void 0),this.io._destroy(this)}disconnect(){return this.connected&&this.packet({type:Mt.DISCONNECT}),this.destroy(),this.connected&&this.onclose("io client disconnect"),this}close(){return this.disconnect()}compress(e){return this.flags.compress=e,this}get volatile(){return this.flags.volatile=!0,this}timeout(e){return this.flags.timeout=e,this}onAny(e){return this._anyListeners=this._anyListeners||[],this._anyListeners.push(e),this}prependAny(e){return this._anyListeners=this._anyListeners||[],this._anyListeners.unshift(e),this}offAny(e){if(!this._anyListeners)return this;if(e){const n=this._anyListeners;for(let r=0;r<n.length;r++)if(e===n[r])return n.splice(r,1),this}else this._anyListeners=[];return this}listenersAny(){return this._anyListeners||[]}onAnyOutgoing(e){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.push(e),this}prependAnyOutgoing(e){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.unshift(e),this}offAnyOutgoing(e){if(!this._anyOutgoingListeners)return this;if(e){const n=this._anyOutgoingListeners;for(let r=0;r<n.length;r++)if(e===n[r])return n.splice(r,1),this}else this._anyOutgoingListeners=[];return this}listenersAnyOutgoing(){return this._anyOutgoingListeners||[]}notifyOutgoingListeners(e){if(this._anyOutgoingListeners&&this._anyOutgoingListeners.length){const n=this._anyOutgoingListeners.slice();for(const r of n)r.apply(this,e.data)}}}function A0(t){t=t||{},this.ms=t.min||100,this.max=t.max||1e4,this.factor=t.factor||2,this.jitter=t.jitter>0&&t.jitter<=1?t.jitter:0,this.attempts=0}A0.prototype.duration=function(){var t=this.ms*Math.pow(this.factor,this.attempts++);if(this.jitter){var e=Math.random(),n=Math.floor(e*this.jitter*t);t=Math.floor(e*10)&1?t+n:t-n}return Math.min(t,this.max)|0};A0.prototype.reset=function(){this.attempts=0};A0.prototype.setMin=function(t){this.ms=t};A0.prototype.setMax=function(t){this.max=t};A0.prototype.setJitter=function(t){this.jitter=t};class Ix extends Bn{constructor(e,n){var r;super(),this.nsps={},this.subs=[],e&&typeof e=="object"&&(n=e,e=void 0),n=n||{},n.path=n.path||"/socket.io",this.opts=n,r2(this,n),this.reconnection(n.reconnection!==!1),this.reconnectionAttempts(n.reconnectionAttempts||1/0),this.reconnectionDelay(n.reconnectionDelay||1e3),this.reconnectionDelayMax(n.reconnectionDelayMax||5e3),this.randomizationFactor((r=n.randomizationFactor)!==null&&r!==void 0?r:.5),this.backoff=new A0({min:this.reconnectionDelay(),max:this.reconnectionDelayMax(),jitter:this.randomizationFactor()}),this.timeout(n.timeout==null?2e4:n.timeout),this._readyState="closed",this.uri=e;const i=n.parser||Gte;this.encoder=new i.Encoder,this.decoder=new i.Decoder,this._autoConnect=n.autoConnect!==!1,this._autoConnect&&this.open()}reconnection(e){return arguments.length?(this._reconnection=!!e,e||(this.skipReconnect=!0),this):this._reconnection}reconnectionAttempts(e){return e===void 0?this._reconnectionAttempts:(this._reconnectionAttempts=e,this)}reconnectionDelay(e){var n;return e===void 0?this._reconnectionDelay:(this._reconnectionDelay=e,(n=this.backoff)===null||n===void 0||n.setMin(e),this)}randomizationFactor(e){var n;return e===void 0?this._randomizationFactor:(this._randomizationFactor=e,(n=this.backoff)===null||n===void 0||n.setJitter(e),this)}reconnectionDelayMax(e){var n;return e===void 0?this._reconnectionDelayMax:(this._reconnectionDelayMax=e,(n=this.backoff)===null||n===void 0||n.setMax(e),this)}timeout(e){return arguments.length?(this._timeout=e,this):this._timeout}maybeReconnectOnOpen(){!this._reconnecting&&this._reconnection&&this.backoff.attempts===0&&this.reconnect()}open(e){if(~this._readyState.indexOf("open"))return this;this.engine=new $te(this.uri,this.opts);const n=this.engine,r=this;this._readyState="opening",this.skipReconnect=!1;const i=ts(n,"open",function(){r.onopen(),e&&e()}),o=a=>{this.cleanup(),this._readyState="closed",this.emitReserved("error",a),e?e(a):this.maybeReconnectOnOpen()},s=ts(n,"error",o);if(this._timeout!==!1){const a=this._timeout,c=this.setTimeoutFn(()=>{i(),o(new Error("timeout")),n.close()},a);this.opts.autoUnref&&c.unref(),this.subs.push(()=>{this.clearTimeoutFn(c)})}return this.subs.push(i),this.subs.push(s),this}connect(e){return this.open(e)}onopen(){this.cleanup(),this._readyState="open",this.emitReserved("open");const e=this.engine;this.subs.push(ts(e,"ping",this.onping.bind(this)),ts(e,"data",this.ondata.bind(this)),ts(e,"error",this.onerror.bind(this)),ts(e,"close",this.onclose.bind(this)),ts(this.decoder,"decoded",this.ondecoded.bind(this)))}onping(){this.emitReserved("ping")}ondata(e){try{this.decoder.add(e)}catch(n){this.onclose("parse error",n)}}ondecoded(e){n2(()=>{this.emitReserved("packet",e)},this.setTimeoutFn)}onerror(e){this.emitReserved("error",e)}socket(e,n){let r=this.nsps[e];return r?this._autoConnect&&!r.active&&r.connect():(r=new XB(this,e,n),this.nsps[e]=r),r}_destroy(e){const n=Object.keys(this.nsps);for(const r of n)if(this.nsps[r].active)return;this._close()}_packet(e){const n=this.encoder.encode(e);for(let r=0;r<n.length;r++)this.engine.write(n[r],e.options)}cleanup(){this.subs.forEach(e=>e()),this.subs.length=0,this.decoder.destroy()}_close(){this.skipReconnect=!0,this._reconnecting=!1,this.onclose("forced close")}disconnect(){return this._close()}onclose(e,n){var r;this.cleanup(),(r=this.engine)===null||r===void 0||r.close(),this.backoff.reset(),this._readyState="closed",this.emitReserved("close",e,n),this._reconnection&&!this.skipReconnect&&this.reconnect()}reconnect(){if(this._reconnecting||this.skipReconnect)return this;const e=this;if(this.backoff.attempts>=this._reconnectionAttempts)this.backoff.reset(),this.emitReserved("reconnect_failed"),this._reconnecting=!1;else{const n=this.backoff.duration();this._reconnecting=!0;const r=this.setTimeoutFn(()=>{e.skipReconnect||(this.emitReserved("reconnect_attempt",e.backoff.attempts),!e.skipReconnect&&e.open(i=>{i?(e._reconnecting=!1,e.reconnect(),this.emitReserved("reconnect_error",i)):e.onreconnect()}))},n);this.opts.autoUnref&&r.unref(),this.subs.push(()=>{this.clearTimeoutFn(r)})}}onreconnect(){const e=this.backoff.attempts;this._reconnecting=!1,this.backoff.reset(),this.emitReserved("reconnect",e)}}const pp={};function Xp(t,e){typeof t=="object"&&(e=t,t=void 0),e=e||{};const n=Bte(t,e.path||"/socket.io"),r=n.source,i=n.id,o=n.path,s=pp[i]&&o in pp[i].nsps,a=e.forceNew||e["force new connection"]||e.multiplex===!1||s;let c;return a?c=new Ix(r,e):(pp[i]||(pp[i]=new Ix(r,e)),c=pp[i]),n.query&&!e.query&&(e.query=n.queryKey),c.socket(n.path,e)}Object.assign(Xp,{Manager:Ix,Socket:XB,io:Xp,connect:Xp});var lr=Nc.getLogger("SecurePubSub");class eD{constructor(e={}){ue(this,"options",void 0),ue(this,"SOCKET_CONN",null),this.options=e,this.options.timeout=e.timeout||600,this.options.serverUrl=e.serverUrl||_B,this.options.socketUrl=e.socketUrl||WX,this.options.enableLogging=e.enableLogging||!1,this.options.namespace=e.namespace||"",this.options.sameIpCheck=e.sameIpCheck||!1,this.options.allowedOrigin=e.allowedOrigin||"*",this.options.enableLogging?lr.enableAll():lr.disableAll()}static setLogLevel(e){lr.setLevel(e),hX(e)}async publish(e,n){if(!this.isValidTopic(e))throw lr.error("Invalid topic"),new Error("Invalid topic");const r=hh(Buffer.from(e,"utf8")),i=await cv(r.toString("hex"),n),o=await av(r,hh(Buffer.from(i,"utf8"))),s={key:Dl(r).toString("hex"),data:i,signature:o.toString("hex"),timeout:this.options.timeout,namespace:this.options.namespace,sameIpCheck:this.options.sameIpCheck,allowedOrigin:this.options.allowedOrigin};return Id(`${this.options.serverUrl}/v2/channel/set`,s)}async subscribe(e){let n=!0;const r=hh(Buffer.from(e,"utf8")),i=Dl(r).toString("hex"),o=this.getSocketConnection();o.connected?(lr.debug("already connected with socket"),o.emit("v2:check_auth_status",i,{namespace:this.options.namespace,sameIpCheck:this.options.sameIpCheck,allowedOrigin:this.options.allowedOrigin})):o.once("connect",()=>{lr.debug("connected with socket"),o.emit("v2:check_auth_status",i,{namespace:this.options.namespace,sameIpCheck:this.options.sameIpCheck,allowedOrigin:this.options.allowedOrigin})});const s=()=>{o.once("connect",async()=>{lr.debug("connected with socket using reconnect"),n&&o.emit("v2:check_auth_status",i,{namespace:this.options.namespace,sameIpCheck:this.options.sameIpCheck,allowedOrigin:this.options.allowedOrigin})})},a=()=>{n||document.removeEventListener("visibilitychange",a),!o.connected&&document.visibilityState==="visible"&&s()},c=()=>{lr.debug("socket disconnected",n),n?(lr.error("socket disconnected unexpectedly, reconnecting socket"),s()):o.removeListener("disconnect",c)};o.on("disconnect",c);const l=new Promise((u,d)=>{const f=async h=>{try{const g=await LB(r.toString("hex"),h);lr.info("got data",g),u(g)}catch(g){lr.error(g),d(g)}finally{n=!1,typeof document<"u"&&document.removeEventListener("visibilitychange",a)}};lr.info("listening to",`${i}_success`),o.once(`${i}_success`,f)});return typeof document<"u"&&document.addEventListener("visibilitychange",a),l}cleanup(){this.SOCKET_CONN&&(this.SOCKET_CONN.disconnect(),this.SOCKET_CONN=null)}getSocketConnection(){if(this.SOCKET_CONN)return this.SOCKET_CONN;const e=Xp(this.options.socketUrl,{transports:["websocket","polling"],withCredentials:!0,reconnectionDelayMax:1e4,reconnectionAttempts:10});return e.on("connect_error",n=>{e.io.opts.transports=["polling","websocket"],lr.error("connect error",n)}),e.on("connect",async()=>{const{engine:n}=e.io;lr.debug("initially connected to",n.transport.name),n.once("upgrade",()=>{lr.debug("upgraded",n.transport.name)}),n.once("close",r=>{lr.debug("connection closed",r)})}),e.on("error",n=>{lr.error("socket errored",n),e.disconnect()}),this.SOCKET_CONN=e,this.SOCKET_CONN}isValidTopic(e){return e&&e.length>0}}class Jte extends vu.EventEmitter{constructor({url:e,target:n,features:r,timeout:i=3e4,sessionSocketUrl:o,sessionServerUrl:s}){super(),ue(this,"url",void 0),ue(this,"target",void 0),ue(this,"features",void 0),ue(this,"window",void 0),ue(this,"windowTimer",void 0),ue(this,"iClosedWindow",void 0),ue(this,"timeout",void 0),ue(this,"sessionSocketUrl",void 0),ue(this,"sessionServerUrl",void 0),this.url=e,this.target=n||"_blank",this.features=r||gB(),this.window=void 0,this.windowTimer=void 0,this.iClosedWindow=!1,this.timeout=i,this.sessionServerUrl=s||$B,this.sessionSocketUrl=o||BB,this._setupTimer()}_setupTimer(){this.windowTimer=Number(setInterval(()=>{this.window&&this.window.closed&&(clearInterval(this.windowTimer),setTimeout(()=>{this.iClosedWindow||this.emit("close"),this.iClosedWindow=!1,this.window=void 0},this.timeout)),this.window===void 0&&clearInterval(this.windowTimer)},500))}open(){var e;if(this.window=window.open(this.url,this.target,this.features),!this.window)throw Ht.popupBlocked();(e=this.window)!==null&&e!==void 0&&e.focus&&this.window.focus()}close(){this.iClosedWindow=!0,this.window&&this.window.close()}redirect(e){e?window.location.replace(this.url):window.location.href=this.url}async listenOnChannel(e){const n=new eD({serverUrl:this.sessionServerUrl,socketUrl:this.sessionSocketUrl,sameIpCheck:!0,allowedOrigin:!0}),r=await n.subscribe(e);this.close(),n.cleanup();const i=JSON.parse(r);return i.error?{error:i.error,state:i.state}:i.data}}const kx="10.5.0";function Zte(t=!1){const e={},n=new URLSearchParams(window.location.search.slice(1));n.forEach((s,a)=>{a!=="b64Params"&&(e[a]=s)});const r=n.get("b64Params");if(r)try{const s=JSON.parse(vw(r));Object.keys(s).forEach(a=>{e[a]=s[a]})}catch(s){xc.error(s)}const i=new URLSearchParams(window.location.hash.substring(1));i.forEach((s,a)=>{a!=="b64Params"&&(e[a]=s)});const o=i.get("b64Params");if(o)try{const s=JSON.parse(vw(o));Object.keys(s).forEach(a=>{e[a]=s[a]})}catch(s){xc.error(s)}if(t){const s=new URL(window.location.origin+window.location.pathname);n.size!==0&&(n.delete("error"),n.delete("state"),n.delete("b64Params"),n.delete("sessionNamespace"),s.search=n.toString()),i.size!==0&&(i.delete("error"),i.delete("state"),i.delete("b64Params"),i.delete("sessionNamespace"),s.hash=i.toString()),window.history.replaceState(ae(ae({},window.history.state),{},{as:s.href,url:s.href}),"",s.href)}return e}class tD{constructor(){ue(this,"store",new Map)}getItem(e){return this.store.get(e)||null}setItem(e,n){this.store.set(e,n)}removeItem(e){this.store.delete(e)}}class nD{constructor(e,n){ue(this,"storage",void 0),ue(this,"_storeKey",void 0),this.storage=n,this._storeKey=e;try{n.getItem(e)||this.resetStore()}catch{}}static getInstance(e,n="local"){if(!this.instanceMap.has(e)){let r;n==="local"&&vx("localStorage")?r=window.localStorage:n==="session"&&vx("sessionStorage")?r=window.sessionStorage:r=new tD,this.instanceMap.set(e,new this(e,r))}return this.instanceMap.get(e)}toJSON(){return this.storage.getItem(this._storeKey)}resetStore(){const e=this.getStore();return this.storage.removeItem(this._storeKey),e}getStore(){return JSON.parse(this.storage.getItem(this._storeKey)||"{}")}get(e){return JSON.parse(this.storage.getItem(this._storeKey)||"{}")[e]}set(e,n){const r=JSON.parse(this.storage.getItem(this._storeKey)||"{}");r[e]=n,this.storage.setItem(this._storeKey,JSON.stringify(r))}}ue(nD,"instanceMap",new Map);class Qte{constructor(e){if(ue(this,"state",{}),ue(this,"options",void 0),ue(this,"sessionManager",void 0),ue(this,"currentStorage",void 0),ue(this,"_storageBaseKey","auth_store"),ue(this,"dappState",void 0),ue(this,"addVersionInUrls",!0),ue(this,"authProvider",void 0),ue(this,"authProviderPromise",void 0),!e.clientId)throw rc.invalidParams("clientId is required");e.network||(e.network=ph.SAPPHIRE_MAINNET),e.buildEnv||(e.buildEnv=li.PRODUCTION),e.sdkMode||(e.sdkMode=Os.DEFAULT),(e.buildEnv===li.DEVELOPMENT||e.buildEnv===li.TESTING||e.sdkUrl)&&(this.addVersionInUrls=!1),!e.sdkUrl&&!e.useMpc&&(e.buildEnv===li.DEVELOPMENT?(e.sdkUrl=Fee,e.dashboardUrl=Wee):e.buildEnv===li.STAGING?(e.sdkUrl=Uee,e.dashboardUrl=Kee):e.buildEnv===li.TESTING?(e.sdkUrl=zee,e.dashboardUrl=qee):(e.sdkUrl=Hee,e.dashboardUrl=Vee)),!e.redirectUrl&&typeof window<"u"&&(e.redirectUrl=`${window.location.protocol}//${window.location.host}${window.location.pathname}`),e.uxMode||(e.uxMode=Pr.REDIRECT),typeof e.replaceUrlOnRedirect!="boolean"&&(e.replaceUrlOnRedirect=!0),typeof e.includeUserDataInToken!="boolean"&&(e.includeUserDataInToken=!0),e.originData||(e.originData={}),e.whiteLabel||(e.whiteLabel={}),e.authConnectionConfig||(e.authConnectionConfig=[]),e.mfaSettings||(e.mfaSettings={}),e.storageServerUrl||(e.storageServerUrl=$B),e.sessionSocketUrl||(e.sessionSocketUrl=BB),e.storage||(e.storage="local"),e.sessionTime||(e.sessionTime=86400),this.options=e}get privKey(){return this.options.useMpc?this.state.factorKey||"":this.state.privKey?this.state.privKey.padStart(64,"0"):""}get coreKitKey(){return this.state.coreKitKey?this.state.coreKitKey.padStart(64,"0"):""}get ed25519PrivKey(){return this.state.ed25519PrivKey?this.state.ed25519PrivKey.padStart(128,"0"):""}get coreKitEd25519Key(){return this.state.coreKitEd25519PrivKey?this.state.coreKitEd25519PrivKey.padStart(128,"0"):""}get sessionId(){return this.state.sessionId||""}get sessionNamespace(){return this.options.sessionNamespace||""}get appState(){return this.state.userInfo.appState||this.dappState||""}get baseUrl(){return this.addVersionInUrls?`${this.options.sdkUrl}/v${kx.split(".")[0]}`:`${this.options.sdkUrl}`}get dashboardUrl(){return this.addVersionInUrls?`${this.options.dashboardUrl}/v${kx.split(".")[0]}`:`${this.options.dashboardUrl}`}async init(){const e=Zte(this.options.replaceUrlOnRedirect);e.sessionNamespace&&(this.options.sessionNamespace=e.sessionNamespace);const n=this.options.sessionKey||(this.options.sessionNamespace?`${this._storageBaseKey}_${this.options.sessionNamespace}`:this._storageBaseKey);this.currentStorage=nD.getInstance(n,this.options.storage);const r=this.currentStorage.get("sessionId");if(this.sessionManager=new Np({sessionServerBaseUrl:this.options.storageServerUrl,sessionNamespace:this.options.sessionNamespace,sessionTime:this.options.sessionTime,sessionId:r,allowedOrigin:this.options.sdkUrl}),(this.options.network===ph.TESTNET||this.options.network===ph.SAPPHIRE_DEVNET)&&console.log(`%c WARNING! You are on ${this.options.network}. Please set network: 'mainnet' or 'sapphire_mainnet' in production`,"color: #FF0000"),this.options.buildEnv!==li.PRODUCTION&&console.log(`%c WARNING! You are using build env ${this.options.buildEnv}. Please set buildEnv: 'production' in production`,"color: #FF0000"),e.error)throw this.dappState=e.state,Ht.loginFailed(e.error);if(e.sessionId&&(this.currentStorage.set("sessionId",e.sessionId),this.sessionManager.sessionId=e.sessionId),this.sessionManager.sessionId){const i=await this._authorizeSession();this.updateState(i),Object.keys(i).length===0?this.currentStorage.set("sessionId",""):this.updateState({sessionId:this.sessionManager.sessionId})}this.options.sdkMode===Os.IFRAME&&(this.authProvider=new Xee({sdkUrl:this.baseUrl,whiteLabel:this.options.whiteLabel}),this.state.sessionId||(this.authProviderPromise=this.authProvider.init({network:this.options.network,clientId:this.options.clientId}),e.nonce&&(await this.authProviderPromise,await this.postLoginInitiatedMessage(JSON.parse(e.loginParams),e.nonce))))}async login(e){if(!e.authConnection&&(!e.authConnectionId||!e.groupedAuthConnectionId))throw Ht.invalidLoginParams("AuthConnection is required");const n=ae({},e),r={actionType:pf.LOGIN,options:this.options,params:n},i=await this.authHandler(`${this.baseUrl}/start`,r,fC(e.authConnection));if(this.options.uxMode===Pr.REDIRECT)return null;if(i.error)throw this.dappState=i.state,Ht.loginFailed(i.error);return this.sessionManager.sessionId=i.sessionId,this.options.sessionNamespace=i.sessionNamespace,this.currentStorage.set("sessionId",i.sessionId),await this.rehydrateSession(),{privKey:this.privKey}}async postLoginInitiatedMessage(e,n){var r;if(this.options.sdkMode!==Os.IFRAME)throw Ht.invalidLoginParams("Cannot perform this action in default mode.");this.authProviderPromise&&await this.authProviderPromise,(r=this.authProvider)!==null&&r!==void 0&&r.initialized||await this.authProvider.init({network:this.options.network,clientId:this.options.clientId});const i=await this.authProvider.postLoginInitiatedMessage({actionType:pf.LOGIN,params:e,options:this.options},n);if(i.error)throw Ht.loginFailed(i.error);this.sessionManager.sessionId=i.sessionId,this.options.sessionNamespace=i.sessionNamespace,this.currentStorage.set("sessionId",i.sessionId),await this.rehydrateSession()}async postLoginCancelledMessage(e){var n;if(this.options.sdkMode!==Os.IFRAME)throw Ht.invalidLoginParams("Cannot perform this action in default mode.");if(this.authProviderPromise&&await this.authProviderPromise,!((n=this.authProvider)!==null&&n!==void 0&&n.initialized))throw rc.notInitialized();this.authProvider.postLoginCancelledMessage(e)}async logout(){if(!this.sessionManager.sessionId)throw Ht.userNotLoggedIn();await this.sessionManager.invalidateSession(),this.updateState({privKey:"",coreKitKey:"",coreKitEd25519PrivKey:"",ed25519PrivKey:"",walletKey:"",oAuthPrivateKey:"",tKey:"",metadataNonce:"",keyMode:void 0,userInfo:{name:"",profileImage:"",dappShare:"",idToken:"",oAuthIdToken:"",oAuthAccessToken:"",appState:"",email:"",authConnectionId:"",userId:"",groupedAuthConnectionId:"",authConnection:"",isMfaEnabled:!1},authToken:"",sessionId:"",factorKey:"",signatures:[],tssShareIndex:-1,tssPubKey:"",tssShare:"",tssNonce:-1}),this.currentStorage.set("sessionId","")}async enableMFA(e){var n;if(!this.sessionId)throw Ht.userNotLoggedIn();if(this.state.userInfo.isMfaEnabled)throw Ht.mfaAlreadyEnabled();const r={actionType:pf.ENABLE_MFA,options:ae(ae({},this.options),{},{sdkMode:Os.DEFAULT}),params:ae(ae({},e),{},{authConnection:this.state.userInfo.authConnection,authConnectionId:this.state.userInfo.authConnectionId,groupedAuthConnectionId:this.state.userInfo.groupedAuthConnectionId,extraLoginOptions:{login_hint:this.state.userInfo.userId},mfaLevel:"mandatory"}),sessionId:this.sessionId},i=await this.authHandler(`${this.baseUrl}/start`,r,Gee);if(this.options.uxMode===Pr.REDIRECT)return null;if(i.error)throw this.dappState=i.state,Ht.loginFailed(i.error);return this.sessionManager.sessionId=i.sessionId,this.options.sessionNamespace=i.sessionNamespace,this.currentStorage.set("sessionId",i.sessionId),await this.rehydrateSession(),!!(!((n=this.state.userInfo)===null||n===void 0)&&n.isMfaEnabled)}async manageMFA(e){if(!this.sessionId)throw Ht.userNotLoggedIn();if(!this.state.userInfo.isMfaEnabled)throw Ht.mfaNotEnabled();const n={dappUrl:`${window.location.origin}${window.location.pathname}`},r=Np.generateRandomSessionKey(),i={actionType:pf.MANAGE_MFA,options:ae(ae({},this.options),{},{uxMode:Pr.REDIRECT,sdkMode:Os.DEFAULT,redirectUrl:`${this.dashboardUrl}/wallet/account`}),params:ae(ae(ae({},n),e),{},{authConnection:this.state.userInfo.authConnection,authConnectionId:this.state.userInfo.authConnectionId,groupedAuthConnectionId:this.state.userInfo.groupedAuthConnectionId,extraLoginOptions:{login_hint:this.state.userInfo.userId},appState:qy({loginId:r})}),sessionId:this.sessionId};this.createLoginSession(r,i,i.options.sessionTime,!0);const o={loginId:r,sessionNamespace:this.options.sessionNamespace,storageServerUrl:this.options.storageServerUrl},s=Zp({baseURL:`${this.baseUrl}/start`,hash:{b64Params:qy(o)}});window.open(s,"_blank")}async manageSocialFactor(e,n){if(!this.sessionId)throw Ht.userNotLoggedIn();const r={actionType:e,options:ae(ae({},this.options),{},{sdkMode:Os.DEFAULT}),params:ae({},n),sessionId:this.sessionId},i=await this.authHandler(`${this.baseUrl}/start`,r);if(this.options.uxMode!==Pr.REDIRECT)return!i.error}async addAuthenticatorFactor(e){if(!this.sessionId)throw Ht.userNotLoggedIn();const n={actionType:pf.ADD_AUTHENTICATOR_FACTOR,options:ae(ae({},this.options),{},{sdkMode:Os.DEFAULT}),params:ae(ae({},e),{},{authConnection:Be.AUTHENTICATOR}),sessionId:this.sessionId},r=await this.authHandler(`${this.baseUrl}/start`,n);if(this.options.uxMode!==Pr.REDIRECT)return!r.error}async addPasskeyFactor(e){if(!this.sessionId)throw Ht.userNotLoggedIn();const n={actionType:pf.ADD_PASSKEY_FACTOR,options:ae(ae({},this.options),{},{sdkMode:Os.DEFAULT}),params:ae(ae({},e),{},{authConnection:Be.PASSKEYS}),sessionId:this.sessionId},r=await this.authHandler(`${this.baseUrl}/start`,n);if(this.options.uxMode!==Pr.REDIRECT)return!r.error}async cleanup(){this.authProvider&&this.authProvider.cleanup()}getUserInfo(){if(!this.sessionManager.sessionId)throw Ht.userNotLoggedIn();return this.state.userInfo}async createLoginSession(e,n,r=600,i=!1){if(!this.sessionManager)throw rc.notInitialized();const s=new Np({sessionServerBaseUrl:n.options.storageServerUrl,sessionNamespace:n.options.sessionNamespace,sessionTime:r,sessionId:e,allowedOrigin:this.options.sdkUrl}).createSession(JSON.parse(JSON.stringify(n)));n.options.uxMode===Pr.REDIRECT&&!i&&await s}async _authorizeSession(){try{return this.sessionManager.sessionId?await this.sessionManager.authorizeSession():{}}catch(e){return xc.error("authorization failed",e),{}}}updateState(e){this.state=ae(ae({},this.state),e)}async rehydrateSession(){const e=await this._authorizeSession();this.updateState(e)}async authHandler(e,n,r=1e3*10){const i=Np.generateRandomSessionKey();await this.createLoginSession(i,n);const o={loginId:i,sessionNamespace:this.options.sessionNamespace,storageServerUrl:this.options.storageServerUrl};if(this.options.uxMode===Pr.REDIRECT){const c=Zp({baseURL:e,hash:{b64Params:qy(o)}});window.location.href=c;return}const s=Zp({baseURL:e,hash:{b64Params:qy(o)}}),a=new Jte({url:s,timeout:r,sessionServerUrl:this.options.storageServerUrl,sessionSocketUrl:this.options.sessionSocketUrl});return new Promise((c,l)=>{a.on("close",()=>{l(Ht.popupClosed())}),a.listenOnChannel(i).then(c).catch(l);try{a.open()}catch(u){l(u)}})}}var rD={exports:{}},pE={exports:{}};let Xte=class extends Error{constructor(e){if(!Array.isArray(e))throw new TypeError(`Expected input to be an Array, got ${typeof e}`);let n="";for(let r=0;r<e.length;r++)n+=`    ${e[r].stack}
`;super(n),this.name="AggregateError",this.errors=e}};var bn={AggregateError:Xte,ArrayIsArray(t){return Array.isArray(t)},ArrayPrototypeIncludes(t,e){return t.includes(e)},ArrayPrototypeIndexOf(t,e){return t.indexOf(e)},ArrayPrototypeJoin(t,e){return t.join(e)},ArrayPrototypeMap(t,e){return t.map(e)},ArrayPrototypePop(t,e){return t.pop(e)},ArrayPrototypePush(t,e){return t.push(e)},ArrayPrototypeSlice(t,e,n){return t.slice(e,n)},Error,FunctionPrototypeCall(t,e,...n){return t.call(e,...n)},FunctionPrototypeSymbolHasInstance(t,e){return Function.prototype[Symbol.hasInstance].call(t,e)},MathFloor:Math.floor,Number,NumberIsInteger:Number.isInteger,NumberIsNaN:Number.isNaN,NumberMAX_SAFE_INTEGER:Number.MAX_SAFE_INTEGER,NumberMIN_SAFE_INTEGER:Number.MIN_SAFE_INTEGER,NumberParseInt:Number.parseInt,ObjectDefineProperties(t,e){return Object.defineProperties(t,e)},ObjectDefineProperty(t,e,n){return Object.defineProperty(t,e,n)},ObjectGetOwnPropertyDescriptor(t,e){return Object.getOwnPropertyDescriptor(t,e)},ObjectKeys(t){return Object.keys(t)},ObjectSetPrototypeOf(t,e){return Object.setPrototypeOf(t,e)},Promise,PromisePrototypeCatch(t,e){return t.catch(e)},PromisePrototypeThen(t,e,n){return t.then(e,n)},PromiseReject(t){return Promise.reject(t)},PromiseResolve(t){return Promise.resolve(t)},ReflectApply:Reflect.apply,RegExpPrototypeTest(t,e){return t.test(e)},SafeSet:Set,String,StringPrototypeSlice(t,e,n){return t.slice(e,n)},StringPrototypeToLowerCase(t){return t.toLowerCase()},StringPrototypeToUpperCase(t){return t.toUpperCase()},StringPrototypeTrim(t){return t.trim()},Symbol,SymbolFor:Symbol.for,SymbolAsyncIterator:Symbol.asyncIterator,SymbolHasInstance:Symbol.hasInstance,SymbolIterator:Symbol.iterator,SymbolDispose:Symbol.dispose||Symbol("Symbol.dispose"),SymbolAsyncDispose:Symbol.asyncDispose||Symbol("Symbol.asyncDispose"),TypedArrayPrototypeSet(t,e,n){return t.set(e,n)},Boolean,Uint8Array},iD={exports:{}},oD={format(t,...e){return t.replace(/%([sdifj])/g,function(...[n,r]){const i=e.shift();return r==="f"?i.toFixed(6):r==="j"?JSON.stringify(i):r==="s"&&typeof i=="object"?`${i.constructor!==Object?i.constructor.name:""} {}`.trim():i.toString()})},inspect(t){switch(typeof t){case"string":if(t.includes("'"))if(t.includes('"')){if(!t.includes("`")&&!t.includes("${"))return`\`${t}\``}else return`"${t}"`;return`'${t}'`;case"number":return isNaN(t)?"NaN":Object.is(t,-0)?String(t):t;case"bigint":return`${String(t)}n`;case"boolean":case"undefined":return String(t);case"object":return"{}"}}};const{format:ene,inspect:ww}=oD,{AggregateError:tne}=bn,nne=globalThis.AggregateError||tne,rne=Symbol("kIsNodeError"),ine=["string","function","number","object","Function","Object","boolean","bigint","symbol"],one=/^([A-Z][a-z0-9]*)+$/,sne="__node_internal_",i2={};function hd(t,e){if(!t)throw new i2.ERR_INTERNAL_ASSERTION(e)}function vk(t){let e="",n=t.length;const r=t[0]==="-"?1:0;for(;n>=r+4;n-=3)e=`_${t.slice(n-3,n)}${e}`;return`${t.slice(0,n)}${e}`}function ane(t,e,n){if(typeof e=="function")return hd(e.length<=n.length,`Code: ${t}; The provided arguments length (${n.length}) does not match the required ones (${e.length}).`),e(...n);const r=(e.match(/%[dfijoOs]/g)||[]).length;return hd(r===n.length,`Code: ${t}; The provided arguments length (${n.length}) does not match the required ones (${r}).`),n.length===0?e:ene(e,...n)}function Er(t,e,n){n||(n=Error);class r extends n{constructor(...o){super(ane(t,e,o))}toString(){return`${this.name} [${t}]: ${this.message}`}}Object.defineProperties(r.prototype,{name:{value:n.name,writable:!0,enumerable:!1,configurable:!0},toString:{value(){return`${this.name} [${t}]: ${this.message}`},writable:!0,enumerable:!1,configurable:!0}}),r.prototype.code=t,r.prototype[rne]=!0,i2[t]=r}function wk(t){const e=sne+t.name;return Object.defineProperty(t,"name",{value:e}),t}function cne(t,e){if(t&&e&&t!==e){if(Array.isArray(e.errors))return e.errors.push(t),e;const n=new nne([e,t],e.message);return n.code=e.code,n}return t||e}let lne=class extends Error{constructor(e="The operation was aborted",n=void 0){if(n!==void 0&&typeof n!="object")throw new i2.ERR_INVALID_ARG_TYPE("options","Object",n);super(e,n),this.code="ABORT_ERR",this.name="AbortError"}};Er("ERR_ASSERTION","%s",Error);Er("ERR_INVALID_ARG_TYPE",(t,e,n)=>{hd(typeof t=="string","'name' must be a string"),Array.isArray(e)||(e=[e]);let r="The ";t.endsWith(" argument")?r+=`${t} `:r+=`"${t}" ${t.includes(".")?"property":"argument"} `,r+="must be ";const i=[],o=[],s=[];for(const c of e)hd(typeof c=="string","All expected entries have to be of type string"),ine.includes(c)?i.push(c.toLowerCase()):one.test(c)?o.push(c):(hd(c!=="object",'The value "object" should be written as "Object"'),s.push(c));if(o.length>0){const c=i.indexOf("object");c!==-1&&(i.splice(i,c,1),o.push("Object"))}if(i.length>0){switch(i.length){case 1:r+=`of type ${i[0]}`;break;case 2:r+=`one of type ${i[0]} or ${i[1]}`;break;default:{const c=i.pop();r+=`one of type ${i.join(", ")}, or ${c}`}}(o.length>0||s.length>0)&&(r+=" or ")}if(o.length>0){switch(o.length){case 1:r+=`an instance of ${o[0]}`;break;case 2:r+=`an instance of ${o[0]} or ${o[1]}`;break;default:{const c=o.pop();r+=`an instance of ${o.join(", ")}, or ${c}`}}s.length>0&&(r+=" or ")}switch(s.length){case 0:break;case 1:s[0].toLowerCase()!==s[0]&&(r+="an "),r+=`${s[0]}`;break;case 2:r+=`one of ${s[0]} or ${s[1]}`;break;default:{const c=s.pop();r+=`one of ${s.join(", ")}, or ${c}`}}if(n==null)r+=`. Received ${n}`;else if(typeof n=="function"&&n.name)r+=`. Received function ${n.name}`;else if(typeof n=="object"){var a;if((a=n.constructor)!==null&&a!==void 0&&a.name)r+=`. Received an instance of ${n.constructor.name}`;else{const c=ww(n,{depth:-1});r+=`. Received ${c}`}}else{let c=ww(n,{colors:!1});c.length>25&&(c=`${c.slice(0,25)}...`),r+=`. Received type ${typeof n} (${c})`}return r},TypeError);Er("ERR_INVALID_ARG_VALUE",(t,e,n="is invalid")=>{let r=ww(e);return r.length>128&&(r=r.slice(0,128)+"..."),`The ${t.includes(".")?"property":"argument"} '${t}' ${n}. Received ${r}`},TypeError);Er("ERR_INVALID_RETURN_VALUE",(t,e,n)=>{var r;const i=n!=null&&(r=n.constructor)!==null&&r!==void 0&&r.name?`instance of ${n.constructor.name}`:`type ${typeof n}`;return`Expected ${t} to be returned from the "${e}" function but got ${i}.`},TypeError);Er("ERR_MISSING_ARGS",(...t)=>{hd(t.length>0,"At least one arg needs to be specified");let e;const n=t.length;switch(t=(Array.isArray(t)?t:[t]).map(r=>`"${r}"`).join(" or "),n){case 1:e+=`The ${t[0]} argument`;break;case 2:e+=`The ${t[0]} and ${t[1]} arguments`;break;default:{const r=t.pop();e+=`The ${t.join(", ")}, and ${r} arguments`}break}return`${e} must be specified`},TypeError);Er("ERR_OUT_OF_RANGE",(t,e,n)=>{hd(e,'Missing "range" argument');let r;if(Number.isInteger(n)&&Math.abs(n)>2**32)r=vk(String(n));else if(typeof n=="bigint"){r=String(n);const i=BigInt(2)**BigInt(32);(n>i||n<-i)&&(r=vk(r)),r+="n"}else r=ww(n);return`The value of "${t}" is out of range. It must be ${e}. Received ${r}`},RangeError);Er("ERR_MULTIPLE_CALLBACK","Callback called multiple times",Error);Er("ERR_METHOD_NOT_IMPLEMENTED","The %s method is not implemented",Error);Er("ERR_STREAM_ALREADY_FINISHED","Cannot call %s after a stream was finished",Error);Er("ERR_STREAM_CANNOT_PIPE","Cannot pipe, not readable",Error);Er("ERR_STREAM_DESTROYED","Cannot call %s after a stream was destroyed",Error);Er("ERR_STREAM_NULL_VALUES","May not write null values to stream",TypeError);Er("ERR_STREAM_PREMATURE_CLOSE","Premature close",Error);Er("ERR_STREAM_PUSH_AFTER_EOF","stream.push() after EOF",Error);Er("ERR_STREAM_UNSHIFT_AFTER_END_EVENT","stream.unshift() after end event",Error);Er("ERR_STREAM_WRITE_AFTER_END","write after end",Error);Er("ERR_UNKNOWN_ENCODING","Unknown encoding: %s",TypeError);var Xr={AbortError:lne,aggregateTwoErrors:wk(cne),hideStackFrames:wk,codes:i2},gp={exports:{}},bk;function Bg(){if(bk)return gp.exports;bk=1;const{AbortController:t,AbortSignal:e}=typeof self<"u"?self:typeof window<"u"?window:void 0;return gp.exports=t,gp.exports.AbortSignal=e,gp.exports.default=t,gp.exports}(function(t){const e=ma,{format:n,inspect:r}=oD,{codes:{ERR_INVALID_ARG_TYPE:i}}=Xr,{kResistStopPropagation:o,AggregateError:s,SymbolDispose:a}=bn,c=globalThis.AbortSignal||Bg().AbortSignal,l=globalThis.AbortController||Bg().AbortController,u=Object.getPrototypeOf(async function(){}).constructor,d=globalThis.Blob||e.Blob,f=typeof d<"u"?function(S){return S instanceof d}:function(S){return!1},h=(p,S)=>{if(p!==void 0&&(p===null||typeof p!="object"||!("aborted"in p)))throw new i(S,"AbortSignal",p)},g=(p,S)=>{if(typeof p!="function")throw new i(S,"Function",p)};t.exports={AggregateError:s,kEmptyObject:Object.freeze({}),once(p){let S=!1;return function(...y){S||(S=!0,p.apply(this,y))}},createDeferredPromise:function(){let p,S;return{promise:new Promise((b,_)=>{p=b,S=_}),resolve:p,reject:S}},promisify(p){return new Promise((S,y)=>{p((b,..._)=>b?y(b):S(..._))})},debuglog(){return function(){}},format:n,inspect:r,types:{isAsyncFunction(p){return p instanceof u},isArrayBufferView(p){return ArrayBuffer.isView(p)}},isBlob:f,deprecate(p,S){return p},addAbortListener:vu.addAbortListener||function(S,y){if(S===void 0)throw new i("signal","AbortSignal",S);h(S,"signal"),g(y,"listener");let b;return S.aborted?queueMicrotask(()=>y()):(S.addEventListener("abort",y,{__proto__:null,once:!0,[o]:!0}),b=()=>{S.removeEventListener("abort",y)}),{__proto__:null,[a](){var _;(_=b)===null||_===void 0||_()}}},AbortSignalAny:c.any||function(S){if(S.length===1)return S[0];const y=new l,b=()=>y.abort();return S.forEach(_=>{h(_,"signals"),_.addEventListener("abort",b,{once:!0})}),y.signal.addEventListener("abort",()=>{S.forEach(_=>_.removeEventListener("abort",b))},{once:!0}),y.signal}},t.exports.promisify.custom=Symbol.for("nodejs.util.promisify.custom")})(iD);var Ai=iD.exports,_C={};const{ArrayIsArray:sD,ArrayPrototypeIncludes:une,ArrayPrototypeJoin:dne,ArrayPrototypeMap:fne,NumberIsInteger:CC,NumberIsNaN:W5e,NumberMAX_SAFE_INTEGER:hne,NumberMIN_SAFE_INTEGER:pne,NumberParseInt:K5e,ObjectPrototypeHasOwnProperty:gne,RegExpPrototypeExec:q5e,String:mne,StringPrototypeToUpperCase:V5e,StringPrototypeTrim:G5e}=bn,{hideStackFrames:Fo,codes:{ERR_SOCKET_BAD_PORT:Y5e,ERR_INVALID_ARG_TYPE:Uo,ERR_INVALID_ARG_VALUE:aD,ERR_OUT_OF_RANGE:Jh,ERR_UNKNOWN_SIGNAL:J5e}}=Xr,{normalizeEncoding:Z5e}=Ai,{isAsyncFunction:yne,isArrayBufferView:vne}=Ai.types,wne=Fo((t,e,n=pne,r=hne)=>{if(typeof t!="number")throw new Uo(e,"number",t);if(!CC(t))throw new Jh(e,"an integer",t);if(t<n||t>r)throw new Jh(e,`>= ${n} && <= ${r}`,t)});Fo((t,e,n=-2147483648,r=2147483647)=>{if(typeof t!="number")throw new Uo(e,"number",t);if(!CC(t))throw new Jh(e,"an integer",t);if(t<n||t>r)throw new Jh(e,`>= ${n} && <= ${r}`,t)});Fo((t,e,n=!1)=>{if(typeof t!="number")throw new Uo(e,"number",t);if(!CC(t))throw new Jh(e,"an integer",t);const r=n?1:0,i=4294967295;if(t<r||t>i)throw new Jh(e,`>= ${r} && <= ${i}`,t)});Fo((t,e,n)=>{if(!une(n,t)){const i="must be one of: "+dne(fne(n,o=>typeof o=="string"?`'${o}'`:mne(o)),", ");throw new aD(e,t,i)}});function bne(t,e){if(typeof t!="boolean")throw new Uo(e,"boolean",t)}function gE(t,e,n){return t==null||!gne(t,e)?n:t[e]}const Ene=Fo((t,e,n=null)=>{const r=gE(n,"allowArray",!1),i=gE(n,"allowFunction",!1);if(!gE(n,"nullable",!1)&&t===null||!r&&sD(t)||typeof t!="object"&&(!i||typeof t!="function"))throw new Uo(e,"Object",t)});Fo((t,e)=>{if(t!=null&&typeof t!="object"&&typeof t!="function")throw new Uo(e,"a dictionary",t)});Fo((t,e,n=0)=>{if(!sD(t))throw new Uo(e,"Array",t);if(t.length<n){const r=`must be longer than ${n}`;throw new aD(e,t,r)}});Fo((t,e="buffer")=>{if(!vne(t))throw new Uo(e,["Buffer","TypedArray","DataView"],t)});const xne=Fo((t,e)=>{if(t!==void 0&&(t===null||typeof t!="object"||!("aborted"in t)))throw new Uo(e,"AbortSignal",t)}),Sne=Fo((t,e)=>{if(typeof t!="function")throw new Uo(e,"Function",t)});Fo((t,e)=>{if(typeof t!="function"||yne(t))throw new Uo(e,"Function",t)});Fo((t,e)=>{if(t!==void 0)throw new Uo(e,"undefined",t)});var Um={validateBoolean:bne,validateFunction:Sne,validateInteger:wne,validateObject:Ene,validateAbortSignal:xne},AC={exports:{}};const{SymbolAsyncIterator:Ek,SymbolIterator:xk,SymbolFor:qd}=bn,cD=qd("nodejs.stream.destroyed"),_ne=qd("nodejs.stream.errored"),Sk=qd("nodejs.stream.readable"),_k=qd("nodejs.stream.writable"),Cne=qd("nodejs.stream.disturbed"),Ane=qd("nodejs.webstream.isClosedPromise"),Ine=qd("nodejs.webstream.controllerErrorFunction");function IC(t,e=!1){var n;return!!(t&&typeof t.pipe=="function"&&typeof t.on=="function"&&(!e||typeof t.pause=="function"&&typeof t.resume=="function")&&(!t._writableState||((n=t._readableState)===null||n===void 0?void 0:n.readable)!==!1)&&(!t._writableState||t._readableState))}function o2(t){var e;return!!(t&&typeof t.write=="function"&&typeof t.on=="function"&&(!t._readableState||((e=t._writableState)===null||e===void 0?void 0:e.writable)!==!1))}function kne(t){return!!(t&&typeof t.pipe=="function"&&t._readableState&&typeof t.on=="function"&&typeof t.write=="function")}function ba(t){return t&&(t._readableState||t._writableState||typeof t.write=="function"&&typeof t.on=="function"||typeof t.pipe=="function"&&typeof t.on=="function")}function lD(t){return!!(t&&!ba(t)&&typeof t.pipeThrough=="function"&&typeof t.getReader=="function"&&typeof t.cancel=="function")}function uD(t){return!!(t&&!ba(t)&&typeof t.getWriter=="function"&&typeof t.abort=="function")}function dD(t){return!!(t&&!ba(t)&&typeof t.readable=="object"&&typeof t.writable=="object")}function Pne(t){return lD(t)||uD(t)||dD(t)}function One(t,e){return t==null?!1:e===!0?typeof t[Ek]=="function":e===!1?typeof t[xk]=="function":typeof t[Ek]=="function"||typeof t[xk]=="function"}function s2(t){if(!ba(t))return null;const e=t._writableState,n=t._readableState,r=e||n;return!!(t.destroyed||t[cD]||r!=null&&r.destroyed)}function Tne(t){if(!o2(t))return null;if(t.writableEnded===!0)return!0;const e=t._writableState;return e!=null&&e.errored?!1:typeof(e==null?void 0:e.ended)!="boolean"?null:e.ended}function Mne(t,e){if(!o2(t))return null;if(t.writableFinished===!0)return!0;const n=t._writableState;return n!=null&&n.errored?!1:typeof(n==null?void 0:n.finished)!="boolean"?null:!!(n.finished||e===!1&&n.ended===!0&&n.length===0)}function fD(t,e){if(!IC(t))return null;const n=t._readableState;return n!=null&&n.errored?!1:typeof(n==null?void 0:n.endEmitted)!="boolean"?null:!!(n.endEmitted||e===!1&&n.ended===!0&&n.length===0)}function hD(t){return t&&t[Sk]!=null?t[Sk]:typeof(t==null?void 0:t.readable)!="boolean"?null:s2(t)?!1:IC(t)&&t.readable&&!fD(t)}function pD(t){return t&&t[_k]!=null?t[_k]:typeof(t==null?void 0:t.writable)!="boolean"?null:s2(t)?!1:o2(t)&&t.writable&&!Tne(t)}function Nne(t,e){return ba(t)?s2(t)?!0:!((e==null?void 0:e.readable)!==!1&&hD(t)||(e==null?void 0:e.writable)!==!1&&pD(t)):null}function Rne(t){var e,n;return ba(t)?t.writableErrored?t.writableErrored:(e=(n=t._writableState)===null||n===void 0?void 0:n.errored)!==null&&e!==void 0?e:null:null}function Lne(t){var e,n;return ba(t)?t.readableErrored?t.readableErrored:(e=(n=t._readableState)===null||n===void 0?void 0:n.errored)!==null&&e!==void 0?e:null:null}function $ne(t){if(!ba(t))return null;if(typeof t.closed=="boolean")return t.closed;const e=t._writableState,n=t._readableState;return typeof(e==null?void 0:e.closed)=="boolean"||typeof(n==null?void 0:n.closed)=="boolean"?(e==null?void 0:e.closed)||(n==null?void 0:n.closed):typeof t._closed=="boolean"&&gD(t)?t._closed:null}function gD(t){return typeof t._closed=="boolean"&&typeof t._defaultKeepAlive=="boolean"&&typeof t._removedConnection=="boolean"&&typeof t._removedContLen=="boolean"}function Bne(t){return typeof t._sent100=="boolean"&&gD(t)}function Dne(t){var e;return typeof t._consuming=="boolean"&&typeof t._dumped=="boolean"&&((e=t.req)===null||e===void 0?void 0:e.upgradeOrConnect)===void 0}function jne(t){if(!ba(t))return null;const e=t._writableState,n=t._readableState,r=e||n;return!r&&Bne(t)||!!(r&&r.autoDestroy&&r.emitClose&&r.closed===!1)}function Fne(t){var e;return!!(t&&((e=t[Cne])!==null&&e!==void 0?e:t.readableDidRead||t.readableAborted))}function Une(t){var e,n,r,i,o,s,a,c,l,u;return!!(t&&((e=(n=(r=(i=(o=(s=t[_ne])!==null&&s!==void 0?s:t.readableErrored)!==null&&o!==void 0?o:t.writableErrored)!==null&&i!==void 0?i:(a=t._readableState)===null||a===void 0?void 0:a.errorEmitted)!==null&&r!==void 0?r:(c=t._writableState)===null||c===void 0?void 0:c.errorEmitted)!==null&&n!==void 0?n:(l=t._readableState)===null||l===void 0?void 0:l.errored)!==null&&e!==void 0?e:!((u=t._writableState)===null||u===void 0)&&u.errored))}var Lc={isDestroyed:s2,kIsDestroyed:cD,isDisturbed:Fne,isErrored:Une,isReadable:hD,kIsClosedPromise:Ane,kControllerErrorFunction:Ine,isClosed:$ne,isDuplexNodeStream:kne,isFinished:Nne,isIterable:One,isReadableNodeStream:IC,isReadableStream:lD,isReadableFinished:fD,isReadableErrored:Lne,isNodeStream:ba,isWebStream:Pne,isWritable:pD,isWritableNodeStream:o2,isWritableStream:uD,isWritableFinished:Mne,isWritableErrored:Rne,isServerRequest:Dne,willEmitClose:jne,isTransformStream:dD};const pl=hu,{AbortError:mD,codes:zne}=Xr,{ERR_INVALID_ARG_TYPE:Hne,ERR_STREAM_PREMATURE_CLOSE:Ck}=zne,{kEmptyObject:Px,once:Ox}=Ai,{validateAbortSignal:Wne,validateFunction:Kne,validateObject:qne,validateBoolean:Vne}=Um,{Promise:Gne,PromisePrototypeThen:Yne,SymbolDispose:yD}=bn,{isClosed:Jne,isReadable:Ak,isReadableNodeStream:mE,isReadableStream:Zne,isReadableFinished:Ik,isReadableErrored:kk,isWritable:Pk,isWritableNodeStream:Ok,isWritableStream:Qne,isWritableFinished:Tk,isWritableErrored:Mk,isNodeStream:Xne,willEmitClose:ere,kIsClosedPromise:tre}=Lc;let mh;function nre(t){return t.setHeader&&typeof t.abort=="function"}const Tx=()=>{};function vD(t,e,n){var r,i;if(arguments.length===2?(n=e,e=Px):e==null?e=Px:qne(e,"options"),Kne(n,"callback"),Wne(e.signal,"options.signal"),n=Ox(n),Zne(t)||Qne(t))return rre(t,e,n);if(!Xne(t))throw new Hne("stream",["ReadableStream","WritableStream","Stream"],t);const o=(r=e.readable)!==null&&r!==void 0?r:mE(t),s=(i=e.writable)!==null&&i!==void 0?i:Ok(t),a=t._writableState,c=t._readableState,l=()=>{t.writable||f()};let u=ere(t)&&mE(t)===o&&Ok(t)===s,d=Tk(t,!1);const f=()=>{d=!0,t.destroyed&&(u=!1),!(u&&(!t.readable||o))&&(!o||h)&&n.call(t)};let h=Ik(t,!1);const g=()=>{h=!0,t.destroyed&&(u=!1),!(u&&(!t.writable||s))&&(!s||d)&&n.call(t)},p=O=>{n.call(t,O)};let S=Jne(t);const y=()=>{S=!0;const O=Mk(t)||kk(t);if(O&&typeof O!="boolean")return n.call(t,O);if(o&&!h&&mE(t,!0)&&!Ik(t,!1))return n.call(t,new Ck);if(s&&!d&&!Tk(t,!1))return n.call(t,new Ck);n.call(t)},b=()=>{S=!0;const O=Mk(t)||kk(t);if(O&&typeof O!="boolean")return n.call(t,O);n.call(t)},_=()=>{t.req.on("finish",f)};nre(t)?(t.on("complete",f),u||t.on("abort",y),t.req?_():t.on("request",_)):s&&!a&&(t.on("end",l),t.on("close",l)),!u&&typeof t.aborted=="boolean"&&t.on("aborted",y),t.on("end",g),t.on("finish",f),e.error!==!1&&t.on("error",p),t.on("close",y),S?pl.nextTick(y):a!=null&&a.errorEmitted||c!=null&&c.errorEmitted?u||pl.nextTick(b):(!o&&(!u||Ak(t))&&(d||Pk(t)===!1)||!s&&(!u||Pk(t))&&(h||Ak(t)===!1)||c&&t.req&&t.aborted)&&pl.nextTick(b);const N=()=>{n=Tx,t.removeListener("aborted",y),t.removeListener("complete",f),t.removeListener("abort",y),t.removeListener("request",_),t.req&&t.req.removeListener("finish",f),t.removeListener("end",l),t.removeListener("close",l),t.removeListener("finish",f),t.removeListener("end",g),t.removeListener("error",p),t.removeListener("close",y)};if(e.signal&&!S){const O=()=>{const $=n;N(),$.call(t,new mD(void 0,{cause:e.signal.reason}))};if(e.signal.aborted)pl.nextTick(O);else{mh=mh||Ai.addAbortListener;const $=mh(e.signal,O),j=n;n=Ox((...k)=>{$[yD](),j.apply(t,k)})}}return N}function rre(t,e,n){let r=!1,i=Tx;if(e.signal)if(i=()=>{r=!0,n.call(t,new mD(void 0,{cause:e.signal.reason}))},e.signal.aborted)pl.nextTick(i);else{mh=mh||Ai.addAbortListener;const s=mh(e.signal,i),a=n;n=Ox((...c)=>{s[yD](),a.apply(t,c)})}const o=(...s)=>{r||pl.nextTick(()=>n.apply(t,s))};return Yne(t[tre].promise,o,o),Tx}function ire(t,e){var n;let r=!1;return e===null&&(e=Px),(n=e)!==null&&n!==void 0&&n.cleanup&&(Vne(e.cleanup,"cleanup"),r=e.cleanup),new Gne((i,o)=>{const s=vD(t,e,a=>{r&&s(),a?o(a):i()})})}AC.exports=vD;AC.exports.finished=ire;var wu=AC.exports;const ra=hu,{aggregateTwoErrors:ore,codes:{ERR_MULTIPLE_CALLBACK:sre},AbortError:are}=Xr,{Symbol:wD}=bn,{kIsDestroyed:cre,isDestroyed:lre,isFinished:ure,isServerRequest:dre}=Lc,bD=wD("kDestroy"),Mx=wD("kConstruct");function ED(t,e,n){t&&(t.stack,e&&!e.errored&&(e.errored=t),n&&!n.errored&&(n.errored=t))}function fre(t,e){const n=this._readableState,r=this._writableState,i=r||n;return r!=null&&r.destroyed||n!=null&&n.destroyed?(typeof e=="function"&&e(),this):(ED(t,r,n),r&&(r.destroyed=!0),n&&(n.destroyed=!0),i.constructed?Nk(this,t,e):this.once(bD,function(o){Nk(this,ore(o,t),e)}),this)}function Nk(t,e,n){let r=!1;function i(o){if(r)return;r=!0;const s=t._readableState,a=t._writableState;ED(o,a,s),a&&(a.closed=!0),s&&(s.closed=!0),typeof n=="function"&&n(o),o?ra.nextTick(hre,t,o):ra.nextTick(xD,t)}try{t._destroy(e||null,i)}catch(o){i(o)}}function hre(t,e){Nx(t,e),xD(t)}function xD(t){const e=t._readableState,n=t._writableState;n&&(n.closeEmitted=!0),e&&(e.closeEmitted=!0),(n!=null&&n.emitClose||e!=null&&e.emitClose)&&t.emit("close")}function Nx(t,e){const n=t._readableState,r=t._writableState;r!=null&&r.errorEmitted||n!=null&&n.errorEmitted||(r&&(r.errorEmitted=!0),n&&(n.errorEmitted=!0),t.emit("error",e))}function pre(){const t=this._readableState,e=this._writableState;t&&(t.constructed=!0,t.closed=!1,t.closeEmitted=!1,t.destroyed=!1,t.errored=null,t.errorEmitted=!1,t.reading=!1,t.ended=t.readable===!1,t.endEmitted=t.readable===!1),e&&(e.constructed=!0,e.destroyed=!1,e.closed=!1,e.closeEmitted=!1,e.errored=null,e.errorEmitted=!1,e.finalCalled=!1,e.prefinished=!1,e.ended=e.writable===!1,e.ending=e.writable===!1,e.finished=e.writable===!1)}function Rx(t,e,n){const r=t._readableState,i=t._writableState;if(i!=null&&i.destroyed||r!=null&&r.destroyed)return this;r!=null&&r.autoDestroy||i!=null&&i.autoDestroy?t.destroy(e):e&&(e.stack,i&&!i.errored&&(i.errored=e),r&&!r.errored&&(r.errored=e),n?ra.nextTick(Nx,t,e):Nx(t,e))}function gre(t,e){if(typeof t._construct!="function")return;const n=t._readableState,r=t._writableState;n&&(n.constructed=!1),r&&(r.constructed=!1),t.once(Mx,e),!(t.listenerCount(Mx)>1)&&ra.nextTick(mre,t)}function mre(t){let e=!1;function n(r){if(e){Rx(t,r??new sre);return}e=!0;const i=t._readableState,o=t._writableState,s=o||i;i&&(i.constructed=!0),o&&(o.constructed=!0),s.destroyed?t.emit(bD,r):r?Rx(t,r,!0):ra.nextTick(yre,t)}try{t._construct(r=>{ra.nextTick(n,r)})}catch(r){ra.nextTick(n,r)}}function yre(t){t.emit(Mx)}function Rk(t){return(t==null?void 0:t.setHeader)&&typeof t.abort=="function"}function SD(t){t.emit("close")}function vre(t,e){t.emit("error",e),ra.nextTick(SD,t)}function wre(t,e){!t||lre(t)||(!e&&!ure(t)&&(e=new are),dre(t)?(t.socket=null,t.destroy(e)):Rk(t)?t.abort():Rk(t.req)?t.req.abort():typeof t.destroy=="function"?t.destroy(e):typeof t.close=="function"?t.close():e?ra.nextTick(vre,t,e):ra.nextTick(SD,t),t.destroyed||(t[cre]=!0))}var I0={construct:gre,destroyer:wre,destroy:fre,undestroy:pre,errorOrDestroy:Rx};const{ArrayIsArray:bre,ObjectSetPrototypeOf:_D}=bn,{EventEmitter:a2}=vu;function c2(t){a2.call(this,t)}_D(c2.prototype,a2.prototype);_D(c2,a2);c2.prototype.pipe=function(t,e){const n=this;function r(u){t.writable&&t.write(u)===!1&&n.pause&&n.pause()}n.on("data",r);function i(){n.readable&&n.resume&&n.resume()}t.on("drain",i),!t._isStdio&&(!e||e.end!==!1)&&(n.on("end",s),n.on("close",a));let o=!1;function s(){o||(o=!0,t.end())}function a(){o||(o=!0,typeof t.destroy=="function"&&t.destroy())}function c(u){l(),a2.listenerCount(this,"error")===0&&this.emit("error",u)}Lx(n,"error",c),Lx(t,"error",c);function l(){n.removeListener("data",r),t.removeListener("drain",i),n.removeListener("end",s),n.removeListener("close",a),n.removeListener("error",c),t.removeListener("error",c),n.removeListener("end",l),n.removeListener("close",l),t.removeListener("close",l)}return n.on("end",l),n.on("close",l),t.on("close",l),t.emit("pipe",n),t};function Lx(t,e,n){if(typeof t.prependListener=="function")return t.prependListener(e,n);!t._events||!t._events[e]?t.on(e,n):bre(t._events[e])?t._events[e].unshift(n):t._events[e]=[n,t._events[e]]}var kC={Stream:c2,prependListener:Lx},CD={exports:{}};(function(t){const{SymbolDispose:e}=bn,{AbortError:n,codes:r}=Xr,{isNodeStream:i,isWebStream:o,kControllerErrorFunction:s}=Lc,a=wu,{ERR_INVALID_ARG_TYPE:c}=r;let l;const u=(d,f)=>{if(typeof d!="object"||!("aborted"in d))throw new c(f,"AbortSignal",d)};t.exports.addAbortSignal=function(f,h){if(u(f,"signal"),!i(h)&&!o(h))throw new c("stream",["ReadableStream","WritableStream","Stream"],h);return t.exports.addAbortSignalNoValidate(f,h)},t.exports.addAbortSignalNoValidate=function(d,f){if(typeof d!="object"||!("aborted"in d))return f;const h=i(f)?()=>{f.destroy(new n(void 0,{cause:d.reason}))}:()=>{f[s](new n(void 0,{cause:d.reason}))};if(d.aborted)h();else{l=l||Ai.addAbortListener;const g=l(d,h);a(f,g[e])}return f}})(CD);var l2=CD.exports;const{StringPrototypeSlice:Lk,SymbolIterator:Ere,TypedArrayPrototypeSet:Jy,Uint8Array:xre}=bn,{Buffer:yE}=ma,{inspect:Sre}=Ai;var _re=class{constructor(){this.head=null,this.tail=null,this.length=0}push(e){const n={data:e,next:null};this.length>0?this.tail.next=n:this.head=n,this.tail=n,++this.length}unshift(e){const n={data:e,next:this.head};this.length===0&&(this.tail=n),this.head=n,++this.length}shift(){if(this.length===0)return;const e=this.head.data;return this.length===1?this.head=this.tail=null:this.head=this.head.next,--this.length,e}clear(){this.head=this.tail=null,this.length=0}join(e){if(this.length===0)return"";let n=this.head,r=""+n.data;for(;(n=n.next)!==null;)r+=e+n.data;return r}concat(e){if(this.length===0)return yE.alloc(0);const n=yE.allocUnsafe(e>>>0);let r=this.head,i=0;for(;r;)Jy(n,r.data,i),i+=r.data.length,r=r.next;return n}consume(e,n){const r=this.head.data;if(e<r.length){const i=r.slice(0,e);return this.head.data=r.slice(e),i}return e===r.length?this.shift():n?this._getString(e):this._getBuffer(e)}first(){return this.head.data}*[Ere](){for(let e=this.head;e;e=e.next)yield e.data}_getString(e){let n="",r=this.head,i=0;do{const o=r.data;if(e>o.length)n+=o,e-=o.length;else{e===o.length?(n+=o,++i,r.next?this.head=r.next:this.head=this.tail=null):(n+=Lk(o,0,e),this.head=r,r.data=Lk(o,e));break}++i}while((r=r.next)!==null);return this.length-=i,n}_getBuffer(e){const n=yE.allocUnsafe(e),r=e;let i=this.head,o=0;do{const s=i.data;if(e>s.length)Jy(n,s,r-e),e-=s.length;else{e===s.length?(Jy(n,s,r-e),++o,i.next?this.head=i.next:this.head=this.tail=null):(Jy(n,new xre(s.buffer,s.byteOffset,e),r-e),this.head=i,i.data=s.slice(e));break}++o}while((i=i.next)!==null);return this.length-=o,n}[Symbol.for("nodejs.util.inspect.custom")](e,n){return Sre(this,{...n,depth:0,customInspect:!1})}};const{MathFloor:Cre,NumberIsInteger:Are}=bn,{validateInteger:Ire}=Um,{ERR_INVALID_ARG_VALUE:kre}=Xr.codes;let AD=16*1024,ID=16;function Pre(t,e,n){return t.highWaterMark!=null?t.highWaterMark:e?t[n]:null}function kD(t){return t?ID:AD}function Ore(t,e){Ire(e,"value",0),t?ID=e:AD=e}function Tre(t,e,n,r){const i=Pre(e,r,n);if(i!=null){if(!Are(i)||i<0){const o=r?`options.${n}`:"options.highWaterMark";throw new kre(o,i)}return Cre(i)}return kD(t.objectMode)}var u2={getHighWaterMark:Tre,getDefaultHighWaterMark:kD,setDefaultHighWaterMark:Ore},PD={},$x={exports:{}};/*! safe-buffer. MIT License. Feross Aboukhadijeh <https://feross.org/opensource> */(function(t,e){var n=ma,r=n.Buffer;function i(s,a){for(var c in s)a[c]=s[c]}r.from&&r.alloc&&r.allocUnsafe&&r.allocUnsafeSlow?t.exports=n:(i(n,e),e.Buffer=o);function o(s,a,c){return r(s,a,c)}o.prototype=Object.create(r.prototype),i(r,o),o.from=function(s,a,c){if(typeof s=="number")throw new TypeError("Argument must not be a number");return r(s,a,c)},o.alloc=function(s,a,c){if(typeof s!="number")throw new TypeError("Argument must be a number");var l=r(s);return a!==void 0?typeof c=="string"?l.fill(a,c):l.fill(a):l.fill(0),l},o.allocUnsafe=function(s){if(typeof s!="number")throw new TypeError("Argument must be a number");return r(s)},o.allocUnsafeSlow=function(s){if(typeof s!="number")throw new TypeError("Argument must be a number");return n.SlowBuffer(s)}})($x,$x.exports);var Mre=$x.exports,PC=Mre.Buffer,$k=PC.isEncoding||function(t){switch(t=""+t,t&&t.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function Nre(t){if(!t)return"utf8";for(var e;;)switch(t){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return t;default:if(e)return;t=(""+t).toLowerCase(),e=!0}}function Rre(t){var e=Nre(t);if(typeof e!="string"&&(PC.isEncoding===$k||!$k(t)))throw new Error("Unknown encoding: "+t);return e||t}PD.StringDecoder=zm;function zm(t){this.encoding=Rre(t);var e;switch(this.encoding){case"utf16le":this.text=Fre,this.end=Ure,e=4;break;case"utf8":this.fillLast=Bre,e=4;break;case"base64":this.text=zre,this.end=Hre,e=3;break;default:this.write=Wre,this.end=Kre;return}this.lastNeed=0,this.lastTotal=0,this.lastChar=PC.allocUnsafe(e)}zm.prototype.write=function(t){if(t.length===0)return"";var e,n;if(this.lastNeed){if(e=this.fillLast(t),e===void 0)return"";n=this.lastNeed,this.lastNeed=0}else n=0;return n<t.length?e?e+this.text(t,n):this.text(t,n):e||""};zm.prototype.end=jre;zm.prototype.text=Dre;zm.prototype.fillLast=function(t){if(this.lastNeed<=t.length)return t.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);t.copy(this.lastChar,this.lastTotal-this.lastNeed,0,t.length),this.lastNeed-=t.length};function vE(t){return t<=127?0:t>>5===6?2:t>>4===14?3:t>>3===30?4:t>>6===2?-1:-2}function Lre(t,e,n){var r=e.length-1;if(r<n)return 0;var i=vE(e[r]);return i>=0?(i>0&&(t.lastNeed=i-1),i):--r<n||i===-2?0:(i=vE(e[r]),i>=0?(i>0&&(t.lastNeed=i-2),i):--r<n||i===-2?0:(i=vE(e[r]),i>=0?(i>0&&(i===2?i=0:t.lastNeed=i-3),i):0))}function $re(t,e,n){if((e[0]&192)!==128)return t.lastNeed=0,"�";if(t.lastNeed>1&&e.length>1){if((e[1]&192)!==128)return t.lastNeed=1,"�";if(t.lastNeed>2&&e.length>2&&(e[2]&192)!==128)return t.lastNeed=2,"�"}}function Bre(t){var e=this.lastTotal-this.lastNeed,n=$re(this,t);if(n!==void 0)return n;if(this.lastNeed<=t.length)return t.copy(this.lastChar,e,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);t.copy(this.lastChar,e,0,t.length),this.lastNeed-=t.length}function Dre(t,e){var n=Lre(this,t,e);if(!this.lastNeed)return t.toString("utf8",e);this.lastTotal=n;var r=t.length-(n-this.lastNeed);return t.copy(this.lastChar,0,r),t.toString("utf8",e,r)}function jre(t){var e=t&&t.length?this.write(t):"";return this.lastNeed?e+"�":e}function Fre(t,e){if((t.length-e)%2===0){var n=t.toString("utf16le",e);if(n){var r=n.charCodeAt(n.length-1);if(r>=55296&&r<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=t[t.length-2],this.lastChar[1]=t[t.length-1],n.slice(0,-1)}return n}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=t[t.length-1],t.toString("utf16le",e,t.length-1)}function Ure(t){var e=t&&t.length?this.write(t):"";if(this.lastNeed){var n=this.lastTotal-this.lastNeed;return e+this.lastChar.toString("utf16le",0,n)}return e}function zre(t,e){var n=(t.length-e)%3;return n===0?t.toString("base64",e):(this.lastNeed=3-n,this.lastTotal=3,n===1?this.lastChar[0]=t[t.length-1]:(this.lastChar[0]=t[t.length-2],this.lastChar[1]=t[t.length-1]),t.toString("base64",e,t.length-n))}function Hre(t){var e=t&&t.length?this.write(t):"";return this.lastNeed?e+this.lastChar.toString("base64",0,3-this.lastNeed):e}function Wre(t){return t.toString(this.encoding)}function Kre(t){return t&&t.length?this.write(t):""}const Bk=hu,{PromisePrototypeThen:qre,SymbolAsyncIterator:Dk,SymbolIterator:jk}=bn,{Buffer:Vre}=ma,{ERR_INVALID_ARG_TYPE:Gre,ERR_STREAM_NULL_VALUES:Yre}=Xr.codes;function Jre(t,e,n){let r;if(typeof e=="string"||e instanceof Vre)return new t({objectMode:!0,...n,read(){this.push(e),this.push(null)}});let i;if(e&&e[Dk])i=!0,r=e[Dk]();else if(e&&e[jk])i=!1,r=e[jk]();else throw new Gre("iterable",["Iterable"],e);const o=new t({objectMode:!0,highWaterMark:1,...n});let s=!1;o._read=function(){s||(s=!0,c())},o._destroy=function(l,u){qre(a(l),()=>Bk.nextTick(u,l),d=>Bk.nextTick(u,d||l))};async function a(l){const u=l!=null,d=typeof r.throw=="function";if(u&&d){const{value:f,done:h}=await r.throw(l);if(await f,h)return}if(typeof r.return=="function"){const{value:f}=await r.return();await f}}async function c(){for(;;){try{const{value:l,done:u}=i?await r.next():r.next();if(u)o.push(null);else{const d=l&&typeof l.then=="function"?await l:l;if(d===null)throw s=!1,new Yre;if(o.push(d))continue;s=!1}}catch(l){o.destroy(l)}break}}return o}var OD=Jre,wE,Fk;function d2(){if(Fk)return wE;Fk=1;const t=hu,{ArrayPrototypeIndexOf:e,NumberIsInteger:n,NumberIsNaN:r,NumberParseInt:i,ObjectDefineProperties:o,ObjectKeys:s,ObjectSetPrototypeOf:a,Promise:c,SafeSet:l,SymbolAsyncDispose:u,SymbolAsyncIterator:d,Symbol:f}=bn;wE=we,we.ReadableState=De;const{EventEmitter:h}=vu,{Stream:g,prependListener:p}=kC,{Buffer:S}=ma,{addAbortSignal:y}=l2,b=wu;let _=Ai.debuglog("stream",X=>{_=X});const N=_re,O=I0,{getHighWaterMark:$,getDefaultHighWaterMark:j}=u2,{aggregateTwoErrors:k,codes:{ERR_INVALID_ARG_TYPE:T,ERR_METHOD_NOT_IMPLEMENTED:L,ERR_OUT_OF_RANGE:P,ERR_STREAM_PUSH_AFTER_EOF:m,ERR_STREAM_UNSHIFT_AFTER_END_EVENT:w},AbortError:A}=Xr,{validateObject:v}=Um,I=f("kPaused"),{StringDecoder:M}=PD,E=OD;a(we.prototype,g.prototype),a(we,g);const C=()=>{},{errorOrDestroy:x}=O,R=1,D=2,B=4,z=8,H=16,W=32,G=64,V=128,J=256,Y=512,ee=1024,ne=2048,K=4096,Q=8192,ie=16384,ce=32768,he=65536,pe=1<<17,Ee=1<<18;function Le(X){return{enumerable:!1,get(){return(this.state&X)!==0},set(re){re?this.state|=X:this.state&=~X}}}o(De.prototype,{objectMode:Le(R),ended:Le(D),endEmitted:Le(B),reading:Le(z),constructed:Le(H),sync:Le(W),needReadable:Le(G),emittedReadable:Le(V),readableListening:Le(J),resumeScheduled:Le(Y),errorEmitted:Le(ee),emitClose:Le(ne),autoDestroy:Le(K),destroyed:Le(Q),closed:Le(ie),closeEmitted:Le(ce),multiAwaitDrain:Le(he),readingMore:Le(pe),dataEmitted:Le(Ee)});function De(X,re,_e){typeof _e!="boolean"&&(_e=re instanceof Sc()),this.state=ne|K|H|W,X&&X.objectMode&&(this.state|=R),_e&&X&&X.readableObjectMode&&(this.state|=R),this.highWaterMark=X?$(this,X,"readableHighWaterMark",_e):j(!1),this.buffer=new N,this.length=0,this.pipes=[],this.flowing=null,this[I]=null,X&&X.emitClose===!1&&(this.state&=~ne),X&&X.autoDestroy===!1&&(this.state&=~K),this.errored=null,this.defaultEncoding=X&&X.defaultEncoding||"utf8",this.awaitDrainWriters=null,this.decoder=null,this.encoding=null,X&&X.encoding&&(this.decoder=new M(X.encoding),this.encoding=X.encoding)}function we(X){if(!(this instanceof we))return new we(X);const re=this instanceof Sc();this._readableState=new De(X,this,re),X&&(typeof X.read=="function"&&(this._read=X.read),typeof X.destroy=="function"&&(this._destroy=X.destroy),typeof X.construct=="function"&&(this._construct=X.construct),X.signal&&!re&&y(X.signal,this)),g.call(this,X),O.construct(this,()=>{this._readableState.needReadable&&se(this,this._readableState)})}we.prototype.destroy=O.destroy,we.prototype._undestroy=O.undestroy,we.prototype._destroy=function(X,re){re(X)},we.prototype[h.captureRejectionSymbol]=function(X){this.destroy(X)},we.prototype[u]=function(){let X;return this.destroyed||(X=this.readableEnded?null:new A,this.destroy(X)),new c((re,_e)=>b(this,Oe=>Oe&&Oe!==X?_e(Oe):re(null)))},we.prototype.push=function(X,re){return Je(this,X,re,!1)},we.prototype.unshift=function(X,re){return Je(this,X,re,!0)};function Je(X,re,_e,Oe){_("readableAddChunk",re);const Re=X._readableState;let dt;if(Re.state&R||(typeof re=="string"?(_e=_e||Re.defaultEncoding,Re.encoding!==_e&&(Oe&&Re.encoding?re=S.from(re,_e).toString(Re.encoding):(re=S.from(re,_e),_e=""))):re instanceof S?_e="":g._isUint8Array(re)?(re=g._uint8ArrayToBuffer(re),_e=""):re!=null&&(dt=new T("chunk",["string","Buffer","Uint8Array"],re))),dt)x(X,dt);else if(re===null)Re.state&=~z,F(X,Re);else if(Re.state&R||re&&re.length>0)if(Oe)if(Re.state&B)x(X,new w);else{if(Re.destroyed||Re.errored)return!1;He(X,Re,re,!0)}else if(Re.ended)x(X,new m);else{if(Re.destroyed||Re.errored)return!1;Re.state&=~z,Re.decoder&&!_e?(re=Re.decoder.write(re),Re.objectMode||re.length!==0?He(X,Re,re,!1):se(X,Re)):He(X,Re,re,!1)}else Oe||(Re.state&=~z,se(X,Re));return!Re.ended&&(Re.length<Re.highWaterMark||Re.length===0)}function He(X,re,_e,Oe){re.flowing&&re.length===0&&!re.sync&&X.listenerCount("data")>0?(re.state&he?re.awaitDrainWriters.clear():re.awaitDrainWriters=null,re.dataEmitted=!0,X.emit("data",_e)):(re.length+=re.objectMode?1:_e.length,Oe?re.buffer.unshift(_e):re.buffer.push(_e),re.state&G&&U(X)),se(X,re)}we.prototype.isPaused=function(){const X=this._readableState;return X[I]===!0||X.flowing===!1},we.prototype.setEncoding=function(X){const re=new M(X);this._readableState.decoder=re,this._readableState.encoding=this._readableState.decoder.encoding;const _e=this._readableState.buffer;let Oe="";for(const Re of _e)Oe+=re.write(Re);return _e.clear(),Oe!==""&&_e.push(Oe),this._readableState.length=Oe.length,this};const Xe=1073741824;function ze(X){if(X>Xe)throw new P("size","<= 1GiB",X);return X--,X|=X>>>1,X|=X>>>2,X|=X>>>4,X|=X>>>8,X|=X>>>16,X++,X}function q(X,re){return X<=0||re.length===0&&re.ended?0:re.state&R?1:r(X)?re.flowing&&re.length?re.buffer.first().length:re.length:X<=re.length?X:re.ended?re.length:0}we.prototype.read=function(X){_("read",X),X===void 0?X=NaN:n(X)||(X=i(X,10));const re=this._readableState,_e=X;if(X>re.highWaterMark&&(re.highWaterMark=ze(X)),X!==0&&(re.state&=~V),X===0&&re.needReadable&&((re.highWaterMark!==0?re.length>=re.highWaterMark:re.length>0)||re.ended))return _("read: emitReadable",re.length,re.ended),re.length===0&&re.ended?Ne(this):U(this),null;if(X=q(X,re),X===0&&re.ended)return re.length===0&&Ne(this),null;let Oe=(re.state&G)!==0;if(_("need readable",Oe),(re.length===0||re.length-X<re.highWaterMark)&&(Oe=!0,_("length less than watermark",Oe)),re.ended||re.reading||re.destroyed||re.errored||!re.constructed)Oe=!1,_("reading, ended or constructing",Oe);else if(Oe){_("do read"),re.state|=z|W,re.length===0&&(re.state|=G);try{this._read(re.highWaterMark)}catch(dt){x(this,dt)}re.state&=~W,re.reading||(X=q(_e,re))}let Re;return X>0?Re=ti(X,re):Re=null,Re===null?(re.needReadable=re.length<=re.highWaterMark,X=0):(re.length-=X,re.multiAwaitDrain?re.awaitDrainWriters.clear():re.awaitDrainWriters=null),re.length===0&&(re.ended||(re.needReadable=!0),_e!==X&&re.ended&&Ne(this)),Re!==null&&!re.errorEmitted&&!re.closeEmitted&&(re.dataEmitted=!0,this.emit("data",Re)),Re};function F(X,re){if(_("onEofChunk"),!re.ended){if(re.decoder){const _e=re.decoder.end();_e&&_e.length&&(re.buffer.push(_e),re.length+=re.objectMode?1:_e.length)}re.ended=!0,re.sync?U(X):(re.needReadable=!1,re.emittedReadable=!0,Z(X))}}function U(X){const re=X._readableState;_("emitReadable",re.needReadable,re.emittedReadable),re.needReadable=!1,re.emittedReadable||(_("emitReadable",re.flowing),re.emittedReadable=!0,t.nextTick(Z,X))}function Z(X){const re=X._readableState;_("emitReadable_",re.destroyed,re.length,re.ended),!re.destroyed&&!re.errored&&(re.length||re.ended)&&(X.emit("readable"),re.emittedReadable=!1),re.needReadable=!re.flowing&&!re.ended&&re.length<=re.highWaterMark,ft(X)}function se(X,re){!re.readingMore&&re.constructed&&(re.readingMore=!0,t.nextTick(fe,X,re))}function fe(X,re){for(;!re.reading&&!re.ended&&(re.length<re.highWaterMark||re.flowing&&re.length===0);){const _e=re.length;if(_("maybeReadMore read 0"),X.read(0),_e===re.length)break}re.readingMore=!1}we.prototype._read=function(X){throw new L("_read()")},we.prototype.pipe=function(X,re){const _e=this,Oe=this._readableState;Oe.pipes.length===1&&(Oe.multiAwaitDrain||(Oe.multiAwaitDrain=!0,Oe.awaitDrainWriters=new l(Oe.awaitDrainWriters?[Oe.awaitDrainWriters]:[]))),Oe.pipes.push(X),_("pipe count=%d opts=%j",Oe.pipes.length,re);const dt=(!re||re.end!==!1)&&X!==t.stdout&&X!==t.stderr?Dt:zo;Oe.endEmitted?t.nextTick(dt):_e.once("end",dt),X.on("unpipe",fn);function fn(Oi,Dr){_("onunpipe"),Oi===_e&&Dr&&Dr.hasUnpiped===!1&&(Dr.hasUnpiped=!0,an())}function Dt(){_("onend"),X.end()}let kt,ni=!1;function an(){_("cleanup"),X.removeListener("close",Jt),X.removeListener("finish",ar),kt&&X.removeListener("drain",kt),X.removeListener("error",Yt),X.removeListener("unpipe",fn),_e.removeListener("end",Dt),_e.removeListener("end",zo),_e.removeListener("data",xu),ni=!0,kt&&Oe.awaitDrainWriters&&(!X._writableState||X._writableState.needDrain)&&kt()}function nn(){ni||(Oe.pipes.length===1&&Oe.pipes[0]===X?(_("false write response, pause",0),Oe.awaitDrainWriters=X,Oe.multiAwaitDrain=!1):Oe.pipes.length>1&&Oe.pipes.includes(X)&&(_("false write response, pause",Oe.awaitDrainWriters.size),Oe.awaitDrainWriters.add(X)),_e.pause()),kt||(kt=ge(_e,X),X.on("drain",kt))}_e.on("data",xu);function xu(Oi){_("ondata");const Dr=X.write(Oi);_("dest.write",Dr),Dr===!1&&nn()}function Yt(Oi){if(_("onerror",Oi),zo(),X.removeListener("error",Yt),X.listenerCount("error")===0){const Dr=X._writableState||X._readableState;Dr&&!Dr.errorEmitted?x(X,Oi):X.emit("error",Oi)}}p(X,"error",Yt);function Jt(){X.removeListener("finish",ar),zo()}X.once("close",Jt);function ar(){_("onfinish"),X.removeListener("close",Jt),zo()}X.once("finish",ar);function zo(){_("unpipe"),_e.unpipe(X)}return X.emit("pipe",_e),X.writableNeedDrain===!0?nn():Oe.flowing||(_("pipe resume"),_e.resume()),X};function ge(X,re){return function(){const Oe=X._readableState;Oe.awaitDrainWriters===re?(_("pipeOnDrain",1),Oe.awaitDrainWriters=null):Oe.multiAwaitDrain&&(_("pipeOnDrain",Oe.awaitDrainWriters.size),Oe.awaitDrainWriters.delete(re)),(!Oe.awaitDrainWriters||Oe.awaitDrainWriters.size===0)&&X.listenerCount("data")&&X.resume()}}we.prototype.unpipe=function(X){const re=this._readableState,_e={hasUnpiped:!1};if(re.pipes.length===0)return this;if(!X){const Re=re.pipes;re.pipes=[],this.pause();for(let dt=0;dt<Re.length;dt++)Re[dt].emit("unpipe",this,{hasUnpiped:!1});return this}const Oe=e(re.pipes,X);return Oe===-1?this:(re.pipes.splice(Oe,1),re.pipes.length===0&&this.pause(),X.emit("unpipe",this,_e),this)},we.prototype.on=function(X,re){const _e=g.prototype.on.call(this,X,re),Oe=this._readableState;return X==="data"?(Oe.readableListening=this.listenerCount("readable")>0,Oe.flowing!==!1&&this.resume()):X==="readable"&&!Oe.endEmitted&&!Oe.readableListening&&(Oe.readableListening=Oe.needReadable=!0,Oe.flowing=!1,Oe.emittedReadable=!1,_("on readable",Oe.length,Oe.reading),Oe.length?U(this):Oe.reading||t.nextTick(yt,this)),_e},we.prototype.addListener=we.prototype.on,we.prototype.removeListener=function(X,re){const _e=g.prototype.removeListener.call(this,X,re);return X==="readable"&&t.nextTick(je,this),_e},we.prototype.off=we.prototype.removeListener,we.prototype.removeAllListeners=function(X){const re=g.prototype.removeAllListeners.apply(this,arguments);return(X==="readable"||X===void 0)&&t.nextTick(je,this),re};function je(X){const re=X._readableState;re.readableListening=X.listenerCount("readable")>0,re.resumeScheduled&&re[I]===!1?re.flowing=!0:X.listenerCount("data")>0?X.resume():re.readableListening||(re.flowing=null)}function yt(X){_("readable nexttick read 0"),X.read(0)}we.prototype.resume=function(){const X=this._readableState;return X.flowing||(_("resume"),X.flowing=!X.readableListening,Ke(this,X)),X[I]=!1,this};function Ke(X,re){re.resumeScheduled||(re.resumeScheduled=!0,t.nextTick(at,X,re))}function at(X,re){_("resume",re.reading),re.reading||X.read(0),re.resumeScheduled=!1,X.emit("resume"),ft(X),re.flowing&&!re.reading&&X.read(0)}we.prototype.pause=function(){return _("call pause flowing=%j",this._readableState.flowing),this._readableState.flowing!==!1&&(_("pause"),this._readableState.flowing=!1,this.emit("pause")),this._readableState[I]=!0,this};function ft(X){const re=X._readableState;for(_("flow",re.flowing);re.flowing&&X.read()!==null;);}we.prototype.wrap=function(X){let re=!1;X.on("data",Oe=>{!this.push(Oe)&&X.pause&&(re=!0,X.pause())}),X.on("end",()=>{this.push(null)}),X.on("error",Oe=>{x(this,Oe)}),X.on("close",()=>{this.destroy()}),X.on("destroy",()=>{this.destroy()}),this._read=()=>{re&&X.resume&&(re=!1,X.resume())};const _e=s(X);for(let Oe=1;Oe<_e.length;Oe++){const Re=_e[Oe];this[Re]===void 0&&typeof X[Re]=="function"&&(this[Re]=X[Re].bind(X))}return this},we.prototype[d]=function(){return vt(this)},we.prototype.iterator=function(X){return X!==void 0&&v(X,"options"),vt(this,X)};function vt(X,re){typeof X.read!="function"&&(X=we.wrap(X,{objectMode:!0}));const _e=jt(X,re);return _e.stream=X,_e}async function*jt(X,re){let _e=C;function Oe(fn){this===X?(_e(),_e=C):_e=fn}X.on("readable",Oe);let Re;const dt=b(X,{writable:!1},fn=>{Re=fn?k(Re,fn):null,_e(),_e=C});try{for(;;){const fn=X.destroyed?null:X.read();if(fn!==null)yield fn;else{if(Re)throw Re;if(Re===null)return;await new c(Oe)}}}catch(fn){throw Re=k(Re,fn),Re}finally{(Re||(re==null?void 0:re.destroyOnReturn)!==!1)&&(Re===void 0||X._readableState.autoDestroy)?O.destroyer(X,null):(X.off("readable",Oe),dt())}}o(we.prototype,{readable:{__proto__:null,get(){const X=this._readableState;return!!X&&X.readable!==!1&&!X.destroyed&&!X.errorEmitted&&!X.endEmitted},set(X){this._readableState&&(this._readableState.readable=!!X)}},readableDidRead:{__proto__:null,enumerable:!1,get:function(){return this._readableState.dataEmitted}},readableAborted:{__proto__:null,enumerable:!1,get:function(){return!!(this._readableState.readable!==!1&&(this._readableState.destroyed||this._readableState.errored)&&!this._readableState.endEmitted)}},readableHighWaterMark:{__proto__:null,enumerable:!1,get:function(){return this._readableState.highWaterMark}},readableBuffer:{__proto__:null,enumerable:!1,get:function(){return this._readableState&&this._readableState.buffer}},readableFlowing:{__proto__:null,enumerable:!1,get:function(){return this._readableState.flowing},set:function(X){this._readableState&&(this._readableState.flowing=X)}},readableLength:{__proto__:null,enumerable:!1,get(){return this._readableState.length}},readableObjectMode:{__proto__:null,enumerable:!1,get(){return this._readableState?this._readableState.objectMode:!1}},readableEncoding:{__proto__:null,enumerable:!1,get(){return this._readableState?this._readableState.encoding:null}},errored:{__proto__:null,enumerable:!1,get(){return this._readableState?this._readableState.errored:null}},closed:{__proto__:null,get(){return this._readableState?this._readableState.closed:!1}},destroyed:{__proto__:null,enumerable:!1,get(){return this._readableState?this._readableState.destroyed:!1},set(X){this._readableState&&(this._readableState.destroyed=X)}},readableEnded:{__proto__:null,enumerable:!1,get(){return this._readableState?this._readableState.endEmitted:!1}}}),o(De.prototype,{pipesCount:{__proto__:null,get(){return this.pipes.length}},paused:{__proto__:null,get(){return this[I]!==!1},set(X){this[I]=!!X}}}),we._fromList=ti;function ti(X,re){if(re.length===0)return null;let _e;return re.objectMode?_e=re.buffer.shift():!X||X>=re.length?(re.decoder?_e=re.buffer.join(""):re.buffer.length===1?_e=re.buffer.first():_e=re.buffer.concat(re.length),re.buffer.clear()):_e=re.buffer.consume(X,re.decoder),_e}function Ne(X){const re=X._readableState;_("endReadable",re.endEmitted),re.endEmitted||(re.ended=!0,t.nextTick(ct,re,X))}function ct(X,re){if(_("endReadableNT",X.endEmitted,X.length),!X.errored&&!X.closeEmitted&&!X.endEmitted&&X.length===0){if(X.endEmitted=!0,re.emit("end"),re.writable&&re.allowHalfOpen===!1)t.nextTick(Tt,re);else if(X.autoDestroy){const _e=re._writableState;(!_e||_e.autoDestroy&&(_e.finished||_e.writable===!1))&&re.destroy()}}}function Tt(X){X.writable&&!X.writableEnded&&!X.destroyed&&X.end()}we.from=function(X,re){return E(we,X,re)};let ut;function it(){return ut===void 0&&(ut={}),ut}return we.fromWeb=function(X,re){return it().newStreamReadableFromReadableStream(X,re)},we.toWeb=function(X,re){return it().newReadableStreamFromStreamReadable(X,re)},we.wrap=function(X,re){var _e,Oe;return new we({objectMode:(_e=(Oe=X.readableObjectMode)!==null&&Oe!==void 0?Oe:X.objectMode)!==null&&_e!==void 0?_e:!0,...re,destroy(Re,dt){O.destroyer(X,Re),dt(Re)}}).wrap(X)},wE}var bE,Uk;function OC(){if(Uk)return bE;Uk=1;const t=hu,{ArrayPrototypeSlice:e,Error:n,FunctionPrototypeSymbolHasInstance:r,ObjectDefineProperty:i,ObjectDefineProperties:o,ObjectSetPrototypeOf:s,StringPrototypeToLowerCase:a,Symbol:c,SymbolHasInstance:l}=bn;bE=v,v.WritableState=w;const{EventEmitter:u}=vu,d=kC.Stream,{Buffer:f}=ma,h=I0,{addAbortSignal:g}=l2,{getHighWaterMark:p,getDefaultHighWaterMark:S}=u2,{ERR_INVALID_ARG_TYPE:y,ERR_METHOD_NOT_IMPLEMENTED:b,ERR_MULTIPLE_CALLBACK:_,ERR_STREAM_CANNOT_PIPE:N,ERR_STREAM_DESTROYED:O,ERR_STREAM_ALREADY_FINISHED:$,ERR_STREAM_NULL_VALUES:j,ERR_STREAM_WRITE_AFTER_END:k,ERR_UNKNOWN_ENCODING:T}=Xr.codes,{errorOrDestroy:L}=h;s(v.prototype,d.prototype),s(v,d);function P(){}const m=c("kOnFinished");function w(K,Q,ie){typeof ie!="boolean"&&(ie=Q instanceof Sc()),this.objectMode=!!(K&&K.objectMode),ie&&(this.objectMode=this.objectMode||!!(K&&K.writableObjectMode)),this.highWaterMark=K?p(this,K,"writableHighWaterMark",ie):S(!1),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;const ce=!!(K&&K.decodeStrings===!1);this.decodeStrings=!ce,this.defaultEncoding=K&&K.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=x.bind(void 0,Q),this.writecb=null,this.writelen=0,this.afterWriteTickInfo=null,A(this),this.pendingcb=0,this.constructed=!0,this.prefinished=!1,this.errorEmitted=!1,this.emitClose=!K||K.emitClose!==!1,this.autoDestroy=!K||K.autoDestroy!==!1,this.errored=null,this.closed=!1,this.closeEmitted=!1,this[m]=[]}function A(K){K.buffered=[],K.bufferedIndex=0,K.allBuffers=!0,K.allNoop=!0}w.prototype.getBuffer=function(){return e(this.buffered,this.bufferedIndex)},i(w.prototype,"bufferedRequestCount",{__proto__:null,get(){return this.buffered.length-this.bufferedIndex}});function v(K){const Q=this instanceof Sc();if(!Q&&!r(v,this))return new v(K);this._writableState=new w(K,this,Q),K&&(typeof K.write=="function"&&(this._write=K.write),typeof K.writev=="function"&&(this._writev=K.writev),typeof K.destroy=="function"&&(this._destroy=K.destroy),typeof K.final=="function"&&(this._final=K.final),typeof K.construct=="function"&&(this._construct=K.construct),K.signal&&g(K.signal,this)),d.call(this,K),h.construct(this,()=>{const ie=this._writableState;ie.writing||z(this,ie),V(this,ie)})}i(v,l,{__proto__:null,value:function(K){return r(this,K)?!0:this!==v?!1:K&&K._writableState instanceof w}}),v.prototype.pipe=function(){L(this,new N)};function I(K,Q,ie,ce){const he=K._writableState;if(typeof ie=="function")ce=ie,ie=he.defaultEncoding;else{if(!ie)ie=he.defaultEncoding;else if(ie!=="buffer"&&!f.isEncoding(ie))throw new T(ie);typeof ce!="function"&&(ce=P)}if(Q===null)throw new j;if(!he.objectMode)if(typeof Q=="string")he.decodeStrings!==!1&&(Q=f.from(Q,ie),ie="buffer");else if(Q instanceof f)ie="buffer";else if(d._isUint8Array(Q))Q=d._uint8ArrayToBuffer(Q),ie="buffer";else throw new y("chunk",["string","Buffer","Uint8Array"],Q);let pe;return he.ending?pe=new k:he.destroyed&&(pe=new O("write")),pe?(t.nextTick(ce,pe),L(K,pe,!0),pe):(he.pendingcb++,M(K,he,Q,ie,ce))}v.prototype.write=function(K,Q,ie){return I(this,K,Q,ie)===!0},v.prototype.cork=function(){this._writableState.corked++},v.prototype.uncork=function(){const K=this._writableState;K.corked&&(K.corked--,K.writing||z(this,K))},v.prototype.setDefaultEncoding=function(Q){if(typeof Q=="string"&&(Q=a(Q)),!f.isEncoding(Q))throw new T(Q);return this._writableState.defaultEncoding=Q,this};function M(K,Q,ie,ce,he){const pe=Q.objectMode?1:ie.length;Q.length+=pe;const Ee=Q.length<Q.highWaterMark;return Ee||(Q.needDrain=!0),Q.writing||Q.corked||Q.errored||!Q.constructed?(Q.buffered.push({chunk:ie,encoding:ce,callback:he}),Q.allBuffers&&ce!=="buffer"&&(Q.allBuffers=!1),Q.allNoop&&he!==P&&(Q.allNoop=!1)):(Q.writelen=pe,Q.writecb=he,Q.writing=!0,Q.sync=!0,K._write(ie,ce,Q.onwrite),Q.sync=!1),Ee&&!Q.errored&&!Q.destroyed}function E(K,Q,ie,ce,he,pe,Ee){Q.writelen=ce,Q.writecb=Ee,Q.writing=!0,Q.sync=!0,Q.destroyed?Q.onwrite(new O("write")):ie?K._writev(he,Q.onwrite):K._write(he,pe,Q.onwrite),Q.sync=!1}function C(K,Q,ie,ce){--Q.pendingcb,ce(ie),B(Q),L(K,ie)}function x(K,Q){const ie=K._writableState,ce=ie.sync,he=ie.writecb;if(typeof he!="function"){L(K,new _);return}ie.writing=!1,ie.writecb=null,ie.length-=ie.writelen,ie.writelen=0,Q?(Q.stack,ie.errored||(ie.errored=Q),K._readableState&&!K._readableState.errored&&(K._readableState.errored=Q),ce?t.nextTick(C,K,ie,Q,he):C(K,ie,Q,he)):(ie.buffered.length>ie.bufferedIndex&&z(K,ie),ce?ie.afterWriteTickInfo!==null&&ie.afterWriteTickInfo.cb===he?ie.afterWriteTickInfo.count++:(ie.afterWriteTickInfo={count:1,cb:he,stream:K,state:ie},t.nextTick(R,ie.afterWriteTickInfo)):D(K,ie,1,he))}function R({stream:K,state:Q,count:ie,cb:ce}){return Q.afterWriteTickInfo=null,D(K,Q,ie,ce)}function D(K,Q,ie,ce){for(!Q.ending&&!K.destroyed&&Q.length===0&&Q.needDrain&&(Q.needDrain=!1,K.emit("drain"));ie-- >0;)Q.pendingcb--,ce();Q.destroyed&&B(Q),V(K,Q)}function B(K){if(K.writing)return;for(let he=K.bufferedIndex;he<K.buffered.length;++he){var Q;const{chunk:pe,callback:Ee}=K.buffered[he],Le=K.objectMode?1:pe.length;K.length-=Le,Ee((Q=K.errored)!==null&&Q!==void 0?Q:new O("write"))}const ie=K[m].splice(0);for(let he=0;he<ie.length;he++){var ce;ie[he]((ce=K.errored)!==null&&ce!==void 0?ce:new O("end"))}A(K)}function z(K,Q){if(Q.corked||Q.bufferProcessing||Q.destroyed||!Q.constructed)return;const{buffered:ie,bufferedIndex:ce,objectMode:he}=Q,pe=ie.length-ce;if(!pe)return;let Ee=ce;if(Q.bufferProcessing=!0,pe>1&&K._writev){Q.pendingcb-=pe-1;const Le=Q.allNoop?P:we=>{for(let Je=Ee;Je<ie.length;++Je)ie[Je].callback(we)},De=Q.allNoop&&Ee===0?ie:e(ie,Ee);De.allBuffers=Q.allBuffers,E(K,Q,!0,Q.length,De,"",Le),A(Q)}else{do{const{chunk:Le,encoding:De,callback:we}=ie[Ee];ie[Ee++]=null;const Je=he?1:Le.length;E(K,Q,!1,Je,Le,De,we)}while(Ee<ie.length&&!Q.writing);Ee===ie.length?A(Q):Ee>256?(ie.splice(0,Ee),Q.bufferedIndex=0):Q.bufferedIndex=Ee}Q.bufferProcessing=!1}v.prototype._write=function(K,Q,ie){if(this._writev)this._writev([{chunk:K,encoding:Q}],ie);else throw new b("_write()")},v.prototype._writev=null,v.prototype.end=function(K,Q,ie){const ce=this._writableState;typeof K=="function"?(ie=K,K=null,Q=null):typeof Q=="function"&&(ie=Q,Q=null);let he;if(K!=null){const pe=I(this,K,Q);pe instanceof n&&(he=pe)}return ce.corked&&(ce.corked=1,this.uncork()),he||(!ce.errored&&!ce.ending?(ce.ending=!0,V(this,ce,!0),ce.ended=!0):ce.finished?he=new $("end"):ce.destroyed&&(he=new O("end"))),typeof ie=="function"&&(he||ce.finished?t.nextTick(ie,he):ce[m].push(ie)),this};function H(K){return K.ending&&!K.destroyed&&K.constructed&&K.length===0&&!K.errored&&K.buffered.length===0&&!K.finished&&!K.writing&&!K.errorEmitted&&!K.closeEmitted}function W(K,Q){let ie=!1;function ce(he){if(ie){L(K,he??_());return}if(ie=!0,Q.pendingcb--,he){const pe=Q[m].splice(0);for(let Ee=0;Ee<pe.length;Ee++)pe[Ee](he);L(K,he,Q.sync)}else H(Q)&&(Q.prefinished=!0,K.emit("prefinish"),Q.pendingcb++,t.nextTick(J,K,Q))}Q.sync=!0,Q.pendingcb++;try{K._final(ce)}catch(he){ce(he)}Q.sync=!1}function G(K,Q){!Q.prefinished&&!Q.finalCalled&&(typeof K._final=="function"&&!Q.destroyed?(Q.finalCalled=!0,W(K,Q)):(Q.prefinished=!0,K.emit("prefinish")))}function V(K,Q,ie){H(Q)&&(G(K,Q),Q.pendingcb===0&&(ie?(Q.pendingcb++,t.nextTick((ce,he)=>{H(he)?J(ce,he):he.pendingcb--},K,Q)):H(Q)&&(Q.pendingcb++,J(K,Q))))}function J(K,Q){Q.pendingcb--,Q.finished=!0;const ie=Q[m].splice(0);for(let ce=0;ce<ie.length;ce++)ie[ce]();if(K.emit("finish"),Q.autoDestroy){const ce=K._readableState;(!ce||ce.autoDestroy&&(ce.endEmitted||ce.readable===!1))&&K.destroy()}}o(v.prototype,{closed:{__proto__:null,get(){return this._writableState?this._writableState.closed:!1}},destroyed:{__proto__:null,get(){return this._writableState?this._writableState.destroyed:!1},set(K){this._writableState&&(this._writableState.destroyed=K)}},writable:{__proto__:null,get(){const K=this._writableState;return!!K&&K.writable!==!1&&!K.destroyed&&!K.errored&&!K.ending&&!K.ended},set(K){this._writableState&&(this._writableState.writable=!!K)}},writableFinished:{__proto__:null,get(){return this._writableState?this._writableState.finished:!1}},writableObjectMode:{__proto__:null,get(){return this._writableState?this._writableState.objectMode:!1}},writableBuffer:{__proto__:null,get(){return this._writableState&&this._writableState.getBuffer()}},writableEnded:{__proto__:null,get(){return this._writableState?this._writableState.ending:!1}},writableNeedDrain:{__proto__:null,get(){const K=this._writableState;return K?!K.destroyed&&!K.ending&&K.needDrain:!1}},writableHighWaterMark:{__proto__:null,get(){return this._writableState&&this._writableState.highWaterMark}},writableCorked:{__proto__:null,get(){return this._writableState?this._writableState.corked:0}},writableLength:{__proto__:null,get(){return this._writableState&&this._writableState.length}},errored:{__proto__:null,enumerable:!1,get(){return this._writableState?this._writableState.errored:null}},writableAborted:{__proto__:null,enumerable:!1,get:function(){return!!(this._writableState.writable!==!1&&(this._writableState.destroyed||this._writableState.errored)&&!this._writableState.finished)}}});const Y=h.destroy;v.prototype.destroy=function(K,Q){const ie=this._writableState;return!ie.destroyed&&(ie.bufferedIndex<ie.buffered.length||ie[m].length)&&t.nextTick(B,ie),Y.call(this,K,Q),this},v.prototype._undestroy=h.undestroy,v.prototype._destroy=function(K,Q){Q(K)},v.prototype[u.captureRejectionSymbol]=function(K){this.destroy(K)};let ee;function ne(){return ee===void 0&&(ee={}),ee}return v.fromWeb=function(K,Q){return ne().newStreamWritableFromWritableStream(K,Q)},v.toWeb=function(K){return ne().newWritableStreamFromStreamWritable(K)},bE}var EE,zk;function Zre(){if(zk)return EE;zk=1;const t=hu,e=ma,{isReadable:n,isWritable:r,isIterable:i,isNodeStream:o,isReadableNodeStream:s,isWritableNodeStream:a,isDuplexNodeStream:c,isReadableStream:l,isWritableStream:u}=Lc,d=wu,{AbortError:f,codes:{ERR_INVALID_ARG_TYPE:h,ERR_INVALID_RETURN_VALUE:g}}=Xr,{destroyer:p}=I0,S=Sc(),y=d2(),b=OC(),{createDeferredPromise:_}=Ai,N=OD,O=globalThis.Blob||e.Blob,$=typeof O<"u"?function(w){return w instanceof O}:function(w){return!1},j=globalThis.AbortController||Bg().AbortController,{FunctionPrototypeCall:k}=bn;class T extends S{constructor(w){super(w),(w==null?void 0:w.readable)===!1&&(this._readableState.readable=!1,this._readableState.ended=!0,this._readableState.endEmitted=!0),(w==null?void 0:w.writable)===!1&&(this._writableState.writable=!1,this._writableState.ending=!0,this._writableState.ended=!0,this._writableState.finished=!0)}}EE=function m(w,A){if(c(w))return w;if(s(w))return P({readable:w});if(a(w))return P({writable:w});if(o(w))return P({writable:!1,readable:!1});if(l(w))return P({readable:y.fromWeb(w)});if(u(w))return P({writable:b.fromWeb(w)});if(typeof w=="function"){const{value:I,write:M,final:E,destroy:C}=L(w);if(i(I))return N(T,I,{objectMode:!0,write:M,final:E,destroy:C});const x=I==null?void 0:I.then;if(typeof x=="function"){let R;const D=k(x,I,B=>{if(B!=null)throw new g("nully","body",B)},B=>{p(R,B)});return R=new T({objectMode:!0,readable:!1,write:M,final(B){E(async()=>{try{await D,t.nextTick(B,null)}catch(z){t.nextTick(B,z)}})},destroy:C})}throw new g("Iterable, AsyncIterable or AsyncFunction",A,I)}if($(w))return m(w.arrayBuffer());if(i(w))return N(T,w,{objectMode:!0,writable:!1});if(l(w==null?void 0:w.readable)&&u(w==null?void 0:w.writable))return T.fromWeb(w);if(typeof(w==null?void 0:w.writable)=="object"||typeof(w==null?void 0:w.readable)=="object"){const I=w!=null&&w.readable?s(w==null?void 0:w.readable)?w==null?void 0:w.readable:m(w.readable):void 0,M=w!=null&&w.writable?a(w==null?void 0:w.writable)?w==null?void 0:w.writable:m(w.writable):void 0;return P({readable:I,writable:M})}const v=w==null?void 0:w.then;if(typeof v=="function"){let I;return k(v,w,M=>{M!=null&&I.push(M),I.push(null)},M=>{p(I,M)}),I=new T({objectMode:!0,writable:!1,read(){}})}throw new h(A,["Blob","ReadableStream","WritableStream","Stream","Iterable","AsyncIterable","Function","{ readable, writable } pair","Promise"],w)};function L(m){let{promise:w,resolve:A}=_();const v=new j,I=v.signal;return{value:m(async function*(){for(;;){const E=w;w=null;const{chunk:C,done:x,cb:R}=await E;if(t.nextTick(R),x)return;if(I.aborted)throw new f(void 0,{cause:I.reason});({promise:w,resolve:A}=_()),yield C}}(),{signal:I}),write(E,C,x){const R=A;A=null,R({chunk:E,done:!1,cb:x})},final(E){const C=A;A=null,C({done:!0,cb:E})},destroy(E,C){v.abort(),C(E)}}}function P(m){const w=m.readable&&typeof m.readable.read!="function"?y.wrap(m.readable):m.readable,A=m.writable;let v=!!n(w),I=!!r(A),M,E,C,x,R;function D(B){const z=x;x=null,z?z(B):B&&R.destroy(B)}return R=new T({readableObjectMode:!!(w!=null&&w.readableObjectMode),writableObjectMode:!!(A!=null&&A.writableObjectMode),readable:v,writable:I}),I&&(d(A,B=>{I=!1,B&&p(w,B),D(B)}),R._write=function(B,z,H){A.write(B,z)?H():M=H},R._final=function(B){A.end(),E=B},A.on("drain",function(){if(M){const B=M;M=null,B()}}),A.on("finish",function(){if(E){const B=E;E=null,B()}})),v&&(d(w,B=>{v=!1,B&&p(w,B),D(B)}),w.on("readable",function(){if(C){const B=C;C=null,B()}}),w.on("end",function(){R.push(null)}),R._read=function(){for(;;){const B=w.read();if(B===null){C=R._read;return}if(!R.push(B))return}}),R._destroy=function(B,z){!B&&x!==null&&(B=new f),C=null,M=null,E=null,x===null?z(B):(x=z,p(A,B),p(w,B))},R}return EE}var xE,Hk;function Sc(){if(Hk)return xE;Hk=1;const{ObjectDefineProperties:t,ObjectGetOwnPropertyDescriptor:e,ObjectKeys:n,ObjectSetPrototypeOf:r}=bn;xE=s;const i=d2(),o=OC();r(s.prototype,i.prototype),r(s,i);{const u=n(o.prototype);for(let d=0;d<u.length;d++){const f=u[d];s.prototype[f]||(s.prototype[f]=o.prototype[f])}}function s(u){if(!(this instanceof s))return new s(u);i.call(this,u),o.call(this,u),u?(this.allowHalfOpen=u.allowHalfOpen!==!1,u.readable===!1&&(this._readableState.readable=!1,this._readableState.ended=!0,this._readableState.endEmitted=!0),u.writable===!1&&(this._writableState.writable=!1,this._writableState.ending=!0,this._writableState.ended=!0,this._writableState.finished=!0)):this.allowHalfOpen=!0}t(s.prototype,{writable:{__proto__:null,...e(o.prototype,"writable")},writableHighWaterMark:{__proto__:null,...e(o.prototype,"writableHighWaterMark")},writableObjectMode:{__proto__:null,...e(o.prototype,"writableObjectMode")},writableBuffer:{__proto__:null,...e(o.prototype,"writableBuffer")},writableLength:{__proto__:null,...e(o.prototype,"writableLength")},writableFinished:{__proto__:null,...e(o.prototype,"writableFinished")},writableCorked:{__proto__:null,...e(o.prototype,"writableCorked")},writableEnded:{__proto__:null,...e(o.prototype,"writableEnded")},writableNeedDrain:{__proto__:null,...e(o.prototype,"writableNeedDrain")},destroyed:{__proto__:null,get(){return this._readableState===void 0||this._writableState===void 0?!1:this._readableState.destroyed&&this._writableState.destroyed},set(u){this._readableState&&this._writableState&&(this._readableState.destroyed=u,this._writableState.destroyed=u)}}});let a;function c(){return a===void 0&&(a={}),a}s.fromWeb=function(u,d){return c().newStreamDuplexFromReadableWritablePair(u,d)},s.toWeb=function(u){return c().newReadableWritablePairFromDuplex(u)};let l;return s.from=function(u){return l||(l=Zre()),l(u,"body")},xE}const{ObjectSetPrototypeOf:TD,Symbol:Qre}=bn;var MD=_c;const{ERR_METHOD_NOT_IMPLEMENTED:Xre}=Xr.codes,TC=Sc(),{getHighWaterMark:eie}=u2;TD(_c.prototype,TC.prototype);TD(_c,TC);const eg=Qre("kCallback");function _c(t){if(!(this instanceof _c))return new _c(t);const e=t?eie(this,t,"readableHighWaterMark",!0):null;e===0&&(t={...t,highWaterMark:null,readableHighWaterMark:e,writableHighWaterMark:t.writableHighWaterMark||0}),TC.call(this,t),this._readableState.sync=!1,this[eg]=null,t&&(typeof t.transform=="function"&&(this._transform=t.transform),typeof t.flush=="function"&&(this._flush=t.flush)),this.on("prefinish",tie)}function Bx(t){typeof this._flush=="function"&&!this.destroyed?this._flush((e,n)=>{if(e){t?t(e):this.destroy(e);return}n!=null&&this.push(n),this.push(null),t&&t()}):(this.push(null),t&&t())}function tie(){this._final!==Bx&&Bx.call(this)}_c.prototype._final=Bx;_c.prototype._transform=function(t,e,n){throw new Xre("_transform()")};_c.prototype._write=function(t,e,n){const r=this._readableState,i=this._writableState,o=r.length;this._transform(t,e,(s,a)=>{if(s){n(s);return}a!=null&&this.push(a),i.ended||o===r.length||r.length<r.highWaterMark?n():this[eg]=n})};_c.prototype._read=function(){if(this[eg]){const t=this[eg];this[eg]=null,t()}};const{ObjectSetPrototypeOf:ND}=bn;var RD=Zh;const MC=MD;ND(Zh.prototype,MC.prototype);ND(Zh,MC);function Zh(t){if(!(this instanceof Zh))return new Zh(t);MC.call(this,t)}Zh.prototype._transform=function(t,e,n){n(null,t)};const Lp=hu,{ArrayIsArray:nie,Promise:rie,SymbolAsyncIterator:iie,SymbolDispose:oie}=bn,bw=wu,{once:sie}=Ai,aie=I0,Wk=Sc(),{aggregateTwoErrors:cie,codes:{ERR_INVALID_ARG_TYPE:Dx,ERR_INVALID_RETURN_VALUE:SE,ERR_MISSING_ARGS:lie,ERR_STREAM_DESTROYED:uie,ERR_STREAM_PREMATURE_CLOSE:die},AbortError:fie}=Xr,{validateFunction:hie,validateAbortSignal:pie}=Um,{isIterable:Ru,isReadable:_E,isReadableNodeStream:hv,isNodeStream:Kk,isTransformStream:kf,isWebStream:gie,isReadableStream:CE,isReadableFinished:mie}=Lc,yie=globalThis.AbortController||Bg().AbortController;let AE,IE,kE;function qk(t,e,n){let r=!1;t.on("close",()=>{r=!0});const i=bw(t,{readable:e,writable:n},o=>{r=!o});return{destroy:o=>{r||(r=!0,aie.destroyer(t,o||new uie("pipe")))},cleanup:i}}function vie(t){return hie(t[t.length-1],"streams[stream.length - 1]"),t.pop()}function PE(t){if(Ru(t))return t;if(hv(t))return wie(t);throw new Dx("val",["Readable","Iterable","AsyncIterable"],t)}async function*wie(t){IE||(IE=d2()),yield*IE.prototype[iie].call(t)}async function Zy(t,e,n,{end:r}){let i,o=null;const s=l=>{if(l&&(i=l),o){const u=o;o=null,u()}},a=()=>new rie((l,u)=>{i?u(i):o=()=>{i?u(i):l()}});e.on("drain",s);const c=bw(e,{readable:!1},s);try{e.writableNeedDrain&&await a();for await(const l of t)e.write(l)||await a();r&&(e.end(),await a()),n()}catch(l){n(i!==l?cie(i,l):l)}finally{c(),e.off("drain",s)}}async function OE(t,e,n,{end:r}){kf(e)&&(e=e.writable);const i=e.getWriter();try{for await(const o of t)await i.ready,i.write(o).catch(()=>{});await i.ready,r&&await i.close(),n()}catch(o){try{await i.abort(o),n(o)}catch(s){n(s)}}}function bie(...t){return LD(t,sie(vie(t)))}function LD(t,e,n){if(t.length===1&&nie(t[0])&&(t=t[0]),t.length<2)throw new lie("streams");const r=new yie,i=r.signal,o=n==null?void 0:n.signal,s=[];pie(o,"options.signal");function a(){g(new fie)}kE=kE||Ai.addAbortListener;let c;o&&(c=kE(o,a));let l,u;const d=[];let f=0;function h(b){g(b,--f===0)}function g(b,_){var N;if(b&&(!l||l.code==="ERR_STREAM_PREMATURE_CLOSE")&&(l=b),!(!l&&!_)){for(;d.length;)d.shift()(l);(N=c)===null||N===void 0||N[oie](),r.abort(),_&&(l||s.forEach(O=>O()),Lp.nextTick(e,l,u))}}let p;for(let b=0;b<t.length;b++){const _=t[b],N=b<t.length-1,O=b>0,$=N||(n==null?void 0:n.end)!==!1,j=b===t.length-1;if(Kk(_)){let k=function(T){T&&T.name!=="AbortError"&&T.code!=="ERR_STREAM_PREMATURE_CLOSE"&&h(T)};if($){const{destroy:T,cleanup:L}=qk(_,N,O);d.push(T),_E(_)&&j&&s.push(L)}_.on("error",k),_E(_)&&j&&s.push(()=>{_.removeListener("error",k)})}if(b===0)if(typeof _=="function"){if(p=_({signal:i}),!Ru(p))throw new SE("Iterable, AsyncIterable or Stream","source",p)}else Ru(_)||hv(_)||kf(_)?p=_:p=Wk.from(_);else if(typeof _=="function"){if(kf(p)){var S;p=PE((S=p)===null||S===void 0?void 0:S.readable)}else p=PE(p);if(p=_(p,{signal:i}),N){if(!Ru(p,!0))throw new SE("AsyncIterable",`transform[${b-1}]`,p)}else{var y;AE||(AE=RD);const k=new AE({objectMode:!0}),T=(y=p)===null||y===void 0?void 0:y.then;if(typeof T=="function")f++,T.call(p,m=>{u=m,m!=null&&k.write(m),$&&k.end(),Lp.nextTick(h)},m=>{k.destroy(m),Lp.nextTick(h,m)});else if(Ru(p,!0))f++,Zy(p,k,h,{end:$});else if(CE(p)||kf(p)){const m=p.readable||p;f++,Zy(m,k,h,{end:$})}else throw new SE("AsyncIterable or Promise","destination",p);p=k;const{destroy:L,cleanup:P}=qk(p,!1,!0);d.push(L),j&&s.push(P)}}else if(Kk(_)){if(hv(p)){f+=2;const k=Eie(p,_,h,{end:$});_E(_)&&j&&s.push(k)}else if(kf(p)||CE(p)){const k=p.readable||p;f++,Zy(k,_,h,{end:$})}else if(Ru(p))f++,Zy(p,_,h,{end:$});else throw new Dx("val",["Readable","Iterable","AsyncIterable","ReadableStream","TransformStream"],p);p=_}else if(gie(_)){if(hv(p))f++,OE(PE(p),_,h,{end:$});else if(CE(p)||Ru(p))f++,OE(p,_,h,{end:$});else if(kf(p))f++,OE(p.readable,_,h,{end:$});else throw new Dx("val",["Readable","Iterable","AsyncIterable","ReadableStream","TransformStream"],p);p=_}else p=Wk.from(_)}return(i!=null&&i.aborted||o!=null&&o.aborted)&&Lp.nextTick(a),p}function Eie(t,e,n,{end:r}){let i=!1;if(e.on("close",()=>{i||n(new die)}),t.pipe(e,{end:!1}),r){let o=function(){i=!0,e.end()};mie(t)?Lp.nextTick(o):t.once("end",o)}else n();return bw(t,{readable:!0,writable:!1},o=>{const s=t._readableState;o&&o.code==="ERR_STREAM_PREMATURE_CLOSE"&&s&&s.ended&&!s.errored&&!s.errorEmitted?t.once("end",n).once("error",n):n(o)}),bw(e,{readable:!1,writable:!0},n)}var NC={pipelineImpl:LD,pipeline:bie};const{pipeline:xie}=NC,Qy=Sc(),{destroyer:Sie}=I0,{isNodeStream:Xy,isReadable:Vk,isWritable:Gk,isWebStream:TE,isTransformStream:Au,isWritableStream:Yk,isReadableStream:Jk}=Lc,{AbortError:_ie,codes:{ERR_INVALID_ARG_VALUE:Zk,ERR_MISSING_ARGS:Cie}}=Xr,Aie=wu;var $D=function(...e){if(e.length===0)throw new Cie("streams");if(e.length===1)return Qy.from(e[0]);const n=[...e];if(typeof e[0]=="function"&&(e[0]=Qy.from(e[0])),typeof e[e.length-1]=="function"){const h=e.length-1;e[h]=Qy.from(e[h])}for(let h=0;h<e.length;++h)if(!(!Xy(e[h])&&!TE(e[h]))){if(h<e.length-1&&!(Vk(e[h])||Jk(e[h])||Au(e[h])))throw new Zk(`streams[${h}]`,n[h],"must be readable");if(h>0&&!(Gk(e[h])||Yk(e[h])||Au(e[h])))throw new Zk(`streams[${h}]`,n[h],"must be writable")}let r,i,o,s,a;function c(h){const g=s;s=null,g?g(h):h?a.destroy(h):!f&&!d&&a.destroy()}const l=e[0],u=xie(e,c),d=!!(Gk(l)||Yk(l)||Au(l)),f=!!(Vk(u)||Jk(u)||Au(u));if(a=new Qy({writableObjectMode:!!(l!=null&&l.writableObjectMode),readableObjectMode:!!(u!=null&&u.readableObjectMode),writable:d,readable:f}),d){if(Xy(l))a._write=function(g,p,S){l.write(g,p)?S():r=S},a._final=function(g){l.end(),i=g},l.on("drain",function(){if(r){const g=r;r=null,g()}});else if(TE(l)){const p=(Au(l)?l.writable:l).getWriter();a._write=async function(S,y,b){try{await p.ready,p.write(S).catch(()=>{}),b()}catch(_){b(_)}},a._final=async function(S){try{await p.ready,p.close().catch(()=>{}),i=S}catch(y){S(y)}}}const h=Au(u)?u.readable:u;Aie(h,()=>{if(i){const g=i;i=null,g()}})}if(f){if(Xy(u))u.on("readable",function(){if(o){const h=o;o=null,h()}}),u.on("end",function(){a.push(null)}),a._read=function(){for(;;){const h=u.read();if(h===null){o=a._read;return}if(!a.push(h))return}};else if(TE(u)){const g=(Au(u)?u.readable:u).getReader();a._read=async function(){for(;;)try{const{value:p,done:S}=await g.read();if(!a.push(p))return;if(S){a.push(null);return}}catch{return}}}}return a._destroy=function(h,g){!h&&s!==null&&(h=new _ie),o=null,r=null,i=null,s===null?g(h):(s=g,Xy(u)&&Sie(u,h))},a};const Iie=globalThis.AbortController||Bg().AbortController,{codes:{ERR_INVALID_ARG_VALUE:kie,ERR_INVALID_ARG_TYPE:Hm,ERR_MISSING_ARGS:Pie,ERR_OUT_OF_RANGE:Oie},AbortError:fa}=Xr,{validateAbortSignal:Vd,validateInteger:Qk,validateObject:Gd}=Um,Tie=bn.Symbol("kWeak"),Mie=bn.Symbol("kResistStopPropagation"),{finished:Nie}=wu,Rie=$D,{addAbortSignalNoValidate:Lie}=l2,{isWritable:$ie,isNodeStream:Bie}=Lc,{deprecate:Die}=Ai,{ArrayPrototypePush:jie,Boolean:Fie,MathFloor:Xk,Number:Uie,NumberIsNaN:zie,Promise:eP,PromiseReject:tP,PromiseResolve:Hie,PromisePrototypeThen:nP,Symbol:BD}=bn,Ew=BD("kEmpty"),rP=BD("kEof");function Wie(t,e){if(e!=null&&Gd(e,"options"),(e==null?void 0:e.signal)!=null&&Vd(e.signal,"options.signal"),Bie(t)&&!$ie(t))throw new kie("stream",t,"must be writable");const n=Rie(this,t);return e!=null&&e.signal&&Lie(e.signal,n),n}function f2(t,e){if(typeof t!="function")throw new Hm("fn",["Function","AsyncFunction"],t);e!=null&&Gd(e,"options"),(e==null?void 0:e.signal)!=null&&Vd(e.signal,"options.signal");let n=1;(e==null?void 0:e.concurrency)!=null&&(n=Xk(e.concurrency));let r=n-1;return(e==null?void 0:e.highWaterMark)!=null&&(r=Xk(e.highWaterMark)),Qk(n,"options.concurrency",1),Qk(r,"options.highWaterMark",0),r+=n,(async function*(){const o=Ai.AbortSignalAny([e==null?void 0:e.signal].filter(Fie)),s=this,a=[],c={signal:o};let l,u,d=!1,f=0;function h(){d=!0,g()}function g(){f-=1,p()}function p(){u&&!d&&f<n&&a.length<r&&(u(),u=null)}async function S(){try{for await(let y of s){if(d)return;if(o.aborted)throw new fa;try{if(y=t(y,c),y===Ew)continue;y=Hie(y)}catch(b){y=tP(b)}f+=1,nP(y,g,h),a.push(y),l&&(l(),l=null),!d&&(a.length>=r||f>=n)&&await new eP(b=>{u=b})}a.push(rP)}catch(y){const b=tP(y);nP(b,g,h),a.push(b)}finally{d=!0,l&&(l(),l=null)}}S();try{for(;;){for(;a.length>0;){const y=await a[0];if(y===rP)return;if(o.aborted)throw new fa;y!==Ew&&(yield y),a.shift(),p()}await new eP(y=>{l=y})}}finally{d=!0,u&&(u(),u=null)}}).call(this)}function Kie(t=void 0){return t!=null&&Gd(t,"options"),(t==null?void 0:t.signal)!=null&&Vd(t.signal,"options.signal"),(async function*(){let n=0;for await(const i of this){var r;if(t!=null&&(r=t.signal)!==null&&r!==void 0&&r.aborted)throw new fa({cause:t.signal.reason});yield[n++,i]}}).call(this)}async function DD(t,e=void 0){for await(const n of RC.call(this,t,e))return!0;return!1}async function qie(t,e=void 0){if(typeof t!="function")throw new Hm("fn",["Function","AsyncFunction"],t);return!await DD.call(this,async(...n)=>!await t(...n),e)}async function Vie(t,e){for await(const n of RC.call(this,t,e))return n}async function Gie(t,e){if(typeof t!="function")throw new Hm("fn",["Function","AsyncFunction"],t);async function n(r,i){return await t(r,i),Ew}for await(const r of f2.call(this,n,e));}function RC(t,e){if(typeof t!="function")throw new Hm("fn",["Function","AsyncFunction"],t);async function n(r,i){return await t(r,i)?r:Ew}return f2.call(this,n,e)}class Yie extends Pie{constructor(){super("reduce"),this.message="Reduce of an empty stream requires an initial value"}}async function Jie(t,e,n){var r;if(typeof t!="function")throw new Hm("reducer",["Function","AsyncFunction"],t);n!=null&&Gd(n,"options"),(n==null?void 0:n.signal)!=null&&Vd(n.signal,"options.signal");let i=arguments.length>1;if(n!=null&&(r=n.signal)!==null&&r!==void 0&&r.aborted){const l=new fa(void 0,{cause:n.signal.reason});throw this.once("error",()=>{}),await Nie(this.destroy(l)),l}const o=new Iie,s=o.signal;if(n!=null&&n.signal){const l={once:!0,[Tie]:this,[Mie]:!0};n.signal.addEventListener("abort",()=>o.abort(),l)}let a=!1;try{for await(const l of this){var c;if(a=!0,n!=null&&(c=n.signal)!==null&&c!==void 0&&c.aborted)throw new fa;i?e=await t(e,l,{signal:s}):(e=l,i=!0)}if(!a&&!i)throw new Yie}finally{o.abort()}return e}async function Zie(t){t!=null&&Gd(t,"options"),(t==null?void 0:t.signal)!=null&&Vd(t.signal,"options.signal");const e=[];for await(const r of this){var n;if(t!=null&&(n=t.signal)!==null&&n!==void 0&&n.aborted)throw new fa(void 0,{cause:t.signal.reason});jie(e,r)}return e}function Qie(t,e){const n=f2.call(this,t,e);return(async function*(){for await(const i of n)yield*i}).call(this)}function jD(t){if(t=Uie(t),zie(t))return 0;if(t<0)throw new Oie("number",">= 0",t);return t}function Xie(t,e=void 0){return e!=null&&Gd(e,"options"),(e==null?void 0:e.signal)!=null&&Vd(e.signal,"options.signal"),t=jD(t),(async function*(){var r;if(e!=null&&(r=e.signal)!==null&&r!==void 0&&r.aborted)throw new fa;for await(const o of this){var i;if(e!=null&&(i=e.signal)!==null&&i!==void 0&&i.aborted)throw new fa;t--<=0&&(yield o)}}).call(this)}function eoe(t,e=void 0){return e!=null&&Gd(e,"options"),(e==null?void 0:e.signal)!=null&&Vd(e.signal,"options.signal"),t=jD(t),(async function*(){var r;if(e!=null&&(r=e.signal)!==null&&r!==void 0&&r.aborted)throw new fa;for await(const o of this){var i;if(e!=null&&(i=e.signal)!==null&&i!==void 0&&i.aborted)throw new fa;if(t-- >0&&(yield o),t<=0)return}}).call(this)}_C.streamReturningOperators={asIndexedPairs:Die(Kie,"readable.asIndexedPairs will be removed in a future version."),drop:Xie,filter:RC,flatMap:Qie,map:f2,take:eoe,compose:Wie};_C.promiseReturningOperators={every:qie,forEach:Gie,reduce:Jie,toArray:Zie,some:DD,find:Vie};var ME,iP;function FD(){if(iP)return ME;iP=1;const{ArrayPrototypePop:t,Promise:e}=bn,{isIterable:n,isNodeStream:r,isWebStream:i}=Lc,{pipelineImpl:o}=NC,{finished:s}=wu;UD();function a(...c){return new e((l,u)=>{let d,f;const h=c[c.length-1];if(h&&typeof h=="object"&&!r(h)&&!n(h)&&!i(h)){const g=t(c);d=g.signal,f=g.end}o(c,(g,p)=>{g?u(g):l(p)},{signal:d,end:f})})}return ME={finished:s,pipeline:a},ME}var oP;function UD(){if(oP)return pE.exports;oP=1;const{Buffer:t}=ma,{ObjectDefineProperty:e,ObjectKeys:n,ReflectApply:r}=bn,{promisify:{custom:i}}=Ai,{streamReturningOperators:o,promiseReturningOperators:s}=_C,{codes:{ERR_ILLEGAL_CONSTRUCTOR:a}}=Xr,c=$D,{setDefaultHighWaterMark:l,getDefaultHighWaterMark:u}=u2,{pipeline:d}=NC,{destroyer:f}=I0,h=wu,g=FD(),p=Lc,S=pE.exports=kC.Stream;S.isDestroyed=p.isDestroyed,S.isDisturbed=p.isDisturbed,S.isErrored=p.isErrored,S.isReadable=p.isReadable,S.isWritable=p.isWritable,S.Readable=d2();for(const b of n(o)){let N=function(...O){if(new.target)throw a();return S.Readable.from(r(_,this,O))};const _=o[b];e(N,"name",{__proto__:null,value:_.name}),e(N,"length",{__proto__:null,value:_.length}),e(S.Readable.prototype,b,{__proto__:null,value:N,enumerable:!1,configurable:!0,writable:!0})}for(const b of n(s)){let N=function(...O){if(new.target)throw a();return r(_,this,O)};const _=s[b];e(N,"name",{__proto__:null,value:_.name}),e(N,"length",{__proto__:null,value:_.length}),e(S.Readable.prototype,b,{__proto__:null,value:N,enumerable:!1,configurable:!0,writable:!0})}S.Writable=OC(),S.Duplex=Sc(),S.Transform=MD,S.PassThrough=RD,S.pipeline=d;const{addAbortSignal:y}=l2;return S.addAbortSignal=y,S.finished=h,S.destroy=f,S.compose=c,S.setDefaultHighWaterMark=l,S.getDefaultHighWaterMark=u,e(S,"promises",{__proto__:null,configurable:!0,enumerable:!0,get(){return g}}),e(d,i,{__proto__:null,enumerable:!0,get(){return g.pipeline}}),e(h,i,{__proto__:null,enumerable:!0,get(){return g.finished}}),S.Stream=S,S._isUint8Array=function(_){return _ instanceof Uint8Array},S._uint8ArrayToBuffer=function(_){return t.from(_.buffer,_.byteOffset,_.byteLength)},pE.exports}(function(t){const e=UD(),n=FD(),r=e.Readable.destroy;t.exports=e.Readable,t.exports._uint8ArrayToBuffer=e._uint8ArrayToBuffer,t.exports._isUint8Array=e._isUint8Array,t.exports.isDisturbed=e.isDisturbed,t.exports.isErrored=e.isErrored,t.exports.isReadable=e.isReadable,t.exports.Readable=e.Readable,t.exports.Writable=e.Writable,t.exports.Duplex=e.Duplex,t.exports.Transform=e.Transform,t.exports.PassThrough=e.PassThrough,t.exports.addAbortSignal=e.addAbortSignal,t.exports.finished=e.finished,t.exports.destroy=e.destroy,t.exports.destroy=r,t.exports.pipeline=e.pipeline,t.exports.compose=e.compose,Object.defineProperty(e,"promises",{configurable:!0,enumerable:!0,get(){return n}}),t.exports.Stream=e.Stream,t.exports.default=t.exports})(rD);var toe=rD.exports;function sP(t,e,n){try{Reflect.apply(t,e,n)}catch(r){setTimeout(()=>{throw r})}}function noe(t){const e=t.length,n=new Array(e);for(let r=0;r<e;r+=1)n[r]=t[r];return n}class bu extends vu.EventEmitter{emit(e,...n){let r=e==="error";const i=this._events;if(i!==void 0)r=r&&i.error===void 0;else if(!r)return!1;if(r){let s;if(n.length>0&&([s]=n),s instanceof Error)throw s;const a=new Error(`Unhandled error.${s?` (${s.message})`:""}`);throw a.context=s,a}const o=i[e];if(o===void 0)return!1;if(typeof o=="function")sP(o,this,n);else{const s=o.length,a=noe(o);for(let c=0;c<s;c+=1)sP(a[c],this,n)}return!0}}class mp extends Error{constructor({code:e,message:n,data:r}){if(!Number.isInteger(e))throw new Error("code must be an integer");if(!n||typeof n!="string")throw new Error("message must be string");super(n),ue(this,"code",void 0),ue(this,"data",void 0),this.code=e,r!==void 0&&(this.data=r)}toString(){return OB({code:this.code,message:this.message,data:this.data,stack:this.stack})}}const hr={rpc:{invalidInput:-32e3,resourceNotFound:-32001,resourceUnavailable:-32002,transactionRejected:-32003,methodNotSupported:-32004,limitExceeded:-32005,parse:-32700,invalidRequest:-32600,methodNotFound:-32601,invalidParams:-32602,internal:-32603},provider:{userRejectedRequest:4001,unauthorized:4100,unsupportedMethod:4200,disconnected:4900,chainDisconnected:4901}},aP={"-32700":{standard:"JSON RPC 2.0",message:"Invalid JSON was received by the server. An error occurred on the server while parsing the JSON text."},"-32600":{standard:"JSON RPC 2.0",message:"The JSON sent is not a valid Request object."},"-32601":{standard:"JSON RPC 2.0",message:"The method does not exist / is not available."},"-32602":{standard:"JSON RPC 2.0",message:"Invalid method parameter(s)."},"-32603":{standard:"JSON RPC 2.0",message:"Internal JSON-RPC error."},"-32000":{standard:"EIP-1474",message:"Invalid input."},"-32001":{standard:"EIP-1474",message:"Resource not found."},"-32002":{standard:"EIP-1474",message:"Resource unavailable."},"-32003":{standard:"EIP-1474",message:"Transaction rejected."},"-32004":{standard:"EIP-1474",message:"Method not supported."},"-32005":{standard:"EIP-1474",message:"Request limit exceeded."},4001:{standard:"EIP-1193",message:"User rejected the request."},4100:{standard:"EIP-1193",message:"The requested account and/or method has not been authorized by the user."},4200:{standard:"EIP-1193",message:"The requested method is not supported by this Ethereum provider."},4900:{standard:"EIP-1193",message:"The provider is disconnected from all chains."},4901:{standard:"EIP-1193",message:"The provider is disconnected from the specified chain."}};var zD=function(t,e){if(typeof t>"u"||t===null)throw new TypeError("Cannot convert undefined or null to object");return Object.prototype.hasOwnProperty.call(Object(t),e)};const cP=hr.rpc.internal,roe="Unspecified error message. This is a bug, please report it.",ioe="Unspecified server error.";function HD(t){return Number.isInteger(t)}function lP(t){return typeof t=="string"&&t.length>0}function xw(t){return!!t&&typeof t=="object"&&!Array.isArray(t)}function ooe(t){if(typeof t!="object"||t===null)return!1;try{let e=t;for(;Object.getPrototypeOf(e)!==null;)e=Object.getPrototypeOf(e);return Object.getPrototypeOf(t)===e}catch{return!1}}function soe(t){return t>=-32099&&t<=-32e3}function WD(t){const e=t;return!(!e||!HD(e.code)||!lP(e.message)||e.stack&&!lP(e.stack))}function h2(t,e=roe){if(HD(t)){const n=t.toString();if(zD(aP,n))return aP[n].message;if(soe(t))return ioe}return e}const aoe={code:cP,message:h2(cP)};function jx(t){try{JSON.parse(JSON.stringify(t,(e,n)=>{if(e==="__proto__"||e==="constructor")throw new Error("Not valid json");if(typeof n=="function"||typeof n=="symbol")throw new Error("Not valid json");return n}),(e,n)=>{if(!(e==="__proto__"||e==="constructor"))return n})}catch{return!1}return!0}function uP(t){return Object.getOwnPropertyNames(t).reduce((e,n)=>{const r=t[n];return jx(r)&&(e[n]=r),e},{})}function KD(t){return Array.isArray(t)?t.map(e=>jx(e)?e:xw(e)?uP(e):null):xw(t)?uP(t):jx(t)?t:null}function coe(t,e){if(t&&typeof t=="object"&&"serialize"in t&&typeof t.serialize=="function")return t.serialize();if(WD(t))return t;const n=KD(t);return ae(ae({},e),{},{data:{cause:n}})}function Fx(t,{fallbackError:e=aoe,shouldIncludeStack:n=!0}={}){if(!WD(e))throw new Error("Must provide fallback error with integer number code and string message.");const r=coe(t,e);return n||delete r.stack,r}function loe(t){return xw(t)&&zD(t,"cause")&&xw(t.cause)}var uoe=function(t,e){if(typeof t>"u"||t===null)throw new TypeError("Cannot convert undefined or null to object");return Object.prototype.hasOwnProperty.call(Object(t),e)};function doe(t){return Number.isInteger(t)&&t>=1e3&&t<=4999}function foe(t,e){if(e!=="[Circular]")return e}class qD extends Error{constructor(e,n,r){if(!Number.isInteger(e))throw new Error('"code" must be an integer.');if(!n||typeof n!="string")throw new Error('"message" must be a non-empty string.');loe(r)?(super(n,{cause:r.cause}),ue(this,"cause",void 0),ue(this,"code",void 0),ue(this,"data",void 0),uoe(this,"cause")||Object.assign(this,{cause:r.cause})):(super(n),ue(this,"cause",void 0),ue(this,"code",void 0),ue(this,"data",void 0)),r!==void 0&&(this.data=r),this.code=e,this.cause=r==null?void 0:r.cause}serialize(){const e={code:this.code,message:this.message};return this.data!==void 0&&(e.data=this.data,ooe(this.data)&&(e.data.cause=KD(this.data.cause))),this.stack&&(e.stack=this.stack),e}toString(){return OB(this.serialize(),{replacer:foe,space:2})}}class VD extends qD{constructor(e,n,r){if(!doe(e))throw new Error('"code" must be an integer such that: 1000 <= code <= 4999');super(e,n,r)}}function GD(t){if(t){if(typeof t=="string")return[t];if(typeof t=="object"&&!Array.isArray(t)){const{message:e,data:n}=t;if(e&&typeof e!="string")throw new Error("Must specify string message.");return[e??void 0,n]}}return[]}function ro(t,e){const[n,r]=GD(e);return new qD(t,n??h2(t),r)}function yp(t,e){const[n,r]=GD(e);return new VD(t,n??h2(t),r)}const lc={parse:t=>ro(hr.rpc.parse,t),invalidRequest:t=>ro(hr.rpc.invalidRequest,t),invalidParams:t=>ro(hr.rpc.invalidParams,t),methodNotFound:t=>ro(hr.rpc.methodNotFound,t),internal:t=>ro(hr.rpc.internal,t),server:t=>{if(!t||typeof t!="object"||Array.isArray(t))throw new Error("Ethereum RPC Server errors must provide single object argument.");const{code:e}=t;if(!Number.isInteger(e)||e>-32005||e<-32099)throw new Error('"code" must be an integer such that: -32099 <= code <= -32005');return ro(e,t)},invalidInput:t=>ro(hr.rpc.invalidInput,t),resourceNotFound:t=>ro(hr.rpc.resourceNotFound,t),resourceUnavailable:t=>ro(hr.rpc.resourceUnavailable,t),transactionRejected:t=>ro(hr.rpc.transactionRejected,t),methodNotSupported:t=>ro(hr.rpc.methodNotSupported,t),limitExceeded:t=>ro(hr.rpc.limitExceeded,t)},dP={userRejectedRequest:t=>yp(hr.provider.userRejectedRequest,t),unauthorized:t=>yp(hr.provider.unauthorized,t),unsupportedMethod:t=>yp(hr.provider.unsupportedMethod,t),disconnected:t=>yp(hr.provider.disconnected,t),chainDisconnected:t=>yp(hr.provider.chainDisconnected,t),custom:t=>{if(!t||typeof t!="object"||Array.isArray(t))throw new Error("Ethereum Provider custom errors must provide single object argument.");const{code:e,message:n,data:r}=t;if(!n||typeof n!="string")throw new Error('"message" must be a nonempty string');return new VD(e,n,r)}},X5e=(t,e,n=!0)=>(r,i)=>{r||i.error?e(r||i.error):!n||Array.isArray(i)?t(i):t(i.result)};function exe(){const t={};function e(){return!1}const n=new bu;function r(c){const l=t[c.id];if(!l)throw new Error(`StreamMiddleware - Unknown response id "${c.id}"`);delete t[c.id],Object.assign(l.res,c),setTimeout(l.end)}function i(c){n.emit("notification",c)}function o(c,l,u){let d;try{!c.id?i(c):r(c)}catch(f){d=f}u(d)}const s=new toe.Duplex({objectMode:!0,read:e,write:o});return{events:n,middleware:(c,l,u,d)=>{s.push(c),t[c.id]={req:c,res:l,next:u,end:d}},stream:s}}function txe(t){return(e,n,r,i)=>{const o=t[e.method];return o===void 0?r():typeof o=="function"?o(e,n,r,i):(n.result=o,i())}}function nxe(){return(t,e,n,r)=>{const i=t.id,o=Math.random().toString(36).slice(2);t.id=o,e.id=o,n(s=>{t.id=i,e.id=i,s()})}}function hoe(t){return async(e,n,r,i)=>{let o;const s=new Promise(u=>{o=u});let a=null,c=!1;const l=async()=>{c=!0,r(u=>{a=u,o()}),await s};try{await t(e,n,l),c?(await s,a(null)):i(null)}catch(u){const d=u;a?a(d):i(d)}}}function Ux(t){const{message:e="",code:n=-32603,stack:r="Stack trace is not available.",data:i=""}=t,o=parseInt((n==null?void 0:n.toString())||"-32603");return{message:e||(t==null?void 0:t.toString())||h2(o),code:o,stack:r,data:i||e||(t==null?void 0:t.toString())}}class $s extends bu{constructor(){super(),ue(this,"_middleware",void 0),this._middleware=[]}static async _runAllMiddleware(e,n,r){const i=[];let o=null,s=!1;for(const a of r)if([o,s]=await $s._runMiddleware(e,n,a,i),s)break;return[o,s,i.reverse()]}static _runMiddleware(e,n,r,i){return new Promise(o=>{const s=c=>{const l=c||n.error;l&&(typeof l=="object"&&Object.keys(l).includes("stack")===!1&&(l.stack="Stack trace is not available."),xc.error(l),n.error=Fx(l,{shouldIncludeStack:!0,fallbackError:Ux(l)})),o([l,!0])},a=c=>{n.error?s(n.error):(c&&(typeof c!="function"&&s(new mp({code:-32603,message:"JRPCEngine: 'next' return handlers must be functions"})),i.push(c)),o([null,!1]))};try{r(e,n,a,s)}catch(c){s(c)}})}static async _runReturnHandlers(e){for(const n of e)await new Promise((r,i)=>{n(o=>o?i(o):r())})}static _checkForCompletion(e,n,r){if(!("result"in n)&&!("error"in n))throw new mp({code:-32603,message:"Response has no error or result for request"});if(!r)throw new mp({code:-32603,message:"Nothing ended request"})}push(e){this._middleware.push(e)}handle(e,n){if(n&&typeof n!="function")throw new Error('"callback" must be a function if provided.');return Array.isArray(e)?n?this._handleBatch(e,n):this._handleBatch(e):n?this._handle(e,n):this._promiseHandle(e)}asMiddleware(){return async(e,n,r,i)=>{try{const[o,s,a]=await $s._runAllMiddleware(e,n,this._middleware);return s?(await $s._runReturnHandlers(a),i(o)):r(async c=>{try{await $s._runReturnHandlers(a)}catch(l){return c(l)}return c()})}catch(o){return i(o)}}}async _handleBatch(e,n){try{const r=await Promise.all(e.map(this._promiseHandle.bind(this)));return n?n(null,r):r}catch(r){if(n)return n(r);throw r}}_promiseHandle(e){return new Promise((n,r)=>{this._handle(e,(i,o)=>{i&&o===void 0?r(i):n(o)}).catch(r)})}async _handle(e,n){if(!e||Array.isArray(e)||typeof e!="object"){const s=new mp({code:-32603,message:"request must be plain object"});return n(s,{id:void 0,jsonrpc:"2.0",error:s})}if(typeof e.method!="string"){const s=new mp({code:-32603,message:"method must be string"});return n(s,{id:e.id,jsonrpc:"2.0",error:s})}const r=ae({},e),i={id:r.id,jsonrpc:r.jsonrpc};let o=null;try{await this._processRequest(r,i)}catch(s){o=s}return o&&(delete i.result,i.error||(typeof o=="object"&&Object.keys(o).includes("stack")===!1&&(o.stack="Stack trace is not available."),xc.error(o),i.error=Fx(o,{shouldIncludeStack:!0,fallbackError:Ux(o)}))),n(o,i)}async _processRequest(e,n){const[r,i,o]=await $s._runAllMiddleware(e,n,this._middleware);if($s._checkForCompletion(e,n,i),await $s._runReturnHandlers(o),r)throw r}}function poe(t){const e=new $s;return t.forEach(n=>{e.push(n)}),e.asMiddleware()}function goe(t){const e=new bu;return e.sendAsync=async n=>{const r=await t.handle(n);if(r.error){typeof r.error=="object"&&Object.keys(r.error).includes("stack")===!1&&(r.error.stack="Stack trace is not available."),xc.error(r.error);const i=Fx(r.error,{fallbackError:Ux(r.error),shouldIncludeStack:!0});throw lc.internal(i)}return r.result},e.send=(n,r)=>{if(typeof r!="function")throw new Error('Must provide callback to "send" method.');t.handle(n,r)},t.on&&t.on("notification",n=>{e.emit("data",null,n)}),e.request=async n=>{const r=ae(ae({},n),{},{id:Math.random().toString(36).slice(2),jsonrpc:"2.0"});return await e.sendAsync(r)},e}function fP(t){if(!Number.isSafeInteger(t)||t<0)throw new Error(`positive integer expected, not ${t}`)}function moe(t){return t instanceof Uint8Array||t!=null&&typeof t=="object"&&t.constructor.name==="Uint8Array"}function p2(t,...e){if(!moe(t))throw new Error("Uint8Array expected");if(e.length>0&&!e.includes(t.length))throw new Error(`Uint8Array expected of length ${e}, not of length=${t.length}`)}function yoe(t){if(typeof t!="function"||typeof t.create!="function")throw new Error("Hash should be wrapped by utils.wrapConstructor");fP(t.outputLen),fP(t.blockLen)}function Sw(t,e=!0){if(t.destroyed)throw new Error("Hash instance has been destroyed");if(e&&t.finished)throw new Error("Hash#digest() has already been called")}function voe(t,e){p2(t);const n=e.outputLen;if(t.length<n)throw new Error(`digestInto() expects output buffer of length at least ${n}`)}const NE=typeof globalThis=="object"&&"crypto"in globalThis?globalThis.crypto:void 0;/*! noble-hashes - MIT License (c) 2022 Paul Miller (paulmillr.com) */const RE=t=>new DataView(t.buffer,t.byteOffset,t.byteLength),As=(t,e)=>t<<32-e|t>>>e;new Uint8Array(new Uint32Array([287454020]).buffer)[0];function woe(t){if(typeof t!="string")throw new Error(`utf8ToBytes expected string, got ${typeof t}`);return new Uint8Array(new TextEncoder().encode(t))}function LC(t){return typeof t=="string"&&(t=woe(t)),p2(t),t}function boe(...t){let e=0;for(let r=0;r<t.length;r++){const i=t[r];p2(i),e+=i.length}const n=new Uint8Array(e);for(let r=0,i=0;r<t.length;r++){const o=t[r];n.set(o,i),i+=o.length}return n}class YD{clone(){return this._cloneInto()}}function Eoe(t){const e=r=>t().update(LC(r)).digest(),n=t();return e.outputLen=n.outputLen,e.blockLen=n.blockLen,e.create=()=>t(),e}function xoe(t=32){if(NE&&typeof NE.getRandomValues=="function")return NE.getRandomValues(new Uint8Array(t));throw new Error("crypto.getRandomValues must be defined")}function Soe(t,e,n,r){if(typeof t.setBigUint64=="function")return t.setBigUint64(e,n,r);const i=BigInt(32),o=BigInt(4294967295),s=Number(n>>i&o),a=Number(n&o),c=r?4:0,l=r?0:4;t.setUint32(e+c,s,r),t.setUint32(e+l,a,r)}const _oe=(t,e,n)=>t&e^~t&n,Coe=(t,e,n)=>t&e^t&n^e&n;class Aoe extends YD{constructor(e,n,r,i){super(),this.blockLen=e,this.outputLen=n,this.padOffset=r,this.isLE=i,this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.buffer=new Uint8Array(e),this.view=RE(this.buffer)}update(e){Sw(this);const{view:n,buffer:r,blockLen:i}=this;e=LC(e);const o=e.length;for(let s=0;s<o;){const a=Math.min(i-this.pos,o-s);if(a===i){const c=RE(e);for(;i<=o-s;s+=i)this.process(c,s);continue}r.set(e.subarray(s,s+a),this.pos),this.pos+=a,s+=a,this.pos===i&&(this.process(n,0),this.pos=0)}return this.length+=e.length,this.roundClean(),this}digestInto(e){Sw(this),voe(e,this),this.finished=!0;const{buffer:n,view:r,blockLen:i,isLE:o}=this;let{pos:s}=this;n[s++]=128,this.buffer.subarray(s).fill(0),this.padOffset>i-s&&(this.process(r,0),s=0);for(let d=s;d<i;d++)n[d]=0;Soe(r,i-8,BigInt(this.length*8),o),this.process(r,0);const a=RE(e),c=this.outputLen;if(c%4)throw new Error("_sha2: outputLen should be aligned to 32bit");const l=c/4,u=this.get();if(l>u.length)throw new Error("_sha2: outputLen bigger than state");for(let d=0;d<l;d++)a.setUint32(4*d,u[d],o)}digest(){const{buffer:e,outputLen:n}=this;this.digestInto(e);const r=e.slice(0,n);return this.destroy(),r}_cloneInto(e){e||(e=new this.constructor),e.set(...this.get());const{blockLen:n,buffer:r,length:i,finished:o,destroyed:s,pos:a}=this;return e.length=i,e.pos=a,e.finished=o,e.destroyed=s,i%n&&e.buffer.set(r),e}}const Ioe=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),Gc=new Uint32Array([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),Yc=new Uint32Array(64);class koe extends Aoe{constructor(){super(64,32,8,!1),this.A=Gc[0]|0,this.B=Gc[1]|0,this.C=Gc[2]|0,this.D=Gc[3]|0,this.E=Gc[4]|0,this.F=Gc[5]|0,this.G=Gc[6]|0,this.H=Gc[7]|0}get(){const{A:e,B:n,C:r,D:i,E:o,F:s,G:a,H:c}=this;return[e,n,r,i,o,s,a,c]}set(e,n,r,i,o,s,a,c){this.A=e|0,this.B=n|0,this.C=r|0,this.D=i|0,this.E=o|0,this.F=s|0,this.G=a|0,this.H=c|0}process(e,n){for(let d=0;d<16;d++,n+=4)Yc[d]=e.getUint32(n,!1);for(let d=16;d<64;d++){const f=Yc[d-15],h=Yc[d-2],g=As(f,7)^As(f,18)^f>>>3,p=As(h,17)^As(h,19)^h>>>10;Yc[d]=p+Yc[d-7]+g+Yc[d-16]|0}let{A:r,B:i,C:o,D:s,E:a,F:c,G:l,H:u}=this;for(let d=0;d<64;d++){const f=As(a,6)^As(a,11)^As(a,25),h=u+f+_oe(a,c,l)+Ioe[d]+Yc[d]|0,p=(As(r,2)^As(r,13)^As(r,22))+Coe(r,i,o)|0;u=l,l=c,c=a,a=s+h|0,s=o,o=i,i=r,r=h+p|0}r=r+this.A|0,i=i+this.B|0,o=o+this.C|0,s=s+this.D|0,a=a+this.E|0,c=c+this.F|0,l=l+this.G|0,u=u+this.H|0,this.set(r,i,o,s,a,c,l,u)}roundClean(){Yc.fill(0)}destroy(){this.set(0,0,0,0,0,0,0,0),this.buffer.fill(0)}}const Poe=Eoe(()=>new koe);class JD extends YD{constructor(e,n){super(),this.finished=!1,this.destroyed=!1,yoe(e);const r=LC(n);if(this.iHash=e.create(),typeof this.iHash.update!="function")throw new Error("Expected instance of class which extends utils.Hash");this.blockLen=this.iHash.blockLen,this.outputLen=this.iHash.outputLen;const i=this.blockLen,o=new Uint8Array(i);o.set(r.length>i?e.create().update(r).digest():r);for(let s=0;s<o.length;s++)o[s]^=54;this.iHash.update(o),this.oHash=e.create();for(let s=0;s<o.length;s++)o[s]^=106;this.oHash.update(o),o.fill(0)}update(e){return Sw(this),this.iHash.update(e),this}digestInto(e){Sw(this),p2(e,this.outputLen),this.finished=!0,this.iHash.digestInto(e),this.oHash.update(e),this.oHash.digestInto(e),this.destroy()}digest(){const e=new Uint8Array(this.oHash.outputLen);return this.digestInto(e),e}_cloneInto(e){e||(e=Object.create(Object.getPrototypeOf(this),{}));const{oHash:n,iHash:r,finished:i,destroyed:o,blockLen:s,outputLen:a}=this;return e=e,e.finished=i,e.destroyed=o,e.blockLen=s,e.outputLen=a,e.oHash=n._cloneInto(e.oHash),e.iHash=r._cloneInto(e.iHash),e}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}}const ZD=(t,e,n)=>new JD(t,e).update(n).digest();ZD.create=(t,e)=>new JD(t,e);/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const QD=BigInt(0),g2=BigInt(1),Ooe=BigInt(2);function kd(t){return t instanceof Uint8Array||t!=null&&typeof t=="object"&&t.constructor.name==="Uint8Array"}function Wm(t){if(!kd(t))throw new Error("Uint8Array expected")}const Toe=Array.from({length:256},(t,e)=>e.toString(16).padStart(2,"0"));function Qh(t){Wm(t);let e="";for(let n=0;n<t.length;n++)e+=Toe[t[n]];return e}function XD(t){const e=t.toString(16);return e.length&1?`0${e}`:e}function $C(t){if(typeof t!="string")throw new Error("hex string expected, got "+typeof t);return BigInt(t===""?"0":`0x${t}`)}const Ia={_0:48,_9:57,_A:65,_F:70,_a:97,_f:102};function hP(t){if(t>=Ia._0&&t<=Ia._9)return t-Ia._0;if(t>=Ia._A&&t<=Ia._F)return t-(Ia._A-10);if(t>=Ia._a&&t<=Ia._f)return t-(Ia._a-10)}function Xh(t){if(typeof t!="string")throw new Error("hex string expected, got "+typeof t);const e=t.length,n=e/2;if(e%2)throw new Error("padded hex string expected, got unpadded hex of length "+e);const r=new Uint8Array(n);for(let i=0,o=0;i<n;i++,o+=2){const s=hP(t.charCodeAt(o)),a=hP(t.charCodeAt(o+1));if(s===void 0||a===void 0){const c=t[o]+t[o+1];throw new Error('hex string expected, got non-hex character "'+c+'" at index '+o)}r[i]=s*16+a}return r}function pd(t){return $C(Qh(t))}function BC(t){return Wm(t),$C(Qh(Uint8Array.from(t).reverse()))}function e0(t,e){return Xh(t.toString(16).padStart(e*2,"0"))}function DC(t,e){return e0(t,e).reverse()}function Moe(t){return Xh(XD(t))}function Zo(t,e,n){let r;if(typeof e=="string")try{r=Xh(e)}catch(o){throw new Error(`${t} must be valid hex string, got "${e}". Cause: ${o}`)}else if(kd(e))r=Uint8Array.from(e);else throw new Error(`${t} must be hex string or Uint8Array`);const i=r.length;if(typeof n=="number"&&i!==n)throw new Error(`${t} expected ${n} bytes, got ${i}`);return r}function Dg(...t){let e=0;for(let r=0;r<t.length;r++){const i=t[r];Wm(i),e+=i.length}const n=new Uint8Array(e);for(let r=0,i=0;r<t.length;r++){const o=t[r];n.set(o,i),i+=o.length}return n}function Noe(t,e){if(t.length!==e.length)return!1;let n=0;for(let r=0;r<t.length;r++)n|=t[r]^e[r];return n===0}function Roe(t){if(typeof t!="string")throw new Error(`utf8ToBytes expected string, got ${typeof t}`);return new Uint8Array(new TextEncoder().encode(t))}function Loe(t){let e;for(e=0;t>QD;t>>=g2,e+=1);return e}function $oe(t,e){return t>>BigInt(e)&g2}function Boe(t,e,n){return t|(n?g2:QD)<<BigInt(e)}const jC=t=>(Ooe<<BigInt(t-1))-g2,LE=t=>new Uint8Array(t),pP=t=>Uint8Array.from(t);function e7(t,e,n){if(typeof t!="number"||t<2)throw new Error("hashLen must be a number");if(typeof e!="number"||e<2)throw new Error("qByteLen must be a number");if(typeof n!="function")throw new Error("hmacFn must be a function");let r=LE(t),i=LE(t),o=0;const s=()=>{r.fill(1),i.fill(0),o=0},a=(...d)=>n(i,r,...d),c=(d=LE())=>{i=a(pP([0]),d),r=a(),d.length!==0&&(i=a(pP([1]),d),r=a())},l=()=>{if(o++>=1e3)throw new Error("drbg: tried 1000 values");let d=0;const f=[];for(;d<e;){r=a();const h=r.slice();f.push(h),d+=r.length}return Dg(...f)};return(d,f)=>{s(),c(d);let h;for(;!(h=f(l()));)c();return s(),h}}const Doe={bigint:t=>typeof t=="bigint",function:t=>typeof t=="function",boolean:t=>typeof t=="boolean",string:t=>typeof t=="string",stringOrUint8Array:t=>typeof t=="string"||kd(t),isSafeInteger:t=>Number.isSafeInteger(t),array:t=>Array.isArray(t),field:(t,e)=>e.Fp.isValid(t),hash:t=>typeof t=="function"&&Number.isSafeInteger(t.outputLen)};function Km(t,e,n={}){const r=(i,o,s)=>{const a=Doe[o];if(typeof a!="function")throw new Error(`Invalid validator "${o}", expected function`);const c=t[i];if(!(s&&c===void 0)&&!a(c,t))throw new Error(`Invalid param ${String(i)}=${c} (${typeof c}), expected ${o}`)};for(const[i,o]of Object.entries(e))r(i,o,!1);for(const[i,o]of Object.entries(n))r(i,o,!0);return t}const joe=Object.freeze(Object.defineProperty({__proto__:null,abytes:Wm,bitGet:$oe,bitLen:Loe,bitMask:jC,bitSet:Boe,bytesToHex:Qh,bytesToNumberBE:pd,bytesToNumberLE:BC,concatBytes:Dg,createHmacDrbg:e7,ensureBytes:Zo,equalBytes:Noe,hexToBytes:Xh,hexToNumber:$C,isBytes:kd,numberToBytesBE:e0,numberToBytesLE:DC,numberToHexUnpadded:XD,numberToVarBytesBE:Moe,utf8ToBytes:Roe,validateObject:Km},Symbol.toStringTag,{value:"Module"}));/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const tr=BigInt(0),Mn=BigInt(1),Du=BigInt(2),Foe=BigInt(3),zx=BigInt(4),gP=BigInt(5),mP=BigInt(8);BigInt(9);BigInt(16);function ui(t,e){const n=t%e;return n>=tr?n:e+n}function Uoe(t,e,n){if(n<=tr||e<tr)throw new Error("Expected power/modulo > 0");if(n===Mn)return tr;let r=Mn;for(;e>tr;)e&Mn&&(r=r*t%n),t=t*t%n,e>>=Mn;return r}function io(t,e,n){let r=t;for(;e-- >tr;)r*=r,r%=n;return r}function Hx(t,e){if(t===tr||e<=tr)throw new Error(`invert: expected positive integers, got n=${t} mod=${e}`);let n=ui(t,e),r=e,i=tr,o=Mn;for(;n!==tr;){const a=r/n,c=r%n,l=i-o*a;r=n,n=c,i=o,o=l}if(r!==Mn)throw new Error("invert: does not exist");return ui(i,e)}function zoe(t){const e=(t-Mn)/Du;let n,r,i;for(n=t-Mn,r=0;n%Du===tr;n/=Du,r++);for(i=Du;i<t&&Uoe(i,e,t)!==t-Mn;i++);if(r===1){const s=(t+Mn)/zx;return function(c,l){const u=c.pow(l,s);if(!c.eql(c.sqr(u),l))throw new Error("Cannot find square root");return u}}const o=(n+Mn)/Du;return function(a,c){if(a.pow(c,e)===a.neg(a.ONE))throw new Error("Cannot find square root");let l=r,u=a.pow(a.mul(a.ONE,i),n),d=a.pow(c,o),f=a.pow(c,n);for(;!a.eql(f,a.ONE);){if(a.eql(f,a.ZERO))return a.ZERO;let h=1;for(let p=a.sqr(f);h<l&&!a.eql(p,a.ONE);h++)p=a.sqr(p);const g=a.pow(u,Mn<<BigInt(l-h-1));u=a.sqr(g),d=a.mul(d,g),f=a.mul(f,u),l=h}return d}}function Hoe(t){if(t%zx===Foe){const e=(t+Mn)/zx;return function(r,i){const o=r.pow(i,e);if(!r.eql(r.sqr(o),i))throw new Error("Cannot find square root");return o}}if(t%mP===gP){const e=(t-gP)/mP;return function(r,i){const o=r.mul(i,Du),s=r.pow(o,e),a=r.mul(i,s),c=r.mul(r.mul(a,Du),s),l=r.mul(a,r.sub(c,r.ONE));if(!r.eql(r.sqr(l),i))throw new Error("Cannot find square root");return l}}return zoe(t)}const Woe=["create","isValid","is0","neg","inv","sqrt","sqr","eql","add","sub","mul","pow","div","addN","subN","mulN","sqrN"];function Koe(t){const e={ORDER:"bigint",MASK:"bigint",BYTES:"isSafeInteger",BITS:"isSafeInteger"},n=Woe.reduce((r,i)=>(r[i]="function",r),e);return Km(t,n)}function qoe(t,e,n){if(n<tr)throw new Error("Expected power > 0");if(n===tr)return t.ONE;if(n===Mn)return e;let r=t.ONE,i=e;for(;n>tr;)n&Mn&&(r=t.mul(r,i)),i=t.sqr(i),n>>=Mn;return r}function Voe(t,e){const n=new Array(e.length),r=e.reduce((o,s,a)=>t.is0(s)?o:(n[a]=o,t.mul(o,s)),t.ONE),i=t.inv(r);return e.reduceRight((o,s,a)=>t.is0(s)?o:(n[a]=t.mul(o,n[a]),t.mul(o,s)),i),n}function t7(t,e){const n=e!==void 0?e:t.toString(2).length,r=Math.ceil(n/8);return{nBitLength:n,nByteLength:r}}function Goe(t,e,n=!1,r={}){if(t<=tr)throw new Error(`Expected Field ORDER > 0, got ${t}`);const{nBitLength:i,nByteLength:o}=t7(t,e);if(o>2048)throw new Error("Field lengths over 2048 bytes are not supported");const s=Hoe(t),a=Object.freeze({ORDER:t,BITS:i,BYTES:o,MASK:jC(i),ZERO:tr,ONE:Mn,create:c=>ui(c,t),isValid:c=>{if(typeof c!="bigint")throw new Error(`Invalid field element: expected bigint, got ${typeof c}`);return tr<=c&&c<t},is0:c=>c===tr,isOdd:c=>(c&Mn)===Mn,neg:c=>ui(-c,t),eql:(c,l)=>c===l,sqr:c=>ui(c*c,t),add:(c,l)=>ui(c+l,t),sub:(c,l)=>ui(c-l,t),mul:(c,l)=>ui(c*l,t),pow:(c,l)=>qoe(a,c,l),div:(c,l)=>ui(c*Hx(l,t),t),sqrN:c=>c*c,addN:(c,l)=>c+l,subN:(c,l)=>c-l,mulN:(c,l)=>c*l,inv:c=>Hx(c,t),sqrt:r.sqrt||(c=>s(a,c)),invertBatch:c=>Voe(a,c),cmov:(c,l,u)=>u?l:c,toBytes:c=>n?DC(c,o):e0(c,o),fromBytes:c=>{if(c.length!==o)throw new Error(`Fp.fromBytes: expected ${o}, got ${c.length}`);return n?BC(c):pd(c)}});return Object.freeze(a)}function n7(t){if(typeof t!="bigint")throw new Error("field order must be bigint");const e=t.toString(2).length;return Math.ceil(e/8)}function r7(t){const e=n7(t);return e+Math.ceil(e/2)}function Yoe(t,e,n=!1){const r=t.length,i=n7(e),o=r7(e);if(r<16||r<o||r>1024)throw new Error(`expected ${o}-1024 bytes of input, got ${r}`);const s=n?pd(t):BC(t),a=ui(s,e-Mn)+Mn;return n?DC(a,i):e0(a,i)}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const Joe=BigInt(0),$E=BigInt(1);function Zoe(t,e){const n=(i,o)=>{const s=o.negate();return i?s:o},r=i=>{const o=Math.ceil(e/i)+1,s=2**(i-1);return{windows:o,windowSize:s}};return{constTimeNegate:n,unsafeLadder(i,o){let s=t.ZERO,a=i;for(;o>Joe;)o&$E&&(s=s.add(a)),a=a.double(),o>>=$E;return s},precomputeWindow(i,o){const{windows:s,windowSize:a}=r(o),c=[];let l=i,u=l;for(let d=0;d<s;d++){u=l,c.push(u);for(let f=1;f<a;f++)u=u.add(l),c.push(u);l=u.double()}return c},wNAF(i,o,s){const{windows:a,windowSize:c}=r(i);let l=t.ZERO,u=t.BASE;const d=BigInt(2**i-1),f=2**i,h=BigInt(i);for(let g=0;g<a;g++){const p=g*c;let S=Number(s&d);s>>=h,S>c&&(S-=f,s+=$E);const y=p,b=p+Math.abs(S)-1,_=g%2!==0,N=S<0;S===0?u=u.add(n(_,o[y])):l=l.add(n(N,o[b]))}return{p:l,f:u}},wNAFCached(i,o,s,a){const c=i._WINDOW_SIZE||1;let l=o.get(i);return l||(l=this.precomputeWindow(i,c),c!==1&&o.set(i,a(l))),this.wNAF(c,l,s)}}}function i7(t){return Koe(t.Fp),Km(t,{n:"bigint",h:"bigint",Gx:"field",Gy:"field"},{nBitLength:"isSafeInteger",nByteLength:"isSafeInteger"}),Object.freeze({...t7(t.n,t.nBitLength),...t,p:t.Fp.ORDER})}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */function Qoe(t){const e=i7(t);Km(e,{a:"field",b:"field"},{allowedPrivateKeyLengths:"array",wrapPrivateKey:"boolean",isTorsionFree:"function",clearCofactor:"function",allowInfinityPoint:"boolean",fromBytes:"function",toBytes:"function"});const{endo:n,Fp:r,a:i}=e;if(n){if(!r.eql(i,r.ZERO))throw new Error("Endomorphism can only be defined for Koblitz curves that have a=0");if(typeof n!="object"||typeof n.beta!="bigint"||typeof n.splitScalar!="function")throw new Error("Expected endomorphism with beta: bigint and splitScalar: function")}return Object.freeze({...e})}const{bytesToNumberBE:Xoe,hexToBytes:ese}=joe,qu={Err:class extends Error{constructor(e=""){super(e)}},_parseInt(t){const{Err:e}=qu;if(t.length<2||t[0]!==2)throw new e("Invalid signature integer tag");const n=t[1],r=t.subarray(2,n+2);if(!n||r.length!==n)throw new e("Invalid signature integer: wrong length");if(r[0]&128)throw new e("Invalid signature integer: negative");if(r[0]===0&&!(r[1]&128))throw new e("Invalid signature integer: unnecessary leading zero");return{d:Xoe(r),l:t.subarray(n+2)}},toSig(t){const{Err:e}=qu,n=typeof t=="string"?ese(t):t;Wm(n);let r=n.length;if(r<2||n[0]!=48)throw new e("Invalid signature tag");if(n[1]!==r-2)throw new e("Invalid signature: incorrect length");const{d:i,l:o}=qu._parseInt(n.subarray(2)),{d:s,l:a}=qu._parseInt(o);if(a.length)throw new e("Invalid signature: left bytes after parsing");return{r:i,s}},hexFromSig(t){const e=l=>Number.parseInt(l[0],16)&8?"00"+l:l,n=l=>{const u=l.toString(16);return u.length&1?`0${u}`:u},r=e(n(t.s)),i=e(n(t.r)),o=r.length/2,s=i.length/2,a=n(o),c=n(s);return`30${n(s+o+4)}02${c}${i}02${a}${r}`}},Ya=BigInt(0),bo=BigInt(1);BigInt(2);const yP=BigInt(3);BigInt(4);function tse(t){const e=Qoe(t),{Fp:n}=e,r=e.toBytes||((g,p,S)=>{const y=p.toAffine();return Dg(Uint8Array.from([4]),n.toBytes(y.x),n.toBytes(y.y))}),i=e.fromBytes||(g=>{const p=g.subarray(1),S=n.fromBytes(p.subarray(0,n.BYTES)),y=n.fromBytes(p.subarray(n.BYTES,2*n.BYTES));return{x:S,y}});function o(g){const{a:p,b:S}=e,y=n.sqr(g),b=n.mul(y,g);return n.add(n.add(b,n.mul(g,p)),S)}if(!n.eql(n.sqr(e.Gy),o(e.Gx)))throw new Error("bad generator point: equation left != right");function s(g){return typeof g=="bigint"&&Ya<g&&g<e.n}function a(g){if(!s(g))throw new Error("Expected valid bigint: 0 < bigint < curve.n")}function c(g){const{allowedPrivateKeyLengths:p,nByteLength:S,wrapPrivateKey:y,n:b}=e;if(p&&typeof g!="bigint"){if(kd(g)&&(g=Qh(g)),typeof g!="string"||!p.includes(g.length))throw new Error("Invalid key");g=g.padStart(S*2,"0")}let _;try{_=typeof g=="bigint"?g:pd(Zo("private key",g,S))}catch{throw new Error(`private key must be ${S} bytes, hex or bigint, not ${typeof g}`)}return y&&(_=ui(_,b)),a(_),_}const l=new Map;function u(g){if(!(g instanceof d))throw new Error("ProjectivePoint expected")}class d{constructor(p,S,y){if(this.px=p,this.py=S,this.pz=y,p==null||!n.isValid(p))throw new Error("x required");if(S==null||!n.isValid(S))throw new Error("y required");if(y==null||!n.isValid(y))throw new Error("z required")}static fromAffine(p){const{x:S,y}=p||{};if(!p||!n.isValid(S)||!n.isValid(y))throw new Error("invalid affine point");if(p instanceof d)throw new Error("projective point not allowed");const b=_=>n.eql(_,n.ZERO);return b(S)&&b(y)?d.ZERO:new d(S,y,n.ONE)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static normalizeZ(p){const S=n.invertBatch(p.map(y=>y.pz));return p.map((y,b)=>y.toAffine(S[b])).map(d.fromAffine)}static fromHex(p){const S=d.fromAffine(i(Zo("pointHex",p)));return S.assertValidity(),S}static fromPrivateKey(p){return d.BASE.multiply(c(p))}_setWindowSize(p){this._WINDOW_SIZE=p,l.delete(this)}assertValidity(){if(this.is0()){if(e.allowInfinityPoint&&!n.is0(this.py))return;throw new Error("bad point: ZERO")}const{x:p,y:S}=this.toAffine();if(!n.isValid(p)||!n.isValid(S))throw new Error("bad point: x or y not FE");const y=n.sqr(S),b=o(p);if(!n.eql(y,b))throw new Error("bad point: equation left != right");if(!this.isTorsionFree())throw new Error("bad point: not in prime-order subgroup")}hasEvenY(){const{y:p}=this.toAffine();if(n.isOdd)return!n.isOdd(p);throw new Error("Field doesn't support isOdd")}equals(p){u(p);const{px:S,py:y,pz:b}=this,{px:_,py:N,pz:O}=p,$=n.eql(n.mul(S,O),n.mul(_,b)),j=n.eql(n.mul(y,O),n.mul(N,b));return $&&j}negate(){return new d(this.px,n.neg(this.py),this.pz)}double(){const{a:p,b:S}=e,y=n.mul(S,yP),{px:b,py:_,pz:N}=this;let O=n.ZERO,$=n.ZERO,j=n.ZERO,k=n.mul(b,b),T=n.mul(_,_),L=n.mul(N,N),P=n.mul(b,_);return P=n.add(P,P),j=n.mul(b,N),j=n.add(j,j),O=n.mul(p,j),$=n.mul(y,L),$=n.add(O,$),O=n.sub(T,$),$=n.add(T,$),$=n.mul(O,$),O=n.mul(P,O),j=n.mul(y,j),L=n.mul(p,L),P=n.sub(k,L),P=n.mul(p,P),P=n.add(P,j),j=n.add(k,k),k=n.add(j,k),k=n.add(k,L),k=n.mul(k,P),$=n.add($,k),L=n.mul(_,N),L=n.add(L,L),k=n.mul(L,P),O=n.sub(O,k),j=n.mul(L,T),j=n.add(j,j),j=n.add(j,j),new d(O,$,j)}add(p){u(p);const{px:S,py:y,pz:b}=this,{px:_,py:N,pz:O}=p;let $=n.ZERO,j=n.ZERO,k=n.ZERO;const T=e.a,L=n.mul(e.b,yP);let P=n.mul(S,_),m=n.mul(y,N),w=n.mul(b,O),A=n.add(S,y),v=n.add(_,N);A=n.mul(A,v),v=n.add(P,m),A=n.sub(A,v),v=n.add(S,b);let I=n.add(_,O);return v=n.mul(v,I),I=n.add(P,w),v=n.sub(v,I),I=n.add(y,b),$=n.add(N,O),I=n.mul(I,$),$=n.add(m,w),I=n.sub(I,$),k=n.mul(T,v),$=n.mul(L,w),k=n.add($,k),$=n.sub(m,k),k=n.add(m,k),j=n.mul($,k),m=n.add(P,P),m=n.add(m,P),w=n.mul(T,w),v=n.mul(L,v),m=n.add(m,w),w=n.sub(P,w),w=n.mul(T,w),v=n.add(v,w),P=n.mul(m,v),j=n.add(j,P),P=n.mul(I,v),$=n.mul(A,$),$=n.sub($,P),P=n.mul(A,m),k=n.mul(I,k),k=n.add(k,P),new d($,j,k)}subtract(p){return this.add(p.negate())}is0(){return this.equals(d.ZERO)}wNAF(p){return h.wNAFCached(this,l,p,S=>{const y=n.invertBatch(S.map(b=>b.pz));return S.map((b,_)=>b.toAffine(y[_])).map(d.fromAffine)})}multiplyUnsafe(p){const S=d.ZERO;if(p===Ya)return S;if(a(p),p===bo)return this;const{endo:y}=e;if(!y)return h.unsafeLadder(this,p);let{k1neg:b,k1:_,k2neg:N,k2:O}=y.splitScalar(p),$=S,j=S,k=this;for(;_>Ya||O>Ya;)_&bo&&($=$.add(k)),O&bo&&(j=j.add(k)),k=k.double(),_>>=bo,O>>=bo;return b&&($=$.negate()),N&&(j=j.negate()),j=new d(n.mul(j.px,y.beta),j.py,j.pz),$.add(j)}multiply(p){a(p);let S=p,y,b;const{endo:_}=e;if(_){const{k1neg:N,k1:O,k2neg:$,k2:j}=_.splitScalar(S);let{p:k,f:T}=this.wNAF(O),{p:L,f:P}=this.wNAF(j);k=h.constTimeNegate(N,k),L=h.constTimeNegate($,L),L=new d(n.mul(L.px,_.beta),L.py,L.pz),y=k.add(L),b=T.add(P)}else{const{p:N,f:O}=this.wNAF(S);y=N,b=O}return d.normalizeZ([y,b])[0]}multiplyAndAddUnsafe(p,S,y){const b=d.BASE,_=(O,$)=>$===Ya||$===bo||!O.equals(b)?O.multiplyUnsafe($):O.multiply($),N=_(this,S).add(_(p,y));return N.is0()?void 0:N}toAffine(p){const{px:S,py:y,pz:b}=this,_=this.is0();p==null&&(p=_?n.ONE:n.inv(b));const N=n.mul(S,p),O=n.mul(y,p),$=n.mul(b,p);if(_)return{x:n.ZERO,y:n.ZERO};if(!n.eql($,n.ONE))throw new Error("invZ was invalid");return{x:N,y:O}}isTorsionFree(){const{h:p,isTorsionFree:S}=e;if(p===bo)return!0;if(S)return S(d,this);throw new Error("isTorsionFree() has not been declared for the elliptic curve")}clearCofactor(){const{h:p,clearCofactor:S}=e;return p===bo?this:S?S(d,this):this.multiplyUnsafe(e.h)}toRawBytes(p=!0){return this.assertValidity(),r(d,this,p)}toHex(p=!0){return Qh(this.toRawBytes(p))}}d.BASE=new d(e.Gx,e.Gy,n.ONE),d.ZERO=new d(n.ZERO,n.ONE,n.ZERO);const f=e.nBitLength,h=Zoe(d,e.endo?Math.ceil(f/2):f);return{CURVE:e,ProjectivePoint:d,normPrivateKeyToScalar:c,weierstrassEquation:o,isWithinCurveOrder:s}}function nse(t){const e=i7(t);return Km(e,{hash:"hash",hmac:"function",randomBytes:"function"},{bits2int:"function",bits2int_modN:"function",lowS:"boolean"}),Object.freeze({lowS:!0,...e})}function rse(t){const e=nse(t),{Fp:n,n:r}=e,i=n.BYTES+1,o=2*n.BYTES+1;function s(v){return Ya<v&&v<n.ORDER}function a(v){return ui(v,r)}function c(v){return Hx(v,r)}const{ProjectivePoint:l,normPrivateKeyToScalar:u,weierstrassEquation:d,isWithinCurveOrder:f}=tse({...e,toBytes(v,I,M){const E=I.toAffine(),C=n.toBytes(E.x),x=Dg;return M?x(Uint8Array.from([I.hasEvenY()?2:3]),C):x(Uint8Array.from([4]),C,n.toBytes(E.y))},fromBytes(v){const I=v.length,M=v[0],E=v.subarray(1);if(I===i&&(M===2||M===3)){const C=pd(E);if(!s(C))throw new Error("Point is not on curve");const x=d(C);let R;try{R=n.sqrt(x)}catch(z){const H=z instanceof Error?": "+z.message:"";throw new Error("Point is not on curve"+H)}const D=(R&bo)===bo;return(M&1)===1!==D&&(R=n.neg(R)),{x:C,y:R}}else if(I===o&&M===4){const C=n.fromBytes(E.subarray(0,n.BYTES)),x=n.fromBytes(E.subarray(n.BYTES,2*n.BYTES));return{x:C,y:x}}else throw new Error(`Point of length ${I} was invalid. Expected ${i} compressed bytes or ${o} uncompressed bytes`)}}),h=v=>Qh(e0(v,e.nByteLength));function g(v){const I=r>>bo;return v>I}function p(v){return g(v)?a(-v):v}const S=(v,I,M)=>pd(v.slice(I,M));class y{constructor(I,M,E){this.r=I,this.s=M,this.recovery=E,this.assertValidity()}static fromCompact(I){const M=e.nByteLength;return I=Zo("compactSignature",I,M*2),new y(S(I,0,M),S(I,M,2*M))}static fromDER(I){const{r:M,s:E}=qu.toSig(Zo("DER",I));return new y(M,E)}assertValidity(){if(!f(this.r))throw new Error("r must be 0 < r < CURVE.n");if(!f(this.s))throw new Error("s must be 0 < s < CURVE.n")}addRecoveryBit(I){return new y(this.r,this.s,I)}recoverPublicKey(I){const{r:M,s:E,recovery:C}=this,x=j(Zo("msgHash",I));if(C==null||![0,1,2,3].includes(C))throw new Error("recovery id invalid");const R=C===2||C===3?M+e.n:M;if(R>=n.ORDER)throw new Error("recovery id 2 or 3 invalid");const D=C&1?"03":"02",B=l.fromHex(D+h(R)),z=c(R),H=a(-x*z),W=a(E*z),G=l.BASE.multiplyAndAddUnsafe(B,H,W);if(!G)throw new Error("point at infinify");return G.assertValidity(),G}hasHighS(){return g(this.s)}normalizeS(){return this.hasHighS()?new y(this.r,a(-this.s),this.recovery):this}toDERRawBytes(){return Xh(this.toDERHex())}toDERHex(){return qu.hexFromSig({r:this.r,s:this.s})}toCompactRawBytes(){return Xh(this.toCompactHex())}toCompactHex(){return h(this.r)+h(this.s)}}const b={isValidPrivateKey(v){try{return u(v),!0}catch{return!1}},normPrivateKeyToScalar:u,randomPrivateKey:()=>{const v=r7(e.n);return Yoe(e.randomBytes(v),e.n)},precompute(v=8,I=l.BASE){return I._setWindowSize(v),I.multiply(BigInt(3)),I}};function _(v,I=!0){return l.fromPrivateKey(v).toRawBytes(I)}function N(v){const I=kd(v),M=typeof v=="string",E=(I||M)&&v.length;return I?E===i||E===o:M?E===2*i||E===2*o:v instanceof l}function O(v,I,M=!0){if(N(v))throw new Error("first arg must be private key");if(!N(I))throw new Error("second arg must be public key");return l.fromHex(I).multiply(u(v)).toRawBytes(M)}const $=e.bits2int||function(v){const I=pd(v),M=v.length*8-e.nBitLength;return M>0?I>>BigInt(M):I},j=e.bits2int_modN||function(v){return a($(v))},k=jC(e.nBitLength);function T(v){if(typeof v!="bigint")throw new Error("bigint expected");if(!(Ya<=v&&v<k))throw new Error(`bigint expected < 2^${e.nBitLength}`);return e0(v,e.nByteLength)}function L(v,I,M=P){if(["recovered","canonical"].some(J=>J in M))throw new Error("sign() legacy options not supported");const{hash:E,randomBytes:C}=e;let{lowS:x,prehash:R,extraEntropy:D}=M;x==null&&(x=!0),v=Zo("msgHash",v),R&&(v=Zo("prehashed msgHash",E(v)));const B=j(v),z=u(I),H=[T(z),T(B)];if(D!=null&&D!==!1){const J=D===!0?C(n.BYTES):D;H.push(Zo("extraEntropy",J))}const W=Dg(...H),G=B;function V(J){const Y=$(J);if(!f(Y))return;const ee=c(Y),ne=l.BASE.multiply(Y).toAffine(),K=a(ne.x);if(K===Ya)return;const Q=a(ee*a(G+K*z));if(Q===Ya)return;let ie=(ne.x===K?0:2)|Number(ne.y&bo),ce=Q;return x&&g(Q)&&(ce=p(Q),ie^=1),new y(K,ce,ie)}return{seed:W,k2sig:V}}const P={lowS:e.lowS,prehash:!1},m={lowS:e.lowS,prehash:!1};function w(v,I,M=P){const{seed:E,k2sig:C}=L(v,I,M),x=e;return e7(x.hash.outputLen,x.nByteLength,x.hmac)(E,C)}l.BASE._setWindowSize(8);function A(v,I,M,E=m){var ne;const C=v;if(I=Zo("msgHash",I),M=Zo("publicKey",M),"strict"in E)throw new Error("options.strict was renamed to lowS");const{lowS:x,prehash:R}=E;let D,B;try{if(typeof C=="string"||kd(C))try{D=y.fromDER(C)}catch(K){if(!(K instanceof qu.Err))throw K;D=y.fromCompact(C)}else if(typeof C=="object"&&typeof C.r=="bigint"&&typeof C.s=="bigint"){const{r:K,s:Q}=C;D=new y(K,Q)}else throw new Error("PARSE");B=l.fromHex(M)}catch(K){if(K.message==="PARSE")throw new Error("signature must be Signature instance, Uint8Array or hex string");return!1}if(x&&D.hasHighS())return!1;R&&(I=e.hash(I));const{r:z,s:H}=D,W=j(I),G=c(H),V=a(W*G),J=a(z*G),Y=(ne=l.BASE.multiplyAndAddUnsafe(B,V,J))==null?void 0:ne.toAffine();return Y?a(Y.x)===z:!1}return{CURVE:e,getPublicKey:_,getSharedSecret:O,sign:w,verify:A,ProjectivePoint:l,Signature:y,utils:b}}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */function ise(t){return{hash:t,hmac:(e,...n)=>ZD(t,e,boe(...n)),randomBytes:xoe}}function ose(t,e){const n=r=>rse({...t,...ise(r)});return Object.freeze({...n(e),create:n})}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const o7=BigInt("0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffefffffc2f"),vP=BigInt("0xfffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141"),sse=BigInt(1),Wx=BigInt(2),wP=(t,e)=>(t+e/Wx)/e;function ase(t){const e=o7,n=BigInt(3),r=BigInt(6),i=BigInt(11),o=BigInt(22),s=BigInt(23),a=BigInt(44),c=BigInt(88),l=t*t*t%e,u=l*l*t%e,d=io(u,n,e)*u%e,f=io(d,n,e)*u%e,h=io(f,Wx,e)*l%e,g=io(h,i,e)*h%e,p=io(g,o,e)*g%e,S=io(p,a,e)*p%e,y=io(S,c,e)*S%e,b=io(y,a,e)*p%e,_=io(b,n,e)*u%e,N=io(_,s,e)*g%e,O=io(N,r,e)*l%e,$=io(O,Wx,e);if(!Kx.eql(Kx.sqr($),t))throw new Error("Cannot find square root");return $}const Kx=Goe(o7,void 0,void 0,{sqrt:ase}),FC=ose({a:BigInt(0),b:BigInt(7),Fp:Kx,n:vP,Gx:BigInt("55066263022277343669578718895168534326250603453777594175500187360389116729240"),Gy:BigInt("32670510020758816978083085130507043184471273380659243275938904335757337482424"),h:BigInt(1),lowS:!0,endo:{beta:BigInt("0x7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee"),splitScalar:t=>{const e=vP,n=BigInt("0x3086d221a7d46bcde86c90e49284eb15"),r=-sse*BigInt("0xe4437ed6010e88286f547fa90abfe4c3"),i=BigInt("0x114ca50f7a8e2f3f657c1108d9d44cfd8"),o=n,s=BigInt("0x100000000000000000000000000000000"),a=wP(o*t,e),c=wP(-r*t,e);let l=ui(t-a*n-c*i,e),u=ui(-a*r-c*o,e);const d=l>s,f=u>s;if(d&&(l=e-l),f&&(u=e-u),l>s||u>s)throw new Error("splitScalar: Endomorphism failed, k="+t);return{k1neg:d,k1:l,k2neg:f,k2:u}}}},Poe);BigInt(0);FC.ProjectivePoint;function cse(t,e){return!(typeof t!="string"||!t.match(/^0x[0-9A-Fa-f]*$/))}function lse(t){let e=t;if(typeof e!="string")throw new Error(`[padToEven] value must be type 'string', received ${typeof e}`);return e.length%2&&(e=`0${e}`),e}BigInt(0);const qx={},Vx={};for(let t=0;t<16;t++){const e=t,n=t*16,r=t.toString(16).toLowerCase();Vx[r]=e,Vx[r.toUpperCase()]=e,qx[r]=n,qx[r.toUpperCase()]=n}function use(t){const e=t.length,n=new Uint8Array(e/2);for(let r=0;r<e;r+=2)n[r/2]=qx[t[r]]+Vx[t[r+1]];return n}Array.from({length:256},(t,e)=>e.toString(16).padStart(2,"0"));for(let t=0;t<=256*256-1;t++)BigInt(t);const m2=t=>{if(typeof t!="string")throw new Error(`hex argument type ${typeof t} must be of type string`);if(!/^0x[0-9a-fA-F]*$/.test(t))throw new Error(`Input must be a 0x-prefixed hexadecimal string, got ${t}`);const e=t.slice(2);return use(e.length%2===0?e:lse(e))},dse=t=>{if(!Number.isSafeInteger(t)||t<0)throw new Error(`Received an invalid integer type: ${t}`);return`0x${t.toString(16)}`},qm=t=>{const e=dse(t);return m2(e)},ixe=t=>typeof t!="string"||cse(t)?t:`0x${t}`;BigInt("0xffffffffffffffff");BigInt("0xffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff");BigInt("115792089237316195423570985008687907853269984665640564039457584007913129639935");FC.CURVE.n;FC.CURVE.n/BigInt(2);BigInt("0x10000000000000000000000000000000000000000000000000000000000000000");const fse="0xc5d2460186f7233c927e7db2dcc703c0e500b653ca82273b7bfad8045d85a470";m2(fse);const hse="0x1dcc4de8dec75d7aab85b567b6ccd41ad312451b948a7413f0a142fd40d49347";m2(hse);const pse="0x56e81f171bcc55a6ff8345e692c0f86e5b48e01b996cadc001622fb5e363b421";m2(pse);Uint8Array.from([128]);BigInt(-1);BigInt(0);BigInt(1);BigInt(2);BigInt(3);BigInt(7);BigInt(8);BigInt(27);BigInt(28);BigInt(31);BigInt(32);BigInt(64);BigInt(128);BigInt(255);BigInt(256);BigInt(96);BigInt(100);BigInt(160);BigInt(224);BigInt(7922816251426434e13);BigInt(1461501637330903e33);BigInt(2695994666715064e52);BigInt(1e9);Array.from({length:256},(t,e)=>e.toString(16).padStart(2,"0"));var bP;(function(t){t.String="string",t.Bytes="view",t.Number="number"})(bP||(bP={}));var EP;(function(t){t.String="string",t.Bytes="view",t.JSON="json"})(EP||(EP={}));var xP;(function(t){t[t.Number=0]="Number",t[t.BigInt=1]="BigInt",t[t.Uint8Array=2]="Uint8Array",t[t.PrefixedHexString=3]="PrefixedHexString"})(xP||(xP={}));var SP;(function(t){t[t.Deposit=0]="Deposit",t[t.Withdrawal=1]="Withdrawal",t[t.Consolidation=2]="Consolidation"})(SP||(SP={}));var Pd;(function(t){t[t.Version=0]="Version",t[t.Balance=1]="Balance",t[t.Nonce=2]="Nonce",t[t.CodeHash=3]="CodeHash",t[t.CodeSize=4]="CodeSize"})(Pd||(Pd={}));qm(Pd.Version);qm(Pd.Balance);qm(Pd.Nonce);qm(Pd.CodeHash);qm(Pd.CodeSize);BigInt(256)**BigInt(31);function _P(t,e=3,n=50,r="black",i=0,o=20,s="#0346ff"){const a=[];let c;for(c=0;c<e;c+=1)a.push(t(s).rotate((c+1)/e*-i).saturate((c+1)/e*(o/100)).mix(t(r),n/100*(c+1)/e).hex());return a}function gse(t,e){const n=_P(t,3,50,"black",0,20,e),r=_P(t,6,85,"white",0,20,e);return[...n.reverse(),e,...r]}function mse(t,e,n){if(n.primary){const r=gse(t,n.primary);e.style.setProperty("--app-primary-900",r[0]),e.style.setProperty("--app-primary-800",r[1]),e.style.setProperty("--app-primary-700",r[2]),e.style.setProperty("--app-primary-600",r[3]),e.style.setProperty("--app-primary-500",r[4]),e.style.setProperty("--app-primary-400",r[5]),e.style.setProperty("--app-primary-300",r[6]),e.style.setProperty("--app-primary-200",r[7]),e.style.setProperty("--app-primary-100",r[8]),e.style.setProperty("--app-primary-50",r[9])}n.onPrimary&&e.style.setProperty("--app-on-primary",n.onPrimary)}class yse extends bu{constructor({config:e={},state:n={}}){super(),ue(this,"defaultConfig",{}),ue(this,"defaultState",{}),ue(this,"disabled",!1),ue(this,"name","BaseController"),ue(this,"initialConfig",void 0),ue(this,"initialState",void 0),ue(this,"internalConfig",this.defaultConfig),ue(this,"internalState",this.defaultState),this.initialState=n,this.initialConfig=e}get config(){return this.internalConfig}get state(){return this.internalState}configure(e,n=!1,r=!0){if(r){this.internalConfig=n?e:Object.assign(this.internalConfig,e);for(const i in this.internalConfig)typeof this.internalConfig[i]<"u"&&(this[i]=this.internalConfig[i])}else for(const i in e)typeof this.internalConfig[i]<"u"&&(this.internalConfig[i]=e[i],this[i]=e[i])}update(e,n=!1){this.internalState=ae(n?{}:ae({},this.internalState),e),this.emit("store",this.internalState)}initialize(){return this.internalState=this.defaultState,this.internalConfig=this.defaultConfig,this.configure(this.initialConfig),this.update(this.initialState),this}}const vse=()=>!0,wse=["newListener","removeListener"],bse=t=>!wse.includes(t);function Ese(t,e){return typeof t.rawListeners<"u"?t.rawListeners(e):t.listeners(e)}function xse(t,e){let r={}.eventFilter||vse;if(typeof r=="string"&&r==="skipInternal"&&(r=bse),typeof r!="function")throw new Error("createEventEmitterProxy - Invalid eventFilter");let i=t,o=a=>{if(i===a)return;const c=i;i=a,c.eventNames().filter(r).forEach(u=>{Ese(c,u).forEach(d=>{a.on(u,d)})}),c.removeAllListeners()};return new Proxy({},{get:(a,c)=>c==="setTarget"?o:i[c],set:(a,c,l)=>c==="setTarget"?(o=l,!0):(i[c]=l,!0),has:(a,c)=>c[0]==="_"?!1:c in i})}const Sse={BOTTOM_LEFT:"bottom-left"},CP={POPUP:"popup",MODAL:"modal",AUTO_APPROVE:"auto-approve",DEFAULT:"default"};var _se=/^-?(?:\d+(?:\.\d*)?|\.\d+)(?:e[+-]?\d+)?$/i,BE=Math.ceil,fo=Math.floor,ai="[BigNumber Error] ",AP=ai+"Number primitive has more than 15 significant digits: ",Vo=1e14,gt=14,DE=9007199254740991,jE=[1,10,100,1e3,1e4,1e5,1e6,1e7,1e8,1e9,1e10,1e11,1e12,1e13],Jc=1e7,Kn=1e9;function s7(t){var e,n,r,i=b.prototype={constructor:b,toString:null,valueOf:null},o=new b(1),s=20,a=4,c=-7,l=21,u=-1e7,d=1e7,f=!1,h=1,g=0,p={prefix:"",groupSize:3,secondaryGroupSize:0,groupSeparator:",",decimalSeparator:".",fractionGroupSize:0,fractionGroupSeparator:" ",suffix:""},S="0123456789abcdefghijklmnopqrstuvwxyz",y=!0;function b(k,T){var L,P,m,w,A,v,I,M,E=this;if(!(E instanceof b))return new b(k,T);if(T==null){if(k&&k._isBigNumber===!0){E.s=k.s,!k.c||k.e>d?E.c=E.e=null:k.e<u?E.c=[E.e=0]:(E.e=k.e,E.c=k.c.slice());return}if((v=typeof k=="number")&&k*0==0){if(E.s=1/k<0?(k=-k,-1):1,k===~~k){for(w=0,A=k;A>=10;A/=10,w++);w>d?E.c=E.e=null:(E.e=w,E.c=[k]);return}M=String(k)}else{if(!_se.test(M=String(k)))return r(E,M,v);E.s=M.charCodeAt(0)==45?(M=M.slice(1),-1):1}(w=M.indexOf("."))>-1&&(M=M.replace(".","")),(A=M.search(/e/i))>0?(w<0&&(w=A),w+=+M.slice(A+1),M=M.substring(0,A)):w<0&&(w=M.length)}else{if(pn(T,2,S.length,"Base"),T==10&&y)return E=new b(k),$(E,s+E.e+1,a);if(M=String(k),v=typeof k=="number"){if(k*0!=0)return r(E,M,v,T);if(E.s=1/k<0?(M=M.slice(1),-1):1,b.DEBUG&&M.replace(/^0\.0*|\./,"").length>15)throw Error(AP+k)}else E.s=M.charCodeAt(0)===45?(M=M.slice(1),-1):1;for(L=S.slice(0,T),w=A=0,I=M.length;A<I;A++)if(L.indexOf(P=M.charAt(A))<0){if(P=="."){if(A>w){w=I;continue}}else if(!m&&(M==M.toUpperCase()&&(M=M.toLowerCase())||M==M.toLowerCase()&&(M=M.toUpperCase()))){m=!0,A=-1,w=0;continue}return r(E,String(k),v,T)}v=!1,M=n(M,T,10,E.s),(w=M.indexOf("."))>-1?M=M.replace(".",""):w=M.length}for(A=0;M.charCodeAt(A)===48;A++);for(I=M.length;M.charCodeAt(--I)===48;);if(M=M.slice(A,++I)){if(I-=A,v&&b.DEBUG&&I>15&&(k>DE||k!==fo(k)))throw Error(AP+E.s*k);if((w=w-A-1)>d)E.c=E.e=null;else if(w<u)E.c=[E.e=0];else{if(E.e=w,E.c=[],A=(w+1)%gt,w<0&&(A+=gt),A<I){for(A&&E.c.push(+M.slice(0,A)),I-=gt;A<I;)E.c.push(+M.slice(A,A+=gt));A=gt-(M=M.slice(A)).length}else A-=I;for(;A--;M+="0");E.c.push(+M)}}else E.c=[E.e=0]}b.clone=s7,b.ROUND_UP=0,b.ROUND_DOWN=1,b.ROUND_CEIL=2,b.ROUND_FLOOR=3,b.ROUND_HALF_UP=4,b.ROUND_HALF_DOWN=5,b.ROUND_HALF_EVEN=6,b.ROUND_HALF_CEIL=7,b.ROUND_HALF_FLOOR=8,b.EUCLID=9,b.config=b.set=function(k){var T,L;if(k!=null)if(typeof k=="object"){if(k.hasOwnProperty(T="DECIMAL_PLACES")&&(L=k[T],pn(L,0,Kn,T),s=L),k.hasOwnProperty(T="ROUNDING_MODE")&&(L=k[T],pn(L,0,8,T),a=L),k.hasOwnProperty(T="EXPONENTIAL_AT")&&(L=k[T],L&&L.pop?(pn(L[0],-Kn,0,T),pn(L[1],0,Kn,T),c=L[0],l=L[1]):(pn(L,-Kn,Kn,T),c=-(l=L<0?-L:L))),k.hasOwnProperty(T="RANGE"))if(L=k[T],L&&L.pop)pn(L[0],-Kn,-1,T),pn(L[1],1,Kn,T),u=L[0],d=L[1];else if(pn(L,-Kn,Kn,T),L)u=-(d=L<0?-L:L);else throw Error(ai+T+" cannot be zero: "+L);if(k.hasOwnProperty(T="CRYPTO"))if(L=k[T],L===!!L)if(L)if(typeof crypto<"u"&&crypto&&(crypto.getRandomValues||crypto.randomBytes))f=L;else throw f=!L,Error(ai+"crypto unavailable");else f=L;else throw Error(ai+T+" not true or false: "+L);if(k.hasOwnProperty(T="MODULO_MODE")&&(L=k[T],pn(L,0,9,T),h=L),k.hasOwnProperty(T="POW_PRECISION")&&(L=k[T],pn(L,0,Kn,T),g=L),k.hasOwnProperty(T="FORMAT"))if(L=k[T],typeof L=="object")p=L;else throw Error(ai+T+" not an object: "+L);if(k.hasOwnProperty(T="ALPHABET"))if(L=k[T],typeof L=="string"&&!/^.?$|[+\-.\s]|(.).*\1/.test(L))y=L.slice(0,10)=="0123456789",S=L;else throw Error(ai+T+" invalid: "+L)}else throw Error(ai+"Object expected: "+k);return{DECIMAL_PLACES:s,ROUNDING_MODE:a,EXPONENTIAL_AT:[c,l],RANGE:[u,d],CRYPTO:f,MODULO_MODE:h,POW_PRECISION:g,FORMAT:p,ALPHABET:S}},b.isBigNumber=function(k){if(!k||k._isBigNumber!==!0)return!1;if(!b.DEBUG)return!0;var T,L,P=k.c,m=k.e,w=k.s;e:if({}.toString.call(P)=="[object Array]"){if((w===1||w===-1)&&m>=-Kn&&m<=Kn&&m===fo(m)){if(P[0]===0){if(m===0&&P.length===1)return!0;break e}if(T=(m+1)%gt,T<1&&(T+=gt),String(P[0]).length==T){for(T=0;T<P.length;T++)if(L=P[T],L<0||L>=Vo||L!==fo(L))break e;if(L!==0)return!0}}}else if(P===null&&m===null&&(w===null||w===1||w===-1))return!0;throw Error(ai+"Invalid BigNumber: "+k)},b.maximum=b.max=function(){return N(arguments,-1)},b.minimum=b.min=function(){return N(arguments,1)},b.random=function(){var k=9007199254740992,T=Math.random()*k&2097151?function(){return fo(Math.random()*k)}:function(){return(Math.random()*1073741824|0)*8388608+(Math.random()*8388608|0)};return function(L){var P,m,w,A,v,I=0,M=[],E=new b(o);if(L==null?L=s:pn(L,0,Kn),A=BE(L/gt),f)if(crypto.getRandomValues){for(P=crypto.getRandomValues(new Uint32Array(A*=2));I<A;)v=P[I]*131072+(P[I+1]>>>11),v>=9e15?(m=crypto.getRandomValues(new Uint32Array(2)),P[I]=m[0],P[I+1]=m[1]):(M.push(v%1e14),I+=2);I=A/2}else if(crypto.randomBytes){for(P=crypto.randomBytes(A*=7);I<A;)v=(P[I]&31)*281474976710656+P[I+1]*1099511627776+P[I+2]*4294967296+P[I+3]*16777216+(P[I+4]<<16)+(P[I+5]<<8)+P[I+6],v>=9e15?crypto.randomBytes(7).copy(P,I):(M.push(v%1e14),I+=7);I=A/7}else throw f=!1,Error(ai+"crypto unavailable");if(!f)for(;I<A;)v=T(),v<9e15&&(M[I++]=v%1e14);for(A=M[--I],L%=gt,A&&L&&(v=jE[gt-L],M[I]=fo(A/v)*v);M[I]===0;M.pop(),I--);if(I<0)M=[w=0];else{for(w=-1;M[0]===0;M.splice(0,1),w-=gt);for(I=1,v=M[0];v>=10;v/=10,I++);I<gt&&(w-=gt-I)}return E.e=w,E.c=M,E}}(),b.sum=function(){for(var k=1,T=arguments,L=new b(T[0]);k<T.length;)L=L.plus(T[k++]);return L},n=function(){var k="0123456789";function T(L,P,m,w){for(var A,v=[0],I,M=0,E=L.length;M<E;){for(I=v.length;I--;v[I]*=P);for(v[0]+=w.indexOf(L.charAt(M++)),A=0;A<v.length;A++)v[A]>m-1&&(v[A+1]==null&&(v[A+1]=0),v[A+1]+=v[A]/m|0,v[A]%=m)}return v.reverse()}return function(L,P,m,w,A){var v,I,M,E,C,x,R,D,B=L.indexOf("."),z=s,H=a;for(B>=0&&(E=g,g=0,L=L.replace(".",""),D=new b(P),x=D.pow(L.length-B),g=E,D.c=T(ka(oo(x.c),x.e,"0"),10,m,k),D.e=D.c.length),R=T(L,P,m,A?(v=S,k):(v=k,S)),M=E=R.length;R[--E]==0;R.pop());if(!R[0])return v.charAt(0);if(B<0?--M:(x.c=R,x.e=M,x.s=w,x=e(x,D,z,H,m),R=x.c,C=x.r,M=x.e),I=M+z+1,B=R[I],E=m/2,C=C||I<0||R[I+1]!=null,C=H<4?(B!=null||C)&&(H==0||H==(x.s<0?3:2)):B>E||B==E&&(H==4||C||H==6&&R[I-1]&1||H==(x.s<0?8:7)),I<1||!R[0])L=C?ka(v.charAt(1),-z,v.charAt(0)):v.charAt(0);else{if(R.length=I,C)for(--m;++R[--I]>m;)R[I]=0,I||(++M,R=[1].concat(R));for(E=R.length;!R[--E];);for(B=0,L="";B<=E;L+=v.charAt(R[B++]));L=ka(L,M,v.charAt(0))}return L}}(),e=function(){function k(P,m,w){var A,v,I,M,E=0,C=P.length,x=m%Jc,R=m/Jc|0;for(P=P.slice();C--;)I=P[C]%Jc,M=P[C]/Jc|0,A=R*I+M*x,v=x*I+A%Jc*Jc+E,E=(v/w|0)+(A/Jc|0)+R*M,P[C]=v%w;return E&&(P=[E].concat(P)),P}function T(P,m,w,A){var v,I;if(w!=A)I=w>A?1:-1;else for(v=I=0;v<w;v++)if(P[v]!=m[v]){I=P[v]>m[v]?1:-1;break}return I}function L(P,m,w,A){for(var v=0;w--;)P[w]-=v,v=P[w]<m[w]?1:0,P[w]=v*A+P[w]-m[w];for(;!P[0]&&P.length>1;P.splice(0,1));}return function(P,m,w,A,v){var I,M,E,C,x,R,D,B,z,H,W,G,V,J,Y,ee,ne,K=P.s==m.s?1:-1,Q=P.c,ie=m.c;if(!Q||!Q[0]||!ie||!ie[0])return new b(!P.s||!m.s||(Q?ie&&Q[0]==ie[0]:!ie)?NaN:Q&&Q[0]==0||!ie?K*0:K/0);for(B=new b(K),z=B.c=[],M=P.e-m.e,K=w+M+1,v||(v=Vo,M=ho(P.e/gt)-ho(m.e/gt),K=K/gt|0),E=0;ie[E]==(Q[E]||0);E++);if(ie[E]>(Q[E]||0)&&M--,K<0)z.push(1),C=!0;else{for(J=Q.length,ee=ie.length,E=0,K+=2,x=fo(v/(ie[0]+1)),x>1&&(ie=k(ie,x,v),Q=k(Q,x,v),ee=ie.length,J=Q.length),V=ee,H=Q.slice(0,ee),W=H.length;W<ee;H[W++]=0);ne=ie.slice(),ne=[0].concat(ne),Y=ie[0],ie[1]>=v/2&&Y++;do{if(x=0,I=T(ie,H,ee,W),I<0){if(G=H[0],ee!=W&&(G=G*v+(H[1]||0)),x=fo(G/Y),x>1)for(x>=v&&(x=v-1),R=k(ie,x,v),D=R.length,W=H.length;T(R,H,D,W)==1;)x--,L(R,ee<D?ne:ie,D,v),D=R.length,I=1;else x==0&&(I=x=1),R=ie.slice(),D=R.length;if(D<W&&(R=[0].concat(R)),L(H,R,W,v),W=H.length,I==-1)for(;T(ie,H,ee,W)<1;)x++,L(H,ee<W?ne:ie,W,v),W=H.length}else I===0&&(x++,H=[0]);z[E++]=x,H[0]?H[W++]=Q[V]||0:(H=[Q[V]],W=1)}while((V++<J||H[0]!=null)&&K--);C=H[0]!=null,z[0]||z.splice(0,1)}if(v==Vo){for(E=1,K=z[0];K>=10;K/=10,E++);$(B,w+(B.e=E+M*gt-1)+1,A,C)}else B.e=M,B.r=+C;return B}}();function _(k,T,L,P){var m,w,A,v,I;if(L==null?L=a:pn(L,0,8),!k.c)return k.toString();if(m=k.c[0],A=k.e,T==null)I=oo(k.c),I=P==1||P==2&&(A<=c||A>=l)?t1(I,A):ka(I,A,"0");else if(k=$(new b(k),T,L),w=k.e,I=oo(k.c),v=I.length,P==1||P==2&&(T<=w||w<=c)){for(;v<T;I+="0",v++);I=t1(I,w)}else if(T-=A+(P===2&&w>A),I=ka(I,w,"0"),w+1>v){if(--T>0)for(I+=".";T--;I+="0");}else if(T+=w-v,T>0)for(w+1==v&&(I+=".");T--;I+="0");return k.s<0&&m?"-"+I:I}function N(k,T){for(var L,P,m=1,w=new b(k[0]);m<k.length;m++)P=new b(k[m]),(!P.s||(L=Iu(w,P))===T||L===0&&w.s===T)&&(w=P);return w}function O(k,T,L){for(var P=1,m=T.length;!T[--m];T.pop());for(m=T[0];m>=10;m/=10,P++);return(L=P+L*gt-1)>d?k.c=k.e=null:L<u?k.c=[k.e=0]:(k.e=L,k.c=T),k}r=function(){var k=/^(-?)0([xbo])(?=\w[\w.]*$)/i,T=/^([^.]+)\.$/,L=/^\.([^.]+)$/,P=/^-?(Infinity|NaN)$/,m=/^\s*\+(?=[\w.])|^\s+|\s+$/g;return function(w,A,v,I){var M,E=v?A:A.replace(m,"");if(P.test(E))w.s=isNaN(E)?null:E<0?-1:1;else{if(!v&&(E=E.replace(k,function(C,x,R){return M=(R=R.toLowerCase())=="x"?16:R=="b"?2:8,!I||I==M?x:C}),I&&(M=I,E=E.replace(T,"$1").replace(L,"0.$1")),A!=E))return new b(E,M);if(b.DEBUG)throw Error(ai+"Not a"+(I?" base "+I:"")+" number: "+A);w.s=null}w.c=w.e=null}}();function $(k,T,L,P){var m,w,A,v,I,M,E,C=k.c,x=jE;if(C){e:{for(m=1,v=C[0];v>=10;v/=10,m++);if(w=T-m,w<0)w+=gt,A=T,I=C[M=0],E=fo(I/x[m-A-1]%10);else if(M=BE((w+1)/gt),M>=C.length)if(P){for(;C.length<=M;C.push(0));I=E=0,m=1,w%=gt,A=w-gt+1}else break e;else{for(I=v=C[M],m=1;v>=10;v/=10,m++);w%=gt,A=w-gt+m,E=A<0?0:fo(I/x[m-A-1]%10)}if(P=P||T<0||C[M+1]!=null||(A<0?I:I%x[m-A-1]),P=L<4?(E||P)&&(L==0||L==(k.s<0?3:2)):E>5||E==5&&(L==4||P||L==6&&(w>0?A>0?I/x[m-A]:0:C[M-1])%10&1||L==(k.s<0?8:7)),T<1||!C[0])return C.length=0,P?(T-=k.e+1,C[0]=x[(gt-T%gt)%gt],k.e=-T||0):C[0]=k.e=0,k;if(w==0?(C.length=M,v=1,M--):(C.length=M+1,v=x[gt-w],C[M]=A>0?fo(I/x[m-A]%x[A])*v:0),P)for(;;)if(M==0){for(w=1,A=C[0];A>=10;A/=10,w++);for(A=C[0]+=v,v=1;A>=10;A/=10,v++);w!=v&&(k.e++,C[0]==Vo&&(C[0]=1));break}else{if(C[M]+=v,C[M]!=Vo)break;C[M--]=0,v=1}for(w=C.length;C[--w]===0;C.pop());}k.e>d?k.c=k.e=null:k.e<u&&(k.c=[k.e=0])}return k}function j(k){var T,L=k.e;return L===null?k.toString():(T=oo(k.c),T=L<=c||L>=l?t1(T,L):ka(T,L,"0"),k.s<0?"-"+T:T)}return i.absoluteValue=i.abs=function(){var k=new b(this);return k.s<0&&(k.s=1),k},i.comparedTo=function(k,T){return Iu(this,new b(k,T))},i.decimalPlaces=i.dp=function(k,T){var L,P,m,w=this;if(k!=null)return pn(k,0,Kn),T==null?T=a:pn(T,0,8),$(new b(w),k+w.e+1,T);if(!(L=w.c))return null;if(P=((m=L.length-1)-ho(this.e/gt))*gt,m=L[m])for(;m%10==0;m/=10,P--);return P<0&&(P=0),P},i.dividedBy=i.div=function(k,T){return e(this,new b(k,T),s,a)},i.dividedToIntegerBy=i.idiv=function(k,T){return e(this,new b(k,T),0,1)},i.exponentiatedBy=i.pow=function(k,T){var L,P,m,w,A,v,I,M,E,C=this;if(k=new b(k),k.c&&!k.isInteger())throw Error(ai+"Exponent not an integer: "+j(k));if(T!=null&&(T=new b(T)),v=k.e>14,!C.c||!C.c[0]||C.c[0]==1&&!C.e&&C.c.length==1||!k.c||!k.c[0])return E=new b(Math.pow(+j(C),v?k.s*(2-e1(k)):+j(k))),T?E.mod(T):E;if(I=k.s<0,T){if(T.c?!T.c[0]:!T.s)return new b(NaN);P=!I&&C.isInteger()&&T.isInteger(),P&&(C=C.mod(T))}else{if(k.e>9&&(C.e>0||C.e<-1||(C.e==0?C.c[0]>1||v&&C.c[1]>=24e7:C.c[0]<8e13||v&&C.c[0]<=9999975e7)))return w=C.s<0&&e1(k)?-0:0,C.e>-1&&(w=1/w),new b(I?1/w:w);g&&(w=BE(g/gt+2))}for(v?(L=new b(.5),I&&(k.s=1),M=e1(k)):(m=Math.abs(+j(k)),M=m%2),E=new b(o);;){if(M){if(E=E.times(C),!E.c)break;w?E.c.length>w&&(E.c.length=w):P&&(E=E.mod(T))}if(m){if(m=fo(m/2),m===0)break;M=m%2}else if(k=k.times(L),$(k,k.e+1,1),k.e>14)M=e1(k);else{if(m=+j(k),m===0)break;M=m%2}C=C.times(C),w?C.c&&C.c.length>w&&(C.c.length=w):P&&(C=C.mod(T))}return P?E:(I&&(E=o.div(E)),T?E.mod(T):w?$(E,g,a,A):E)},i.integerValue=function(k){var T=new b(this);return k==null?k=a:pn(k,0,8),$(T,T.e+1,k)},i.isEqualTo=i.eq=function(k,T){return Iu(this,new b(k,T))===0},i.isFinite=function(){return!!this.c},i.isGreaterThan=i.gt=function(k,T){return Iu(this,new b(k,T))>0},i.isGreaterThanOrEqualTo=i.gte=function(k,T){return(T=Iu(this,new b(k,T)))===1||T===0},i.isInteger=function(){return!!this.c&&ho(this.e/gt)>this.c.length-2},i.isLessThan=i.lt=function(k,T){return Iu(this,new b(k,T))<0},i.isLessThanOrEqualTo=i.lte=function(k,T){return(T=Iu(this,new b(k,T)))===-1||T===0},i.isNaN=function(){return!this.s},i.isNegative=function(){return this.s<0},i.isPositive=function(){return this.s>0},i.isZero=function(){return!!this.c&&this.c[0]==0},i.minus=function(k,T){var L,P,m,w,A=this,v=A.s;if(k=new b(k,T),T=k.s,!v||!T)return new b(NaN);if(v!=T)return k.s=-T,A.plus(k);var I=A.e/gt,M=k.e/gt,E=A.c,C=k.c;if(!I||!M){if(!E||!C)return E?(k.s=-T,k):new b(C?A:NaN);if(!E[0]||!C[0])return C[0]?(k.s=-T,k):new b(E[0]?A:a==3?-0:0)}if(I=ho(I),M=ho(M),E=E.slice(),v=I-M){for((w=v<0)?(v=-v,m=E):(M=I,m=C),m.reverse(),T=v;T--;m.push(0));m.reverse()}else for(P=(w=(v=E.length)<(T=C.length))?v:T,v=T=0;T<P;T++)if(E[T]!=C[T]){w=E[T]<C[T];break}if(w&&(m=E,E=C,C=m,k.s=-k.s),T=(P=C.length)-(L=E.length),T>0)for(;T--;E[L++]=0);for(T=Vo-1;P>v;){if(E[--P]<C[P]){for(L=P;L&&!E[--L];E[L]=T);--E[L],E[P]+=Vo}E[P]-=C[P]}for(;E[0]==0;E.splice(0,1),--M);return E[0]?O(k,E,M):(k.s=a==3?-1:1,k.c=[k.e=0],k)},i.modulo=i.mod=function(k,T){var L,P,m=this;return k=new b(k,T),!m.c||!k.s||k.c&&!k.c[0]?new b(NaN):!k.c||m.c&&!m.c[0]?new b(m):(h==9?(P=k.s,k.s=1,L=e(m,k,0,3),k.s=P,L.s*=P):L=e(m,k,0,h),k=m.minus(L.times(k)),!k.c[0]&&h==1&&(k.s=m.s),k)},i.multipliedBy=i.times=function(k,T){var L,P,m,w,A,v,I,M,E,C,x,R,D,B,z,H=this,W=H.c,G=(k=new b(k,T)).c;if(!W||!G||!W[0]||!G[0])return!H.s||!k.s||W&&!W[0]&&!G||G&&!G[0]&&!W?k.c=k.e=k.s=null:(k.s*=H.s,!W||!G?k.c=k.e=null:(k.c=[0],k.e=0)),k;for(P=ho(H.e/gt)+ho(k.e/gt),k.s*=H.s,I=W.length,C=G.length,I<C&&(D=W,W=G,G=D,m=I,I=C,C=m),m=I+C,D=[];m--;D.push(0));for(B=Vo,z=Jc,m=C;--m>=0;){for(L=0,x=G[m]%z,R=G[m]/z|0,A=I,w=m+A;w>m;)M=W[--A]%z,E=W[A]/z|0,v=R*M+E*x,M=x*M+v%z*z+D[w]+L,L=(M/B|0)+(v/z|0)+R*E,D[w--]=M%B;D[w]=L}return L?++P:D.splice(0,1),O(k,D,P)},i.negated=function(){var k=new b(this);return k.s=-k.s||null,k},i.plus=function(k,T){var L,P=this,m=P.s;if(k=new b(k,T),T=k.s,!m||!T)return new b(NaN);if(m!=T)return k.s=-T,P.minus(k);var w=P.e/gt,A=k.e/gt,v=P.c,I=k.c;if(!w||!A){if(!v||!I)return new b(m/0);if(!v[0]||!I[0])return I[0]?k:new b(v[0]?P:m*0)}if(w=ho(w),A=ho(A),v=v.slice(),m=w-A){for(m>0?(A=w,L=I):(m=-m,L=v),L.reverse();m--;L.push(0));L.reverse()}for(m=v.length,T=I.length,m-T<0&&(L=I,I=v,v=L,T=m),m=0;T;)m=(v[--T]=v[T]+I[T]+m)/Vo|0,v[T]=Vo===v[T]?0:v[T]%Vo;return m&&(v=[m].concat(v),++A),O(k,v,A)},i.precision=i.sd=function(k,T){var L,P,m,w=this;if(k!=null&&k!==!!k)return pn(k,1,Kn),T==null?T=a:pn(T,0,8),$(new b(w),k,T);if(!(L=w.c))return null;if(m=L.length-1,P=m*gt+1,m=L[m]){for(;m%10==0;m/=10,P--);for(m=L[0];m>=10;m/=10,P++);}return k&&w.e+1>P&&(P=w.e+1),P},i.shiftedBy=function(k){return pn(k,-DE,DE),this.times("1e"+k)},i.squareRoot=i.sqrt=function(){var k,T,L,P,m,w=this,A=w.c,v=w.s,I=w.e,M=s+4,E=new b("0.5");if(v!==1||!A||!A[0])return new b(!v||v<0&&(!A||A[0])?NaN:A?w:1/0);if(v=Math.sqrt(+j(w)),v==0||v==1/0?(T=oo(A),(T.length+I)%2==0&&(T+="0"),v=Math.sqrt(+T),I=ho((I+1)/2)-(I<0||I%2),v==1/0?T="5e"+I:(T=v.toExponential(),T=T.slice(0,T.indexOf("e")+1)+I),L=new b(T)):L=new b(v+""),L.c[0]){for(I=L.e,v=I+M,v<3&&(v=0);;)if(m=L,L=E.times(m.plus(e(w,m,M,1))),oo(m.c).slice(0,v)===(T=oo(L.c)).slice(0,v))if(L.e<I&&--v,T=T.slice(v-3,v+1),T=="9999"||!P&&T=="4999"){if(!P&&($(m,m.e+s+2,0),m.times(m).eq(w))){L=m;break}M+=4,v+=4,P=1}else{(!+T||!+T.slice(1)&&T.charAt(0)=="5")&&($(L,L.e+s+2,1),k=!L.times(L).eq(w));break}}return $(L,L.e+s+1,a,k)},i.toExponential=function(k,T){return k!=null&&(pn(k,0,Kn),k++),_(this,k,T,1)},i.toFixed=function(k,T){return k!=null&&(pn(k,0,Kn),k=k+this.e+1),_(this,k,T)},i.toFormat=function(k,T,L){var P,m=this;if(L==null)k!=null&&T&&typeof T=="object"?(L=T,T=null):k&&typeof k=="object"?(L=k,k=T=null):L=p;else if(typeof L!="object")throw Error(ai+"Argument not an object: "+L);if(P=m.toFixed(k,T),m.c){var w,A=P.split("."),v=+L.groupSize,I=+L.secondaryGroupSize,M=L.groupSeparator||"",E=A[0],C=A[1],x=m.s<0,R=x?E.slice(1):E,D=R.length;if(I&&(w=v,v=I,I=w,D-=w),v>0&&D>0){for(w=D%v||v,E=R.substr(0,w);w<D;w+=v)E+=M+R.substr(w,v);I>0&&(E+=M+R.slice(w)),x&&(E="-"+E)}P=C?E+(L.decimalSeparator||"")+((I=+L.fractionGroupSize)?C.replace(new RegExp("\\d{"+I+"}\\B","g"),"$&"+(L.fractionGroupSeparator||"")):C):E}return(L.prefix||"")+P+(L.suffix||"")},i.toFraction=function(k){var T,L,P,m,w,A,v,I,M,E,C,x,R=this,D=R.c;if(k!=null&&(v=new b(k),!v.isInteger()&&(v.c||v.s!==1)||v.lt(o)))throw Error(ai+"Argument "+(v.isInteger()?"out of range: ":"not an integer: ")+j(v));if(!D)return new b(R);for(T=new b(o),M=L=new b(o),P=I=new b(o),x=oo(D),w=T.e=x.length-R.e-1,T.c[0]=jE[(A=w%gt)<0?gt+A:A],k=!k||v.comparedTo(T)>0?w>0?T:M:v,A=d,d=1/0,v=new b(x),I.c[0]=0;E=e(v,T,0,1),m=L.plus(E.times(P)),m.comparedTo(k)!=1;)L=P,P=m,M=I.plus(E.times(m=M)),I=m,T=v.minus(E.times(m=T)),v=m;return m=e(k.minus(L),P,0,1),I=I.plus(m.times(M)),L=L.plus(m.times(P)),I.s=M.s=R.s,w=w*2,C=e(M,P,w,a).minus(R).abs().comparedTo(e(I,L,w,a).minus(R).abs())<1?[M,P]:[I,L],d=A,C},i.toNumber=function(){return+j(this)},i.toPrecision=function(k,T){return k!=null&&pn(k,1,Kn),_(this,k,T,2)},i.toString=function(k){var T,L=this,P=L.s,m=L.e;return m===null?P?(T="Infinity",P<0&&(T="-"+T)):T="NaN":(k==null?T=m<=c||m>=l?t1(oo(L.c),m):ka(oo(L.c),m,"0"):k===10&&y?(L=$(new b(L),s+m+1,a),T=ka(oo(L.c),L.e,"0")):(pn(k,2,S.length,"Base"),T=n(ka(oo(L.c),m,"0"),10,k,P,!0)),P<0&&L.c[0]&&(T="-"+T)),T},i.valueOf=i.toJSON=function(){return j(this)},i._isBigNumber=!0,i[Symbol.toStringTag]="BigNumber",i[Symbol.for("nodejs.util.inspect.custom")]=i.valueOf,t!=null&&b.set(t),b}function ho(t){var e=t|0;return t>0||t===e?e:e-1}function oo(t){for(var e,n,r=1,i=t.length,o=t[0]+"";r<i;){for(e=t[r++]+"",n=gt-e.length;n--;e="0"+e);o+=e}for(i=o.length;o.charCodeAt(--i)===48;);return o.slice(0,i+1||1)}function Iu(t,e){var n,r,i=t.c,o=e.c,s=t.s,a=e.s,c=t.e,l=e.e;if(!s||!a)return null;if(n=i&&!i[0],r=o&&!o[0],n||r)return n?r?0:-a:s;if(s!=a)return s;if(n=s<0,r=c==l,!i||!o)return r?0:!i^n?1:-1;if(!r)return c>l^n?1:-1;for(a=(c=i.length)<(l=o.length)?c:l,s=0;s<a;s++)if(i[s]!=o[s])return i[s]>o[s]^n?1:-1;return c==l?0:c>l^n?1:-1}function pn(t,e,n,r){if(t<e||t>n||t!==fo(t))throw Error(ai+(r||"Argument")+(typeof t=="number"?t<e||t>n?" out of range: ":" not an integer: ":" not a primitive number: ")+String(t))}function e1(t){var e=t.c.length-1;return ho(t.e/gt)==e&&t.c[e]%2!=0}function t1(t,e){return(t.length>1?t.charAt(0)+"."+t.slice(1):t)+(e<0?"e":"e+")+e}function ka(t,e,n){var r,i;if(e<0){for(i=n+".";++e;i+=n);t=i+t}else if(r=t.length,++e>r){for(i=n,e-=r;--e;i+=n);t+=i}else e<r&&(t=t.slice(0,e)+"."+t.slice(e));return t}s7();const Cse={ETH_SEND_RAW_TRANSACTION:"eth_sendRawTransaction",ETH_SEND_USER_OPERATION:"eth_sendUserOperation",ETH_SPONSOR_USER_OPERATION:"pm_sponsorUserOperation",SEND_TRANSACTION:"solana_sendTransaction"},IP={JRPC_REQUEST_COMPLETED:"JRPC Request Completed",JRPC_REQUEST_FAILED:"JRPC Request Failed"},kP={INTERNAL:"internal",NETWORK:"network"},Ase={"0x65":"5eykt4UsFv8P8NJdTREpY1vzqKqZKvdp","0x66":"4uhcVJyU9pJkvQyS88uRDiswHXSCkY3z","0x67":"EtWTRABZaYq6iMfeYKouRu166VU2xqa1"},mt={EIP155:"eip155",SOLANA:"solana",CASPER:"casper",XRPL:"xrpl",OTHER:"other"},oxe=()=>Math.random().toString(36).slice(2);function sxe({width:t,height:e}){const n=window.screenLeft!==void 0?window.screenLeft:window.screenX,r=window.screenTop!==void 0?window.screenTop:window.screenY,i=window.innerWidth?window.innerWidth:document.documentElement.clientWidth?document.documentElement.clientWidth:window.screen.width,o=window.innerHeight?window.innerHeight:document.documentElement.clientHeight?document.documentElement.clientHeight:window.screen.height,s=1,a=Math.abs((i-t)/2/s+n),c=Math.abs((o-e)/2/s+r);return`titlebar=0,toolbar=0,status=0,location=0,menubar=0,height=${e/s},width=${t/s},top=${c},left=${a}`}const Ise=t=>{try{const e=t==null?void 0:t.code;return{error_message:t instanceof Error?t.message:(t==null?void 0:t.message)||(t==null?void 0:t.toString()),error_code:e}}catch{return{error_message:"Unknown error",error_code:void 0}}},kse=t=>{try{return new URL(t).hostname}catch{return""}},Pse=t=>{if(t)return t.chainNamespace===mt.EIP155?`${t.chainNamespace}:${parseInt(t.chainId,16)}`:t.chainNamespace===mt.SOLANA?`${t.chainNamespace}:${Ase[t.chainId]}`:`${t.chainNamespace}:${t.chainId}`},Ose=["Gateway timeout","ETIMEDOUT","failed to parse response body","Failed to fetch"];function Tse(t){switch(t.status){case 405:throw lc.methodNotFound();case 418:throw lc.internal({message:"Request is being rate limited.",data:{cause:t}});case 503:case 504:throw lc.internal({message:"Gateway timeout. The request took too long to process.This can happen when querying over too wide a block range.",data:{cause:t}})}}function Mse(t){return new Promise(e=>{setTimeout(e,t)})}function Nse(t,e){if(t.status!==200)throw lc.internal({message:`Non-200 status code: '${t.status}'`,data:e});if(e.error){var n;throw lc.internal({data:e.error,message:(n=e.error)===null||n===void 0?void 0:n.message})}return e.result}function Rse({req:t,rpcTarget:e,originHttpHeaderKey:n}){const r=new URL(e),i={id:t.id,jsonrpc:t.jsonrpc,method:t.method,params:t.params},o=t.origin,s=JSON.stringify(i),a={method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:s};return n&&o&&(a.headers[n]=o),{fetchUrl:r.href,fetchParams:a}}function Lse({rpcTarget:t,originHttpHeaderKey:e,analytics:n,providerConfig:r}){return hoe(async(i,o,s)=>{const{fetchUrl:a,fetchParams:c}=Rse({req:i,rpcTarget:t,originHttpHeaderKey:e}),l=5,u=1e3,d=Date.now(),f=!Object.values(Cse).includes(i.method),h={chain_id:Pse(r),chain_rpc_target:kse(a),method:i.method};for(let g=0;g<l;g++){try{const p=await fetch(a,c);Tse(p);const S=await p.json(),y=Nse(p,S);o.result=y,f||n==null||n.track(IP.JRPC_REQUEST_COMPLETED,ae(ae({request_type:kP.NETWORK},h),{},{duration:Date.now()-d}));return}catch(p){const S=(p.message||p).toString();if(!Ose.some(b=>S.includes(b)))throw f||n==null||n.track(IP.JRPC_REQUEST_FAILED,ae(ae({request_type:kP.NETWORK},h),{},{error_code:p==null?void 0:p.code,error_message:S,duration:Date.now()-d})),await vC(p)}await Mse(u)}})}function Vu(t){try{return structuredClone(t)}catch{return JSON.parse(JSON.stringify(t,(e,n)=>typeof n=="bigint"?n.toString():n))}}class $p extends Error{}$p.prototype.name="InvalidTokenError";function $se(t){return decodeURIComponent(atob(t).replace(/(.)/g,(e,n)=>{let r=n.charCodeAt(0).toString(16).toUpperCase();return r.length<2&&(r="0"+r),"%"+r}))}function Bse(t){let e=t.replace(/-/g,"+").replace(/_/g,"/");switch(e.length%4){case 0:break;case 2:e+="==";break;case 3:e+="=";break;default:throw new Error("base64 string is not of the correct length")}try{return $se(e)}catch{return atob(e)}}function Dse(t,e){if(typeof t!="string")throw new $p("Invalid token specified: must be a string");e||(e={});const n=e.header===!0?0:1,r=t.split(".")[n];if(typeof r!="string")throw new $p(`Invalid token specified: missing part #${n+1}`);let i;try{i=Bse(r)}catch(o){throw new $p(`Invalid token specified: invalid base64 for part #${n+1} (${o.message})`)}try{return JSON.parse(i)}catch(o){throw new $p(`Invalid token specified: invalid json for part #${n+1} (${o.message})`)}}const a7="https://authjs.web3auth.io",jse=async(t,e)=>{const o={payload:t,header:{t:e==="solana"?"sip99":"eip191"},network:e==="solana"?"solana":"ethereum"},s=await Id(`${a7}/siww/get`,o);if(!s.success)throw new Error("Failed to authenticate user, Please reach out to Web3Auth Support team");return s.challenge},Fse=async(t,e,n,r,i,o,s,a,c)=>{var l;const d=ae({signature:{s:e,t:t==="solana"?"sip99":"eip191"},message:n,issuer:r,audience:typeof window<"u"&&((l=window.location)===null||l===void 0?void 0:l.hostname)||"com://reactnative",timeout:i},{}),f=await Id(`${a7}/siww/verify`,d,{headers:{client_id:o,wallet_provider:r,web3auth_network:s}});if(!f.success)throw Nc.error("Failed to authenticate user, ,message verification failed",f.error),new Error("Failed to authenticate user, ,message verification failed");return f.token},Use={ALL:"all"},qf={MODAL:"modal",EMBED:"embed"},PP="Web3Auth-state",jg={MODAL:"modal",NO_MODAL:"no-modal"},zse={"0x65":"5eykt4UsFv8P8NJdTREpY1vzqKqZKvdp","0x66":"4uhcVJyU9pJkvQyS88uRDiswHXSCkY3z","0x67":"EtWTRABZaYq6iMfeYKouRu166VU2xqa1"};function Hse(t,e){return JSON.parse(t,(n,r)=>{var i,o,s;let a=r;return((i=a)===null||i===void 0?void 0:i.__type)==="bigint"&&(a=BigInt(a.value)),((o=a)===null||o===void 0?void 0:o.__type)==="Map"&&(a=new Map(a.value)),(s=void 0)!==null&&s!==void 0?s:a})}const Wse=t=>({getItem(e){if(typeof window>"u")return null;const n=Kse(document.cookie,e);return n??null},setItem(e,n){if(typeof window>"u")return;let r=`${e}=${n};path=/;samesite=Lax`;t!=null&&t.expiry&&typeof t.expiry=="number"&&(r+=`; expires=${new Date(Date.now()+t.expiry).toUTCString()}`),r+="; secure",document.cookie=r},removeItem(e){typeof window>"u"||(document.cookie=`${e}=;max-age=-1;path=/`)}});function Kse(t,e){const n=t.split("; ").find(r=>r.startsWith(`${e}=`));if(n)return n.substring(e.length+1)}var Gx=function(t,e){return Gx=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(n[i]=r[i])},Gx(t,e)};function Ii(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");Gx(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}var Te=function(){return Te=Object.assign||function(e){for(var n,r=1,i=arguments.length;r<i;r++){n=arguments[r];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},Te.apply(this,arguments)};function c7(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function tt(t,e,n,r){function i(o){return o instanceof n?o:new n(function(s){s(o)})}return new(n||(n=Promise))(function(o,s){function a(u){try{l(r.next(u))}catch(d){s(d)}}function c(u){try{l(r.throw(u))}catch(d){s(d)}}function l(u){u.done?o(u.value):i(u.value).then(a,c)}l((r=r.apply(t,e||[])).next())})}function nt(t,e){var n={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},r,i,o,s=Object.create((typeof Iterator=="function"?Iterator:Object).prototype);return s.next=a(0),s.throw=a(1),s.return=a(2),typeof Symbol=="function"&&(s[Symbol.iterator]=function(){return this}),s;function a(l){return function(u){return c([l,u])}}function c(l){if(r)throw new TypeError("Generator is already executing.");for(;s&&(s=0,l[0]&&(n=0)),n;)try{if(r=1,i&&(o=l[0]&2?i.return:l[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,l[1])).done)return o;switch(i=0,o&&(l=[l[0]&2,o.value]),l[0]){case 0:case 1:o=l;break;case 4:return n.label++,{value:l[1],done:!1};case 5:n.label++,i=l[1],l=[0];continue;case 7:l=n.ops.pop(),n.trys.pop();continue;default:if(o=n.trys,!(o=o.length>0&&o[o.length-1])&&(l[0]===6||l[0]===2)){n=0;continue}if(l[0]===3&&(!o||l[1]>o[0]&&l[1]<o[3])){n.label=l[1];break}if(l[0]===6&&n.label<o[1]){n.label=o[1],o=l;break}if(o&&n.label<o[2]){n.label=o[2],n.ops.push(l);break}o[2]&&n.ops.pop(),n.trys.pop();continue}l=e.call(t,n)}catch(u){l=[6,u],i=0}finally{r=o=0}if(l[0]&5)throw l[1];return{value:l[0]?l[1]:void 0,done:!0}}}function zn(t,e,n){if(n||arguments.length===2)for(var r=0,i=e.length,o;r<i;r++)(o||!(r in e))&&(o||(o=Array.prototype.slice.call(e,0,r)),o[r]=e[r]);return t.concat(o||Array.prototype.slice.call(e))}function Yx(t,e,n){e.split&&(e=e.split("."));for(var r=0,i=e.length,o=t,s,a;r<i&&(a=""+e[r++],!(a==="__proto__"||a==="constructor"||a==="prototype"));)o=o[a]=r===i?n:typeof(s=o[a])==typeof e?s:e[r]*0!==0||~(""+e[r]).indexOf(".")?{}:[]}var qse=function(t,e){return Object.keys(t).filter(function(n){return e(n,t[n])}).reduce(function(n,r){return n[r]=t[r],n},{})},Od=function(t){Ii(e,t);function e(n,r){var i=t.call(this,"".concat(n," ").concat(r))||this;return i.field=n,i}return e}(Error);function cu(t){return typeof t=="string"}function Jx(t){return typeof t=="number"}function yh(t){return typeof t=="function"}function Vse(t){return t!=null}function cs(t){return Object.prototype.toString.call(t).slice(8,-1).toLowerCase()==="object"}var UC="is not a string",zC="is not an object",Gse="is nil";function Yse(t){if(!Vse(t))throw new Od("Event",Gse);if(typeof t!="object")throw new Od("Event",zC)}function Jse(t){if(!cu(t.type))throw new Od(".type",UC)}function Zse(t){if(!cu(t.event))throw new Od(".event",UC)}function Qse(t){if(!cs(t.properties))throw new Od(".properties",zC)}function Xse(t){if(!cs(t.traits))throw new Od(".traits",zC)}function eae(t){if(!cu(t.messageId))throw new Od(".messageId",UC)}function tae(t){Yse(t),Jse(t),eae(t),t.type==="track"&&(Zse(t),Qse(t)),["group","identify"].includes(t.type)&&Xse(t)}var nae=function(){function t(e){var n,r;this.settings=e,this.createMessageId=e.createMessageId,this.onEventMethodCall=(n=e.onEventMethodCall)!==null&&n!==void 0?n:function(){},this.onFinishedEvent=(r=e.onFinishedEvent)!==null&&r!==void 0?r:function(){}}return t}(),rae=function(){function t(e){this.settings=new nae(e)}return t.prototype.track=function(e,n,r,i){return this.settings.onEventMethodCall({type:"track",options:r}),this.normalize(Te(Te({},this.baseEvent()),{event:e,type:"track",properties:n??{},options:Te({},r),integrations:Te({},i)}))},t.prototype.page=function(e,n,r,i,o){var s;this.settings.onEventMethodCall({type:"page",options:i});var a={type:"page",properties:Te({},r),options:Te({},i),integrations:Te({},o)};return e!==null&&(a.category=e,a.properties=(s=a.properties)!==null&&s!==void 0?s:{},a.properties.category=e),n!==null&&(a.name=n),this.normalize(Te(Te({},this.baseEvent()),a))},t.prototype.screen=function(e,n,r,i,o){this.settings.onEventMethodCall({type:"screen",options:i});var s={type:"screen",properties:Te({},r),options:Te({},i),integrations:Te({},o)};return e!==null&&(s.category=e),n!==null&&(s.name=n),this.normalize(Te(Te({},this.baseEvent()),s))},t.prototype.identify=function(e,n,r,i){return this.settings.onEventMethodCall({type:"identify",options:r}),this.normalize(Te(Te({},this.baseEvent()),{type:"identify",userId:e,traits:n??{},options:Te({},r),integrations:i}))},t.prototype.group=function(e,n,r,i){return this.settings.onEventMethodCall({type:"group",options:r}),this.normalize(Te(Te({},this.baseEvent()),{type:"group",traits:n??{},options:Te({},r),integrations:Te({},i),groupId:e}))},t.prototype.alias=function(e,n,r,i){this.settings.onEventMethodCall({type:"alias",options:r});var o={userId:e,type:"alias",options:Te({},r),integrations:Te({},i)};return n!==null&&(o.previousId=n),e===void 0?this.normalize(Te(Te({},o),this.baseEvent())):this.normalize(Te(Te({},this.baseEvent()),o))},t.prototype.baseEvent=function(){return{integrations:{},options:{}}},t.prototype.context=function(e){var n,r=["userId","anonymousId","timestamp","messageId"];delete e.integrations;var i=Object.keys(e),o=(n=e.context)!==null&&n!==void 0?n:{},s={};return i.forEach(function(a){a!=="context"&&(r.includes(a)?Yx(s,a,e[a]):Yx(o,a,e[a]))}),[o,s]},t.prototype.normalize=function(e){var n,r,i=Object.keys((n=e.integrations)!==null&&n!==void 0?n:{}).reduce(function(f,h){var g,p;return Te(Te({},f),(g={},g[h]=!!(!((p=e.integrations)===null||p===void 0)&&p[h]),g))},{});e.options=qse(e.options||{},function(f,h){return h!==void 0});var o=Te(Te({},i),(r=e.options)===null||r===void 0?void 0:r.integrations),s=e.options?this.context(e.options):[],a=s[0],c=s[1],l=e.options,u=c7(e,["options"]),d=Te(Te(Te(Te({timestamp:new Date},u),{context:a,integrations:o}),c),{messageId:l.messageId||this.settings.createMessageId()});return this.settings.onFinishedEvent(d),tae(d),d},t}();function iae(t,e){return new Promise(function(n,r){var i=setTimeout(function(){r(Error("Promise timed out"))},e);t.then(function(o){return clearTimeout(i),n(o)}).catch(r)})}function oae(t){return new Promise(function(e){return setTimeout(e,t)})}function sae(t,e,n){var r=function(){try{return Promise.resolve(e(t))}catch(i){return Promise.reject(i)}};return oae(n).then(function(){return iae(r(),1e3)}).catch(function(i){t==null||t.log("warn","Callback Error",{error:i}),t==null||t.stats.increment("callback_error")}).then(function(){return t})}var l7=function(){var t,e,n=!1,r=new Promise(function(i,o){t=function(){for(var s=[],a=0;a<arguments.length;a++)s[a]=arguments[a];n=!0,i.apply(void 0,s)},e=function(){for(var s=[],a=0;a<arguments.length;a++)s[a]=arguments[a];n=!0,o.apply(void 0,s)}});return{resolve:t,reject:e,promise:r,isSettled:function(){return n}}},HC=function(){function t(e){var n;this.callbacks={},this.warned=!1,this.maxListeners=(n=e==null?void 0:e.maxListeners)!==null&&n!==void 0?n:10}return t.prototype.warnIfPossibleMemoryLeak=function(e){this.warned||this.maxListeners&&this.callbacks[e].length>this.maxListeners&&(console.warn("Event Emitter: Possible memory leak detected; ".concat(String(e)," has exceeded ").concat(this.maxListeners," listeners.")),this.warned=!0)},t.prototype.on=function(e,n){return this.callbacks[e]?(this.callbacks[e].push(n),this.warnIfPossibleMemoryLeak(e)):this.callbacks[e]=[n],this},t.prototype.once=function(e,n){var r=this,i=function(){for(var o=[],s=0;s<arguments.length;s++)o[s]=arguments[s];r.off(e,i),n.apply(r,o)};return this.on(e,i),this},t.prototype.off=function(e,n){var r,i=(r=this.callbacks[e])!==null&&r!==void 0?r:[],o=i.filter(function(s){return s!==n});return this.callbacks[e]=o,this},t.prototype.emit=function(e){for(var n=this,r,i=[],o=1;o<arguments.length;o++)i[o-1]=arguments[o];var s=(r=this.callbacks[e])!==null&&r!==void 0?r:[];return s.forEach(function(a){a.apply(n,i)}),this},t}();function aae(t){var e=Math.random()+1,n=t.minTimeout,r=n===void 0?500:n,i=t.factor,o=i===void 0?2:i,s=t.attempt,a=t.maxTimeout,c=a===void 0?1/0:a;return Math.min(e*r*Math.pow(o,s),c)}var u7="onRemoveFromFuture",WC=function(t){Ii(e,t);function e(n,r,i){var o=t.call(this)||this;return o.future=[],o.maxAttempts=n,o.queue=r,o.seen=i??{},o}return e.prototype.push=function(){for(var n=this,r=[],i=0;i<arguments.length;i++)r[i]=arguments[i];var o=r.map(function(s){var a=n.updateAttempts(s);return a>n.maxAttempts||n.includes(s)?!1:(n.queue.push(s),!0)});return this.queue=this.queue.sort(function(s,a){return n.getAttempts(s)-n.getAttempts(a)}),o},e.prototype.pushWithBackoff=function(n,r){var i=this;if(r===void 0&&(r=0),r==0&&this.getAttempts(n)===0)return this.push(n)[0];var o=this.updateAttempts(n);if(o>this.maxAttempts||this.includes(n))return!1;var s=aae({attempt:o-1});return r>0&&s<r&&(s=r),setTimeout(function(){i.queue.push(n),i.future=i.future.filter(function(a){return a.id!==n.id}),i.emit(u7)},s),this.future.push(n),!0},e.prototype.getAttempts=function(n){var r;return(r=this.seen[n.id])!==null&&r!==void 0?r:0},e.prototype.updateAttempts=function(n){return this.seen[n.id]=this.getAttempts(n)+1,this.getAttempts(n)},e.prototype.includes=function(n){return this.queue.includes(n)||this.future.includes(n)||!!this.queue.find(function(r){return r.id===n.id})||!!this.future.find(function(r){return r.id===n.id})},e.prototype.pop=function(){return this.queue.shift()},Object.defineProperty(e.prototype,"length",{get:function(){return this.queue.length},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"todo",{get:function(){return this.queue.length+this.future.length},enumerable:!1,configurable:!0}),e}(HC),Gu=256,pv=[],n1;for(;Gu--;)pv[Gu]=(Gu+256).toString(16).substring(1);function KC(){var t=0,e,n="";if(!n1||Gu+16>256){for(n1=Array(t=256);t--;)n1[t]=256*Math.random()|0;t=Gu=0}for(;t<16;t++)e=n1[Gu+t],t==6?n+=pv[e&15|64]:t==8?n+=pv[e&63|128]:n+=pv[e],t&1&&t>1&&t<11&&(n+="-");return Gu++,n}var cae=function(){function t(){this._logs=[]}return t.prototype.log=function(e,n,r){var i=new Date;this._logs.push({level:e,message:n,time:i,extras:r})},Object.defineProperty(t.prototype,"logs",{get:function(){return this._logs},enumerable:!1,configurable:!0}),t.prototype.flush=function(){if(this.logs.length>1){var e=this._logs.reduce(function(n,r){var i,o,s,a=Te(Te({},r),{json:JSON.stringify(r.extras,null," "),extras:r.extras});delete a.time;var c=(s=(o=r.time)===null||o===void 0?void 0:o.toISOString())!==null&&s!==void 0?s:"";return n[c]&&(c="".concat(c,"-").concat(Math.random())),Te(Te({},n),(i={},i[c]=a,i))},{});console.table?console.table(e):console.log(e)}else this.logs.forEach(function(n){var r=n.level,i=n.message,o=n.extras;r==="info"||r==="debug"?console.log(i,o??""):console[r](i,o??"")});this._logs=[]},t}(),lae=function(t){var e={gauge:"g",counter:"c"};return e[t]},d7=function(){function t(){this.metrics=[]}return t.prototype.increment=function(e,n,r){n===void 0&&(n=1),this.metrics.push({metric:e,value:n,tags:r??[],type:"counter",timestamp:Date.now()})},t.prototype.gauge=function(e,n,r){this.metrics.push({metric:e,value:n,tags:r??[],type:"gauge",timestamp:Date.now()})},t.prototype.flush=function(){var e=this.metrics.map(function(n){return Te(Te({},n),{tags:n.tags.join(",")})});console.table?console.table(e):console.log(e),this.metrics=[]},t.prototype.serialize=function(){return this.metrics.map(function(e){return{m:e.metric,v:e.value,t:e.tags,k:lae(e.type),e:e.timestamp}})},t}(),uae=function(t){Ii(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype.gauge=function(){},e.prototype.increment=function(){},e.prototype.flush=function(){},e.prototype.serialize=function(){return[]},e}(d7),t0=function(){function t(e){var n,r,i;this.retry=(n=e.retry)!==null&&n!==void 0?n:!0,this.type=(r=e.type)!==null&&r!==void 0?r:"plugin Error",this.reason=(i=e.reason)!==null&&i!==void 0?i:""}return t}(),_w=function(){function t(e,n,r,i){n===void 0&&(n=KC()),r===void 0&&(r=new uae),i===void 0&&(i=new cae),this.attempts=0,this.event=e,this._id=n,this.logger=i,this.stats=r}return t.system=function(){},t.prototype.isSame=function(e){return e.id===this.id},t.prototype.cancel=function(e){throw e||new t0({reason:"Context Cancel"})},t.prototype.log=function(e,n,r){this.logger.log(e,n,r)},Object.defineProperty(t.prototype,"id",{get:function(){return this._id},enumerable:!1,configurable:!0}),t.prototype.updateEvent=function(e,n){var r;if(e.split(".")[0]==="integrations"){var i=e.split(".")[1];if(((r=this.event.integrations)===null||r===void 0?void 0:r[i])===!1)return this.event}return Yx(this.event,e,n),this.event},t.prototype.failedDelivery=function(){return this._failedDelivery},t.prototype.setFailedDelivery=function(e){this._failedDelivery=e},t.prototype.logs=function(){return this.logger.logs},t.prototype.flush=function(){this.logger.flush(),this.stats.flush()},t.prototype.toJSON=function(){return{id:this._id,event:this.event,logs:this.logger.logs,metrics:this.stats.metrics}},t}();function dae(t,e){var n={};return t.forEach(function(r){var i,o=void 0;{var s=r[e];o=typeof s!="string"?JSON.stringify(s):s}o!==void 0&&(n[o]=zn(zn([],(i=n[o])!==null&&i!==void 0?i:[],!0),[r],!1))}),n}var fae=function(t){return typeof t=="object"&&t!==null&&"then"in t&&typeof t.then=="function"},hae=function(){var t,e,n=0;return{done:function(){return t},run:function(r){var i=r();return fae(i)&&(++n===1&&(t=new Promise(function(o){return e=o})),i.finally(function(){return--n===0&&e()})),i}}};function pae(t){return tt(this,void 0,void 0,function(){var e;return nt(this,function(n){switch(n.label){case 0:return n.trys.push([0,2,,3]),[4,t()];case 1:return[2,n.sent()];case 2:return e=n.sent(),[2,Promise.reject(e)];case 3:return[2]}})})}function tg(t,e){t.log("debug","plugin",{plugin:e.name});var n=new Date().getTime(),r=e[t.event.type];if(r===void 0)return Promise.resolve(t);var i=pae(function(){return r.apply(e,[t])}).then(function(o){var s=new Date().getTime()-n;return o.stats.gauge("plugin_time",s,["plugin:".concat(e.name)]),o}).catch(function(o){if(o instanceof t0&&o.type==="middleware_cancellation")throw o;return o instanceof t0?(t.log("warn",o.type,{plugin:e.name,error:o}),o):(t.log("error","plugin Error",{plugin:e.name,error:o}),t.stats.increment("plugin_error",1,["plugin:".concat(e.name)]),o)});return i}function gae(t,e){return tg(t,e).then(function(n){if(n instanceof _w)return n;t.log("debug","Context canceled"),t.stats.increment("context_canceled"),t.cancel(n)})}var mae=function(t){Ii(e,t);function e(n){var r=t.call(this)||this;return r.criticalTasks=hae(),r.plugins=[],r.failedInitializations=[],r.flushing=!1,r.queue=n,r.queue.on(u7,function(){r.scheduleFlush(0)}),r}return e.prototype.register=function(n,r,i){return tt(this,void 0,void 0,function(){var o,s,a=this;return nt(this,function(c){switch(c.label){case 0:return this.plugins.push(r),o=function(l){a.failedInitializations.push(r.name),a.emit("initialization_failure",r),console.warn(r.name,l),n.log("warn","Failed to load destination",{plugin:r.name,error:l}),a.plugins=a.plugins.filter(function(u){return u!==r})},r.type==="destination"&&r.name!=="Segment.io"?(r.load(n,i).catch(o),[3,4]):[3,1];case 1:return c.trys.push([1,3,,4]),[4,r.load(n,i)];case 2:return c.sent(),[3,4];case 3:return s=c.sent(),o(s),[3,4];case 4:return[2]}})})},e.prototype.deregister=function(n,r,i){return tt(this,void 0,void 0,function(){var o;return nt(this,function(s){switch(s.label){case 0:return s.trys.push([0,3,,4]),r.unload?[4,Promise.resolve(r.unload(n,i))]:[3,2];case 1:s.sent(),s.label=2;case 2:return this.plugins=this.plugins.filter(function(a){return a.name!==r.name}),[3,4];case 3:return o=s.sent(),n.log("warn","Failed to unload destination",{plugin:r.name,error:o}),[3,4];case 4:return[2]}})})},e.prototype.dispatch=function(n){return tt(this,void 0,void 0,function(){var r;return nt(this,function(i){return n.log("debug","Dispatching"),n.stats.increment("message_dispatched"),this.queue.push(n),r=this.subscribeToDelivery(n),this.scheduleFlush(0),[2,r]})})},e.prototype.subscribeToDelivery=function(n){return tt(this,void 0,void 0,function(){var r=this;return nt(this,function(i){return[2,new Promise(function(o){var s=function(a,c){a.isSame(n)&&(r.off("flush",s),o(a))};r.on("flush",s)})]})})},e.prototype.dispatchSingle=function(n){return tt(this,void 0,void 0,function(){var r=this;return nt(this,function(i){return n.log("debug","Dispatching"),n.stats.increment("message_dispatched"),this.queue.updateAttempts(n),n.attempts=1,[2,this.deliver(n).catch(function(o){var s=r.enqueuRetry(o,n);return s?r.subscribeToDelivery(n):(n.setFailedDelivery({reason:o}),n)})]})})},e.prototype.isEmpty=function(){return this.queue.length===0},e.prototype.scheduleFlush=function(n){var r=this;n===void 0&&(n=500),!this.flushing&&(this.flushing=!0,setTimeout(function(){r.flush().then(function(){setTimeout(function(){r.flushing=!1,r.queue.length&&r.scheduleFlush(0)},0)})},n))},e.prototype.deliver=function(n){return tt(this,void 0,void 0,function(){var r,i,o,s;return nt(this,function(a){switch(a.label){case 0:return[4,this.criticalTasks.done()];case 1:a.sent(),r=Date.now(),a.label=2;case 2:return a.trys.push([2,4,,5]),[4,this.flushOne(n)];case 3:return n=a.sent(),i=Date.now()-r,this.emit("delivery_success",n),n.stats.gauge("delivered",i),n.log("debug","Delivered",n.event),[2,n];case 4:throw o=a.sent(),s=o,n.log("error","Failed to deliver",s),this.emit("delivery_failure",n,s),n.stats.increment("delivery_failed"),o;case 5:return[2]}})})},e.prototype.enqueuRetry=function(n,r){var i=!(n instanceof t0)||n.retry;return i?this.queue.pushWithBackoff(r):!1},e.prototype.flush=function(){return tt(this,void 0,void 0,function(){var n,r,i;return nt(this,function(o){switch(o.label){case 0:if(this.queue.length===0)return[2,[]];if(n=this.queue.pop(),!n)return[2,[]];n.attempts=this.queue.getAttempts(n),o.label=1;case 1:return o.trys.push([1,3,,4]),[4,this.deliver(n)];case 2:return n=o.sent(),this.emit("flush",n,!0),[3,4];case 3:return r=o.sent(),i=this.enqueuRetry(r,n),i||(n.setFailedDelivery({reason:r}),this.emit("flush",n,!1)),[2,[]];case 4:return[2,[n]]}})})},e.prototype.isReady=function(){return!0},e.prototype.availableExtensions=function(n){var r=this.plugins.filter(function(h){var g,p,S;if(h.type!=="destination"&&h.name!=="Segment.io")return!0;var y=void 0;return(g=h.alternativeNames)===null||g===void 0||g.forEach(function(b){n[b]!==void 0&&(y=n[b])}),(S=(p=n[h.name])!==null&&p!==void 0?p:y)!==null&&S!==void 0?S:(h.name==="Segment.io"?!0:n.All)!==!1}),i=dae(r,"type"),o=i.before,s=o===void 0?[]:o,a=i.enrichment,c=a===void 0?[]:a,l=i.destination,u=l===void 0?[]:l,d=i.after,f=d===void 0?[]:d;return{before:s,enrichment:c,destinations:u,after:f}},e.prototype.flushOne=function(n){var r,i;return tt(this,void 0,void 0,function(){var o,s,a,c,l,u,g,d,f,h,g,p,S,y,b;return nt(this,function(_){switch(_.label){case 0:if(!this.isReady())throw new Error("Not ready");n.attempts>1&&this.emit("delivery_retry",n),o=this.availableExtensions((r=n.event.integrations)!==null&&r!==void 0?r:{}),s=o.before,a=o.enrichment,c=0,l=s,_.label=1;case 1:return c<l.length?(u=l[c],[4,gae(n,u)]):[3,4];case 2:g=_.sent(),g instanceof _w&&(n=g),this.emit("message_enriched",n,u),_.label=3;case 3:return c++,[3,1];case 4:d=0,f=a,_.label=5;case 5:return d<f.length?(h=f[d],[4,tg(n,h)]):[3,8];case 6:g=_.sent(),g instanceof _w&&(n=g),this.emit("message_enriched",n,h),_.label=7;case 7:return d++,[3,5];case 8:return p=this.availableExtensions((i=n.event.integrations)!==null&&i!==void 0?i:{}),S=p.destinations,y=p.after,[4,new Promise(function(N,O){setTimeout(function(){var $=S.map(function(j){return tg(n,j)});Promise.all($).then(N).catch(O)},0)})];case 9:return _.sent(),n.stats.increment("message_delivered"),this.emit("message_delivered",n),b=y.map(function(N){return tg(n,N)}),[4,Promise.all(b)];case 10:return _.sent(),[2,n]}})})},e}(HC),yae=function(t,e){var n=Date.now()-t;return Math.max((e??300)-n,0)};function vae(t,e,n,r){return tt(this,void 0,void 0,function(){var i,o;return nt(this,function(s){switch(s.label){case 0:return n.emit("dispatch_start",t),i=Date.now(),e.isEmpty()?[4,e.dispatchSingle(t)]:[3,2];case 1:return o=s.sent(),[3,4];case 2:return[4,e.dispatch(t)];case 3:o=s.sent(),s.label=4;case 4:return r!=null&&r.callback?[4,sae(o,r.callback,yae(i,r.timeout))]:[3,6];case 5:o=s.sent(),s.label=6;case 6:return r!=null&&r.debug&&o.flush(),[2,o]}})})}function wae(t,e,n,r){var i,o=[t,e,n,r],s=cs(t)?t.event:t;if(!s||!cu(s))throw new Error("Event missing");var a=cs(t)?(i=t.properties)!==null&&i!==void 0?i:{}:cs(e)?e:{},c={};yh(n)||(c=n??{}),cs(t)&&!yh(e)&&(c=e??{});var l=o.find(yh);return[s,a,c,l]}function OP(t,e,n,r,i){var o,s,a=null,c=null,l=[t,e,n,r,i],u=l.filter(cu);u.length===1?cu(l[1])?(c=l[1],a=null):(c=u[0],a=null):u.length===2&&(typeof l[0]=="string"&&(a=l[0]),typeof l[1]=="string"&&(c=l[1]));var d=l.find(yh),f=l.filter(cs);return f.length===1?cs(l[2])?(s={},o=l[2]):cs(l[3])?(o={},s=l[3]):(o=f[0],s={}):f.length===2&&(o=f[0],s=f[1]),[a,c,o??(o={}),s??(s={}),d]}var TP=function(t){return function(){for(var e,n,r,i=[],o=0;o<arguments.length;o++)i[o]=arguments[o];for(var s={},a=["callback","options","traits","id"],c=0,l=i;c<l.length;c++){var u=l[c],d=a.pop();if(d==="id"){if(cu(u)||Jx(u)){s.id=u.toString();continue}if(u==null)continue;d=a.pop()}if((d==="traits"||d==="options")&&(u==null||cs(u))&&(s[d]=u),yh(u)){s.callback=u;break}}return[(e=s.id)!==null&&e!==void 0?e:t.id(),(n=s.traits)!==null&&n!==void 0?n:{},(r=s.options)!==null&&r!==void 0?r:{},s.callback]}};function bae(t,e,n,r){Jx(t)&&(t=t.toString()),Jx(e)&&(e=e.toString());var i=[t,e,n,r],o=i.filter(cu),s=o[0],a=s===void 0?t:s,c=o[1],l=c===void 0?null:c,u=i.filter(cs)[0],d=u===void 0?{}:u,f=i.find(yh);return[a,l,d,f]}function qC(){return typeof window<"u"}function axe(){return!qC()}function Eae(){return qC()?window.navigator.onLine:!0}function Fg(){return!Eae()}function xae(t,e){return e=e||{},new Promise(function(n,r){var i=new XMLHttpRequest,o=[],s=[],a={},c=function(){return{ok:(i.status/100|0)==2,statusText:i.statusText,status:i.status,url:i.responseURL,text:function(){return Promise.resolve(i.responseText)},json:function(){return Promise.resolve(i.responseText).then(JSON.parse)},blob:function(){return Promise.resolve(new Blob([i.response]))},clone:c,headers:{keys:function(){return o},entries:function(){return s},get:function(u){return a[u.toLowerCase()]},has:function(u){return u.toLowerCase()in a}}}};for(var l in i.open(e.method||"get",t,!0),i.onload=function(){i.getAllResponseHeaders().replace(/^(.*?):[^\S\n]*([\s\S]*?)$/gm,function(u,d,f){o.push(d=d.toLowerCase()),s.push([d,f]),a[d]=a[d]?a[d]+","+f:f}),n(c())},i.onerror=r,i.withCredentials=e.credentials=="include",e.headers)i.setRequestHeader(l,e.headers[l]);i.send(e.body||null)})}var VC=function(){return typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof globalThis<"u"?globalThis:null},y2=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n=VC();return(n&&n.fetch||xae).apply(void 0,t)},v2="1.81.1",f7="api.segment.io/v1",Sae=function(t,e,n){var r=e.reduce(function(i,o){var s=o.split(":"),a=s[0],c=s[1];return i[a]=c,i},{});return{type:"Counter",metric:t,value:1,tags:Te(Te({},r),{library:"analytics.js",library_version:"npm:next-".concat(v2)})}};function FE(t){console.error("Error sending segment performance metrics",t)}var _ae=function(){function t(e){var n=this,r,i,o,s,a;if(this.host=(r=e==null?void 0:e.host)!==null&&r!==void 0?r:f7,this.sampleRate=(i=e==null?void 0:e.sampleRate)!==null&&i!==void 0?i:1,this.flushTimer=(o=e==null?void 0:e.flushTimer)!==null&&o!==void 0?o:30*1e3,this.maxQueueSize=(s=e==null?void 0:e.maxQueueSize)!==null&&s!==void 0?s:20,this.protocol=(a=e==null?void 0:e.protocol)!==null&&a!==void 0?a:"https",this.queue=[],this.sampleRate>0){var c=!1,l=function(){c||(c=!0,n.flush().catch(FE),c=!1,setTimeout(l,n.flushTimer))};l()}}return t.prototype.increment=function(e,n){if(e.includes("analytics_js.")&&n.length!==0&&!(Math.random()>this.sampleRate)&&!(this.queue.length>=this.maxQueueSize)){var r=Sae(e,n);this.queue.push(r),e.includes("error")&&this.flush().catch(FE)}},t.prototype.flush=function(){return tt(this,void 0,void 0,function(){var e=this;return nt(this,function(n){switch(n.label){case 0:return this.queue.length<=0?[2]:[4,this.send().catch(function(r){FE(r),e.sampleRate=0})];case 1:return n.sent(),[2]}})})},t.prototype.send=function(){return tt(this,void 0,void 0,function(){var e,n,r;return nt(this,function(i){return e={series:this.queue},this.queue=[],n={"Content-Type":"text/plain"},r="".concat(this.protocol,"://").concat(this.host,"/m"),[2,y2(r,{headers:n,body:JSON.stringify(e),method:"POST"})]})})},t}(),r1,h7=function(t){Ii(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.initRemoteMetrics=function(n){r1=new _ae(n)},e.prototype.increment=function(n,r,i){t.prototype.increment.call(this,n,r,i),r1==null||r1.increment(n,i??[])},e}(d7),uc=function(t){Ii(e,t);function e(n,r){return t.call(this,n,r,new h7)||this}return e.system=function(){return new this({type:"track",event:"system"})},e}(_w);function Cae(t){return Object.prototype.toString.call(t).slice(8,-1).toLowerCase()==="object"}var p7="bpc",g7=function(t,e,n,r,i,o){return{__t:p7,c:e,p:r,u:t,s:n,t:i,r:o}},Aae=Object.keys(g7("","","","","",""));function Iae(t){if(!Cae(t)||t.__t!==p7)return!1;for(var e in t)if(!Aae.includes(e))return!1;return!0}var kae=function(t,e){return t.indexOf("?")>-1?t:t+e},Pae=function(t){var e=t.indexOf("#");return e===-1?t:t.slice(0,e)},Oae=function(t){try{return new URL(t).pathname}catch{return t[0]==="/"?t:"/"+t}},m7=function(t){var e=t.c,n=t.p,r=t.s,i=t.u,o=t.r,s=t.t,a=e?Oae(e):n,c=e?kae(e,r):Pae(i);return{path:a,referrer:o,search:r,title:s,url:c}},y7=function(){var t=document.querySelector("link[rel='canonical']");return g7(location.href,t&&t.getAttribute("href")||void 0,location.search,location.pathname,document.title,document.referrer)},Tae=function(){return m7(y7())};function Mae(t,e){return Object.assign.apply(Object,zn([{}],e.map(function(n){var r;if(t&&Object.prototype.hasOwnProperty.call(t,n))return r={},r[n]=t[n],r}),!1))}var gf=function(t,e){e===void 0&&(e=Tae());var n=t.context,r;t.type==="page"&&(r=t.properties&&Mae(t.properties,Object.keys(e)),t.properties=Te(Te(Te({},e),t.properties),t.name?{name:t.name}:{})),n.page=Te(Te(Te({},e),r),n.page)},Nae=function(t){Ii(e,t);function e(n){var r=t.call(this,{createMessageId:function(){return"ajs-next-".concat(Date.now(),"-").concat(KC())},onEventMethodCall:function(i){var o=i.options;r.maybeUpdateAnonId(o)},onFinishedEvent:function(i){return r.addIdentity(i),i}})||this;return r.user=n,r}return e.prototype.maybeUpdateAnonId=function(n){n!=null&&n.anonymousId&&this.user.anonymousId(n.anonymousId)},e.prototype.addIdentity=function(n){this.user.id()&&(n.userId=this.user.id()),this.user.anonymousId()&&(n.anonymousId=this.user.anonymousId())},e.prototype.track=function(n,r,i,o,s){var a=t.prototype.track.call(this,n,r,i,o);return gf(a,s),a},e.prototype.page=function(n,r,i,o,s,a){var c=t.prototype.page.call(this,n,r,i,o,s);return gf(c,a),c},e.prototype.screen=function(n,r,i,o,s,a){var c=t.prototype.screen.call(this,n,r,i,o,s);return gf(c,a),c},e.prototype.identify=function(n,r,i,o,s){var a=t.prototype.identify.call(this,n,r,i,o);return gf(a,s),a},e.prototype.group=function(n,r,i,o,s){var a=t.prototype.group.call(this,n,r,i,o);return gf(a,s),a},e.prototype.alias=function(n,r,i,o,s){var a=t.prototype.alias.call(this,n,r,i,o);return gf(a,s),a},e}(rae),Rae=function(t){return"addMiddleware"in t&&t.type==="destination"},ia={getItem:function(){},setItem:function(){},removeItem:function(){}};try{ia=qC()&&window.localStorage?window.localStorage:ia}catch(t){console.warn("Unable to access localStorage",t)}function v7(t){var e=ia.getItem(t);return(e?JSON.parse(e):[]).map(function(n){return new uc(n.event,n.id)})}function Lae(t,e){var n=v7(t),r=zn(zn([],e,!0),n,!0),i=r.reduce(function(o,s){var a;return Te(Te({},o),(a={},a[s.id]=s,a))},{});ia.setItem(t,JSON.stringify(Object.values(i)))}function w7(t){var e=ia.getItem(t);return e?JSON.parse(e):{}}function $ae(t,e){var n=w7(t);ia.setItem(t,JSON.stringify(Te(Te({},n),e)))}function MP(t){ia.removeItem(t)}var Bae=function(){return new Date().getTime()};function Zx(t,e,n){n===void 0&&(n=0);var r=50,i="persisted-queue:v1:".concat(t,":lock"),o=function(l){return new Date().getTime()>l},s=ia.getItem(i),a=s?JSON.parse(s):null,c=a===null||o(a);if(c){ia.setItem(i,JSON.stringify(Bae()+r)),e(),ia.removeItem(i);return}!c&&n<3?setTimeout(function(){Zx(t,e,n+1)},r):console.error("Unable to retrieve lock")}var GC=function(t){Ii(e,t);function e(n,r){var i=t.call(this,n,[])||this,o="persisted-queue:v1:".concat(r,":items"),s="persisted-queue:v1:".concat(r,":seen"),a=[],c={};return Zx(r,function(){try{a=v7(o),c=w7(s),MP(o),MP(s),i.queue=zn(zn([],a,!0),i.queue,!0),i.seen=Te(Te({},c),i.seen)}catch(l){console.error(l)}}),window.addEventListener("pagehide",function(){if(i.todo>0){var l=zn(zn([],i.queue,!0),i.future,!0);try{Zx(r,function(){Lae(o,l),$ae(s,i.seen)})}catch(u){console.error(u)}}}),i}return e}(WC),Dae=function(t){Ii(e,t);function e(n){return t.call(this,typeof n=="string"?new GC(4,n):n)||this}return e.prototype.flush=function(){return tt(this,void 0,void 0,function(){return nt(this,function(n){return Fg()?[2,[]]:[2,t.prototype.flush.call(this)]})})},e}(mae);function YC(t){for(var e=t.constructor.prototype,n=0,r=Object.getOwnPropertyNames(e);n<r.length;n++){var i=r[n];if(i!=="constructor"){var o=Object.getOwnPropertyDescriptor(t.constructor.prototype,i);o&&typeof o.value=="function"&&(t[i]=t[i].bind(t))}}return t}/*! js-cookie v3.0.1 | MIT */function i1(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)t[r]=n[r]}return t}var jae={read:function(t){return t[0]==='"'&&(t=t.slice(1,-1)),t.replace(/(%[\dA-F]{2})+/gi,decodeURIComponent)},write:function(t){return encodeURIComponent(t).replace(/%(2[346BF]|3[AC-F]|40|5[BDE]|60|7[BCD])/g,decodeURIComponent)}};function Qx(t,e){function n(i,o,s){if(!(typeof document>"u")){s=i1({},e,s),typeof s.expires=="number"&&(s.expires=new Date(Date.now()+s.expires*864e5)),s.expires&&(s.expires=s.expires.toUTCString()),i=encodeURIComponent(i).replace(/%(2[346B]|5E|60|7C)/g,decodeURIComponent).replace(/[()]/g,escape);var a="";for(var c in s)s[c]&&(a+="; "+c,s[c]!==!0&&(a+="="+s[c].split(";")[0]));return document.cookie=i+"="+t.write(o,i)+a}}function r(i){if(!(typeof document>"u"||arguments.length&&!i)){for(var o=document.cookie?document.cookie.split("; "):[],s={},a=0;a<o.length;a++){var c=o[a].split("="),l=c.slice(1).join("=");try{var u=decodeURIComponent(c[0]);if(s[u]=t.read(l,u),i===u)break}catch{}}return i?s[i]:s}}return Object.create({set:n,get:r,remove:function(i,o){n(i,"",i1({},o,{expires:-1}))},withAttributes:function(i){return Qx(this.converter,i1({},this.attributes,i))},withConverter:function(i){return Qx(i1({},this.converter,i),this.attributes)}},{attributes:{value:Object.freeze(e)},converter:{value:Object.freeze(t)}})}var Ja=Qx(jae,{path:"/"});function Fae(t){var e=t.hostname,n=e.split("."),r=n[n.length-1],i=[];if(n.length===4&&parseInt(r,10)>0||n.length<=1)return i;for(var o=n.length-2;o>=0;--o)i.push(n.slice(o).join("."));return i}function Uae(t){try{return new URL(t)}catch{return}}function b7(t){var e=Uae(t);if(e)for(var n=Fae(e),r=0;r<n.length;++r){var i="__tld__",o=n[r],s={domain:"."+o};try{if(Ja.set(i,"1",s),Ja.get(i))return Ja.remove(i,s),o}catch{return}}}var zae=365,E7=function(){function t(e){e===void 0&&(e=t.defaults),this.options=Te(Te({},t.defaults),e)}return Object.defineProperty(t,"defaults",{get:function(){return{maxage:zae,domain:b7(window.location.href),path:"/",sameSite:"Lax"}},enumerable:!1,configurable:!0}),t.prototype.opts=function(){return{sameSite:this.options.sameSite,expires:this.options.maxage,domain:this.options.domain,path:this.options.path,secure:this.options.secure}},t.prototype.get=function(e){var n;try{var r=Ja.get(e);if(r==null)return null;try{return(n=JSON.parse(r))!==null&&n!==void 0?n:null}catch{return r??null}}catch{return null}},t.prototype.set=function(e,n){typeof n=="string"?Ja.set(e,n,this.opts()):n===null?Ja.remove(e,this.opts()):Ja.set(e,JSON.stringify(n),this.opts())},t.prototype.remove=function(e){return Ja.remove(e,this.opts())},t}(),Hae=function(){function t(){}return t.prototype.localStorageWarning=function(e,n){console.warn("Unable to access ".concat(e,", localStorage may be ").concat(n))},t.prototype.get=function(e){var n;try{var r=localStorage.getItem(e);if(r===null)return null;try{return(n=JSON.parse(r))!==null&&n!==void 0?n:null}catch{return r??null}}catch{return this.localStorageWarning(e,"unavailable"),null}},t.prototype.set=function(e,n){try{localStorage.setItem(e,JSON.stringify(n))}catch{this.localStorageWarning(e,"full")}},t.prototype.remove=function(e){try{return localStorage.removeItem(e)}catch{this.localStorageWarning(e,"unavailable")}},t}(),JC=function(){function t(){this.cache={}}return t.prototype.get=function(e){var n;return(n=this.cache[e])!==null&&n!==void 0?n:null},t.prototype.set=function(e,n){this.cache[e]=n},t.prototype.remove=function(e){delete this.cache[e]},t}(),hi={Cookie:"cookie",LocalStorage:"localStorage",Memory:"memory"};function x7(t){return t&&t.stores&&Array.isArray(t.stores)&&t.stores.every(function(e){return Object.values(hi).includes(e)})}function Wae(t){return typeof t=="object"&&t.name!==void 0}var UE=function(t,e,n,r){console.warn("".concat(t.constructor.name,": Can't ").concat(e,' key "').concat(n,'" | Err: ').concat(r))},gd=function(){function t(e){this.stores=e}return t.prototype.get=function(e){for(var n=null,r=0,i=this.stores;r<i.length;r++){var o=i[r];try{if(n=o.get(e),n!=null)return n}catch(s){UE(o,"get",e,s)}}return null},t.prototype.set=function(e,n){this.stores.forEach(function(r){try{r.set(e,n)}catch(i){UE(r,"set",e,i)}})},t.prototype.clear=function(e){this.stores.forEach(function(n){try{n.remove(e)}catch(r){UE(n,"remove",e,r)}})},t.prototype.getAndSync=function(e){var n=this.get(e),r=typeof n=="number"?n.toString():n;return this.set(e,r),r},t}();function Xx(t){var e=t.map(function(n){var r,i;switch(Wae(n)?(r=n.name,i=n.settings):r=n,r){case hi.Cookie:return new E7(i);case hi.LocalStorage:return new Hae;case hi.Memory:return new JC;default:throw new Error("Unknown Store Type: ".concat(n))}});return e}function S7(t,e){return t.map(function(n){return e&&n===hi.Cookie?{name:n,settings:e}:n})}var ku={persist:!0,cookie:{key:"ajs_user_id",oldKey:"ajs_user"},localStorage:{key:"ajs_user_traits"}},_7=function(){function t(e,n){e===void 0&&(e=ku);var r=this,i,o,s,a;this.options={},this.id=function(l){if(r.options.disable)return null;var u=r.identityStore.getAndSync(r.idKey);if(l!==void 0){r.identityStore.set(r.idKey,l);var d=l!==u&&u!==null&&l!==null;d&&r.anonymousId(null)}var f=r.identityStore.getAndSync(r.idKey);if(f)return f;var h=r.legacyUserStore.get(ku.cookie.oldKey);return h?typeof h=="object"?h.id:h:null},this.anonymousId=function(l){var u,d;if(r.options.disable)return null;if(l===void 0){var f=(u=r.identityStore.getAndSync(r.anonKey))!==null&&u!==void 0?u:(d=r.legacySIO())===null||d===void 0?void 0:d[0];if(f)return f}return l===null?(r.identityStore.set(r.anonKey,null),r.identityStore.getAndSync(r.anonKey)):(r.identityStore.set(r.anonKey,l??KC()),r.identityStore.getAndSync(r.anonKey))},this.traits=function(l){var u;if(!r.options.disable)return l===null&&(l={}),l&&r.traitsStore.set(r.traitsKey,l??{}),(u=r.traitsStore.get(r.traitsKey))!==null&&u!==void 0?u:{}},this.options=Te(Te({},ku),e),this.cookieOptions=n,this.idKey=(o=(i=e.cookie)===null||i===void 0?void 0:i.key)!==null&&o!==void 0?o:ku.cookie.key,this.traitsKey=(a=(s=e.localStorage)===null||s===void 0?void 0:s.key)!==null&&a!==void 0?a:ku.localStorage.key,this.anonKey="ajs_anonymous_id",this.identityStore=this.createStorage(this.options,n),this.legacyUserStore=this.createStorage(this.options,n,function(l){return l===hi.Cookie}),this.traitsStore=this.createStorage(this.options,n,function(l){return l!==hi.Cookie});var c=this.legacyUserStore.get(ku.cookie.oldKey);c&&typeof c=="object"&&(c.id&&this.id(c.id),c.traits&&this.traits(c.traits)),YC(this)}return t.prototype.legacySIO=function(){var e=this.legacyUserStore.get("_sio");if(!e)return null;var n=e.split("----"),r=n[0],i=n[1];return[r,i]},t.prototype.identify=function(e,n){if(!this.options.disable){n=n??{};var r=this.id();(r===null||r===e)&&(n=Te(Te({},this.traits()),n)),e&&this.id(e),this.traits(n)}},t.prototype.logout=function(){this.anonymousId(null),this.id(null),this.traits({})},t.prototype.reset=function(){this.logout(),this.identityStore.clear(this.idKey),this.identityStore.clear(this.anonKey),this.traitsStore.clear(this.traitsKey)},t.prototype.load=function(){return new t(this.options,this.cookieOptions)},t.prototype.save=function(){return!0},t.prototype.createStorage=function(e,n,r){var i=[hi.LocalStorage,hi.Cookie,hi.Memory];return e.disable?new gd([]):e.persist?(e.storage!==void 0&&e.storage!==null&&x7(e.storage)&&(i=e.storage.stores),e.localStorageFallbackDisabled&&(i=i.filter(function(o){return o!==hi.LocalStorage})),r&&(i=i.filter(r)),new gd(Xx(S7(i,n)))):new gd([new JC])},t.defaults=ku,t}(),NP={persist:!0,cookie:{key:"ajs_group_id"},localStorage:{key:"ajs_group_properties"}},Kae=function(t){Ii(e,t);function e(n,r){n===void 0&&(n=NP);var i=t.call(this,Te(Te({},NP),n),r)||this;return i.anonymousId=function(o){},YC(i),i}return e}(_7),ZC="analytics";function C7(){return window[ZC]}function qae(t){ZC=t}function Vae(t){window[ZC]=t}var Gae=function(t){return typeof t=="object"&&t!==null&&"then"in t&&typeof t.then=="function"},A7=function(t,e,n){n.getAndRemove(t).forEach(function(r){w2(e,r).catch(console.error)})},Yae=function(t,e){return tt(void 0,void 0,void 0,function(){var n,r,i;return nt(this,function(o){switch(o.label){case 0:n=0,r=e.getAndRemove("addSourceMiddleware"),o.label=1;case 1:return n<r.length?(i=r[n],[4,w2(t,i).catch(console.error)]):[3,4];case 2:o.sent(),o.label=3;case 3:return n++,[3,1];case 4:return[2]}})})},Jae=function(t,e){return tt(void 0,void 0,void 0,function(){var n,r,i;return nt(this,function(o){switch(o.label){case 0:n=0,r=e.getAndRemove("register"),o.label=1;case 1:return n<r.length?(i=r[n],[4,w2(t,i).catch(console.error)]):[3,4];case 2:o.sent(),o.label=3;case 3:return n++,[3,1];case 4:return[2]}})})},Zae=A7.bind(void 0,"on"),Qae=A7.bind(void 0,"setAnonymousId"),Xae=function(t,e){Object.keys(e.calls).forEach(function(n){e.getAndRemove(n).forEach(function(r){setTimeout(function(){w2(t,r).catch(console.error)},0)})})},mf=function(t){if(I7(t)){var e=t.pop();return m7(e)}},I7=function(t){var e=t[t.length-1];return Iae(e)},eS=function(){function t(e,n,r,i){r===void 0&&(r=function(){}),i===void 0&&(i=console.error),this.method=e,this.resolve=r,this.reject=i,this.called=!1,this.args=n}return t}(),ece=function(){function t(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];this._callMap={},this.add.apply(this,e)}return Object.defineProperty(t.prototype,"calls",{get:function(){return this._pushSnippetWindowBuffer(),this._callMap},set:function(e){this._callMap=e},enumerable:!1,configurable:!0}),t.prototype.get=function(e){var n;return(n=this.calls[e])!==null&&n!==void 0?n:[]},t.prototype.getAndRemove=function(e){var n=this.get(e);return this.calls[e]=[],n},t.prototype.add=function(){for(var e=this,n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];n.forEach(function(i){var o=["track","screen","alias","group","page","identify"];o.includes(i.method)&&!I7(i.args)&&(i.args=zn(zn([],i.args,!0),[y7()],!1)),e.calls[i.method]?e.calls[i.method].push(i):e.calls[i.method]=[i]})},t.prototype.clear=function(){this._pushSnippetWindowBuffer(),this.calls={}},t.prototype.toArray=function(){var e;return(e=[]).concat.apply(e,Object.values(this.calls))},t.prototype._pushSnippetWindowBuffer=function(){},t}();function w2(t,e){return tt(this,void 0,void 0,function(){var n,r;return nt(this,function(i){switch(i.label){case 0:return i.trys.push([0,3,,4]),e.called?[2,void 0]:(e.called=!0,n=t[e.method].apply(t,e.args),Gae(n)?[4,n]:[3,2]);case 1:i.sent(),i.label=2;case 2:return e.resolve(n),[3,4];case 3:return r=i.sent(),e.reject(r),[3,4];case 4:return[2]}})})}var tce=function(){function t(e){var n=this;this.trackSubmit=this._createMethod("trackSubmit"),this.trackClick=this._createMethod("trackClick"),this.trackLink=this._createMethod("trackLink"),this.pageView=this._createMethod("pageview"),this.identify=this._createMethod("identify"),this.reset=this._createMethod("reset"),this.group=this._createMethod("group"),this.track=this._createMethod("track"),this.ready=this._createMethod("ready"),this.alias=this._createMethod("alias"),this.debug=this._createChainableMethod("debug"),this.page=this._createMethod("page"),this.once=this._createChainableMethod("once"),this.off=this._createChainableMethod("off"),this.on=this._createChainableMethod("on"),this.addSourceMiddleware=this._createMethod("addSourceMiddleware"),this.setAnonymousId=this._createMethod("setAnonymousId"),this.addDestinationMiddleware=this._createMethod("addDestinationMiddleware"),this.screen=this._createMethod("screen"),this.register=this._createMethod("register"),this.deregister=this._createMethod("deregister"),this.user=this._createMethod("user"),this.VERSION=v2,this._preInitBuffer=new ece,this._promise=e(this._preInitBuffer),this._promise.then(function(r){var i=r[0],o=r[1];n.instance=i,n.ctx=o}).catch(function(){})}return t.prototype.then=function(){for(var e,n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];return(e=this._promise).then.apply(e,n)},t.prototype.catch=function(){for(var e,n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];return(e=this._promise).catch.apply(e,n)},t.prototype.finally=function(){for(var e,n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];return(e=this._promise).finally.apply(e,n)},t.prototype._createMethod=function(e){var n=this;return function(){for(var r,i=[],o=0;o<arguments.length;o++)i[o]=arguments[o];if(n.instance){var s=(r=n.instance)[e].apply(r,i);return Promise.resolve(s)}return new Promise(function(a,c){n._preInitBuffer.add(new eS(e,i,a,c))})}},t.prototype._createChainableMethod=function(e){var n=this;return function(){for(var r,i=[],o=0;o<arguments.length;o++)i[o]=arguments[o];return n.instance?((r=n.instance)[e].apply(r,i),n):(n._preInitBuffer.add(new eS(e,i)),n)}},t}(),ol={},Ea={},QC={},k7={exports:{}};(function(t){t.exports=e(n),t.exports.find=t.exports,t.exports.replace=function(a,c,l,u){return e(i).call(this,a,c,l,u),a},t.exports.del=function(a,c,l){return e(r).call(this,a,c,null,l),a};function e(a){return function(c,l,u,d){var f=d&&s(d.normalizer)?d.normalizer:o;l=f(l);for(var h,g=!1;!g;)p();function p(){for(h in c){var S=f(h);if(l.indexOf(S)===0){var y=l.substr(S.length);if(y.charAt(0)==="."||y.length===0){l=y.substr(1);var b=c[h];if(b==null){g=!0;return}if(!l.length){g=!0;return}c=b;return}}}h=void 0,g=!0}if(h)return c==null?c:a(c,h,u)}}function n(a,c){if(a.hasOwnProperty(c))return a[c]}function r(a,c){return a.hasOwnProperty(c)&&delete a[c],a}function i(a,c,l){return a.hasOwnProperty(c)&&(a[c]=l),a}function o(a){return a.replace(/[^a-zA-Z0-9\.]+/g,"").toLowerCase()}function s(a){return typeof a=="function"}})(k7);var b2=k7.exports,nce=en&&en.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(QC,"__esModule",{value:!0});var Zc=nce(b2);function yf(t,e){return function(){var n=this.traits(),r=this.properties?this.properties():{};return Zc.default(n,"address."+t)||Zc.default(n,t)||(e?Zc.default(n,"address."+e):null)||(e?Zc.default(n,e):null)||Zc.default(r,"address."+t)||Zc.default(r,t)||(e?Zc.default(r,"address."+e):null)||(e?Zc.default(r,e):null)}}function rce(t){t.zip=yf("postalCode","zip"),t.country=yf("country"),t.street=yf("street"),t.state=yf("state"),t.city=yf("city"),t.region=yf("region")}QC.default=rce;var E2={};Object.defineProperty(E2,"__esModule",{value:!0});E2.clone=void 0;function tS(t){if(typeof t!="object")return t;if(Object.prototype.toString.call(t)==="[object Object]"){var e={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=tS(t[n]));return e}else return Array.isArray(t)?t.map(tS):t}E2.clone=tS;var XC={};Object.defineProperty(XC,"__esModule",{value:!0});var ice={Salesforce:!0};function oce(t){return!ice[t]}XC.default=oce;var x2={},P7=/^(\d{4})(?:-?(\d{2})(?:-?(\d{2}))?)?(?:([ T])(\d{2}):?(\d{2})(?::?(\d{2})(?:[,\.](\d{1,}))?)?(?:(Z)|([+\-])(\d{2})(?::?(\d{2}))?)?)?$/;x2.parse=function(t){var e=[1,5,6,7,11,12],n=P7.exec(t),r=0;if(!n)return new Date(t);for(var i=0,o;o=e[i];i++)n[o]=parseInt(n[o],10)||0;n[2]=parseInt(n[2],10)||1,n[3]=parseInt(n[3],10)||1,n[2]--,n[8]=n[8]?(n[8]+"00").substring(0,3):0,n[4]===" "?r=new Date().getTimezoneOffset():n[9]!=="Z"&&n[10]&&(r=n[11]*60+n[12],n[10]==="+"&&(r=0-r));var s=Date.UTC(n[1],n[2],n[3],n[5],n[6]+r,n[7],n[8]);return new Date(s)};x2.is=function(t,e){return typeof t!="string"||e&&/^\d{4}-\d{2}-\d{2}/.test(t)===!1?!1:P7.test(t)};var eA={},sce=/\d{13}/;eA.is=function(t){return sce.test(t)};eA.parse=function(t){return t=parseInt(t,10),new Date(t)};var tA={},ace=/\d{10}/;tA.is=function(t){return ace.test(t)};tA.parse=function(t){var e=parseInt(t,10)*1e3;return new Date(e)};var RP=x2,LP=eA,$P=tA,cce=Object.prototype,O7=cce.toString;function lce(t){return O7.call(t)==="[object Date]"}function uce(t){return O7.call(t)==="[object Number]"}var nA=function(e){return lce(e)?e:uce(e)?new Date(dce(e)):RP.is(e)?RP.parse(e):LP.is(e)?LP.parse(e):$P.is(e)?$P.parse(e):new Date(e)};function dce(t){return t<315576e5?t*1e3:t}var BP=x2,fce=rA;function rA(t,e){return e===void 0&&(e=!0),t&&typeof t=="object"?hce(t,e):Array.isArray(t)?pce(t,e):BP.is(t,e)?BP.parse(t):t}function hce(t,e){return Object.keys(t).forEach(function(n){t[n]=rA(t[n],e)}),t}function pce(t,e){return t.forEach(function(n,r){t[r]=rA(n,e)}),t}var Vm=en&&en.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Ea,"__esModule",{value:!0});Ea.Facade=void 0;var gce=Vm(QC),n0=E2,mce=Vm(XC),yce=Vm(nA),nS=Vm(b2),vce=Vm(fce);function Ji(t,e){e=e||{},this.raw=n0.clone(t),"clone"in e||(e.clone=!0),e.clone&&(t=n0.clone(t)),"traverse"in e||(e.traverse=!0),"timestamp"in t?t.timestamp=yce.default(t.timestamp):t.timestamp=new Date,e.traverse&&vce.default(t),this.opts=e,this.obj=t}Ea.Facade=Ji;var un=Ji.prototype;un.proxy=function(t){var e=t.split(".");t=e.shift();var n=this[t]||this.obj[t];return n&&(typeof n=="function"&&(n=n.call(this)||{}),e.length===0?this.opts.clone?rS(n):n:(n=nS.default(n,e.join(".")),this.opts.clone?rS(n):n))};un.field=function(t){var e=this.obj[t];return this.opts.clone?rS(e):e};Ji.proxy=function(t){return function(){return this.proxy(t)}};Ji.field=function(t){return function(){return this.field(t)}};Ji.multi=function(t){return function(){var e=this.proxy(t+"s");if(Array.isArray(e))return e;var n=this.proxy(t);return n&&(n=[this.opts.clone?n0.clone(n):n]),n||[]}};Ji.one=function(t){return function(){var e=this.proxy(t);if(e)return e;var n=this.proxy(t+"s");if(Array.isArray(n))return n[0]}};un.json=function(){var t=this.opts.clone?n0.clone(this.obj):this.obj;return this.type&&(t.type=this.type()),t};un.rawEvent=function(){return this.raw};un.options=function(t){var e=this.obj.options||this.obj.context||{},n=this.opts.clone?n0.clone(e):e;if(!t)return n;if(this.enabled(t)){var r=this.integrations(),i=r[t]||nS.default(r,t);return typeof i!="object"&&(i=nS.default(this.options(),t)),typeof i=="object"?i:{}}};un.context=un.options;un.enabled=function(t){var e=this.proxy("options.providers.all");typeof e!="boolean"&&(e=this.proxy("options.all")),typeof e!="boolean"&&(e=this.proxy("integrations.all")),typeof e!="boolean"&&(e=!0);var n=e&&mce.default(t),r=this.integrations();if(r.providers&&r.providers.hasOwnProperty(t)&&(n=r.providers[t]),r.hasOwnProperty(t)){var i=r[t];typeof i=="boolean"?n=i:n=!0}return!!n};un.integrations=function(){return this.obj.integrations||this.proxy("options.providers")||this.options()};un.active=function(){var t=this.proxy("options.active");return t==null&&(t=!0),t};un.anonymousId=function(){return this.field("anonymousId")||this.field("sessionId")};un.sessionId=un.anonymousId;un.groupId=Ji.proxy("options.groupId");un.traits=function(t){var e=this.proxy("options.traits")||{},n=this.userId();t=t||{},n&&(e.id=n);for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){var i=this[r]==null?this.proxy("options.traits."+r):this[r]();if(i==null)continue;e[t[r]]=i,delete e[r]}return e};un.library=function(){var t=this.proxy("options.library");return t?typeof t=="string"?{name:t,version:null}:t:{name:"unknown",version:null}};un.device=function(){var t=this.proxy("context.device");(typeof t!="object"||t===null)&&(t={});var e=this.library().name;return t.type||(e.indexOf("ios")>-1&&(t.type="ios"),e.indexOf("android")>-1&&(t.type="android")),t};un.userAgent=Ji.proxy("context.userAgent");un.timezone=Ji.proxy("context.timezone");un.timestamp=Ji.field("timestamp");un.channel=Ji.field("channel");un.ip=Ji.proxy("context.ip");un.userId=Ji.field("userId");gce.default(un);function rS(t){return n0.clone(t)}var S2={},wce=en&&en.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(S2,"__esModule",{value:!0});S2.Alias=void 0;var bce=wce(Es),T7=Ea;function ps(t,e){T7.Facade.call(this,t,e)}S2.Alias=ps;bce.default(ps,T7.Facade);ps.prototype.action=function(){return"alias"};ps.prototype.type=ps.prototype.action;ps.prototype.previousId=function(){return this.field("previousId")||this.field("from")};ps.prototype.from=ps.prototype.previousId;ps.prototype.userId=function(){return this.field("userId")||this.field("to")};ps.prototype.to=ps.prototype.userId;var _2={},k0={};Object.defineProperty(k0,"__esModule",{value:!0});var Ece=/.+\@.+\..+/;function xce(t){return Ece.test(t)}k0.default=xce;var iA=en&&en.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(_2,"__esModule",{value:!0});_2.Group=void 0;var Sce=iA(Es),_ce=iA(k0),Cce=iA(nA),P0=Ea;function oA(t,e){P0.Facade.call(this,t,e)}_2.Group=oA;Sce.default(oA,P0.Facade);var gs=oA.prototype;gs.action=function(){return"group"};gs.type=gs.action;gs.groupId=P0.Facade.field("groupId");gs.created=function(){var t=this.proxy("traits.createdAt")||this.proxy("traits.created")||this.proxy("properties.createdAt")||this.proxy("properties.created");if(t)return Cce.default(t)};gs.email=function(){var t=this.proxy("traits.email");if(t)return t;var e=this.groupId();if(_ce.default(e))return e};gs.traits=function(t){var e=this.properties(),n=this.groupId();t=t||{},n&&(e.id=n);for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){var i=this[r]==null?this.proxy("traits."+r):this[r]();if(i==null)continue;e[t[r]]=i,delete e[r]}return e};gs.name=P0.Facade.proxy("traits.name");gs.industry=P0.Facade.proxy("traits.industry");gs.employees=P0.Facade.proxy("traits.employees");gs.properties=function(){return this.field("traits")||this.field("properties")||{}};var Gm={},C2=en&&en.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Gm,"__esModule",{value:!0});Gm.Identify=void 0;var xa=Ea,vh=C2(b2),Ace=C2(Es),Ice=C2(k0),M7=C2(nA),md=function(t){return t.trim()};function sA(t,e){xa.Facade.call(this,t,e)}Gm.Identify=sA;Ace.default(sA,xa.Facade);var dn=sA.prototype;dn.action=function(){return"identify"};dn.type=dn.action;dn.traits=function(t){var e=this.field("traits")||{},n=this.userId();t=t||{},n&&(e.id=n);for(var r in t){var i=this[r]==null?this.proxy("traits."+r):this[r]();i!=null&&(e[t[r]]=i,r!==t[r]&&delete e[r])}return e};dn.email=function(){var t=this.proxy("traits.email");if(t)return t;var e=this.userId();if(Ice.default(e))return e};dn.created=function(){var t=this.proxy("traits.created")||this.proxy("traits.createdAt");if(t)return M7.default(t)};dn.companyCreated=function(){var t=this.proxy("traits.company.created")||this.proxy("traits.company.createdAt");if(t)return M7.default(t)};dn.companyName=function(){return this.proxy("traits.company.name")};dn.name=function(){var t=this.proxy("traits.name");if(typeof t=="string")return md(t);var e=this.firstName(),n=this.lastName();if(e&&n)return md(e+" "+n)};dn.firstName=function(){var t=this.proxy("traits.firstName");if(typeof t=="string")return md(t);var e=this.proxy("traits.name");if(typeof e=="string")return md(e).split(" ")[0]};dn.lastName=function(){var t=this.proxy("traits.lastName");if(typeof t=="string")return md(t);var e=this.proxy("traits.name");if(typeof e=="string"){var n=md(e).indexOf(" ");if(n!==-1)return md(e.substr(n+1))}};dn.uid=function(){return this.userId()||this.username()||this.email()};dn.description=function(){return this.proxy("traits.description")||this.proxy("traits.background")};dn.age=function(){var t=this.birthday(),e=vh.default(this.traits(),"age");if(e!=null)return e;if(t instanceof Date){var n=new Date;return n.getFullYear()-t.getFullYear()}};dn.avatar=function(){var t=this.traits();return vh.default(t,"avatar")||vh.default(t,"photoUrl")||vh.default(t,"avatarUrl")};dn.position=function(){var t=this.traits();return vh.default(t,"position")||vh.default(t,"jobTitle")};dn.username=xa.Facade.proxy("traits.username");dn.website=xa.Facade.one("traits.website");dn.websites=xa.Facade.multi("traits.website");dn.phone=xa.Facade.one("traits.phone");dn.phones=xa.Facade.multi("traits.phone");dn.address=xa.Facade.proxy("traits.address");dn.gender=xa.Facade.proxy("traits.gender");dn.birthday=xa.Facade.proxy("traits.birthday");var O0={},aA=en&&en.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(O0,"__esModule",{value:!0});O0.Track=void 0;var kce=aA(Es),sr=Ea,Pce=Gm,Oce=aA(k0),N7=aA(b2);function cA(t,e){sr.Facade.call(this,t,e)}O0.Track=cA;kce.default(cA,sr.Facade);var bt=cA.prototype;bt.action=function(){return"track"};bt.type=bt.action;bt.event=sr.Facade.field("event");bt.value=sr.Facade.proxy("properties.value");bt.category=sr.Facade.proxy("properties.category");bt.id=sr.Facade.proxy("properties.id");bt.productId=function(){return this.proxy("properties.product_id")||this.proxy("properties.productId")};bt.promotionId=function(){return this.proxy("properties.promotion_id")||this.proxy("properties.promotionId")};bt.cartId=function(){return this.proxy("properties.cart_id")||this.proxy("properties.cartId")};bt.checkoutId=function(){return this.proxy("properties.checkout_id")||this.proxy("properties.checkoutId")};bt.paymentId=function(){return this.proxy("properties.payment_id")||this.proxy("properties.paymentId")};bt.couponId=function(){return this.proxy("properties.coupon_id")||this.proxy("properties.couponId")};bt.wishlistId=function(){return this.proxy("properties.wishlist_id")||this.proxy("properties.wishlistId")};bt.reviewId=function(){return this.proxy("properties.review_id")||this.proxy("properties.reviewId")};bt.orderId=function(){return this.proxy("properties.id")||this.proxy("properties.order_id")||this.proxy("properties.orderId")};bt.sku=sr.Facade.proxy("properties.sku");bt.tax=sr.Facade.proxy("properties.tax");bt.name=sr.Facade.proxy("properties.name");bt.price=sr.Facade.proxy("properties.price");bt.total=sr.Facade.proxy("properties.total");bt.repeat=sr.Facade.proxy("properties.repeat");bt.coupon=sr.Facade.proxy("properties.coupon");bt.shipping=sr.Facade.proxy("properties.shipping");bt.discount=sr.Facade.proxy("properties.discount");bt.shippingMethod=function(){return this.proxy("properties.shipping_method")||this.proxy("properties.shippingMethod")};bt.paymentMethod=function(){return this.proxy("properties.payment_method")||this.proxy("properties.paymentMethod")};bt.description=sr.Facade.proxy("properties.description");bt.plan=sr.Facade.proxy("properties.plan");bt.subtotal=function(){var t=N7.default(this.properties(),"subtotal"),e=this.total()||this.revenue();if(t)return t;if(!e)return 0;if(this.total()){var n=this.tax();n&&(e-=n),n=this.shipping(),n&&(e-=n),n=this.discount(),n&&(e+=n)}return e};bt.products=function(){var t=this.properties(),e=N7.default(t,"products");return Array.isArray(e)?e.filter(function(n){return n!==null}):[]};bt.quantity=function(){var t=this.obj.properties||{};return t.quantity||1};bt.currency=function(){var t=this.obj.properties||{};return t.currency||"USD"};bt.referrer=function(){return this.proxy("context.referrer.url")||this.proxy("context.page.referrer")||this.proxy("properties.referrer")};bt.query=sr.Facade.proxy("options.query");bt.properties=function(t){var e=this.field("properties")||{};t=t||{};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){var r=this[n]==null?this.proxy("properties."+n):this[n]();if(r==null)continue;e[t[n]]=r,delete e[n]}return e};bt.username=function(){return this.proxy("traits.username")||this.proxy("properties.username")||this.userId()||this.sessionId()};bt.email=function(){var t=this.proxy("traits.email")||this.proxy("properties.email")||this.proxy("options.traits.email");if(t)return t;var e=this.userId();if(Oce.default(e))return e};bt.revenue=function(){var t=this.proxy("properties.revenue"),e=this.event(),n=/^[ _]?completed[ _]?order[ _]?|^[ _]?order[ _]?completed[ _]?$/i;return!t&&e&&e.match(n)&&(t=this.proxy("properties.total")),Tce(t)};bt.cents=function(){var t=this.revenue();return typeof t!="number"?this.value()||0:t*100};bt.identify=function(){var t=this.json();return t.traits=this.traits(),new Pce.Identify(t,this.opts)};function Tce(t){if(t){if(typeof t=="number")return t;if(typeof t=="string"&&(t=t.replace(/\$/g,""),t=parseFloat(t),!isNaN(t)))return t}}var Ym={},R7=en&&en.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Ym,"__esModule",{value:!0});Ym.Page=void 0;var Mce=R7(Es),Yd=Ea,Nce=O0,Rce=R7(k0);function lA(t,e){Yd.Facade.call(this,t,e)}Ym.Page=lA;Mce.default(lA,Yd.Facade);var Ci=lA.prototype;Ci.action=function(){return"page"};Ci.type=Ci.action;Ci.category=Yd.Facade.field("category");Ci.name=Yd.Facade.field("name");Ci.title=Yd.Facade.proxy("properties.title");Ci.path=Yd.Facade.proxy("properties.path");Ci.url=Yd.Facade.proxy("properties.url");Ci.referrer=function(){return this.proxy("context.referrer.url")||this.proxy("context.page.referrer")||this.proxy("properties.referrer")};Ci.properties=function(t){var e=this.field("properties")||{},n=this.category(),r=this.name();t=t||{},n&&(e.category=n),r&&(e.name=r);for(var i in t)if(Object.prototype.hasOwnProperty.call(t,i)){var o=this[i]==null?this.proxy("properties."+i):this[i]();if(o==null)continue;e[t[i]]=o,i!==t[i]&&delete e[i]}return e};Ci.email=function(){var t=this.proxy("context.traits.email")||this.proxy("properties.email");if(t)return t;var e=this.userId();if(Rce.default(e))return e};Ci.fullName=function(){var t=this.category(),e=this.name();return e&&t?t+" "+e:e};Ci.event=function(t){return t?"Viewed "+t+" Page":"Loaded a Page"};Ci.track=function(t){var e=this.json();return e.event=this.event(t),e.timestamp=this.timestamp(),e.properties=this.properties(),new Nce.Track(e,this.opts)};var A2={},Lce=en&&en.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(A2,"__esModule",{value:!0});A2.Screen=void 0;var $ce=Lce(Es),L7=Ym,Bce=O0;function Td(t,e){L7.Page.call(this,t,e)}A2.Screen=Td;$ce.default(Td,L7.Page);Td.prototype.action=function(){return"screen"};Td.prototype.type=Td.prototype.action;Td.prototype.event=function(t){return t?"Viewed "+t+" Screen":"Loaded a Screen"};Td.prototype.track=function(t){var e=this.json();return e.event=this.event(t),e.timestamp=this.timestamp(),e.properties=this.properties(),new Bce.Track(e,this.opts)};var I2={},Dce=en&&en.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(I2,"__esModule",{value:!0});I2.Delete=void 0;var jce=Dce(Es),$7=Ea;function uA(t,e){$7.Facade.call(this,t,e)}I2.Delete=uA;jce.default(uA,$7.Facade);uA.prototype.type=function(){return"delete"};(function(t){var e=en&&en.__assign||function(){return e=Object.assign||function(u){for(var d,f=1,h=arguments.length;f<h;f++){d=arguments[f];for(var g in d)Object.prototype.hasOwnProperty.call(d,g)&&(u[g]=d[g])}return u},e.apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0}),t.Delete=t.Screen=t.Page=t.Track=t.Identify=t.Group=t.Alias=t.Facade=void 0;var n=Ea;Object.defineProperty(t,"Facade",{enumerable:!0,get:function(){return n.Facade}});var r=S2;Object.defineProperty(t,"Alias",{enumerable:!0,get:function(){return r.Alias}});var i=_2;Object.defineProperty(t,"Group",{enumerable:!0,get:function(){return i.Group}});var o=Gm;Object.defineProperty(t,"Identify",{enumerable:!0,get:function(){return o.Identify}});var s=O0;Object.defineProperty(t,"Track",{enumerable:!0,get:function(){return s.Track}});var a=Ym;Object.defineProperty(t,"Page",{enumerable:!0,get:function(){return a.Page}});var c=A2;Object.defineProperty(t,"Screen",{enumerable:!0,get:function(){return c.Screen}});var l=I2;Object.defineProperty(t,"Delete",{enumerable:!0,get:function(){return l.Delete}}),t.default=e(e({},n.Facade),{Alias:r.Alias,Group:i.Group,Identify:o.Identify,Track:s.Track,Page:a.Page,Screen:c.Screen,Delete:l.Delete})})(ol);function Cw(t,e){var n=new ol.Facade(t,e);return t.type==="track"&&(n=new ol.Track(t,e)),t.type==="identify"&&(n=new ol.Identify(t,e)),t.type==="page"&&(n=new ol.Page(t,e)),t.type==="alias"&&(n=new ol.Alias(t,e)),t.type==="group"&&(n=new ol.Group(t,e)),t.type==="screen"&&(n=new ol.Screen(t,e)),Object.defineProperty(n,"obj",{value:t,writable:!0}),n}var Fce=function(t){var e=!1;window.addEventListener("pagehide",function(){e||(e=!0,t(e))}),document.addEventListener("visibilitychange",function(){if(document.visibilityState=="hidden"){if(e)return;e=!0}else e=!1;t(e)})},B7=function(t){Ii(e,t);function e(n,r){var i=t.call(this,n)||this;return i.retryTimeout=r,i.name="RateLimitError",i}return e}(Error),D7=function(t){return Te({"Content-Type":"text/plain"},typeof t=="function"?t():t)},Uce=500,zce=64;function dA(t){var e=encodeURI(JSON.stringify(t)).split(/%..|./).length-1;return e/1024}function Hce(t){return dA(t)>=Uce-50}function Wce(t){return dA(t)>=zce-10}function Kce(t){var e=[],n=0;return t.forEach(function(r){var i=dA(e[n]);i>=64&&n++,e[n]?e[n].push(r):e[n]=[r]}),e}function qce(t,e){var n,r,i=[],o=!1,s=(n=e==null?void 0:e.size)!==null&&n!==void 0?n:10,a=(r=e==null?void 0:e.timeout)!==null&&r!==void 0?r:5e3,c=0;function l(g){var p;if(g.length!==0){var S=(p=g[0])===null||p===void 0?void 0:p.writeKey,y=g.map(function(b){var _=b;_.sentAt;var N=c7(_,["sentAt"]);return N});return y2("https://".concat(t,"/b"),{credentials:e==null?void 0:e.credentials,keepalive:(e==null?void 0:e.keepalive)||o,headers:D7(e==null?void 0:e.headers),method:"post",body:JSON.stringify({writeKey:S,batch:y,sentAt:new Date().toISOString()}),priority:e==null?void 0:e.priority}).then(function(b){var _;if(b.status>=500)throw new Error("Bad response from server: ".concat(b.status));if(b.status===429){var N=(_=b.headers)===null||_===void 0?void 0:_.get("x-ratelimit-reset"),O=typeof N=="string"?parseInt(N)*1e3:a;throw new B7("Rate limit exceeded: ".concat(b.status),O)}})}}function u(g){var p;return g===void 0&&(g=1),tt(this,void 0,void 0,function(){var S;return nt(this,function(y){return i.length?(S=i,i=[],[2,(p=l(S))===null||p===void 0?void 0:p.catch(function(b){var _,N=uc.system();N.log("error","Error sending batch",b),g<=((_=e==null?void 0:e.maxRetries)!==null&&_!==void 0?_:10)&&(b.name==="RateLimitError"&&(c=b.retryTimeout),i.push.apply(i,S),i.map(function(O){if("_metadata"in O){var $=O;$._metadata=Te(Te({},$._metadata),{retryCount:g})}}),f(g+1))})]):[2]})})}var d;function f(g){g===void 0&&(g=1),!d&&(d=setTimeout(function(){d=void 0,u(g).catch(console.error)},c||a),c=0)}Fce(function(g){if(o=g,o&&i.length){var p=Kce(i).map(l);Promise.all(p).catch(console.error)}});function h(g,p){return tt(this,void 0,void 0,function(){var S;return nt(this,function(y){return i.push(p),S=i.length>=s||Hce(i)||(e==null?void 0:e.keepalive)&&Wce(i),[2,S||o?u():f()]})})}return{dispatch:h}}function Vce(t){function e(n,r){return y2(n,{credentials:t==null?void 0:t.credentials,keepalive:t==null?void 0:t.keepalive,headers:D7(t==null?void 0:t.headers),method:"post",body:JSON.stringify(r),priority:t==null?void 0:t.priority}).then(function(i){var o;if(i.status>=500)throw new Error("Bad response from server: ".concat(i.status));if(i.status===429){var s=(o=i.headers)===null||o===void 0?void 0:o.get("x-ratelimit-reset"),a=s?parseInt(s)*1e3:5e3;throw new B7("Rate limit exceeded: ".concat(i.status),a)}})}return{dispatch:e}}function Gce(t,e,n,r,i){var o,s=t.user();delete e.options,e.writeKey=n==null?void 0:n.apiKey,e.userId=e.userId||s.id(),e.anonymousId=e.anonymousId||s.anonymousId(),e.sentAt=new Date;var a=t.queue.failedInitializations||[];a.length>0&&(e._metadata={failedInitializations:a}),i!=null&&(i.attempts>1&&(e._metadata=Te(Te({},e._metadata),{retryCount:i.attempts})),i.attempts++);var c=[],l=[];for(var u in r){var d=r[u];u==="Segment.io"&&c.push(u),d.bundlingStatus==="bundled"&&c.push(u),d.bundlingStatus==="unbundled"&&l.push(u)}for(var f=0,h=(n==null?void 0:n.unbundledIntegrations)||[];f<h.length;f++){var g=h[f];l.includes(g)||l.push(g)}var p=(o=n==null?void 0:n.maybeBundledConfigIds)!==null&&o!==void 0?o:{},S=[];return c.sort().forEach(function(y){var b;((b=p[y])!==null&&b!==void 0?b:[]).forEach(function(_){S.push(_)})}),(n==null?void 0:n.addBundledMetadata)!==!1&&(e._metadata=Te(Te({},e._metadata),{bundled:c.sort(),unbundled:l.sort(),bundledIds:S})),e}var Yce=function(t,e){return tt(void 0,void 0,void 0,function(){var n;return nt(this,function(r){return n=function(i){return tt(void 0,void 0,void 0,function(){var o;return nt(this,function(s){switch(s.label){case 0:return t(i)?(o=n,[4,e()]):[3,2];case 1:return[2,o.apply(void 0,[s.sent()])];case 2:return[2]}})})},[2,n(void 0)]})})};function Jce(t,e){return tt(this,void 0,void 0,function(){var n,r=this;return nt(this,function(i){switch(i.label){case 0:return n=[],Fg()?[2,e]:[4,Yce(function(){return e.length>0&&!Fg()},function(){return tt(r,void 0,void 0,function(){var o,s,a;return nt(this,function(c){switch(c.label){case 0:return o=e.pop(),o?[4,tg(o,t)]:[2];case 1:return s=c.sent(),a=s instanceof uc,a||n.push(o),[2]}})})})];case 1:return i.sent(),n.map(function(o){return e.pushWithBackoff(o)}),[2,e]}})})}function vf(t,e,n,r){var i=this;t||setTimeout(function(){return tt(i,void 0,void 0,function(){var o,s;return nt(this,function(a){switch(a.label){case 0:return o=!0,[4,Jce(n,e)];case 1:return s=a.sent(),o=!1,e.todo>0&&r(o,s,n,r),[2]}})})},Math.random()*5e3)}function Zce(t,e){var n,r,i,o,s=t.user();return e.previousId=(i=(r=(n=e.previousId)!==null&&n!==void 0?n:e.from)!==null&&r!==void 0?r:s.id())!==null&&i!==void 0?i:s.anonymousId(),e.userId=(o=e.userId)!==null&&o!==void 0?o:e.to,delete e.from,delete e.to,e}var Qce=function(t){return t.name==="Segment.io"};function Xce(t,e,n){var r,i,o;window.addEventListener("pagehide",function(){a.push.apply(a,Array.from(c)),c.clear()});var s=(r=e==null?void 0:e.apiKey)!==null&&r!==void 0?r:"",a=t.options.disableClientPersistence?new WC(t.queue.queue.maxAttempts,[]):new GC(t.queue.queue.maxAttempts,"".concat(s,":dest-Segment.io")),c=new Set,l=!1,u=(i=e==null?void 0:e.apiHost)!==null&&i!==void 0?i:f7,d=(o=e==null?void 0:e.protocol)!==null&&o!==void 0?o:"https",f="".concat(d,"://").concat(u),h=e==null?void 0:e.deliveryStrategy,g=h&&"strategy"in h&&h.strategy==="batching"?qce(u,h.config):Vce(h==null?void 0:h.config);function p(y){return tt(this,void 0,void 0,function(){var b,_;return nt(this,function(N){return Fg()?(a.push(y),vf(l,a,S,vf),[2,y]):(c.add(y),b=y.event.type.charAt(0),_=Cw(y.event).json(),y.event.type==="track"&&delete _.traits,y.event.type==="alias"&&(_=Zce(t,_)),a.getAttempts(y)>=a.maxAttempts?(c.delete(y),[2,y]):[2,g.dispatch("".concat(f,"/").concat(b),Gce(t,_,e,n,y)).then(function(){return y}).catch(function(O){if(y.log("error","Error sending event",O),O.name==="RateLimitError"){var $=O.retryTimeout;a.pushWithBackoff(y,$)}else a.pushWithBackoff(y);return vf(l,a,S,vf),y}).finally(function(){c.delete(y)})])})})}var S={metadata:{writeKey:s,apiHost:u,protocol:d},name:"Segment.io",type:"destination",version:"0.1.0",isLoaded:function(){return!0},load:function(){return Promise.resolve()},track:p,identify:p,page:p,alias:p,group:p,screen:p};return a.todo&&vf(l,a,S,vf),S}var sl="This is being deprecated and will be not be available in future releases of Analytics JS",zE=VC(),HE=zE==null?void 0:zE.analytics;function ele(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!1);var r=e?10:1,i=n?new WC(r,[]):new GC(r,t);return new Dae(i)}var tle=function(){function t(e,n){var r;this.timeout=300,this._getSegmentPluginMetadata=function(){var o;return(o=n.plugins.find(Qce))===null||o===void 0?void 0:o.metadata},this.writeKey=e.writeKey;var i={integrations:{"Segment.io":{apiKey:""}}};this.cdnSettings=(r=e.cdnSettings)!==null&&r!==void 0?r:i,this.cdnURL=e.cdnURL}return Object.defineProperty(t.prototype,"apiHost",{get:function(){var e,n;return(n=(e=this._getSegmentPluginMetadata)===null||e===void 0?void 0:e.call(this))===null||n===void 0?void 0:n.apiHost},enumerable:!1,configurable:!0}),t}();function Is(){console.warn(sl)}var j7=function(t){Ii(e,t);function e(n,r,i,o,s){var a=this,c,l;a=t.call(this)||this,a._debug=!1,a.initialized=!1,a.user=function(){return a._user},a.init=a.initialize.bind(a),a.log=Is,a.addIntegrationMiddleware=Is,a.listeners=Is,a.addEventListener=Is,a.removeAllListeners=Is,a.removeListener=Is,a.removeEventListener=Is,a.hasListeners=Is,a.add=Is,a.addIntegration=Is;var u=r==null?void 0:r.cookie,d=(c=r==null?void 0:r.disableClientPersistence)!==null&&c!==void 0?c:!1;a.queue=i??ele("".concat(n.writeKey,":event-queue"),r==null?void 0:r.retryQueue,d),a.settings=new tle(n,a.queue);var f=r==null?void 0:r.storage;return a._universalStorage=a.createStore(d,f,u),a._user=o??new _7(Te({persist:!d,storage:r==null?void 0:r.storage},r==null?void 0:r.user),u).load(),a._group=s??new Kae(Te({persist:!d,storage:r==null?void 0:r.storage},r==null?void 0:r.group),u).load(),a.eventFactory=new Nae(a._user),a.integrations=(l=r==null?void 0:r.integrations)!==null&&l!==void 0?l:{},a.options=r??{},YC(a),a}return e.prototype.createStore=function(n,r,i){return n?new gd([new JC]):r&&x7(r)?new gd(Xx(S7(r.stores,i))):new gd(Xx([hi.LocalStorage,{name:hi.Cookie,settings:i},hi.Memory]))},Object.defineProperty(e.prototype,"storage",{get:function(){return this._universalStorage},enumerable:!1,configurable:!0}),e.prototype.track=function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];return tt(this,void 0,void 0,function(){var i,o,s,a,c,l,u,d=this;return nt(this,function(f){return i=mf(n),o=wae.apply(void 0,n),s=o[0],a=o[1],c=o[2],l=o[3],u=this.eventFactory.track(s,a,c,this.integrations,i),[2,this._dispatch(u,l).then(function(h){return d.emit("track",s,h.event.properties,h.event.options),h})]})})},e.prototype.page=function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];return tt(this,void 0,void 0,function(){var i,o,s,a,c,l,u,d,f=this;return nt(this,function(h){return i=mf(n),o=OP.apply(void 0,n),s=o[0],a=o[1],c=o[2],l=o[3],u=o[4],d=this.eventFactory.page(s,a,c,l,this.integrations,i),[2,this._dispatch(d,u).then(function(g){return f.emit("page",s,a,g.event.properties,g.event.options),g})]})})},e.prototype.identify=function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];return tt(this,void 0,void 0,function(){var i,o,s,a,c,l,u,d=this;return nt(this,function(f){return i=mf(n),o=TP(this._user).apply(void 0,n),s=o[0],a=o[1],c=o[2],l=o[3],this._user.identify(s,a),u=this.eventFactory.identify(this._user.id(),this._user.traits(),c,this.integrations,i),[2,this._dispatch(u,l).then(function(h){return d.emit("identify",h.event.userId,h.event.traits,h.event.options),h})]})})},e.prototype.group=function(){for(var n=this,r=[],i=0;i<arguments.length;i++)r[i]=arguments[i];var o=mf(r);if(r.length===0)return this._group;var s=TP(this._group).apply(void 0,r),a=s[0],c=s[1],l=s[2],u=s[3];this._group.identify(a,c);var d=this._group.id(),f=this._group.traits(),h=this.eventFactory.group(d,f,l,this.integrations,o);return this._dispatch(h,u).then(function(g){return n.emit("group",g.event.groupId,g.event.traits,g.event.options),g})},e.prototype.alias=function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];return tt(this,void 0,void 0,function(){var i,o,s,a,c,l,u,d=this;return nt(this,function(f){return i=mf(n),o=bae.apply(void 0,n),s=o[0],a=o[1],c=o[2],l=o[3],u=this.eventFactory.alias(s,a,c,this.integrations,i),[2,this._dispatch(u,l).then(function(h){return d.emit("alias",s,a,h.event.options),h})]})})},e.prototype.screen=function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];return tt(this,void 0,void 0,function(){var i,o,s,a,c,l,u,d,f=this;return nt(this,function(h){return i=mf(n),o=OP.apply(void 0,n),s=o[0],a=o[1],c=o[2],l=o[3],u=o[4],d=this.eventFactory.screen(s,a,c,l,this.integrations,i),[2,this._dispatch(d,u).then(function(g){return f.emit("screen",s,a,g.event.properties,g.event.options),g})]})})},e.prototype.trackClick=function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];return tt(this,void 0,void 0,function(){var i,o;return nt(this,function(s){switch(s.label){case 0:return[4,Lt(()=>import("./auto-track-DmPbGMfP.js"),[])];case 1:return i=s.sent(),[2,(o=i.link).call.apply(o,zn([this],n,!1))]}})})},e.prototype.trackLink=function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];return tt(this,void 0,void 0,function(){var i,o;return nt(this,function(s){switch(s.label){case 0:return[4,Lt(()=>import("./auto-track-DmPbGMfP.js"),[])];case 1:return i=s.sent(),[2,(o=i.link).call.apply(o,zn([this],n,!1))]}})})},e.prototype.trackSubmit=function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];return tt(this,void 0,void 0,function(){var i,o;return nt(this,function(s){switch(s.label){case 0:return[4,Lt(()=>import("./auto-track-DmPbGMfP.js"),[])];case 1:return i=s.sent(),[2,(o=i.form).call.apply(o,zn([this],n,!1))]}})})},e.prototype.trackForm=function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];return tt(this,void 0,void 0,function(){var i,o;return nt(this,function(s){switch(s.label){case 0:return[4,Lt(()=>import("./auto-track-DmPbGMfP.js"),[])];case 1:return i=s.sent(),[2,(o=i.form).call.apply(o,zn([this],n,!1))]}})})},e.prototype.register=function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];return tt(this,void 0,void 0,function(){var i,o,s=this;return nt(this,function(a){switch(a.label){case 0:return i=uc.system(),o=n.map(function(c){return s.queue.register(i,c,s)}),[4,Promise.all(o)];case 1:return a.sent(),[2,i]}})})},e.prototype.deregister=function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];return tt(this,void 0,void 0,function(){var i,o,s=this;return nt(this,function(a){switch(a.label){case 0:return i=uc.system(),o=n.map(function(c){var l=s.queue.plugins.find(function(u){return u.name===c});if(l)return s.queue.deregister(i,l,s);i.log("warn","plugin ".concat(c," not found"))}),[4,Promise.all(o)];case 1:return a.sent(),[2,i]}})})},e.prototype.debug=function(n){return n===!1&&localStorage.getItem("debug")&&localStorage.removeItem("debug"),this._debug=n,this},e.prototype.reset=function(){this._user.reset(),this._group.reset(),this.emit("reset")},e.prototype.timeout=function(n){this.settings.timeout=n},e.prototype._dispatch=function(n,r){return tt(this,void 0,void 0,function(){var i;return nt(this,function(o){return i=new uc(n),i.stats.increment("analytics_js.invoke",1,[n.type]),Fg()&&!this.options.retryQueue?[2,i]:[2,vae(i,this.queue,this,{callback:r,debug:this._debug,timeout:this.settings.timeout})]})})},e.prototype.addSourceMiddleware=function(n){return tt(this,void 0,void 0,function(){var r=this;return nt(this,function(i){switch(i.label){case 0:return[4,this.queue.criticalTasks.run(function(){return tt(r,void 0,void 0,function(){var o,s,a;return nt(this,function(c){switch(c.label){case 0:return[4,Lt(()=>Promise.resolve().then(()=>vle),void 0)];case 1:return o=c.sent().sourceMiddlewarePlugin,s={},this.queue.plugins.forEach(function(l){if(l.type==="destination")return s[l.name]=!0}),a=o(n,s),[4,this.register(a)];case 2:return c.sent(),[2]}})})})];case 1:return i.sent(),[2,this]}})})},e.prototype.addDestinationMiddleware=function(n){for(var r=[],i=1;i<arguments.length;i++)r[i-1]=arguments[i];return this.queue.plugins.filter(Rae).forEach(function(o){(n==="*"||o.name.toLowerCase()===n.toLowerCase())&&o.addMiddleware.apply(o,r)}),Promise.resolve(this)},e.prototype.setAnonymousId=function(n){return this._user.anonymousId(n)},e.prototype.queryString=function(n){return tt(this,void 0,void 0,function(){var r;return nt(this,function(i){switch(i.label){case 0:return this.options.useQueryString===!1?[2,[]]:[4,Lt(()=>import("./index-kXvKaiqt.js"),[])];case 1:return r=i.sent().queryString,[2,r(this,n)]}})})},e.prototype.use=function(n){return n(this),this},e.prototype.ready=function(n){return n===void 0&&(n=function(r){return r}),tt(this,void 0,void 0,function(){return nt(this,function(r){return[2,Promise.all(this.queue.plugins.map(function(i){return i.ready?i.ready():Promise.resolve()})).then(function(i){return n(i),i})]})})},e.prototype.noConflict=function(){return console.warn(sl),Vae(HE??this),this},e.prototype.normalize=function(n){return console.warn(sl),this.eventFactory.normalize(n)},Object.defineProperty(e.prototype,"failedInitializations",{get:function(){return console.warn(sl),this.queue.failedInitializations},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"VERSION",{get:function(){return v2},enumerable:!1,configurable:!0}),e.prototype.initialize=function(n,r){return tt(this,void 0,void 0,function(){return nt(this,function(i){return console.warn(sl),[2,Promise.resolve(this)]})})},e.prototype.pageview=function(n){return tt(this,void 0,void 0,function(){return nt(this,function(r){switch(r.label){case 0:return console.warn(sl),[4,this.page({path:n})];case 1:return r.sent(),[2,this]}})})},Object.defineProperty(e.prototype,"plugins",{get:function(){var n;return console.warn(sl),(n=this._plugins)!==null&&n!==void 0?n:{}},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"Integrations",{get:function(){console.warn(sl);var n=this.queue.plugins.filter(function(r){return r.type==="destination"}).reduce(function(r,i){var o="".concat(i.name.toLowerCase().replace(".","").split(" ").join("-"),"Integration"),s=window[o];if(!s)return r;var a=s.Integration;return a?(r[i.name]=a,r):(r[i.name]=s,r)},{});return n},enumerable:!1,configurable:!0}),e.prototype.push=function(n){var r=this,i=n.shift();i&&!r[i]||r[i].apply(this,n)},e}(HC),DP=function(t){Ii(e,t);function e(){var n=t.call(this,{writeKey:""},{disableClientPersistence:!0})||this;return n.initialized=!0,n}return e}(j7),jP={};function F7(){return typeof process>"u"||!jP?{}:jP}var nle=/(https:\/\/.*)\/analytics\.js\/v1\/(?:.*?)\/(?:platform|analytics.*)?/,rle=function(){var t,e=Array.prototype.slice.call(document.querySelectorAll("script"));return e.forEach(function(n){var r,i=(r=n.getAttribute("src"))!==null&&r!==void 0?r:"",o=nle.exec(i);o&&o[1]&&(t=o[1])}),t},gv,ile=function(){var t,e=gv??((t=C7())===null||t===void 0?void 0:t._cdn);return e},ole=function(t){var e=C7();e&&(e._cdn=t),gv=t},fA=function(){var t=ile();if(t)return t;var e=rle();return e||"https://cdn.segment.com"},cxe=function(){var t=fA();return"".concat(t,"/next-integrations")};function sle(t,e){var n,r=Object.entries((n=e.integrations)!==null&&n!==void 0?n:{}).reduce(function(i,o){var s,a,c=o[0],l=o[1];return typeof l=="object"?Te(Te({},i),(s={},s[c]=l,s)):Te(Te({},i),(a={},a[c]={},a))},{});return Object.entries(t.integrations).reduce(function(i,o){var s,a=o[0],c=o[1];return Te(Te({},i),(s={},s[a]=Te(Te({},c),r[a]),s))},{})}function ale(t){try{return decodeURIComponent(t.replace(/\+/g," "))}catch{return t}}function cle(t){return tt(this,void 0,void 0,function(){var e;return nt(this,function(n){return e=navigator.userAgentData,e?t?[2,e.getHighEntropyValues(t).catch(function(){return e.toJSON()})]:[2,e.toJSON()]:[2,void 0]})})}var vp;function lle(){if(vp)return vp;var t=b7(window.location.href);return vp={expires:31536e6,secure:!1,path:"/"},t&&(vp.domain=t),vp}function ule(t){var e={btid:"dataxu",urid:"millennial-media"};t.startsWith("?")&&(t=t.substring(1)),t=t.replace(/\?/g,"&");for(var n=t.split("&"),r=0,i=n;r<i.length;r++){var o=i[r],s=o.split("="),a=s[0],c=s[1];if(e[a])return{id:c,type:e[a]}}}function dle(t){return t.startsWith("?")&&(t=t.substring(1)),t=t.replace(/\?/g,"&"),t.split("&").reduce(function(e,n){var r=n.split("="),i=r[0],o=r[1],s=o===void 0?"":o;if(i.includes("utm_")&&i.length>4){var a=i.slice(4);a==="campaign"&&(a="name"),e[a]=ale(s)}return e},{})}function fle(){var t=Ja.get("_ga");if(t&&t.startsWith("amp"))return t}function hle(t,e,n){var r,i=new gd(n?[]:[new E7(lle())]),o=i.get("s:context.referrer"),s=(r=ule(t))!==null&&r!==void 0?r:o;s&&(e&&(e.referrer=Te(Te({},e.referrer),s)),i.set("s:context.referrer",s))}var ple=function(t){try{var e=new URLSearchParams;return Object.entries(t).forEach(function(n){var r=n[0],i=n[1];Array.isArray(i)?i.forEach(function(o){return e.append(r,o)}):e.append(r,i)}),e.toString()}catch{return""}},gle=function(){function t(){var e=this;this.name="Page Enrichment",this.type="before",this.version="0.1.0",this.isLoaded=function(){return!0},this.load=function(n,r){return tt(e,void 0,void 0,function(){var i;return nt(this,function(o){switch(o.label){case 0:this.instance=r,o.label=1;case 1:return o.trys.push([1,3,,4]),i=this,[4,cle(this.instance.options.highEntropyValuesClientHints)];case 2:return i.userAgentData=o.sent(),[3,4];case 3:return o.sent(),[3,4];case 4:return[2,Promise.resolve()]}})})},this.enrich=function(n){var r,i,o=n.event.context,s=o.page.search||"",a=typeof s=="object"?ple(s):s;o.userAgent=navigator.userAgent,o.userAgentData=e.userAgentData;var c=navigator.userLanguage||navigator.language;typeof o.locale>"u"&&typeof c<"u"&&(o.locale=c),(r=o.library)!==null&&r!==void 0||(o.library={name:"analytics.js",version:"".concat("npm:next","-").concat(v2)}),a&&!o.campaign&&(o.campaign=dle(a));var l=fle();l&&(o.amp={id:l}),hle(a,o,(i=e.instance.options.disableClientPersistence)!==null&&i!==void 0?i:!1);try{o.timezone=Intl.DateTimeFormat().resolvedOptions().timeZone}catch{}return n},this.track=this.enrich,this.identify=this.enrich,this.page=this.enrich,this.group=this.enrich,this.alias=this.enrich,this.screen=this.enrich}return t}(),mle=new gle;function U7(t){var e=Array.prototype.slice.call(window.document.querySelectorAll("script"));return e.find(function(n){return n.src===t})}function WE(t,e){var n=U7(t);if(n!==void 0){var r=n==null?void 0:n.getAttribute("status");if(r==="loaded")return Promise.resolve(n);if(r==="loading")return new Promise(function(i,o){n.addEventListener("load",function(){return i(n)}),n.addEventListener("error",function(s){return o(s)})})}return new Promise(function(i,o){var s,a=window.document.createElement("script");a.type="text/javascript",a.src=t,a.async=!0,a.setAttribute("status","loading");for(var c=0,l=Object.entries({});c<l.length;c++){var u=l[c],d=u[0],f=u[1];a.setAttribute(d,f)}a.onload=function(){a.onerror=a.onload=null,a.setAttribute("status","loaded"),i(a)},a.onerror=function(){a.onerror=a.onload=null,a.setAttribute("status","error"),o(new Error("Failed to load ".concat(t)))};var h=window.document.querySelector("script");h?(s=h.parentElement)===null||s===void 0||s.insertBefore(a,h):window.document.head.appendChild(a)})}function lxe(t){var e=U7(t);return e!==void 0&&e.remove(),Promise.resolve()}function z7(t,e,n){return tt(this,void 0,void 0,function(){function r(l,u){return tt(this,void 0,void 0,function(){var d,f,h;return nt(this,function(g){switch(g.label){case 0:return d=!1,f=null,[4,u({payload:Cw(l,{clone:!0,traverse:!1}),integration:t,next:function(p){d=!0,p===null&&(f=null),p&&(f=p.obj)}})];case 1:return g.sent(),!d&&f!==null&&(f=f,f.integrations=Te(Te({},l.integrations),(h={},h[t]=!1,h))),[2,f]}})})}var i,o,s,a,c;return nt(this,function(l){switch(l.label){case 0:i=Cw(e,{clone:!0,traverse:!1}).rawEvent(),o=0,s=n,l.label=1;case 1:return o<s.length?(a=s[o],[4,r(i,a)]):[3,4];case 2:if(c=l.sent(),c===null)return[2,null];i=c,l.label=3;case 3:return o++,[3,1];case 4:return[2,i]}})})}function yle(t,e){function n(r){return tt(this,void 0,void 0,function(){var i;return nt(this,function(o){switch(o.label){case 0:return i=!1,[4,t({payload:Cw(r.event,{clone:!0,traverse:!1}),integrations:e??{},next:function(s){i=!0,s&&(r.event=s.obj)}})];case 1:if(o.sent(),!i)throw new t0({retry:!1,type:"middleware_cancellation",reason:"Middleware `next` function skipped"});return[2,r]}})})}return{name:"Source Middleware ".concat(t.name),type:"before",version:"0.1.0",isLoaded:function(){return!0},load:function(r){return Promise.resolve(r)},track:n,page:n,screen:n,identify:n,alias:n,group:n}}const vle=Object.freeze(Object.defineProperty({__proto__:null,applyDestinationMiddleware:z7,sourceMiddlewarePlugin:yle},Symbol.toStringTag,{value:"Module"}));function o1(t,e){var n=e.methodName,r=e.integrationName,i=e.type,o=e.didError,s=o===void 0?!1:o;t.stats.increment("analytics_js.integration.invoke".concat(s?".error":""),1,["method:".concat(n),"integration_name:".concat(r),"type:".concat(i)])}var wle=function(){function t(e,n){this.version="1.0.0",this.alternativeNames=[],this.loadPromise=l7(),this.middleware=[],this.alias=this._createMethod("alias"),this.group=this._createMethod("group"),this.identify=this._createMethod("identify"),this.page=this._createMethod("page"),this.screen=this._createMethod("screen"),this.track=this._createMethod("track"),this.action=n,this.name=e,this.type=n.type,this.alternativeNames.push(n.name)}return t.prototype.addMiddleware=function(){for(var e,n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];this.type==="destination"&&(e=this.middleware).push.apply(e,n)},t.prototype.transform=function(e){return tt(this,void 0,void 0,function(){var n;return nt(this,function(r){switch(r.label){case 0:return[4,z7(this.name,e.event,this.middleware)];case 1:return n=r.sent(),n===null&&e.cancel(new t0({retry:!1,reason:"dropped by destination middleware"})),[2,new uc(n)]}})})},t.prototype._createMethod=function(e){var n=this;return function(r){return tt(n,void 0,void 0,function(){var i,o;return nt(this,function(s){switch(s.label){case 0:return this.action[e]?(i=r,this.type!=="destination"?[3,2]:[4,this.transform(r)]):[2,r];case 1:i=s.sent(),s.label=2;case 2:return s.trys.push([2,5,,6]),[4,this.ready()];case 3:if(!s.sent())throw new Error("Something prevented the destination from getting ready");return o1(r,{integrationName:this.action.name,methodName:e,type:"action"}),[4,this.action[e](i)];case 4:return s.sent(),[3,6];case 5:throw o=s.sent(),o1(r,{integrationName:this.action.name,methodName:e,type:"action",didError:!0}),o;case 6:return[2,r]}})})}},t.prototype.isLoaded=function(){return this.action.isLoaded()},t.prototype.ready=function(){return tt(this,void 0,void 0,function(){return nt(this,function(e){switch(e.label){case 0:return e.trys.push([0,2,,3]),[4,this.loadPromise.promise];case 1:return e.sent(),[2,!0];case 2:return e.sent(),[2,!1];case 3:return[2]}})})},t.prototype.load=function(e,n){return tt(this,void 0,void 0,function(){var r,i,o,s;return nt(this,function(a){switch(a.label){case 0:if(this.loadPromise.isSettled())return[2,this.loadPromise.promise];a.label=1;case 1:return a.trys.push([1,3,,4]),o1(e,{integrationName:this.action.name,methodName:"load",type:"action"}),r=this.action.load(e,n),o=(i=this.loadPromise).resolve,[4,r];case 2:return o.apply(i,[a.sent()]),[2,r];case 3:throw s=a.sent(),o1(e,{integrationName:this.action.name,methodName:"load",type:"action",didError:!0}),this.loadPromise.reject(s),s;case 4:return[2]}})})},t.prototype.unload=function(e,n){var r,i;return(i=(r=this.action).unload)===null||i===void 0?void 0:i.call(r,e,n)},t}();function ble(t){if(!Array.isArray(t))throw new Error("Not a valid list of plugins");var e=["load","isLoaded","name","version","type"];return t.forEach(function(n){e.forEach(function(r){var i;if(n[r]===void 0)throw new Error("Plugin: ".concat((i=n.name)!==null&&i!==void 0?i:"unknown"," missing required function ").concat(r))})}),!0}function Ele(t,e){var n=t[e.creationName],r=t[e.name];return t.All===!1&&!n&&!r||n===!1||r===!1}function xle(t,e){return tt(this,void 0,void 0,function(){var n,r,i,o,s,a;return nt(this,function(c){switch(c.label){case 0:if(c.trys.push([0,9,,10]),n=new RegExp("https://cdn.segment.(com|build)"),r=fA(),!e)return[3,6];i=t.url.split("/"),o=i[i.length-2],s=t.url.replace(o,btoa(o).replace(/=/g,"")),c.label=1;case 1:return c.trys.push([1,3,,5]),[4,WE(s.replace(n,r))];case 2:return c.sent(),[3,5];case 3:return c.sent(),[4,WE(t.url.replace(n,r))];case 4:return c.sent(),[3,5];case 5:return[3,8];case 6:return[4,WE(t.url.replace(n,r))];case 7:c.sent(),c.label=8;case 8:return typeof window[t.libraryName]=="function"?[2,window[t.libraryName]]:[3,10];case 9:throw a=c.sent(),console.error("Failed to create PluginFactory",t),a;case 10:return[2]}})})}function Sle(t,e,n,r,i,o){var s,a,c;return tt(this,void 0,void 0,function(){var l,u,d,f=this;return nt(this,function(h){switch(h.label){case 0:return l=[],u=(a=(s=t.middlewareSettings)===null||s===void 0?void 0:s.routingRules)!==null&&a!==void 0?a:[],d=((c=t.remotePlugins)!==null&&c!==void 0?c:[]).map(function(g){return tt(f,void 0,void 0,function(){var p,S,y,b,_,N,O;return nt(this,function($){switch($.label){case 0:if(Ele(e,g))return[2];$.label=1;case 1:return $.trys.push([1,6,,7]),S=o==null?void 0:o.find(function(j){var k=j.pluginName;return k===g.name}),S?[3,3]:[4,xle(g,r==null?void 0:r.obfuscate)];case 2:S=$.sent(),$.label=3;case 3:return p=S,p?(y=n[g.name],[4,p(Te(Te({},g.settings),y))]):[3,5];case 4:b=$.sent(),_=Array.isArray(b)?b:[b],ble(_),N=u.filter(function(j){return j.destinationName===g.creationName}),_.forEach(function(j){var k=new wle(g.creationName,j);N.length&&i&&k.addMiddleware(i),l.push(k)}),$.label=5;case 5:return[3,7];case 6:return O=$.sent(),console.warn("Failed to load Remote Plugin",O),[3,7];case 7:return[2]}})})}),[4,Promise.all(d)];case 1:return h.sent(),[2,l.filter(Boolean)]}})})}var KE,FP,_le=VC(),UP=(KE=(FP=_le).__SEGMENT_INSPECTOR__)!==null&&KE!==void 0?KE:FP.__SEGMENT_INSPECTOR__={},Cle=function(t){var e;return(e=UP.attach)===null||e===void 0?void 0:e.call(UP,t)};function Ale(t,e){return y2("".concat(e,"/v1/projects/").concat(t,"/settings")).then(function(n){return n.ok?n.json():n.text().then(function(r){throw new Error(r)})}).catch(function(n){throw console.error(n.message),n})}function Ile(t){return F7().NODE_ENV!=="test"&&Object.keys(t.integrations).length>1}function kle(t){var e,n,r;return F7().NODE_ENV!=="test"&&((r=(n=(e=t.middlewareSettings)===null||e===void 0?void 0:e.routingRules)===null||n===void 0?void 0:n.length)!==null&&r!==void 0?r:0)>0}function Ple(t,e){Qae(t,e),Zae(t,e)}function Ole(t,e,n){return tt(this,void 0,void 0,function(){return nt(this,function(r){switch(r.label){case 0:return[4,Mle(t,e)];case 1:return r.sent(),Xae(t,n),[2]}})})}var Tle=function(){var t,e,n=(t=window.location.hash)!==null&&t!==void 0?t:"",r=(e=window.location.search)!==null&&e!==void 0?e:"",i=r.length?r:n.replace(/(?=#).*(?=\?)/,"");return i},Mle=function(t,e){return tt(void 0,void 0,void 0,function(){return nt(this,function(n){switch(n.label){case 0:return e.includes("ajs_")?[4,t.queryString(e).catch(console.error)]:[3,2];case 1:n.sent(),n.label=2;case 2:return[2]}})})};function Nle(t,e,n,r,i,o,s){var a,c,l;return i===void 0&&(i=[]),tt(this,void 0,void 0,function(){var u,d,f,h,g,p,S,y,b,_,N,O,$,j,k,T=this;return nt(this,function(L){switch(L.label){case 0:return Ple(n,s),u=i==null?void 0:i.filter(function(P){return typeof P=="object"}),d=i==null?void 0:i.filter(function(P){return typeof P=="function"&&typeof P.pluginName=="string"}),kle(e)?[4,Lt(()=>import("./index-SSgaCJsD.js"),[]).then(function(P){return P.tsubMiddleware(e.middlewareSettings.routingRules)})]:[3,2];case 1:return h=L.sent(),[3,3];case 2:h=void 0,L.label=3;case 3:return f=h,Ile(e)||o.length>0?[4,Lt(()=>import("./index-CknR6_H1.js"),__vite__mapDeps([0,1])).then(function(P){return P.ajsDestinations(t,e,n.integrations,r,f,o)})]:[3,5];case 4:return p=L.sent(),[3,6];case 5:p=[],L.label=6;case 6:return g=p,e.legacyVideoPluginsEnabled?[4,Lt(()=>import("./index-BDgXw2QG.js"),[]).then(function(P){return P.loadLegacyVideoPlugins(n)})]:[3,8];case 7:L.sent(),L.label=8;case 8:return!((a=r.plan)===null||a===void 0)&&a.track?[4,Lt(()=>import("./index-aQ8sKHFz.js"),__vite__mapDeps([2,1])).then(function(P){var m;return P.schemaFilter((m=r.plan)===null||m===void 0?void 0:m.track,e)})]:[3,10];case 9:return y=L.sent(),[3,11];case 10:y=void 0,L.label=11;case 11:return S=y,b=sle(e,r),[4,Sle(e,n.integrations,b,r,f,d).catch(function(){return[]})];case 12:return _=L.sent(),N=zn(zn([mle],g,!0),_,!0),S&&N.push(S),O=((c=r.integrations)===null||c===void 0?void 0:c.All)===!1&&!r.integrations["Segment.io"]||r.integrations&&r.integrations["Segment.io"]===!1,O?[3,14]:(j=($=N).push,[4,Xce(n,b["Segment.io"],e.integrations)]);case 13:j.apply($,[L.sent()]),L.label=14;case 14:return[4,n.register.apply(n,zn(zn([],N,!1),u,!1))];case 15:return k=L.sent(),[4,Jae(n,s)];case 16:return L.sent(),Object.entries((l=e.enabledMiddleware)!==null&&l!==void 0?l:{}).some(function(P){var m=P[1];return m})?[4,Lt(()=>import("./index-Dzx63XRg.js"),[]).then(function(P){var m=P.remoteMiddlewares;return tt(T,void 0,void 0,function(){var w,A;return nt(this,function(v){switch(v.label){case 0:return[4,m(k,e,r.obfuscate)];case 1:return w=v.sent(),A=w.map(function(I){return n.addSourceMiddleware(I)}),[2,Promise.all(A)]}})})})]:[3,18];case 17:L.sent(),L.label=18;case 18:return[4,Yae(n,s)];case 19:return L.sent(),[2,k]}})})}function Rle(t,e,n){var r,i,o,s,a,c,l,u,d;return e===void 0&&(e={}),tt(this,void 0,void 0,function(){var f,h,g,p,S,y,b,_,N,O,$;return nt(this,function(j){switch(j.label){case 0:return e.disable===!0?[2,[new DP,uc.system()]]:(e.globalAnalyticsKey&&qae(e.globalAnalyticsKey),t.cdnURL&&ole(t.cdnURL),e.initialPageview&&n.add(new eS("page",[])),f=Tle(),h=(r=t.cdnURL)!==null&&r!==void 0?r:fA(),(i=t.cdnSettings)!==null&&i!==void 0?(p=i,[3,3]):[3,1]);case 1:return[4,Ale(t.writeKey,h)];case 2:p=j.sent(),j.label=3;case 3:return g=p,e.updateCDNSettings&&(g=e.updateCDNSettings(g)),typeof e.disable!="function"?[3,5]:[4,e.disable(g)];case 4:if(S=j.sent(),S)return[2,[new DP,uc.system()]];j.label=5;case 5:return y=(s=(o=g.integrations["Segment.io"])===null||o===void 0?void 0:o.retryQueue)!==null&&s!==void 0?s:!0,e=Te({retryQueue:y},e),b=new j7(Te(Te({},t),{cdnSettings:g,cdnURL:h}),e),Cle(b),_=(a=t.plugins)!==null&&a!==void 0?a:[],N=(c=t.classicIntegrations)!==null&&c!==void 0?c:[],O=(l=e.integrations)===null||l===void 0?void 0:l["Segment.io"],h7.initRemoteMetrics(Te(Te({},g.metrics),{host:(u=O==null?void 0:O.apiHost)!==null&&u!==void 0?u:(d=g.metrics)===null||d===void 0?void 0:d.host,protocol:O==null?void 0:O.protocol})),[4,Nle(t.writeKey,g,b,e,_,N,n)];case 6:return $=j.sent(),b.initialized=!0,b.emit("initialize",t,e),[4,Ole(b,f,n)];case 7:return j.sent(),[2,[b,$]]}})})}var Lle=function(t){Ii(e,t);function e(){var n=this,r=l7(),i=r.promise,o=r.resolve;return n=t.call(this,function(s){return i.then(function(a){var c=a[0],l=a[1];return Rle(c,l,s)})})||this,n._resolveLoadStart=function(s,a){return o([s,a])},n}return e.prototype.load=function(n,r){return r===void 0&&(r={}),this._resolveLoadStart(n,r),this},e.load=function(n,r){return r===void 0&&(r={}),new e().load(n,r)},e.standalone=function(n,r){return e.load({writeKey:n},r).then(function(i){return i[0]})},e}(tce);const $le=globalThis,qE="<anonymous>";function Ble(t){try{return!t||typeof t!="function"?qE:t.name||qE}catch{return qE}}const H7=Object.prototype.toString;function Dle(t){switch(H7.call(t)){case"[object Error]":case"[object Exception]":case"[object DOMException]":case"[object WebAssembly.Exception]":return!0;default:return k2(t,Error)}}function W7(t,e){return H7.call(t)===`[object ${e}]`}function jle(t){return W7(t,"String")}function Fle(t){return W7(t,"Object")}function Ule(t){return typeof Event<"u"&&k2(t,Event)}function zle(t){return typeof Element<"u"&&k2(t,Element)}function Hle(t){return Fle(t)&&"nativeEvent"in t&&"preventDefault"in t&&"stopPropagation"in t}function k2(t,e){try{return t instanceof e}catch{return!1}}function Wle(t){return!!(typeof t=="object"&&t!==null&&(t.__isVue||t._isVue))}const Kle=$le,qle=80;function Vle(t,e={}){if(!t)return"<unknown>";try{let n=t;const r=5,i=[];let o=0,s=0;const a=" > ",c=a.length;let l;const u=Array.isArray(e)?e:e.keyAttrs,d=!Array.isArray(e)&&e.maxStringLength||qle;for(;n&&o++<r&&(l=Gle(n,u),!(l==="html"||o>1&&s+i.length*c+l.length>=d));)i.push(l),s+=l.length,n=n.parentNode;return i.reverse().join(a)}catch{return"<unknown>"}}function Gle(t,e){const n=t,r=[];if(!(n!=null&&n.tagName))return"";if(Kle.HTMLElement&&n instanceof HTMLElement&&n.dataset){if(n.dataset.sentryComponent)return n.dataset.sentryComponent;if(n.dataset.sentryElement)return n.dataset.sentryElement}r.push(n.tagName.toLowerCase());const i=e!=null&&e.length?e.filter(s=>n.getAttribute(s)).map(s=>[s,n.getAttribute(s)]):null;if(i!=null&&i.length)i.forEach(s=>{r.push(`[${s[0]}="${s[1]}"]`)});else{n.id&&r.push(`#${n.id}`);const s=n.className;if(s&&jle(s)){const a=s.split(/\s+/);for(const c of a)r.push(`.${c}`)}}const o=["aria-label","type","name","title","alt"];for(const s of o){const a=n.getAttribute(s);a&&r.push(`[${s}="${a}"]`)}return r.join("")}function Yle(t){if(Dle(t))return{message:t.message,name:t.name,stack:t.stack,...HP(t)};if(Ule(t)){const e={type:t.type,target:zP(t.target),currentTarget:zP(t.currentTarget),...HP(t)};return typeof CustomEvent<"u"&&k2(t,CustomEvent)&&(e.detail=t.detail),e}else return t}function zP(t){try{return zle(t)?Vle(t):Object.prototype.toString.call(t)}catch{return"<unknown>"}}function HP(t){if(typeof t=="object"&&t!==null){const e={};for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e}else return{}}function Jle(t,e=100,n=1/0){try{return iS("",t,e,n)}catch(r){return{ERROR:`**non-serializable** (${r})`}}}function iS(t,e,n=1/0,r=1/0,i=Xle()){const[o,s]=i;if(e==null||["boolean","string"].includes(typeof e)||typeof e=="number"&&Number.isFinite(e))return e;const a=Zle(t,e);if(!a.startsWith("[object "))return a;if(e.__sentry_skip_normalization__)return e;const c=typeof e.__sentry_override_normalization_depth__=="number"?e.__sentry_override_normalization_depth__:n;if(c===0)return a.replace("object ","");if(o(e))return"[Circular ~]";const l=e;if(l&&typeof l.toJSON=="function")try{const h=l.toJSON();return iS("",h,c-1,r,i)}catch{}const u=Array.isArray(e)?[]:{};let d=0;const f=Yle(e);for(const h in f){if(!Object.prototype.hasOwnProperty.call(f,h))continue;if(d>=r){u[h]="[MaxProperties ~]";break}const g=f[h];u[h]=iS(h,g,c-1,r,i),d++}return s(e),u}function Zle(t,e){try{if(t==="domain"&&e&&typeof e=="object"&&e._events)return"[Domain]";if(t==="domainEmitter")return"[DomainEmitter]";if(typeof globalThis<"u"&&e===globalThis)return"[Global]";if(typeof window<"u"&&e===window)return"[Window]";if(typeof document<"u"&&e===document)return"[Document]";if(Wle(e))return"[VueViewModel]";if(Hle(e))return"[SyntheticEvent]";if(typeof e=="number"&&!Number.isFinite(e))return`[${e}]`;if(typeof e=="function")return`[Function: ${Ble(e)}]`;if(typeof e=="symbol")return`[${String(e)}]`;if(typeof e=="bigint")return`[BigInt: ${String(e)}]`;const n=Qle(e);return/^HTML(\w*)Element$/.test(n)?`[HTMLElement: ${n}]`:`[object ${n}]`}catch(n){return`**non-serializable** (${n})`}}function Qle(t){const e=Object.getPrototypeOf(t);return e!=null&&e.constructor?e.constructor.name:"null prototype"}function Xle(){const t=new WeakSet;function e(r){return t.has(r)?!0:(t.add(r),!1)}function n(r){t.delete(r)}return[e,n]}class ng{constructor(e){ue(this,"sentry",void 0),ue(this,"category",void 0),this.sentry=e,this.category="loglevel-sentry"}static async translateError(e){const n=e.findIndex(l=>l instanceof Error),r=e.findIndex(l=>typeof l=="string"),i=e.findIndex(l=>l&&typeof l=="object"&&"status"in l&&"type"in l),o=e.findIndex(l=>l&&typeof l=="object"&&"isAxiosError"in l&&l.isAxiosError===!0);let s;if(i!==-1){var a;const l=e[i],u=(a=l.headers)===null||a===void 0?void 0:a.get("content-type");if(u.includes("application/json")){const d=await l.json();s=new Error((d==null?void 0:d.error)||(d==null?void 0:d.message)||JSON.stringify(d))}else u.includes("text/plain")?s=new Error(await l.text()):s=new Error(`${l.status} ${l.type.toString()} ${l.statusText}`)}else if(o!==-1){const u=e[o].response;if(u){var c;const d=(c=u.headers)===null||c===void 0?void 0:c["content-type"];if(d.includes("application/json")){const f=u.data,h="error"in f?f.error:"message"in f?f.message:JSON.stringify(f);s=new Error(h)}else d.includes("text/plain")?s=new Error(u.data):s=new Error(`${u.status} ${u.data.toString()}`)}else s=new Error("Network error")}else n!==-1?s=e.splice(n,1)[0]:r!==-1?s=new Error(e.splice(r,1)[0]):s=new Error("Unknown error");return[s,e]}static translateArgs(e){const n=e.findIndex(i=>typeof i=="string"),r=n!==-1?e.splice(n,1)[0]:void 0;return r?{message:r,data:{arguments:e}}:{data:{arguments:e}}}static translateLevel(e){switch(e){case"info":return"info";case"warn":return"warning";default:return"debug"}}install(e){const n=e.methodFactory;e.methodFactory=(r,i,o)=>{o&&(this.category=o.toString());const s=n(r,i,o),a=typeof window<"u",c=(...l)=>{var u;const d=(u=this.sentry)===null||u===void 0?void 0:u.getActiveSpan(),{traceId:f,spanId:h}=(d==null?void 0:d.spanContext())||{},g=r==="error"&&l.length>=1&&l[0]instanceof Error;if(a){if(g){const y=l[0],b=f||h?`${y.message}: traceId: ${f} - spanId: ${h}`:y.message,N=[new Error(b,{cause:y}),...l.slice(1)];s&&s(...N);return}s&&s(...l)}else{let y={timestamp:new Date,level:r.toUpperCase(),logger:o};if((f||h)&&(y=ae(ae({},y),{},{traceId:f,spanId:h})),g){var p;const b=l[0];y=ae(ae({},y),{},{message:(p=b.message)!==null&&p!==void 0?p:"",stack:b.stack,extra:l.length>1?l.slice(1):void 0})}else{var S;y=ae(ae({},y),{},{message:(S=l[0])!==null&&S!==void 0?S:"",extra:l.length>1?l.slice(1):void 0})}s&&s(JSON.stringify(Jle(y)))}};switch(r){case"error":return async(...l)=>{const{stack:u}=l.find(h=>h instanceof Error)||new Error,[d,f]=await ng.translateError(l);d.stack=u,this.error(d,...f),c(d,...f)};default:return(...l)=>{this.log(ng.translateLevel(r),...l),c(...l)}}},e.setLevel(e.getLevel())}setEnabled(e){if(this.sentry){const n=this.sentry.getClient().getOptions();n&&(n.enabled=e)}}isEnabled(){if(this.sentry){var e;const n=this.sentry.getClient().getOptions();return(e=n==null?void 0:n.enabled)!==null&&e!==void 0?e:!1}return!1}log(e,...n){this.sentry&&this.sentry.addBreadcrumb(ae(ae({},ng.translateArgs(n)),{},{category:this.category,level:e,timestamp:Date.now()}))}trace(...e){this.log("debug",...e)}error(e,...n){if(this.sentry){const r={data:{logger:"loglevel-sentry","logger.name":this.category,arguments:n}};this.sentry.captureException(e,r)}}}const $e=Nc.getLogger("web3auth-logger"),eue=new ng;eue.install($e);const tue="f6LbNqCeVRf512ggdME4b6CyflhF1tsX";let nue=class{constructor(){ue(this,"segment",void 0),ue(this,"globalProperties",{}),ue(this,"enabled",!0)}init(){if(!this.isSkipped()){if(this.segment)throw new Error("Analytics already initialized");this.segment=new Lle,this.segment.load({writeKey:tue},{user:{cookie:{key:"web3auth_ajs_user_id"},localStorage:{key:"web3auth_ajs_user_traits"}},globalAnalyticsKey:"web3auth_analytics"}).then(()=>($e.debug("Analytics initialized"),!0)).catch(e=>{$e.error("Failed to initialize Analytics",e)})}}enable(){this.enabled=!0}disable(){this.enabled=!1}setGlobalProperties(e){this.globalProperties=ae(ae({},this.globalProperties),e)}async identify(e,n){if(this.enabled&&!this.isSkipped())try{return this.getSegment().identify(e,ae({},n))}catch(r){$e.error(`Failed to identify user ${e} in analytics`,r)}}async track(e,n){if(this.enabled&&!this.isSkipped())try{return this.getSegment().track(e,ae(ae({},n),this.globalProperties))}catch(r){$e.error(`Failed to track event ${e}`,r)}}getSegment(){if(!this.segment)throw $e.error("Analytics not initialized. Call Analytics.init() first."),new Error("Analytics not initialized. Call Analytics.init() first.");return this.segment}isSkipped(){const e=window.location.origin;return!!(e.startsWith("http://")||e.includes("localhost"))}};const Wt={SDK_INITIALIZATION_COMPLETED:"SDK Initialization Completed",SDK_INITIALIZATION_FAILED:"SDK Initialization Failed",CONNECTION_STARTED:"Connection Started",CONNECTION_COMPLETED:"Connection Completed",CONNECTION_FAILED:"Connection Failed",IDENTITY_TOKEN_STARTED:"Identity Token Started",IDENTITY_TOKEN_COMPLETED:"Identity Token Completed",IDENTITY_TOKEN_FAILED:"Identity Token Failed",MFA_ENABLEMENT_STARTED:"MFA Enablement Started",MFA_ENABLEMENT_COMPLETED:"MFA Enablement Completed",MFA_ENABLEMENT_FAILED:"MFA Enablement Failed",MFA_MANAGEMENT_SELECTED:"MFA Management Selected",MFA_MANAGEMENT_FAILED:"MFA Management Failed",LOGIN_MODAL_OPENED:"Login Modal Opened",LOGIN_MODAL_CLOSED:"Login Modal Closed",SOCIAL_LOGIN_SELECTED:"Social Login Selected",EXTERNAL_WALLET_SELECTED:"External Wallet Selected",EXTERNAL_WALLET_LIST_EXPANDED:"External Wallet List Expanded",WALLET_UI_CLICKED:"Wallet UI Clicked",WALLET_CONNECT_SCANNER_CLICKED:"Wallet Connect Scanner Clicked",WALLET_CHECKOUT_CLICKED:"Wallet Checkout Clicked",WALLET_SWAP_CLICKED:"Wallet Swap Clicked"},K7={REACT_HOOKS:"React Hooks",VUE_COMPOSABLES:"Vue Composables",NATIVE_SDK:"Native SDK"},q7={WEB_NO_MODAL:"Web NoModal",WEB_MODAL:"Web Modal"},wp={MAINNET:"mainnet",TESTNET:"testnet",CYAN:"cyan",AQUA:"aqua",CELESTE:"celeste"},WP={SAPPHIRE_DEVNET:"sapphire_devnet",SAPPHIRE_MAINNET:"sapphire_mainnet"},rue={[WP.SAPPHIRE_MAINNET]:"https://api.web3auth.io/signer-service",[WP.SAPPHIRE_DEVNET]:"https://api.web3auth.io/signer-service",[wp.MAINNET]:"https://api.web3auth.io/signer-service",[wp.TESTNET]:"https://api.web3auth.io/signer-service",[wp.CYAN]:"https://api.web3auth.io/signer-polygon-service",[wp.AQUA]:"https://api.web3auth.io/signer-polygon-service",[wp.CELESTE]:"https://api.web3auth.io/signer-polygon-service"};class ko extends jB{constructor(e,n,r){super(n),ue(this,"code",void 0),ue(this,"message",void 0),ue(this,"cause",void 0),this.code=e,this.message=n||"",this.cause=r,Object.defineProperty(this,"name",{value:"Web3AuthError"})}toJSON(){return{name:this.name,code:this.code,message:this.message,cause:this.cause}}toString(){return JSON.stringify(this.toJSON())}}class Fe extends ko{constructor(e,n,r){super(e,n,r),Object.defineProperty(this,"name",{value:"WalletInitializationError"})}static fromCode(e,n="",r){return new Fe(e,`${Fe.messages[e]}, ${n}`,r)}static notFound(e="",n){return Fe.fromCode(5001,e,n)}static notInstalled(e="",n){return Fe.fromCode(5002,e,n)}static notReady(e="",n){return Fe.fromCode(5003,e,n)}static windowBlocked(e="",n){return Fe.fromCode(5004,e,n)}static windowClosed(e="",n){return Fe.fromCode(5005,e,n)}static incompatibleChainNameSpace(e="",n){return Fe.fromCode(5006,e,n)}static duplicateConnectorError(e="",n){return Fe.fromCode(5007,e,n)}static invalidProviderConfigError(e="",n){return Fe.fromCode(5008,e,n)}static providerNotReadyError(e="",n){return Fe.fromCode(5009,e,n)}static rpcConnectionError(e="",n){return Fe.fromCode(5010,e,n)}static invalidParams(e="",n){return Fe.fromCode(5011,e,n)}static invalidNetwork(e="",n){return Fe.fromCode(5013,e,n)}}ue(Fe,"messages",{5e3:"Custom",5001:"Wallet is not found",5002:"Wallet is not installed",5003:"Wallet is not ready yet",5004:"Wallet window is blocked",5005:"Wallet window has been closed by the user",5006:"Incompatible chain namespace provided",5007:"Connector has already been included",5008:"Invalid provider Config",5009:"Provider is not ready yet",5010:"Failed to connect with rpc url",5011:"Invalid params passed in",5013:"Invalid network provided"});class ot extends ko{constructor(e,n,r){super(e,n,r),Object.defineProperty(this,"name",{value:"WalletLoginError"})}static fromCode(e,n="",r){return new ot(e,`${ot.messages[e]}. ${n}`,r)}static connectionError(e="",n){return ot.fromCode(5111,e,n)}static disconnectionError(e="",n){return ot.fromCode(5112,e,n)}static notConnectedError(e="",n){return ot.fromCode(5113,e,n)}static popupClosed(e="",n){return ot.fromCode(5114,e,n)}static mfaEnabled(e="",n){return ot.fromCode(5115,e,n)}static chainConfigNotAdded(e="",n){return ot.fromCode(5116,e,n)}static unsupportedOperation(e="",n){return ot.fromCode(5117,e,n)}static sfaKeyNotFound(e="",n){return ot.fromCode(5118,e,n)}static userNotLoggedIn(e="",n){return ot.fromCode(5119,e,n)}}ue(ot,"messages",{5e3:"Custom",5111:"Failed to connect with wallet",5112:"Failed to disconnect from wallet",5113:"Wallet is not connected",5114:"Wallet popup has been closed by the user",5115:"User has already enabled mfa, please use the @web3auth/web3auth-web sdk for login with mfa",5116:"Chain config has not been added. Please add the chain config before calling switchChain",5117:"Unsupported operation",5118:"useSFAKey flag is enabled but SFA key is not available",5119:"User not logged in."});class os extends ko{constructor(e,n,r){super(e,n,r),Object.defineProperty(this,"name",{value:"WalletOperationsError"})}static fromCode(e,n="",r){return new os(e,`${os.messages[e]}, ${n}`,r)}static chainIDNotAllowed(e="",n){return os.fromCode(5201,e,n)}static operationNotAllowed(e="",n){return os.fromCode(5202,e,n)}static chainNamespaceNotAllowed(e="",n){return os.fromCode(5203,e,n)}}ue(os,"messages",{5e3:"Custom",5201:"Provided chainId is not allowed",5202:"This operation is not allowed"});class Fa extends ko{constructor(e,n,r){super(e,n,r),Object.defineProperty(this,"name",{value:"WalletProviderError"})}static fromCode(e,n="",r){return new os(e,`${Fa.messages[e]}, ${n}`,r)}static invalidRequestArgs(e="",n){return os.fromCode(5301,e,n)}static invalidRequestMethod(e="",n){return os.fromCode(5302,e,n)}static invalidRequestParams(e="",n){return os.fromCode(5303,e,n)}}ue(Fa,"messages",{5e3:"Custom",5301:"Expected a single, non-array, object argument.",5302:"'args.method' must be a non-empty string.",5303:"'args.params' must be an object or array if provided."});const VE=t=>(typeof t=="string"||typeof t=="number")&&/^(-)?0x[0-9a-f]*$/i.test(t),iue=(t=ph.SAPPHIRE_MAINNET)=>rue[t],V7=async({clientId:t,web3AuthNetwork:e,aaProvider:n,authBuildEnv:r})=>{const i=new URL(`${iue(e)}/api/v2/configuration`);return i.searchParams.append("project_id",t),i.searchParams.append("network",e),r&&i.searchParams.append("build_env",r),n&&i.searchParams.append("aa_provider",n),await wa(i.href)},oue=async t=>await wa(t),dxe=t=>{let e=t.toLowerCase();return e=e.split("|")[0],e=e.replace(/-/g," "),e=e.replace(/\s+/g," "),e=e.replace(/wallet$/i,"").trim(),e=e.replace(/\s/g,"-"),e};function Za(t,e,n){return e?e.aborted?Promise.reject(new DOMException("Aborted","AbortError")):new Promise((r,i)=>{const o=()=>{n==null||n(),i(new DOMException("Aborted","AbortError"))};return e.addEventListener("abort",o),Promise.resolve().then(()=>t()).then(r,i).finally(()=>{e.removeEventListener("abort",o)})}):t()}const GE=()=>typeof window<"u"&&typeof document<"u",G7=t=>{var e,n;return{whitelabel_app_name:t==null?void 0:t.appName,whitelabel_app_url:t==null?void 0:t.appUrl,whitelabel_logo_light_enabled:!!(t!=null&&t.logoLight),whitelabel_logo_dark_enabled:!!(t!=null&&t.logoDark),whitelabel_default_language:t==null?void 0:t.defaultLanguage,whitelabel_theme_mode:t==null?void 0:t.mode,whitelabel_use_logo_loader:t==null?void 0:t.useLogoLoader,whitelabel_theme_primary:t==null||(e=t.theme)===null||e===void 0?void 0:e.primary,whitelabel_theme_on_primary:t==null||(n=t.theme)===null||n===void 0?void 0:n.onPrimary,whitelabel_tnc_link_enabled:!!(t!=null&&t.tncLink),whitelabel_privacy_policy_enabled:!!(t!=null&&t.privacyPolicy)}},sue=t=>{var e,n,r,i,o;const s=Array.from(new Set(t==null||(e=t.chains)===null||e===void 0?void 0:e.map(c=>{var l;return oS((l=c.bundlerConfig)===null||l===void 0?void 0:l.url)}).filter(Boolean))),a=Array.from(new Set(t==null||(n=t.chains)===null||n===void 0?void 0:n.map(c=>{var l;return oS((l=c.paymasterConfig)===null||l===void 0?void 0:l.url)}).filter(Boolean)));return{aa_smart_account_type:t==null?void 0:t.smartAccountType,aa_chain_ids:t==null||(r=t.chains)===null||r===void 0?void 0:r.map(c=>Vf({chainId:c.chainId,chainNamespace:mt.EIP155})),aa_bundler_urls:s,aa_paymaster_urls:a,aa_paymaster_enabled:a.length>0,aa_paymaster_context_enabled:t==null||(i=t.chains)===null||i===void 0?void 0:i.some(c=>{var l;return(l=c.bundlerConfig)===null||l===void 0?void 0:l.paymasterContext}),aa_erc20_paymaster_enabled:t==null||(o=t.chains)===null||o===void 0?void 0:o.some(c=>{var l;return(l=c.bundlerConfig)===null||l===void 0||(l=l.paymasterContext)===null||l===void 0?void 0:l.token})}},aue=t=>{var e,n,r,i,o,s,a,c,l,u,d;return{ws_confirmation_strategy:t==null?void 0:t.confirmationStrategy,ws_enable_key_export:t==null?void 0:t.enableKeyExport,ws_show_widget_button:t==null||(e=t.whiteLabel)===null||e===void 0?void 0:e.showWidgetButton,ws_button_position:t==null||(n=t.whiteLabel)===null||n===void 0?void 0:n.buttonPosition,ws_hide_nft_display:t==null||(r=t.whiteLabel)===null||r===void 0?void 0:r.hideNftDisplay,ws_hide_token_display:t==null||(i=t.whiteLabel)===null||i===void 0?void 0:i.hideTokenDisplay,ws_hide_transfers:t==null||(o=t.whiteLabel)===null||o===void 0?void 0:o.hideTransfers,ws_hide_topup:t==null||(s=t.whiteLabel)===null||s===void 0?void 0:s.hideTopup,ws_hide_receive:t==null||(a=t.whiteLabel)===null||a===void 0?void 0:a.hideReceive,ws_hide_swap:t==null||(c=t.whiteLabel)===null||c===void 0?void 0:c.hideSwap,ws_hide_show_all_tokens:t==null||(l=t.whiteLabel)===null||l===void 0?void 0:l.hideShowAllTokens,ws_hide_wallet_connect:t==null||(u=t.whiteLabel)===null||u===void 0?void 0:u.hideWalletConnect,ws_default_portfolio:t==null||(d=t.whiteLabel)===null||d===void 0?void 0:d.defaultPortfolio}},Y7="10.3.1",Pf=t=>{try{const e=t instanceof ko?t.code:t==null?void 0:t.code;return{error_message:t instanceof Error?t.message:(t==null?void 0:t.message)||(t==null?void 0:t.toString()),error_code:e}}catch{return{error_message:"Unknown error",error_code:void 0}}},oS=t=>{try{return new URL(t).hostname}catch{return""}},Vf=t=>t.chainNamespace===mt.EIP155?`${t.chainNamespace}:${parseInt(t.chainId,16)}`:t.chainNamespace===mt.SOLANA?`${t.chainNamespace}:${zse[t.chainId]}`:`${t.chainNamespace}:${t.chainId}`;var cue=lue;function lue(t){t=t||{};var e=t.max||Number.MAX_SAFE_INTEGER,n=typeof t.start<"u"?t.start:Math.floor(Math.random()*e);return function(){return n=n%e,n++}}const uue=Bo(cue);uue();let due=function(t){return t.ACCOUNTS_CHANGED="accountsChanged",t.CHAIN_CHANGED="chainChanged",t.CONNECT="connect",t.DISCONNECT="disconnect",t.MESSAGE="message",t}({});class fue extends yse{constructor({config:e,state:n}){super({config:e,state:n}),ue(this,"_providerEngineProxy",null),ue(this,"keyExportFlagSetByCode",!1);const{chain:r}=e;if(!r)throw Fe.invalidProviderConfigError("Please provide chain");if(!r.chainId)throw Fe.invalidProviderConfigError("Please provide chainId inside chain");if(!r.rpcTarget)throw Fe.invalidProviderConfigError("Please provide rpcTarget inside chain");typeof e.keyExportEnabled=="boolean"&&(this.keyExportFlagSetByCode=!0),this.defaultState={chainId:"loading"},this.defaultConfig={chain:e.chain,chains:e.chains,keyExportEnabled:typeof e.keyExportEnabled=="boolean"?e.keyExportEnabled:!0},super.initialize()}get currentChain(){return this.config.chains.find(e=>e.chainId===this.state.chainId)}get provider(){return this._providerEngineProxy}get chainId(){return this.state.chainId}set provider(e){throw new Error("Method not implemented.")}async request(e){var n;if(!e||typeof e!="object"||Array.isArray(e))throw lc.invalidRequest({message:Fa.invalidRequestArgs().message,data:ae(ae({},e||{}),{},{cause:Fa.invalidRequestArgs().message})});const{method:r,params:i}=e;if(typeof r!="string"||r.length===0)throw lc.invalidRequest({message:Fa.invalidRequestMethod().message,data:ae(ae({},e||{}),{},{cause:Fa.invalidRequestMethod().message})});if(i!==void 0&&!Array.isArray(i)&&(typeof i!="object"||i===null))throw lc.invalidRequest({message:Fa.invalidRequestParams().message,data:ae(ae({},e||{}),{},{cause:Fa.invalidRequestParams().message})});return(n=this.provider)===null||n===void 0?void 0:n.request(e)}sendAsync(e,n){return n?this.send(e,n):this.request(e)}send(e,n){this.request(e).then(r=>n(null,{result:r})).catch(r=>n(r,null))}updateProviderEngineProxy(e){if(this._providerEngineProxy){this._providerEngineProxy.setTarget(e);const n=r=>{r!=="newListener"&&e.on(r,(...i)=>{if(r===due.CHAIN_CHANGED){const o=i[0];this.update({chainId:o})}this.emit(r,...i)})};this.eventNames().forEach(r=>{n(r)}),this.on("newListener",r=>{this.listenerCount(r)>0||n(r)})}else this._providerEngineProxy=xse(e)}setKeyExportFlag(e){this.keyExportFlagSetByCode||this.configure({keyExportEnabled:e})}getProviderEngineProxy(){return this._providerEngineProxy}getChain(e){return this.config.chains.find(n=>n.chainId===e)}}function hue(t){return(e,n,r,i)=>e.method==="chainId"?(n.result=t,i()):r()}function pue(t){return(e,n,r,i)=>e.method==="provider_config"?(n.result=t,i()):r()}function gue(t){const{chainId:e,rpcTarget:n}=t,r=Lse({rpcTarget:n});return{networkMiddleware:poe([hue(e),pue(t),r]),fetchMiddleware:r}}var J7;class hA extends fue{constructor({config:e,state:n}){super({config:e,state:n})}async setupProvider(e){const n=this.getChain(e);if(!n)throw dP.custom({message:"Chain not found",code:4902});const{networkMiddleware:r}=gue(n),i=new $s;i.push(r);const o=goe(i);this.updateProviderEngineProxy(o),this.emit("chainChanged",e),this.emit("connect",{chainId:e}),this.update({chainId:e})}async switchChain(e){if(!this._providerEngineProxy)throw dP.custom({message:"Provider is not initialized",code:4902});const n=e.chainId;this.chainId!==n&&(this.update({chainId:"loading"}),await this.setupProvider(n))}getProviderEngineProxy(){return this._providerEngineProxy}lookupNetwork(){throw new Error("Method not implemented.")}}J7=hA;ue(hA,"getProviderInstance",async t=>{const e=new J7({config:{chain:t.chain,chains:t.chains}}),{chainId:n}=t.chain;return await e.setupProvider(n),e});const mue=t=>{const{document:e}=t,n=e.querySelector('head > meta[property="og:site_name"]');if(n)return n.content;const r=e.querySelector('head > meta[name="title"]');return r?r.content:e.title&&e.title.length>0?e.title:t.location.hostname};function KP(t){return new Promise((e,n)=>{try{const r=document.createElement("img");r.onload=()=>e(!0),r.onerror=()=>e(!1),r.src=t}catch(r){n(r)}})}async function yue(t){const{document:e}=t;let n=e.querySelector('head > link[rel="shortcut icon"]');if(n&&await KP(n.href)||(n=Array.from(e.querySelectorAll('head > link[rel="icon"]')).find(r=>!!r.href)||null,n&&await KP(n.href)))return n.href}function vue(t){const[e,n]=t.split(".");return{header:JSON.parse(vw(e)),payload:JSON.parse(vw(n))}}const Zl={EIP155:"eip155",SOLANA:"solana",MULTICHAIN:"multichain"},Aw={AUTH:"auth",WALLET_CONNECT_V2:"wallet-connect-v2",METAMASK:"metamask"},wue=ae({},Aw),Iw=ae({COINBASE:"coinbase"},Aw),Ye=ae(ae({},Iw),wue),Z7={[Aw.AUTH]:"Auth",[Aw.WALLET_CONNECT_V2]:"Wallet Connect v2",[Iw.COINBASE]:"Coinbase Smart Wallet",[Iw.METAMASK]:"MetaMask"},Ue={NOT_READY:"not_ready",READY:"ready",CONNECTING:"connecting",CONNECTED:"connected",DISCONNECTING:"disconnecting",DISCONNECTED:"disconnected",ERRORED:"errored"},qe=ae(ae({},Ue),{},{CONNECTOR_DATA_UPDATED:"connector_data_updated",CACHE_CLEAR:"cache_clear",CONNECTORS_UPDATED:"connectors_updated",MFA_ENABLED:"mfa_enabled",REHYDRATION_ERROR:"rehydration_error"}),Ba={EXTERNAL:"external",IN_APP:"in_app"};class Q7 extends bu{constructor(e){super(),ue(this,"connectorData",{}),ue(this,"isInjected",void 0),ue(this,"icon",void 0),ue(this,"coreOptions",void 0),ue(this,"rehydrated",!1),ue(this,"connectorNamespace",void 0),ue(this,"type",void 0),ue(this,"name",void 0),ue(this,"status",void 0),this.coreOptions=e.coreOptions}get connnected(){return this.status===Ue.CONNECTED}checkConnectionRequirements(){if(!(this.name===Ye.WALLET_CONNECT_V2&&this.status===Ue.CONNECTING)&&!(this.name===Ye.METAMASK&&!this.isInjected&&this.status===Ue.CONNECTING)){if(this.status===Ue.CONNECTING)throw Fe.notReady("Already connecting");if(this.status===Ue.CONNECTED)throw ot.connectionError("Already connected");if(this.status!==Ue.READY)throw ot.connectionError("Wallet connector is not ready yet, Please wait for init function to resolve before calling connect/connectTo function")}}checkInitializationRequirements({chainConfig:e}){if(!this.coreOptions.clientId)throw Fe.invalidParams("Please initialize Web3Auth with a valid clientId in constructor");if(!e)throw Fe.invalidParams("chainConfig is required before initialization");if(!e.rpcTarget&&e.chainNamespace!==mt.OTHER)throw Fe.invalidParams("rpcTarget is required in chainConfig");if(!e.chainId&&e.chainNamespace!==mt.OTHER)throw Fe.invalidParams("chainID is required in chainConfig");if(this.connectorNamespace!==Zl.MULTICHAIN&&this.connectorNamespace!==e.chainNamespace)throw Fe.invalidParams("Connector doesn't support this chain namespace");if(this.status!==Ue.NOT_READY){if(this.status===Ue.CONNECTED)throw Fe.notReady("Already connected");if(this.status===Ue.READY)throw Fe.notReady("Connector is already initialized")}}checkDisconnectionRequirements(){if(this.status!==Ue.CONNECTED)throw ot.disconnectionError("Not connected with wallet")}checkSwitchChainRequirements(e,n=!1){if(!n&&!this.provider)throw ot.notConnectedError("Not connected with wallet.");if(!this.coreOptions.chains)throw Fe.invalidParams("chainConfigs is required");if(!this.coreOptions.chains.some(i=>i.chainId===e.chainId&&(i.chainNamespace===this.connectorNamespace||this.connectorNamespace===Zl.MULTICHAIN)))throw Fe.invalidParams("Invalid chainId")}updateConnectorData(e){this.connectorData=e,this.emit(qe.CONNECTOR_DATA_UPDATED,{connectorName:this.name,data:e})}}class bue extends Q7{constructor(e){super(e),ue(this,"name",Ye.AUTH),ue(this,"connectorNamespace",Zl.MULTICHAIN),ue(this,"type",Ba.IN_APP),ue(this,"authInstance",null),ue(this,"status",Ue.NOT_READY),ue(this,"privateKeyProvider",null),ue(this,"authOptions",void 0),ue(this,"loginSettings",{authConnection:""}),ue(this,"wsSettings",void 0),ue(this,"wsEmbedInstance",null),ue(this,"authConnectionConfig",[]),ue(this,"wsEmbedInstancePromise",null),this.authOptions=e.connectorSettings,this.loginSettings=e.loginSettings||{authConnection:""},this.wsSettings=e.walletServicesSettings||{},this.authConnectionConfig=e.authConnectionConfig||[]}get provider(){if(this.status!==Ue.NOT_READY){var e;if((e=this.wsEmbedInstance)!==null&&e!==void 0&&e.provider)return this.wsEmbedInstance.provider;if(this.privateKeyProvider)return this.privateKeyProvider}return null}get wsEmbed(){return this.wsEmbedInstance}set provider(e){throw new Error("Not implemented")}async init(e){const{chains:n}=this.coreOptions,{chainId:r}=e,i=n.find(a=>a.chainId===r);if(super.checkInitializationRequirements({chainConfig:i}),!this.coreOptions.clientId)throw Fe.invalidParams("clientId is required before auth's initialization");if(!this.authOptions)throw Fe.invalidParams("authOptions is required before auth's initialization");if(this.authConnectionConfig.length===0)throw Fe.invalidParams("authConnectionConfig is required before auth's initialization");const o=this.authOptions.uxMode===Pr.REDIRECT;this.authOptions=ae(ae({},this.authOptions),{},{replaceUrlOnRedirect:o,useCoreKitKey:this.coreOptions.useSFAKey}),this.authInstance=new Qte(ae(ae({},this.authOptions),{},{clientId:this.coreOptions.clientId,network:this.coreOptions.web3AuthNetwork,sdkMode:Os.IFRAME,authConnectionConfig:this.authConnectionConfig.filter(a=>!a.isDefault),mfaSettings:this.coreOptions.mfaSettings})),$e.debug("initializing auth connector init",this.authOptions);const s=this.authInstance.init();if(this.coreOptions.privateKeyProvider)this.privateKeyProvider=this.coreOptions.privateKeyProvider;else switch(i.chainNamespace){case mt.EIP155:case mt.SOLANA:{const{default:a}=await Lt(async()=>{const{default:l}=await import("./index-DsIS7hYV.js");return{default:l}},[]);this.wsEmbedInstance=new a({web3AuthClientId:this.coreOptions.clientId,web3AuthNetwork:this.coreOptions.web3AuthNetwork,modalZIndex:this.wsSettings.modalZIndex});const c=n.filter(l=>l.chainNamespace===mt.EIP155||l.chainNamespace===mt.SOLANA);this.wsEmbedInstancePromise=this.wsEmbedInstance.init(ae(ae({},this.wsSettings),{},{chains:c,chainId:r,whiteLabel:ae(ae({},this.authOptions.whiteLabel),this.wsSettings.whiteLabel)})).then(()=>{this.wsEmbedInstancePromise=null});break}case mt.XRPL:throw ot.connectionError("Private key provider is required for XRPL");default:{const{CommonPrivateKeyProvider:a}=await Lt(async()=>{const{CommonPrivateKeyProvider:c}=await import("./index-CnU3ngHS.js");return{CommonPrivateKeyProvider:c}},[]);this.privateKeyProvider=new a({config:{chain:i,chains:this.coreOptions.chains}})}}$e.debug("initializing auth connector"),await s,this.status=Ue.READY,this.emit(qe.READY,Ye.AUTH);try{const{sessionId:a}=this.authInstance||{};if(a&&(e.autoConnect||o))this.rehydrated=!0,await this.connect({chainId:e.chainId});else if(!a&&e.autoConnect)throw ot.connectionError("Failed to rehydrate")}catch(a){this.emit(qe.REHYDRATION_ERROR,a)}}async connect(e){super.checkConnectionRequirements(),this.status=Ue.CONNECTING,this.emit(qe.CONNECTING,ae(ae({},e),{},{connector:Ye.AUTH}));try{return await this.connectWithProvider(e),this.provider}catch(r){var n;throw $e.error("Failed to connect with auth provider",r),this.status=Ue.READY,this.emit(qe.ERRORED,r),r!=null&&(n=r.message)!==null&&n!==void 0&&n.includes("user closed popup")?ot.popupClosed():r instanceof ko?r:ot.connectionError("Failed to login with auth",r)}}async enableMFA(e={authConnection:""}){if(this.status!==Ue.CONNECTED)throw ot.notConnectedError("Not connected with wallet");if(!this.authInstance)throw Fe.notReady("authInstance is not ready");try{const n=await this.authInstance.enableMFA(e);n&&this.emit(qe.MFA_ENABLED,n)}catch(n){throw $e.error("Failed to enable MFA with auth provider",n),n instanceof ko?n:ot.connectionError("Failed to enable MFA with auth",n)}}async manageMFA(e={authConnection:""}){if(this.status!==Ue.CONNECTED)throw ot.notConnectedError("Not connected with wallet");if(!this.authInstance)throw Fe.notReady("authInstance is not ready");try{await this.authInstance.manageMFA(e)}catch(n){throw $e.error("Failed to manage MFA with auth provider",n),n instanceof ko?n:ot.connectionError("Failed to manage MFA with auth",n)}}async disconnect(e={cleanup:!1}){if(this.status!==Ue.CONNECTED)throw ot.notConnectedError("Not connected with wallet");if(!this.authInstance)throw Fe.notReady("authInstance is not ready");this.status=Ue.DISCONNECTING,await this.authInstance.logout(),this.wsEmbedInstance&&await this.wsEmbedInstance.logout(),e.cleanup?(this.status=Ue.NOT_READY,this.authInstance=null,this.wsEmbedInstance&&(this.wsEmbedInstance=null),this.privateKeyProvider&&(this.privateKeyProvider=null)):this.status=Ue.READY,this.rehydrated=!1,this.emit(qe.DISCONNECTED)}async getIdentityToken(){if(this.status!==Ue.CONNECTED)throw ot.notConnectedError("Not connected with wallet, Please login/connect first");return{idToken:(await this.getUserInfo()).idToken}}async getUserInfo(){if(this.status!==Ue.CONNECTED)throw ot.notConnectedError("Not connected with wallet");if(!this.authInstance)throw Fe.notReady("authInstance is not ready");return this.authInstance.getUserInfo()}async switchChain(e,n=!1){super.checkSwitchChainRequirements(e,n);const{chainId:r}=e,{chainId:i}=this.provider,{chainNamespace:o}=this.getChain(i),{chainNamespace:s}=this.getChain(r);if(i!==r)if(o===mt.SOLANA||o===mt.EIP155){var a;if(s!==mt.SOLANA&&s!==mt.EIP155)throw ot.connectionError("Cannot switch to other chain namespace");const l=`${s}:${Number(e.chainId)}`;await((a=this.wsEmbedInstance.provider)===null||a===void 0?void 0:a.request({method:"wallet_switchChain",params:{chainId:l}}))}else{var c;if(o!==s)throw ot.connectionError("Cannot switch to other chain namespace");await((c=this.privateKeyProvider)===null||c===void 0?void 0:c.switchChain(e))}}async cleanup(){if(!this.authInstance)throw Fe.notReady("authInstance is not ready");await this.authInstance.cleanup(),this.wsEmbedInstance&&this.wsEmbedInstance.clearInit()}getOAuthProviderConfig(e){const{authConnection:n,authConnectionId:r,groupedAuthConnectionId:i}=e;return this.authConnectionConfig.find(s=>i&&r?s.authConnection===n&&s.groupedAuthConnectionId===i&&s.authConnectionId===r:r?s.authConnection===n&&s.authConnectionId===r:s.authConnection===n&&s.isDefault)}getChain(e){return this.coreOptions.chains.find(n=>n.chainId===e)}_getFinalPrivKey(){if(!this.authInstance)return"";let e=this.authInstance.privKey;if(this.coreOptions.useSFAKey){if(this.authInstance.privKey&&!this.authInstance.coreKitKey)throw ot.sfaKeyNotFound();e=this.authInstance.coreKitKey}return e}async connectWithProvider(e){var n,r;if(!this.authInstance)throw Fe.notReady("authInstance is not ready");const i=this.coreOptions.chains.find(l=>l.chainId===e.chainId);if(!i)throw ot.connectionError("Chain config is not available");const{chainNamespace:o}=i,s=o===mt.EIP155||o===mt.SOLANA?(n=this.authInstance)===null||n===void 0?void 0:n.sessionId:this._getFinalPrivKey();if(e.idToken&&(e.extraLoginOptions=ae(ae({},e.extraLoginOptions),{},{id_token:e.idToken})),!s||(r=e.extraLoginOptions)!==null&&r!==void 0&&r.id_token){var a;this.loginSettings.curve=jee.OTHER;const l=ln(this.loginSettings,e);(a=e.extraLoginOptions)!==null&&a!==void 0&&a.id_token?await this.connectWithJwtLogin(l):await this.connectWithSocialLogin(l)}if(o===mt.EIP155||o===mt.SOLANA){this.wsEmbedInstancePromise&&await this.wsEmbedInstancePromise;const{sessionId:l,sessionNamespace:u}=this.authInstance||{};if(l&&await this.wsEmbedInstance.loginWithSessionId({sessionId:l,sessionNamespace:u})){var c;this.status=Ue.CONNECTED,this.emit(qe.CONNECTED,{connector:Ye.AUTH,reconnected:this.rehydrated,provider:this.provider}),(c=this.wsEmbedInstance)===null||c===void 0||c.provider.on("accountsChanged",(f=[])=>{f.length===0&&this.status===Ue.CONNECTED&&this.disconnect({cleanup:!1})})}}else{const l=this._getFinalPrivKey();l&&(await this.privateKeyProvider.setupProvider(l,e.chainId),this.status=Ue.CONNECTED,this.emit(qe.CONNECTED,{connector:Ye.AUTH,reconnected:this.rehydrated,provider:this.provider}))}}async connectWithSocialLogin(e){var n,r;const i=this.getOAuthProviderConfig({authConnection:e.authConnection,authConnectionId:e.authConnectionId,groupedAuthConnectionId:e.groupedAuthConnectionId});if(!(i!=null&&i.authConnection))throw ot.connectionError("Invalid auth connection.");const o=ae(ae(ae({},i.jwtParameters||{}),e.extraLoginOptions||{}),{},{login_hint:e.loginHint||((n=e.extraLoginOptions)===null||n===void 0?void 0:n.login_hint)}),s=uC(),a=Vu(e);a.extraLoginOptions=ae(ae({},a.extraLoginOptions||{}),{},{login_hint:e.loginHint||((r=e.extraLoginOptions)===null||r===void 0?void 0:r.login_hint)}),delete a.chainId;const c={authConnection:e.authConnection,authConnectionId:i.authConnectionId,clientId:i.clientId||o.client_id,groupedAuthConnectionId:i.groupedAuthConnectionId,redirect_uri:`${this.authInstance.options.sdkUrl}/auth`,jwtParams:o,customState:{nonce:s,appState:e.appState,dapp_redirect_url:this.authInstance.options.redirectUrl,uxMode:this.authInstance.options.uxMode,whiteLabel:JSON.stringify(this.authInstance.options.whiteLabel),loginParams:JSON.stringify(a),version:kx.split(".")[0],web3AuthNetwork:this.coreOptions.web3AuthNetwork,web3AuthClientId:this.coreOptions.clientId,originData:this.authInstance.options.originData?JSON.stringify(this.authInstance.options.originData):void 0},web3AuthClientId:this.coreOptions.clientId,web3AuthNetwork:this.coreOptions.web3AuthNetwork},l=$ee(c),u=new e2({url:l.finalURL,timeout:0});if(this.authOptions.uxMode===Pr.REDIRECT)return u.redirect(this.authOptions.replaceUrlOnRedirect);let d=!1;return new Promise((f,h)=>{u.open().catch(p=>{$e.error("Error during login with social",p),this.authInstance.postLoginCancelledMessage(s),h(p)});const g=new eD({sameIpCheck:!0});g.subscribe(`web3auth-login-${s}`).then(p=>{const S=JSON.parse(p||"{}");return(S==null?void 0:S.message)==="login_finished"&&(S!=null&&S.error&&(this.authInstance.postLoginCancelledMessage(s),h(S.error)),d=!0,g.cleanup(),u.close()),!0}).catch(p=>{$e.error("Error during login with social",p)}),u.once("close",()=>{d||(g.cleanup(),this.authInstance.postLoginCancelledMessage(s),h(ot.popupClosed()))}),this.authInstance.postLoginInitiatedMessage(a,s).then(f).catch(p=>{if(p instanceof ko)throw p;h(ot.connectionError(p instanceof Error?p.message:p||"Failed to login with social"))})})}connectWithJwtLogin(e){var n,r;const i=this.getOAuthProviderConfig({authConnection:e.authConnection,authConnectionId:e.authConnectionId,groupedAuthConnectionId:e.groupedAuthConnectionId});if(!(i!=null&&i.authConnection)&&!e.authConnectionId)throw ot.connectionError("Invalid auth connection.");i!=null&&i.authConnection||this.authInstance.options.authConnectionConfig.push({authConnection:e.authConnection,authConnectionId:e.authConnectionId,groupedAuthConnectionId:e.groupedAuthConnectionId});const o=Vu(e),s=ae(ae({},(i==null?void 0:i.jwtParameters)||{}),e.extraLoginOptions||{});let a;if(e.loginHint||(n=e.extraLoginOptions)!==null&&n!==void 0&&n.login_hint){var c;a=e.loginHint||((c=e.extraLoginOptions)===null||c===void 0?void 0:c.login_hint)}else if((r=e.extraLoginOptions)!==null&&r!==void 0&&r.id_token){const{payload:l}=vue(e.extraLoginOptions.id_token);a=$g(l,o.authConnection,s.userIdField,s.isUserIdCaseSensitive)}else throw ot.connectionError("Invalid login hint or id_token");return o.extraLoginOptions=ae(ae({},s),{},{login_hint:a}),delete o.chainId,this.authInstance.postLoginInitiatedMessage(o)}}const Eue=t=>({projectConfig:e,coreOptions:n})=>{var r,i,o,s;const a={},{whitelist:c,sessionTime:l}=e;c&&(a.originData=c.signed_urls),n.sessionTime?a.sessionTime=n.sessionTime:l&&(a.sessionTime=l),(r=n.uiConfig)!==null&&r!==void 0&&r.uxMode&&(a.uxMode=n.uiConfig.uxMode);const u=n.uiConfig||{};a.whiteLabel=u;const d=ln.all([{uxMode:Pr.POPUP,buildEnv:n.authBuildEnv||li.PRODUCTION},a,{}]),f=ln.all([u,((i=n.walletServicesConfig)===null||i===void 0?void 0:i.whiteLabel)||{}]),h=ae(ae({},n.walletServicesConfig),{},{whiteLabel:f,accountAbstractionConfig:n.accountAbstractionConfig,enableLogging:n.enableLogging}),g=(o=(s=n.walletServicesConfig)===null||s===void 0?void 0:s.enableKeyExport)!==null&&o!==void 0?o:!0;return n.privateKeyProvider&&n.privateKeyProvider.setKeyExportFlag(g),new bue({connectorSettings:d,walletServicesSettings:h,loginSettings:ae(ae({},{}),{},{mfaLevel:n.mfaLevel}),coreOptions:n,authConnectionConfig:e.embeddedWalletAuth})};var sS={exports:{}};(function(t,e){var n=typeof globalThis<"u"&&globalThis||typeof self<"u"&&self||typeof globalThis<"u"&&globalThis,r=function(){function o(){this.fetch=!1,this.DOMException=n.DOMException}return o.prototype=n,new o}();(function(o){(function(s){var a=typeof o<"u"&&o||typeof self<"u"&&self||typeof o<"u"&&o||{},c={searchParams:"URLSearchParams"in a,iterable:"Symbol"in a&&"iterator"in Symbol,blob:"FileReader"in a&&"Blob"in a&&function(){try{return new Blob,!0}catch{return!1}}(),formData:"FormData"in a,arrayBuffer:"ArrayBuffer"in a};function l(v){return v&&DataView.prototype.isPrototypeOf(v)}if(c.arrayBuffer)var u=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],d=ArrayBuffer.isView||function(v){return v&&u.indexOf(Object.prototype.toString.call(v))>-1};function f(v){if(typeof v!="string"&&(v=String(v)),/[^a-z0-9\-#$%&'*+.^_`|~!]/i.test(v)||v==="")throw new TypeError('Invalid character in header field name: "'+v+'"');return v.toLowerCase()}function h(v){return typeof v!="string"&&(v=String(v)),v}function g(v){var I={next:function(){var M=v.shift();return{done:M===void 0,value:M}}};return c.iterable&&(I[Symbol.iterator]=function(){return I}),I}function p(v){this.map={},v instanceof p?v.forEach(function(I,M){this.append(M,I)},this):Array.isArray(v)?v.forEach(function(I){if(I.length!=2)throw new TypeError("Headers constructor: expected name/value pair to be length 2, found"+I.length);this.append(I[0],I[1])},this):v&&Object.getOwnPropertyNames(v).forEach(function(I){this.append(I,v[I])},this)}p.prototype.append=function(v,I){v=f(v),I=h(I);var M=this.map[v];this.map[v]=M?M+", "+I:I},p.prototype.delete=function(v){delete this.map[f(v)]},p.prototype.get=function(v){return v=f(v),this.has(v)?this.map[v]:null},p.prototype.has=function(v){return this.map.hasOwnProperty(f(v))},p.prototype.set=function(v,I){this.map[f(v)]=h(I)},p.prototype.forEach=function(v,I){for(var M in this.map)this.map.hasOwnProperty(M)&&v.call(I,this.map[M],M,this)},p.prototype.keys=function(){var v=[];return this.forEach(function(I,M){v.push(M)}),g(v)},p.prototype.values=function(){var v=[];return this.forEach(function(I){v.push(I)}),g(v)},p.prototype.entries=function(){var v=[];return this.forEach(function(I,M){v.push([M,I])}),g(v)},c.iterable&&(p.prototype[Symbol.iterator]=p.prototype.entries);function S(v){if(!v._noBody){if(v.bodyUsed)return Promise.reject(new TypeError("Already read"));v.bodyUsed=!0}}function y(v){return new Promise(function(I,M){v.onload=function(){I(v.result)},v.onerror=function(){M(v.error)}})}function b(v){var I=new FileReader,M=y(I);return I.readAsArrayBuffer(v),M}function _(v){var I=new FileReader,M=y(I),E=/charset=([A-Za-z0-9_-]+)/.exec(v.type),C=E?E[1]:"utf-8";return I.readAsText(v,C),M}function N(v){for(var I=new Uint8Array(v),M=new Array(I.length),E=0;E<I.length;E++)M[E]=String.fromCharCode(I[E]);return M.join("")}function O(v){if(v.slice)return v.slice(0);var I=new Uint8Array(v.byteLength);return I.set(new Uint8Array(v)),I.buffer}function $(){return this.bodyUsed=!1,this._initBody=function(v){this.bodyUsed=this.bodyUsed,this._bodyInit=v,v?typeof v=="string"?this._bodyText=v:c.blob&&Blob.prototype.isPrototypeOf(v)?this._bodyBlob=v:c.formData&&FormData.prototype.isPrototypeOf(v)?this._bodyFormData=v:c.searchParams&&URLSearchParams.prototype.isPrototypeOf(v)?this._bodyText=v.toString():c.arrayBuffer&&c.blob&&l(v)?(this._bodyArrayBuffer=O(v.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer])):c.arrayBuffer&&(ArrayBuffer.prototype.isPrototypeOf(v)||d(v))?this._bodyArrayBuffer=O(v):this._bodyText=v=Object.prototype.toString.call(v):(this._noBody=!0,this._bodyText=""),this.headers.get("content-type")||(typeof v=="string"?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):c.searchParams&&URLSearchParams.prototype.isPrototypeOf(v)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},c.blob&&(this.blob=function(){var v=S(this);if(v)return v;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))}),this.arrayBuffer=function(){if(this._bodyArrayBuffer){var v=S(this);return v||(ArrayBuffer.isView(this._bodyArrayBuffer)?Promise.resolve(this._bodyArrayBuffer.buffer.slice(this._bodyArrayBuffer.byteOffset,this._bodyArrayBuffer.byteOffset+this._bodyArrayBuffer.byteLength)):Promise.resolve(this._bodyArrayBuffer))}else{if(c.blob)return this.blob().then(b);throw new Error("could not read as ArrayBuffer")}},this.text=function(){var v=S(this);if(v)return v;if(this._bodyBlob)return _(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(N(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},c.formData&&(this.formData=function(){return this.text().then(L)}),this.json=function(){return this.text().then(JSON.parse)},this}var j=["CONNECT","DELETE","GET","HEAD","OPTIONS","PATCH","POST","PUT","TRACE"];function k(v){var I=v.toUpperCase();return j.indexOf(I)>-1?I:v}function T(v,I){if(!(this instanceof T))throw new TypeError('Please use the "new" operator, this DOM object constructor cannot be called as a function.');I=I||{};var M=I.body;if(v instanceof T){if(v.bodyUsed)throw new TypeError("Already read");this.url=v.url,this.credentials=v.credentials,I.headers||(this.headers=new p(v.headers)),this.method=v.method,this.mode=v.mode,this.signal=v.signal,!M&&v._bodyInit!=null&&(M=v._bodyInit,v.bodyUsed=!0)}else this.url=String(v);if(this.credentials=I.credentials||this.credentials||"same-origin",(I.headers||!this.headers)&&(this.headers=new p(I.headers)),this.method=k(I.method||this.method||"GET"),this.mode=I.mode||this.mode||null,this.signal=I.signal||this.signal||function(){if("AbortController"in a){var x=new AbortController;return x.signal}}(),this.referrer=null,(this.method==="GET"||this.method==="HEAD")&&M)throw new TypeError("Body not allowed for GET or HEAD requests");if(this._initBody(M),(this.method==="GET"||this.method==="HEAD")&&(I.cache==="no-store"||I.cache==="no-cache")){var E=/([?&])_=[^&]*/;if(E.test(this.url))this.url=this.url.replace(E,"$1_="+new Date().getTime());else{var C=/\?/;this.url+=(C.test(this.url)?"&":"?")+"_="+new Date().getTime()}}}T.prototype.clone=function(){return new T(this,{body:this._bodyInit})};function L(v){var I=new FormData;return v.trim().split("&").forEach(function(M){if(M){var E=M.split("="),C=E.shift().replace(/\+/g," "),x=E.join("=").replace(/\+/g," ");I.append(decodeURIComponent(C),decodeURIComponent(x))}}),I}function P(v){var I=new p,M=v.replace(/\r?\n[\t ]+/g," ");return M.split("\r").map(function(E){return E.indexOf(`
`)===0?E.substr(1,E.length):E}).forEach(function(E){var C=E.split(":"),x=C.shift().trim();if(x){var R=C.join(":").trim();try{I.append(x,R)}catch(D){console.warn("Response "+D.message)}}}),I}$.call(T.prototype);function m(v,I){if(!(this instanceof m))throw new TypeError('Please use the "new" operator, this DOM object constructor cannot be called as a function.');if(I||(I={}),this.type="default",this.status=I.status===void 0?200:I.status,this.status<200||this.status>599)throw new RangeError("Failed to construct 'Response': The status provided (0) is outside the range [200, 599].");this.ok=this.status>=200&&this.status<300,this.statusText=I.statusText===void 0?"":""+I.statusText,this.headers=new p(I.headers),this.url=I.url||"",this._initBody(v)}$.call(m.prototype),m.prototype.clone=function(){return new m(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new p(this.headers),url:this.url})},m.error=function(){var v=new m(null,{status:200,statusText:""});return v.ok=!1,v.status=0,v.type="error",v};var w=[301,302,303,307,308];m.redirect=function(v,I){if(w.indexOf(I)===-1)throw new RangeError("Invalid status code");return new m(null,{status:I,headers:{location:v}})},s.DOMException=a.DOMException;try{new s.DOMException}catch{s.DOMException=function(I,M){this.message=I,this.name=M;var E=Error(I);this.stack=E.stack},s.DOMException.prototype=Object.create(Error.prototype),s.DOMException.prototype.constructor=s.DOMException}function A(v,I){return new Promise(function(M,E){var C=new T(v,I);if(C.signal&&C.signal.aborted)return E(new s.DOMException("Aborted","AbortError"));var x=new XMLHttpRequest;function R(){x.abort()}x.onload=function(){var z={statusText:x.statusText,headers:P(x.getAllResponseHeaders()||"")};C.url.indexOf("file://")===0&&(x.status<200||x.status>599)?z.status=200:z.status=x.status,z.url="responseURL"in x?x.responseURL:z.headers.get("X-Request-URL");var H="response"in x?x.response:x.responseText;setTimeout(function(){M(new m(H,z))},0)},x.onerror=function(){setTimeout(function(){E(new TypeError("Network request failed"))},0)},x.ontimeout=function(){setTimeout(function(){E(new TypeError("Network request timed out"))},0)},x.onabort=function(){setTimeout(function(){E(new s.DOMException("Aborted","AbortError"))},0)};function D(z){try{return z===""&&a.location.href?a.location.href:z}catch{return z}}if(x.open(C.method,D(C.url),!0),C.credentials==="include"?x.withCredentials=!0:C.credentials==="omit"&&(x.withCredentials=!1),"responseType"in x&&(c.blob?x.responseType="blob":c.arrayBuffer&&(x.responseType="arraybuffer")),I&&typeof I.headers=="object"&&!(I.headers instanceof p||a.Headers&&I.headers instanceof a.Headers)){var B=[];Object.getOwnPropertyNames(I.headers).forEach(function(z){B.push(f(z)),x.setRequestHeader(z,h(I.headers[z]))}),C.headers.forEach(function(z,H){B.indexOf(H)===-1&&x.setRequestHeader(H,z)})}else C.headers.forEach(function(z,H){x.setRequestHeader(H,z)});C.signal&&(C.signal.addEventListener("abort",R),x.onreadystatechange=function(){x.readyState===4&&C.signal.removeEventListener("abort",R)}),x.send(typeof C._bodyInit>"u"?null:C._bodyInit)})}return A.polyfill=!0,a.fetch||(a.fetch=A,a.Headers=p,a.Request=T,a.Response=m),s.Headers=p,s.Request=T,s.Response=m,s.fetch=A,s})({})})(r),r.fetch.ponyfill=!0,delete r.fetch.polyfill;var i=n.fetch?n:r;e=i.fetch,e.default=i.fetch,e.fetch=i.fetch,e.Headers=i.Headers,e.Request=i.Request,e.Response=i.Response,t.exports=e})(sS,sS.exports);var xue=sS.exports;const X7=Bo(xue);var aS={exports:{}},YE,qP;function Sue(){if(qP)return YE;qP=1;var t=1e3,e=t*60,n=e*60,r=n*24,i=r*7,o=r*365.25;YE=function(u,d){d=d||{};var f=typeof u;if(f==="string"&&u.length>0)return s(u);if(f==="number"&&isFinite(u))return d.long?c(u):a(u);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(u))};function s(u){if(u=String(u),!(u.length>100)){var d=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(u);if(d){var f=parseFloat(d[1]),h=(d[2]||"ms").toLowerCase();switch(h){case"years":case"year":case"yrs":case"yr":case"y":return f*o;case"weeks":case"week":case"w":return f*i;case"days":case"day":case"d":return f*r;case"hours":case"hour":case"hrs":case"hr":case"h":return f*n;case"minutes":case"minute":case"mins":case"min":case"m":return f*e;case"seconds":case"second":case"secs":case"sec":case"s":return f*t;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return f;default:return}}}}function a(u){var d=Math.abs(u);return d>=r?Math.round(u/r)+"d":d>=n?Math.round(u/n)+"h":d>=e?Math.round(u/e)+"m":d>=t?Math.round(u/t)+"s":u+"ms"}function c(u){var d=Math.abs(u);return d>=r?l(u,d,r,"day"):d>=n?l(u,d,n,"hour"):d>=e?l(u,d,e,"minute"):d>=t?l(u,d,t,"second"):u+" ms"}function l(u,d,f,h){var g=d>=f*1.5;return Math.round(u/f)+" "+h+(g?"s":"")}return YE}function _ue(t){n.debug=n,n.default=n,n.coerce=c,n.disable=o,n.enable=i,n.enabled=s,n.humanize=Sue(),n.destroy=l,Object.keys(t).forEach(u=>{n[u]=t[u]}),n.names=[],n.skips=[],n.formatters={};function e(u){let d=0;for(let f=0;f<u.length;f++)d=(d<<5)-d+u.charCodeAt(f),d|=0;return n.colors[Math.abs(d)%n.colors.length]}n.selectColor=e;function n(u){let d,f=null,h,g;function p(...S){if(!p.enabled)return;const y=p,b=Number(new Date),_=b-(d||b);y.diff=_,y.prev=d,y.curr=b,d=b,S[0]=n.coerce(S[0]),typeof S[0]!="string"&&S.unshift("%O");let N=0;S[0]=S[0].replace(/%([a-zA-Z%])/g,($,j)=>{if($==="%%")return"%";N++;const k=n.formatters[j];if(typeof k=="function"){const T=S[N];$=k.call(y,T),S.splice(N,1),N--}return $}),n.formatArgs.call(y,S),(y.log||n.log).apply(y,S)}return p.namespace=u,p.useColors=n.useColors(),p.color=n.selectColor(u),p.extend=r,p.destroy=n.destroy,Object.defineProperty(p,"enabled",{enumerable:!0,configurable:!1,get:()=>f!==null?f:(h!==n.namespaces&&(h=n.namespaces,g=n.enabled(u)),g),set:S=>{f=S}}),typeof n.init=="function"&&n.init(p),p}function r(u,d){const f=n(this.namespace+(typeof d>"u"?":":d)+u);return f.log=this.log,f}function i(u){n.save(u),n.namespaces=u,n.names=[],n.skips=[];let d;const f=(typeof u=="string"?u:"").split(/[\s,]+/),h=f.length;for(d=0;d<h;d++)f[d]&&(u=f[d].replace(/\*/g,".*?"),u[0]==="-"?n.skips.push(new RegExp("^"+u.slice(1)+"$")):n.names.push(new RegExp("^"+u+"$")))}function o(){const u=[...n.names.map(a),...n.skips.map(a).map(d=>"-"+d)].join(",");return n.enable(""),u}function s(u){if(u[u.length-1]==="*")return!0;let d,f;for(d=0,f=n.skips.length;d<f;d++)if(n.skips[d].test(u))return!1;for(d=0,f=n.names.length;d<f;d++)if(n.names[d].test(u))return!0;return!1}function a(u){return u.toString().substring(2,u.toString().length-2).replace(/\.\*\?$/,"*")}function c(u){return u instanceof Error?u.stack||u.message:u}function l(){console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.")}return n.enable(n.load()),n}var Cue=_ue;(function(t,e){var n={};e.formatArgs=i,e.save=o,e.load=s,e.useColors=r,e.storage=a(),e.destroy=(()=>{let l=!1;return()=>{l||(l=!0,console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`."))}})(),e.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"];function r(){return typeof window<"u"&&window.process&&(window.process.type==="renderer"||window.process.__nwjs)?!0:typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/)?!1:typeof document<"u"&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||typeof window<"u"&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)}function i(l){if(l[0]=(this.useColors?"%c":"")+this.namespace+(this.useColors?" %c":" ")+l[0]+(this.useColors?"%c ":" ")+"+"+t.exports.humanize(this.diff),!this.useColors)return;const u="color: "+this.color;l.splice(1,0,u,"color: inherit");let d=0,f=0;l[0].replace(/%[a-zA-Z%]/g,h=>{h!=="%%"&&(d++,h==="%c"&&(f=d))}),l.splice(f,0,u)}e.log=console.debug||console.log||(()=>{});function o(l){try{l?e.storage.setItem("debug",l):e.storage.removeItem("debug")}catch{}}function s(){let l;try{l=e.storage.getItem("debug")}catch{}return!l&&typeof process<"u"&&"env"in process&&(l=n.DEBUG),l}function a(){try{return localStorage}catch{}}t.exports=Cue(e);const{formatters:c}=t.exports;c.j=function(l){try{return JSON.stringify(l)}catch(u){return"[UnexpectedJSONParseError]: "+u.message}}})(aS,aS.exports);var Aue=aS.exports;const Vr=Bo(Aue);var pA=Object.defineProperty,Iue=Object.getOwnPropertyDescriptor,kue=Object.getOwnPropertyNames,Pue=Object.prototype.hasOwnProperty,Oue=(t,e)=>{for(var n in e)pA(t,n,{get:e[n],enumerable:!0})},Tue=(t,e,n,r)=>{if(e&&typeof e=="object"||typeof e=="function")for(let i of kue(e))!Pue.call(t,i)&&i!==n&&pA(t,i,{get:()=>e[i],enumerable:!(r=Iue(e,i))||r.enumerable});return t},Mue=t=>Tue(pA({},"__esModule",{value:!0}),t),ej={};Oue(ej,{createFinalURL:()=>sj,createPathBasedClient:()=>Due,createQuerySerializer:()=>cS,default:()=>nj,defaultBodySerializer:()=>oj,defaultPathSerializer:()=>ij,mergeHeaders:()=>lS,randomID:()=>tj,removeTrailingSlash:()=>uS,serializeArrayParam:()=>mA,serializeObjectParam:()=>gA,serializePrimitiveParam:()=>Jm,wrapAsPathBasedClient:()=>rj});var Nue=Mue(ej),Rue=/\{[^{}]+\}/g,Lue=()=>{var t,e;return typeof process=="object"&&Number.parseInt((e=(t=process==null?void 0:process.versions)==null?void 0:t.node)==null?void 0:e.substring(0,2))>=18&&process.versions.undici};function tj(){return Math.random().toString(36).slice(2,11)}function nj(t){let{baseUrl:e="",Request:n=globalThis.Request,fetch:r=globalThis.fetch,querySerializer:i,bodySerializer:o,headers:s,requestInitExt:a=void 0,...c}={...t};a=Lue()?a:void 0,e=uS(e);const l=[];async function u(d,f){const{baseUrl:h,fetch:g=r,Request:p=n,headers:S,params:y={},parseAs:b="json",querySerializer:_,bodySerializer:N=o??oj,body:O,...$}=f||{};let j=e;h&&(j=uS(h)??e);let k=typeof i=="function"?i:cS(i);_&&(k=typeof _=="function"?_:cS({...typeof i=="object"?i:{},..._}));const T=O===void 0?void 0:N(O,lS(s,S,y.header)),L=lS(T===void 0||T instanceof FormData?{}:{"Content-Type":"application/json"},s,S,y.header),P={redirect:"follow",...c,...$,body:T,headers:L};let m,w,A=new n(sj(d,{baseUrl:j,params:y,querySerializer:k}),P),v;for(const M in $)M in A||(A[M]=$[M]);if(l.length){m=tj(),w=Object.freeze({baseUrl:j,fetch:g,parseAs:b,querySerializer:k,bodySerializer:N});for(const M of l)if(M&&typeof M=="object"&&typeof M.onRequest=="function"){const E=await M.onRequest({request:A,schemaPath:d,params:y,options:w,id:m});if(E)if(E instanceof n)A=E;else if(E instanceof Response){v=E;break}else throw new Error("onRequest: must return new Request() or Response() when modifying the request")}}if(!v){try{v=await g(A,a)}catch(M){let E=M;if(l.length)for(let C=l.length-1;C>=0;C--){const x=l[C];if(x&&typeof x=="object"&&typeof x.onError=="function"){const R=await x.onError({request:A,error:E,schemaPath:d,params:y,options:w,id:m});if(R){if(R instanceof Response){E=void 0,v=R;break}if(R instanceof Error){E=R;continue}throw new Error("onError: must return new Response() or instance of Error")}}}if(E)throw E}if(l.length)for(let M=l.length-1;M>=0;M--){const E=l[M];if(E&&typeof E=="object"&&typeof E.onResponse=="function"){const C=await E.onResponse({request:A,response:v,schemaPath:d,params:y,options:w,id:m});if(C){if(!(C instanceof Response))throw new Error("onResponse: must return new Response() when modifying the response");v=C}}}}if(v.status===204||A.method==="HEAD"||v.headers.get("Content-Length")==="0")return v.ok?{data:void 0,response:v}:{error:void 0,response:v};if(v.ok)return b==="stream"?{data:v.body,response:v}:{data:await v[b](),response:v};let I=await v.text();try{I=JSON.parse(I)}catch{}return{error:I,response:v}}return{request(d,f,h){return u(f,{...h,method:d.toUpperCase()})},GET(d,f){return u(d,{...f,method:"GET"})},PUT(d,f){return u(d,{...f,method:"PUT"})},POST(d,f){return u(d,{...f,method:"POST"})},DELETE(d,f){return u(d,{...f,method:"DELETE"})},OPTIONS(d,f){return u(d,{...f,method:"OPTIONS"})},HEAD(d,f){return u(d,{...f,method:"HEAD"})},PATCH(d,f){return u(d,{...f,method:"PATCH"})},TRACE(d,f){return u(d,{...f,method:"TRACE"})},use(...d){for(const f of d)if(f){if(typeof f!="object"||!("onRequest"in f||"onResponse"in f||"onError"in f))throw new Error("Middleware must be an object with one of `onRequest()`, `onResponse() or `onError()`");l.push(f)}},eject(...d){for(const f of d){const h=l.indexOf(f);h!==-1&&l.splice(h,1)}}}}var $ue=class{constructor(t,e){_a(this,"GET",t=>this.client.GET(this.url,t));_a(this,"PUT",t=>this.client.PUT(this.url,t));_a(this,"POST",t=>this.client.POST(this.url,t));_a(this,"DELETE",t=>this.client.DELETE(this.url,t));_a(this,"OPTIONS",t=>this.client.OPTIONS(this.url,t));_a(this,"HEAD",t=>this.client.HEAD(this.url,t));_a(this,"PATCH",t=>this.client.PATCH(this.url,t));_a(this,"TRACE",t=>this.client.TRACE(this.url,t));this.client=t,this.url=e}},Bue=class{constructor(){this.client=null}get(t,e){const n=new $ue(t,e);return this.client[e]=n,n}};function rj(t){const e=new Bue,n=new Proxy(t,e);function r(){}r.prototype=n;const i=new r;return e.client=i,i}function Due(t){return rj(nj(t))}function Jm(t,e,n){if(e==null)return"";if(typeof e=="object")throw new Error("Deeply-nested arrays/objects aren’t supported. Provide your own `querySerializer()` to handle these.");return`${t}=${(n==null?void 0:n.allowReserved)===!0?e:encodeURIComponent(e)}`}function gA(t,e,n){if(!e||typeof e!="object")return"";const r=[],i={simple:",",label:".",matrix:";"}[n.style]||"&";if(n.style!=="deepObject"&&n.explode===!1){for(const a in e)r.push(a,n.allowReserved===!0?e[a]:encodeURIComponent(e[a]));const s=r.join(",");switch(n.style){case"form":return`${t}=${s}`;case"label":return`.${s}`;case"matrix":return`;${t}=${s}`;default:return s}}for(const s in e){const a=n.style==="deepObject"?`${t}[${s}]`:s;r.push(Jm(a,e[s],n))}const o=r.join(i);return n.style==="label"||n.style==="matrix"?`${i}${o}`:o}function mA(t,e,n){if(!Array.isArray(e))return"";if(n.explode===!1){const o={form:",",spaceDelimited:"%20",pipeDelimited:"|"}[n.style]||",",s=(n.allowReserved===!0?e:e.map(a=>encodeURIComponent(a))).join(o);switch(n.style){case"simple":return s;case"label":return`.${s}`;case"matrix":return`;${t}=${s}`;default:return`${t}=${s}`}}const r={simple:",",label:".",matrix:";"}[n.style]||"&",i=[];for(const o of e)n.style==="simple"||n.style==="label"?i.push(n.allowReserved===!0?o:encodeURIComponent(o)):i.push(Jm(t,o,n));return n.style==="label"||n.style==="matrix"?`${r}${i.join(r)}`:i.join(r)}function cS(t){return function(n){const r=[];if(n&&typeof n=="object")for(const i in n){const o=n[i];if(o!=null){if(Array.isArray(o)){if(o.length===0)continue;r.push(mA(i,o,{style:"form",explode:!0,...t==null?void 0:t.array,allowReserved:(t==null?void 0:t.allowReserved)||!1}));continue}if(typeof o=="object"){r.push(gA(i,o,{style:"deepObject",explode:!0,...t==null?void 0:t.object,allowReserved:(t==null?void 0:t.allowReserved)||!1}));continue}r.push(Jm(i,o,t))}}return r.join("&")}}function ij(t,e){let n=t;for(const r of t.match(Rue)??[]){let i=r.substring(1,r.length-1),o=!1,s="simple";if(i.endsWith("*")&&(o=!0,i=i.substring(0,i.length-1)),i.startsWith(".")?(s="label",i=i.substring(1)):i.startsWith(";")&&(s="matrix",i=i.substring(1)),!e||e[i]===void 0||e[i]===null)continue;const a=e[i];if(Array.isArray(a)){n=n.replace(r,mA(i,a,{style:s,explode:o}));continue}if(typeof a=="object"){n=n.replace(r,gA(i,a,{style:s,explode:o}));continue}if(s==="matrix"){n=n.replace(r,`;${Jm(i,a)}`);continue}n=n.replace(r,s==="label"?`.${encodeURIComponent(a)}`:encodeURIComponent(a))}return n}function oj(t,e){return t instanceof FormData?t:e&&(e.get instanceof Function?e.get("Content-Type")??e.get("content-type"):e["Content-Type"]??e["content-type"])==="application/x-www-form-urlencoded"?new URLSearchParams(t).toString():JSON.stringify(t)}function sj(t,e){var i;let n=`${e.baseUrl}${t}`;(i=e.params)!=null&&i.path&&(n=ij(n,e.params.path));let r=e.querySerializer(e.params.query??{});return r.startsWith("?")&&(r=r.substring(1)),r&&(n+=`?${r}`),n}function lS(...t){const e=new Headers;for(const n of t){if(!n||typeof n!="object")continue;const r=n instanceof Headers?n.entries():Object.entries(n);for(const[i,o]of r)if(o===null)e.delete(i);else if(Array.isArray(o))for(const s of o)e.append(i,s);else o!==void 0&&e.set(i,o)}return e}function uS(t){return t.endsWith("/")?t.substring(0,t.length-1):t}var JE={},jue=Object.create,P2=Object.defineProperty,Fue=Object.getOwnPropertyDescriptor,Uue=Object.getOwnPropertyNames,zue=Object.getPrototypeOf,Hue=Object.prototype.hasOwnProperty,Wue=(t,e)=>{for(var n in e)P2(t,n,{get:e[n],enumerable:!0})},aj=(t,e,n,r)=>{if(e&&typeof e=="object"||typeof e=="function")for(let i of Uue(e))!Hue.call(t,i)&&i!==n&&P2(t,i,{get:()=>e[i],enumerable:!(r=Fue(e,i))||r.enumerable});return t},Kue=(t,e,n)=>(n=t!=null?jue(zue(t)):{},aj(!t||!t.__esModule?P2(n,"default",{value:t,enumerable:!0}):n,t)),que=t=>aj(P2({},"__esModule",{value:!0}),t),cj={};Wue(cj,{analytics:()=>ede});var On=que(cj),Vue=Kue(Nue),Gue=class{constructor(t){this.batch=[],this.maxTimeoutMs=3e4,this.timeoutId=null,this.isSending=!1,this.batchSize=t.batchSize,this.baseTimeoutMs=t.baseTimeoutMs,this.currentTimeoutMs=t.baseTimeoutMs,this.sendFn=t.sendFn}enqueue(t){this.batch.push(t),this.schedule()}schedule(){this.batch.length>0&&!this.timeoutId&&(this.timeoutId=setTimeout(()=>{this.timeoutId=null,this.flush()},this.currentTimeoutMs))}async flush(){if(this.isSending||this.batch.length===0)return;this.isSending=!0;const t=[...this.batch.slice(0,this.batchSize)];this.batch=this.batch.slice(this.batchSize);try{await this.sendFn(t),this.currentTimeoutMs=this.baseTimeoutMs}catch(e){console.error("Sender: Failed to send batch",e),this.batch=[...t,...this.batch],this.currentTimeoutMs=Math.min(this.currentTimeoutMs*2,this.maxTimeoutMs)}finally{this.isSending=!1,this.schedule()}}},Yue=Gue,Jue=class{constructor(t){this.enabled=!1,this.properties={};const e=(0,Vue.default)({baseUrl:t}),n=async r=>{const i=await e.POST("/v1/events",{body:r});if(i.response.status!==200)throw new Error(i.error)};this.sender=new Yue({batchSize:100,baseTimeoutMs:200,sendFn:n})}enable(){this.enabled=!0}setGlobalProperty(t,e){this.properties[t]=e}track(t,e){if(!this.enabled)return;const n={name:t,...this.properties,...e};this.sender.enqueue(n)}},Zue=Jue,dS,VP;typeof process<"u"&&JE&&(dS=(VP=JE.METAMASK_ANALYTICS_ENDPOINT)!=null?VP:JE.NEXT_PUBLIC_METAMASK_ANALYTICS_ENDPOINT);var Que=dS??"https://mm-sdk-analytics.api.cx.metamask.io/",Xue=new Zue(Que),ede=Xue,lj={exports:{}};/*!
 * EventEmitter2
 * https://github.com/hij1nx/EventEmitter2
 *
 * Copyright (c) 2013 hij1nx
 * Licensed under the MIT license.
 */(function(t,e){(function(n){var r=Object.hasOwnProperty,i=Array.isArray?Array.isArray:function(C){return Object.prototype.toString.call(C)==="[object Array]"},o=10,s=typeof process=="object"&&typeof process.nextTick=="function",a=typeof Symbol=="function",c=typeof Reflect=="object",l=typeof setImmediate=="function",u=l?setImmediate:setTimeout,d=a?c&&typeof Reflect.ownKeys=="function"?Reflect.ownKeys:function(E){var C=Object.getOwnPropertyNames(E);return C.push.apply(C,Object.getOwnPropertySymbols(E)),C}:Object.keys;function f(){this._events={},this._conf&&h.call(this,this._conf)}function h(E){E&&(this._conf=E,E.delimiter&&(this.delimiter=E.delimiter),E.maxListeners!==n&&(this._maxListeners=E.maxListeners),E.wildcard&&(this.wildcard=E.wildcard),E.newListener&&(this._newListener=E.newListener),E.removeListener&&(this._removeListener=E.removeListener),E.verboseMemoryLeak&&(this.verboseMemoryLeak=E.verboseMemoryLeak),E.ignoreErrors&&(this.ignoreErrors=E.ignoreErrors),this.wildcard&&(this.listenerTree={}))}function g(E,C){var x="(node) warning: possible EventEmitter memory leak detected. "+E+" listeners added. Use emitter.setMaxListeners() to increase limit.";if(this.verboseMemoryLeak&&(x+=" Event name: "+C+"."),typeof process<"u"&&process.emitWarning){var R=new Error(x);R.name="MaxListenersExceededWarning",R.emitter=this,R.count=E,process.emitWarning(R)}else console.error(x),console.trace&&console.trace()}var p=function(E,C,x){var R=arguments.length;switch(R){case 0:return[];case 1:return[E];case 2:return[E,C];case 3:return[E,C,x];default:for(var D=new Array(R);R--;)D[R]=arguments[R];return D}};function S(E,C){for(var x={},R,D=E.length,B=0,z=0;z<D;z++)R=E[z],x[R]=z<B?C[z]:n;return x}function y(E,C,x){this._emitter=E,this._target=C,this._listeners={},this._listenersCount=0;var R,D;if((x.on||x.off)&&(R=x.on,D=x.off),C.addEventListener?(R=C.addEventListener,D=C.removeEventListener):C.addListener?(R=C.addListener,D=C.removeListener):C.on&&(R=C.on,D=C.off),!R&&!D)throw Error("target does not implement any known event API");if(typeof R!="function")throw TypeError("on method must be a function");if(typeof D!="function")throw TypeError("off method must be a function");this._on=R,this._off=D;var B=E._observers;B?B.push(this):E._observers=[this]}Object.assign(y.prototype,{subscribe:function(E,C,x){var R=this,D=this._target,B=this._emitter,z=this._listeners,H=function(){var W=p.apply(null,arguments),G={data:W,name:C,original:E};if(x){var V=x.call(D,G);V!==!1&&B.emit.apply(B,[G.name].concat(W));return}B.emit.apply(B,[C].concat(W))};if(z[E])throw Error("Event '"+E+"' is already listening");this._listenersCount++,B._newListener&&B._removeListener&&!R._onNewListener?(this._onNewListener=function(W){W===C&&z[E]===null&&(z[E]=H,R._on.call(D,E,H))},B.on("newListener",this._onNewListener),this._onRemoveListener=function(W){W===C&&!B.hasListeners(W)&&z[E]&&(z[E]=null,R._off.call(D,E,H))},z[E]=null,B.on("removeListener",this._onRemoveListener)):(z[E]=H,R._on.call(D,E,H))},unsubscribe:function(E){var C=this,x=this._listeners,R=this._emitter,D,B,z=this._off,H=this._target,W;if(E&&typeof E!="string")throw TypeError("event must be a string");function G(){C._onNewListener&&(R.off("newListener",C._onNewListener),R.off("removeListener",C._onRemoveListener),C._onNewListener=null,C._onRemoveListener=null);var V=k.call(R,C);R._observers.splice(V,1)}if(E){if(D=x[E],!D)return;z.call(H,E,D),delete x[E],--this._listenersCount||G()}else{for(B=d(x),W=B.length;W-- >0;)E=B[W],z.call(H,E,x[E]);this._listeners={},this._listenersCount=0,G()}}});function b(E,C,x,R){var D=Object.assign({},C);if(!E)return D;if(typeof E!="object")throw TypeError("options must be an object");var B=Object.keys(E),z=B.length,H,W,G;function V(Y){throw Error('Invalid "'+H+'" option value'+(Y?". Reason: "+Y:""))}for(var J=0;J<z;J++){if(H=B[J],!r.call(C,H))throw Error('Unknown "'+H+'" option');W=E[H],W!==n&&(G=x[H],D[H]=G?G(W,V):W)}return D}function _(E,C){return(typeof E!="function"||!E.hasOwnProperty("prototype"))&&C("value must be a constructor"),E}function N(E){var C="value must be type of "+E.join("|"),x=E.length,R=E[0],D=E[1];return x===1?function(B,z){if(typeof B===R)return B;z(C)}:x===2?function(B,z){var H=typeof B;if(H===R||H===D)return B;z(C)}:function(B,z){for(var H=typeof B,W=x;W-- >0;)if(H===E[W])return B;z(C)}}var O=N(["function"]),$=N(["object","function"]);function j(E,C,x){var R,D,B=0,z,H=new E(function(W,G,V){x=b(x,{timeout:0,overload:!1},{timeout:function(ne,K){return ne*=1,(typeof ne!="number"||ne<0||!Number.isFinite(ne))&&K("timeout must be a positive number"),ne}}),R=!x.overload&&typeof E.prototype.cancel=="function"&&typeof V=="function";function J(){D&&(D=null),B&&(clearTimeout(B),B=0)}var Y=function(ne){J(),W(ne)},ee=function(ne){J(),G(ne)};R?C(Y,ee,V):(D=[function(ne){ee(ne||Error("canceled"))}],C(Y,ee,function(ne){if(z)throw Error("Unable to subscribe on cancel event asynchronously");if(typeof ne!="function")throw TypeError("onCancel callback must be a function");D.push(ne)}),z=!0),x.timeout>0&&(B=setTimeout(function(){var ne=Error("timeout");ne.code="ETIMEDOUT",B=0,H.cancel(ne),G(ne)},x.timeout))});return R||(H.cancel=function(W){if(D){for(var G=D.length,V=1;V<G;V++)D[V](W);D[0](W),D=null}}),H}function k(E){var C=this._observers;if(!C)return-1;for(var x=C.length,R=0;R<x;R++)if(C[R]._target===E)return R;return-1}function T(E,C,x,R,D){if(!x)return null;if(R===0){var B=typeof C;if(B==="string"){var z,H,W=0,G=0,V=this.delimiter,J=V.length;if((H=C.indexOf(V))!==-1){z=new Array(5);do z[W++]=C.slice(G,H),G=H+J;while((H=C.indexOf(V,G))!==-1);z[W++]=C.slice(G),C=z,D=W}else C=[C],D=1}else B==="object"?D=C.length:(C=[C],D=1)}var Y=null,ee,ne,K,Q,ie,ce=C[R],he=C[R+1],pe,Ee;if(R===D)x._listeners&&(typeof x._listeners=="function"?(E&&E.push(x._listeners),Y=[x]):(E&&E.push.apply(E,x._listeners),Y=[x]));else if(ce==="*"){for(pe=d(x),H=pe.length;H-- >0;)ee=pe[H],ee!=="_listeners"&&(Ee=T(E,C,x[ee],R+1,D),Ee&&(Y?Y.push.apply(Y,Ee):Y=Ee));return Y}else if(ce==="**"){for(ie=R+1===D||R+2===D&&he==="*",ie&&x._listeners&&(Y=T(E,C,x,D,D)),pe=d(x),H=pe.length;H-- >0;)ee=pe[H],ee!=="_listeners"&&(ee==="*"||ee==="**"?(x[ee]._listeners&&!ie&&(Ee=T(E,C,x[ee],D,D),Ee&&(Y?Y.push.apply(Y,Ee):Y=Ee)),Ee=T(E,C,x[ee],R,D)):ee===he?Ee=T(E,C,x[ee],R+2,D):Ee=T(E,C,x[ee],R,D),Ee&&(Y?Y.push.apply(Y,Ee):Y=Ee));return Y}else x[ce]&&(Y=T(E,C,x[ce],R+1,D));if(ne=x["*"],ne&&T(E,C,ne,R+1,D),K=x["**"],K)if(R<D)for(K._listeners&&T(E,C,K,D,D),pe=d(K),H=pe.length;H-- >0;)ee=pe[H],ee!=="_listeners"&&(ee===he?T(E,C,K[ee],R+2,D):ee===ce?T(E,C,K[ee],R+1,D):(Q={},Q[ee]=K[ee],T(E,C,{"**":Q},R+1,D)));else K._listeners?T(E,C,K,D,D):K["*"]&&K["*"]._listeners&&T(E,C,K["*"],D,D);return Y}function L(E,C,x){var R=0,D=0,B,z=this.delimiter,H=z.length,W;if(typeof E=="string")if((B=E.indexOf(z))!==-1){W=new Array(5);do W[R++]=E.slice(D,B),D=B+H;while((B=E.indexOf(z,D))!==-1);W[R++]=E.slice(D)}else W=[E],R=1;else W=E,R=E.length;if(R>1){for(B=0;B+1<R;B++)if(W[B]==="**"&&W[B+1]==="**")return}var G=this.listenerTree,V;for(B=0;B<R;B++)if(V=W[B],G=G[V]||(G[V]={}),B===R-1)return G._listeners?(typeof G._listeners=="function"&&(G._listeners=[G._listeners]),x?G._listeners.unshift(C):G._listeners.push(C),!G._listeners.warned&&this._maxListeners>0&&G._listeners.length>this._maxListeners&&(G._listeners.warned=!0,g.call(this,G._listeners.length,V))):G._listeners=C,!0;return!0}function P(E,C,x,R){for(var D=d(E),B=D.length,z,H,W,G=E._listeners,V;B-- >0;)H=D[B],z=E[H],H==="_listeners"?W=x:W=x?x.concat(H):[H],V=R||typeof H=="symbol",G&&C.push(V?W:W.join(this.delimiter)),typeof z=="object"&&P.call(this,z,C,W,V);return C}function m(E){for(var C=d(E),x=C.length,R,D,B;x-- >0;)D=C[x],R=E[D],R&&(B=!0,D!=="_listeners"&&!m(R)&&delete E[D]);return B}function w(E,C,x){this.emitter=E,this.event=C,this.listener=x}w.prototype.off=function(){return this.emitter.off(this.event,this.listener),this};function A(E,C,x){if(x===!0)D=!0;else if(x===!1)R=!0;else{if(!x||typeof x!="object")throw TypeError("options should be an object or true");var R=x.async,D=x.promisify,B=x.nextTick,z=x.objectify}if(R||B||D){var H=C,W=C._origin||C;if(B&&!s)throw Error("process.nextTick is not supported");D===n&&(D=C.constructor.name==="AsyncFunction"),C=function(){var G=arguments,V=this,J=this.event;return D?B?Promise.resolve():new Promise(function(Y){u(Y)}).then(function(){return V.event=J,H.apply(V,G)}):(B?process.nextTick:u)(function(){V.event=J,H.apply(V,G)})},C._async=!0,C._origin=W}return[C,z?new w(this,E,C):this]}function v(E){this._events={},this._newListener=!1,this._removeListener=!1,this.verboseMemoryLeak=!1,h.call(this,E)}v.EventEmitter2=v,v.prototype.listenTo=function(E,C,x){if(typeof E!="object")throw TypeError("target musts be an object");var R=this;x=b(x,{on:n,off:n,reducers:n},{on:O,off:O,reducers:$});function D(B){if(typeof B!="object")throw TypeError("events must be an object");var z=x.reducers,H=k.call(R,E),W;H===-1?W=new y(R,E,x):W=R._observers[H];for(var G=d(B),V=G.length,J,Y=typeof z=="function",ee=0;ee<V;ee++)J=G[ee],W.subscribe(J,B[J]||J,Y?z:z&&z[J])}return i(C)?D(S(C)):D(typeof C=="string"?S(C.split(/\s+/)):C),this},v.prototype.stopListeningTo=function(E,C){var x=this._observers;if(!x)return!1;var R=x.length,D,B=!1;if(E&&typeof E!="object")throw TypeError("target should be an object");for(;R-- >0;)D=x[R],(!E||D._target===E)&&(D.unsubscribe(C),B=!0);return B},v.prototype.delimiter=".",v.prototype.setMaxListeners=function(E){E!==n&&(this._maxListeners=E,this._conf||(this._conf={}),this._conf.maxListeners=E)},v.prototype.getMaxListeners=function(){return this._maxListeners},v.prototype.event="",v.prototype.once=function(E,C,x){return this._once(E,C,!1,x)},v.prototype.prependOnceListener=function(E,C,x){return this._once(E,C,!0,x)},v.prototype._once=function(E,C,x,R){return this._many(E,1,C,x,R)},v.prototype.many=function(E,C,x,R){return this._many(E,C,x,!1,R)},v.prototype.prependMany=function(E,C,x,R){return this._many(E,C,x,!0,R)},v.prototype._many=function(E,C,x,R,D){var B=this;if(typeof x!="function")throw new Error("many only accepts instances of Function");function z(){return--C===0&&B.off(E,z),x.apply(this,arguments)}return z._origin=x,this._on(E,z,R,D)},v.prototype.emit=function(){if(!this._events&&!this._all)return!1;this._events||f.call(this);var E=arguments[0],C,x=this.wildcard,R,D,B,z,H;if(E==="newListener"&&!this._newListener&&!this._events.newListener)return!1;if(x&&(C=E,E!=="newListener"&&E!=="removeListener"&&typeof E=="object")){if(D=E.length,a){for(B=0;B<D;B++)if(typeof E[B]=="symbol"){H=!0;break}}H||(E=E.join(this.delimiter))}var W=arguments.length,G;if(this._all&&this._all.length)for(G=this._all.slice(),B=0,D=G.length;B<D;B++)switch(this.event=E,W){case 1:G[B].call(this,E);break;case 2:G[B].call(this,E,arguments[1]);break;case 3:G[B].call(this,E,arguments[1],arguments[2]);break;default:G[B].apply(this,arguments)}if(x)G=[],T.call(this,G,C,this.listenerTree,0,D);else if(G=this._events[E],typeof G=="function"){switch(this.event=E,W){case 1:G.call(this);break;case 2:G.call(this,arguments[1]);break;case 3:G.call(this,arguments[1],arguments[2]);break;default:for(R=new Array(W-1),z=1;z<W;z++)R[z-1]=arguments[z];G.apply(this,R)}return!0}else G&&(G=G.slice());if(G&&G.length){if(W>3)for(R=new Array(W-1),z=1;z<W;z++)R[z-1]=arguments[z];for(B=0,D=G.length;B<D;B++)switch(this.event=E,W){case 1:G[B].call(this);break;case 2:G[B].call(this,arguments[1]);break;case 3:G[B].call(this,arguments[1],arguments[2]);break;default:G[B].apply(this,R)}return!0}else if(!this.ignoreErrors&&!this._all&&E==="error")throw arguments[1]instanceof Error?arguments[1]:new Error("Uncaught, unspecified 'error' event.");return!!this._all},v.prototype.emitAsync=function(){if(!this._events&&!this._all)return!1;this._events||f.call(this);var E=arguments[0],C=this.wildcard,x,R,D,B,z,H;if(E==="newListener"&&!this._newListener&&!this._events.newListener)return Promise.resolve([!1]);if(C&&(x=E,E!=="newListener"&&E!=="removeListener"&&typeof E=="object")){if(B=E.length,a){for(z=0;z<B;z++)if(typeof E[z]=="symbol"){R=!0;break}}R||(E=E.join(this.delimiter))}var W=[],G=arguments.length,V;if(this._all)for(z=0,B=this._all.length;z<B;z++)switch(this.event=E,G){case 1:W.push(this._all[z].call(this,E));break;case 2:W.push(this._all[z].call(this,E,arguments[1]));break;case 3:W.push(this._all[z].call(this,E,arguments[1],arguments[2]));break;default:W.push(this._all[z].apply(this,arguments))}if(C?(V=[],T.call(this,V,x,this.listenerTree,0)):V=this._events[E],typeof V=="function")switch(this.event=E,G){case 1:W.push(V.call(this));break;case 2:W.push(V.call(this,arguments[1]));break;case 3:W.push(V.call(this,arguments[1],arguments[2]));break;default:for(D=new Array(G-1),H=1;H<G;H++)D[H-1]=arguments[H];W.push(V.apply(this,D))}else if(V&&V.length){if(V=V.slice(),G>3)for(D=new Array(G-1),H=1;H<G;H++)D[H-1]=arguments[H];for(z=0,B=V.length;z<B;z++)switch(this.event=E,G){case 1:W.push(V[z].call(this));break;case 2:W.push(V[z].call(this,arguments[1]));break;case 3:W.push(V[z].call(this,arguments[1],arguments[2]));break;default:W.push(V[z].apply(this,D))}}else if(!this.ignoreErrors&&!this._all&&E==="error")return arguments[1]instanceof Error?Promise.reject(arguments[1]):Promise.reject("Uncaught, unspecified 'error' event.");return Promise.all(W)},v.prototype.on=function(E,C,x){return this._on(E,C,!1,x)},v.prototype.prependListener=function(E,C,x){return this._on(E,C,!0,x)},v.prototype.onAny=function(E){return this._onAny(E,!1)},v.prototype.prependAny=function(E){return this._onAny(E,!0)},v.prototype.addListener=v.prototype.on,v.prototype._onAny=function(E,C){if(typeof E!="function")throw new Error("onAny only accepts instances of Function");return this._all||(this._all=[]),C?this._all.unshift(E):this._all.push(E),this},v.prototype._on=function(E,C,x,R){if(typeof E=="function")return this._onAny(E,C),this;if(typeof C!="function")throw new Error("on only accepts instances of Function");this._events||f.call(this);var D=this,B;return R!==n&&(B=A.call(this,E,C,R),C=B[0],D=B[1]),this._newListener&&this.emit("newListener",E,C),this.wildcard?(L.call(this,E,C,x),D):(this._events[E]?(typeof this._events[E]=="function"&&(this._events[E]=[this._events[E]]),x?this._events[E].unshift(C):this._events[E].push(C),!this._events[E].warned&&this._maxListeners>0&&this._events[E].length>this._maxListeners&&(this._events[E].warned=!0,g.call(this,this._events[E].length,E))):this._events[E]=C,D)},v.prototype.off=function(E,C){if(typeof C!="function")throw new Error("removeListener only takes instances of Function");var x,R=[];if(this.wildcard){var D=typeof E=="string"?E.split(this.delimiter):E.slice();if(R=T.call(this,null,D,this.listenerTree,0),!R)return this}else{if(!this._events[E])return this;x=this._events[E],R.push({_listeners:x})}for(var B=0;B<R.length;B++){var z=R[B];if(x=z._listeners,i(x)){for(var H=-1,W=0,G=x.length;W<G;W++)if(x[W]===C||x[W].listener&&x[W].listener===C||x[W]._origin&&x[W]._origin===C){H=W;break}if(H<0)continue;return this.wildcard?z._listeners.splice(H,1):this._events[E].splice(H,1),x.length===0&&(this.wildcard?delete z._listeners:delete this._events[E]),this._removeListener&&this.emit("removeListener",E,C),this}else(x===C||x.listener&&x.listener===C||x._origin&&x._origin===C)&&(this.wildcard?delete z._listeners:delete this._events[E],this._removeListener&&this.emit("removeListener",E,C))}return this.listenerTree&&m(this.listenerTree),this},v.prototype.offAny=function(E){var C=0,x=0,R;if(E&&this._all&&this._all.length>0){for(R=this._all,C=0,x=R.length;C<x;C++)if(E===R[C])return R.splice(C,1),this._removeListener&&this.emit("removeListenerAny",E),this}else{if(R=this._all,this._removeListener)for(C=0,x=R.length;C<x;C++)this.emit("removeListenerAny",R[C]);this._all=[]}return this},v.prototype.removeListener=v.prototype.off,v.prototype.removeAllListeners=function(E){if(E===n)return!this._events||f.call(this),this;if(this.wildcard){var C=T.call(this,null,E,this.listenerTree,0),x,R;if(!C)return this;for(R=0;R<C.length;R++)x=C[R],x._listeners=null;this.listenerTree&&m(this.listenerTree)}else this._events&&(this._events[E]=null);return this},v.prototype.listeners=function(E){var C=this._events,x,R,D,B,z;if(E===n){if(this.wildcard)throw Error("event name required for wildcard emitter");if(!C)return[];for(x=d(C),B=x.length,D=[];B-- >0;)R=C[x[B]],typeof R=="function"?D.push(R):D.push.apply(D,R);return D}else{if(this.wildcard){if(z=this.listenerTree,!z)return[];var H=[],W=typeof E=="string"?E.split(this.delimiter):E.slice();return T.call(this,H,W,z,0),H}return C?(R=C[E],R?typeof R=="function"?[R]:R:[]):[]}},v.prototype.eventNames=function(E){var C=this._events;return this.wildcard?P.call(this,this.listenerTree,[],null,E):C?d(C):[]},v.prototype.listenerCount=function(E){return this.listeners(E).length},v.prototype.hasListeners=function(E){if(this.wildcard){var C=[],x=typeof E=="string"?E.split(this.delimiter):E.slice();return T.call(this,C,x,this.listenerTree,0),C.length>0}var R=this._events,D=this._all;return!!(D&&D.length||R&&(E===n?d(R).length:R[E]))},v.prototype.listenersAny=function(){return this._all?this._all:[]},v.prototype.waitFor=function(E,C){var x=this,R=typeof C;return R==="number"?C={timeout:C}:R==="function"&&(C={filter:C}),C=b(C,{timeout:0,filter:n,handleError:!1,Promise,overload:!1},{filter:O,Promise:_}),j(C.Promise,function(D,B,z){function H(){var W=C.filter;if(!(W&&!W.apply(x,arguments)))if(x.off(E,H),C.handleError){var G=arguments[0];G?B(G):D(p.apply(null,arguments).slice(1))}else D(p.apply(null,arguments))}z(function(){x.off(E,H)}),x._on(E,H,!1)},{timeout:C.timeout,overload:C.overload})};function I(E,C,x){x=b(x,{Promise,timeout:0,overload:!1},{Promise:_});var R=x.Promise;return j(R,function(D,B,z){var H;if(typeof E.addEventListener=="function"){H=function(){D(p.apply(null,arguments))},z(function(){E.removeEventListener(C,H)}),E.addEventListener(C,H,{once:!0});return}var W=function(){G&&E.removeListener("error",G),D(p.apply(null,arguments))},G;C!=="error"&&(G=function(V){E.removeListener(C,W),B(V)},E.once("error",G)),z(function(){G&&E.removeListener("error",G),E.removeListener(C,W)}),E.once(C,W)},{timeout:x.timeout,overload:x.overload})}var M=v.prototype;Object.defineProperties(v,{defaultMaxListeners:{get:function(){return M._maxListeners},set:function(E){if(typeof E!="number"||E<0||Number.isNaN(E))throw TypeError("n must be a non-negative number");M._maxListeners=E},enumerable:!0},once:{value:I,writable:!0,configurable:!0}}),Object.defineProperties(M,{_maxListeners:{value:o,writable:!0,configurable:!0},_observers:{value:null,writable:!0,configurable:!0}}),t.exports=v})()})(lj);var O2=lj.exports;const tde=Bo(O2);var s1,nde=new Uint8Array(16);function rde(){if(!s1&&(s1=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||typeof msCrypto<"u"&&typeof msCrypto.getRandomValues=="function"&&msCrypto.getRandomValues.bind(msCrypto),!s1))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return s1(nde)}const ide=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;function fS(t){return typeof t=="string"&&ide.test(t)}var dr=[];for(var ZE=0;ZE<256;++ZE)dr.push((ZE+256).toString(16).substr(1));function ode(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,n=(dr[t[e+0]]+dr[t[e+1]]+dr[t[e+2]]+dr[t[e+3]]+"-"+dr[t[e+4]]+dr[t[e+5]]+"-"+dr[t[e+6]]+dr[t[e+7]]+"-"+dr[t[e+8]]+dr[t[e+9]]+"-"+dr[t[e+10]]+dr[t[e+11]]+dr[t[e+12]]+dr[t[e+13]]+dr[t[e+14]]+dr[t[e+15]]).toLowerCase();if(!fS(n))throw TypeError("Stringified UUID is invalid");return n}function _l(t,e,n){t=t||{};var r=t.random||(t.rng||rde)();if(r[6]=r[6]&15|64,r[8]=r[8]&63|128,e){n=n||0;for(var i=0;i<16;++i)e[n+i]=r[i];return e}return ode(r)}function xe(t,e,n,r){return new(n||(n=Promise))(function(i,o){function s(l){try{c(r.next(l))}catch(u){o(u)}}function a(l){try{c(r.throw(l))}catch(u){o(u)}}function c(l){var u;l.done?i(l.value):(u=l.value,u instanceof n?u:new n(function(d){d(u)})).then(s,a)}c((r=r.apply(t,e||[])).next())})}var Yr=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:{},Hs=[],yo=[],sde=typeof Uint8Array<"u"?Uint8Array:Array,yA=!1;function uj(){yA=!0;for(var t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",e=0;e<64;++e)Hs[e]=t[e],yo[t.charCodeAt(e)]=e;yo[45]=62,yo[95]=63}function ade(t,e,n){for(var r,i,o=[],s=e;s<n;s+=3)r=(t[s]<<16)+(t[s+1]<<8)+t[s+2],o.push(Hs[(i=r)>>18&63]+Hs[i>>12&63]+Hs[i>>6&63]+Hs[63&i]);return o.join("")}function GP(t){var e;yA||uj();for(var n=t.length,r=n%3,i="",o=[],s=16383,a=0,c=n-r;a<c;a+=s)o.push(ade(t,a,a+s>c?c:a+s));return r===1?(e=t[n-1],i+=Hs[e>>2],i+=Hs[e<<4&63],i+="=="):r===2&&(e=(t[n-2]<<8)+t[n-1],i+=Hs[e>>10],i+=Hs[e>>4&63],i+=Hs[e<<2&63],i+="="),o.push(i),o.join("")}function a1(t,e,n,r,i){var o,s,a=8*i-r-1,c=(1<<a)-1,l=c>>1,u=-7,d=n?i-1:0,f=n?-1:1,h=t[e+d];for(d+=f,o=h&(1<<-u)-1,h>>=-u,u+=a;u>0;o=256*o+t[e+d],d+=f,u-=8);for(s=o&(1<<-u)-1,o>>=-u,u+=r;u>0;s=256*s+t[e+d],d+=f,u-=8);if(o===0)o=1-l;else{if(o===c)return s?NaN:1/0*(h?-1:1);s+=Math.pow(2,r),o-=l}return(h?-1:1)*s*Math.pow(2,o-r)}function dj(t,e,n,r,i,o){var s,a,c,l=8*o-i-1,u=(1<<l)-1,d=u>>1,f=i===23?Math.pow(2,-24)-Math.pow(2,-77):0,h=r?0:o-1,g=r?1:-1,p=e<0||e===0&&1/e<0?1:0;for(e=Math.abs(e),isNaN(e)||e===1/0?(a=isNaN(e)?1:0,s=u):(s=Math.floor(Math.log(e)/Math.LN2),e*(c=Math.pow(2,-s))<1&&(s--,c*=2),(e+=s+d>=1?f/c:f*Math.pow(2,1-d))*c>=2&&(s++,c/=2),s+d>=u?(a=0,s=u):s+d>=1?(a=(e*c-1)*Math.pow(2,i),s+=d):(a=e*Math.pow(2,d-1)*Math.pow(2,i),s=0));i>=8;t[n+h]=255&a,h+=g,a/=256,i-=8);for(s=s<<i|a,l+=i;l>0;t[n+h]=255&s,h+=g,s/=256,l-=8);t[n+h-g]|=128*p}var cde={}.toString,fj=Array.isArray||function(t){return cde.call(t)=="[object Array]"};Se.TYPED_ARRAY_SUPPORT=Yr.TYPED_ARRAY_SUPPORT===void 0||Yr.TYPED_ARRAY_SUPPORT;var lde=kw();function kw(){return Se.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function ic(t,e){if(kw()<e)throw new RangeError("Invalid typed array length");return Se.TYPED_ARRAY_SUPPORT?(t=new Uint8Array(e)).__proto__=Se.prototype:(t===null&&(t=new Se(e)),t.length=e),t}function Se(t,e,n){if(!(Se.TYPED_ARRAY_SUPPORT||this instanceof Se))return new Se(t,e,n);if(typeof t=="number"){if(typeof e=="string")throw new Error("If encoding is specified then the first argument must be a string");return hS(this,t)}return hj(this,t,e,n)}function hj(t,e,n,r){if(typeof e=="number")throw new TypeError('"value" argument must not be a number');return typeof ArrayBuffer<"u"&&e instanceof ArrayBuffer?function(i,o,s,a){if(o.byteLength,s<0||o.byteLength<s)throw new RangeError("'offset' is out of bounds");if(o.byteLength<s+(a||0))throw new RangeError("'length' is out of bounds");return o=s===void 0&&a===void 0?new Uint8Array(o):a===void 0?new Uint8Array(o,s):new Uint8Array(o,s,a),Se.TYPED_ARRAY_SUPPORT?(i=o).__proto__=Se.prototype:i=QE(i,o),i}(t,e,n,r):typeof e=="string"?function(i,o,s){if(typeof s=="string"&&s!==""||(s="utf8"),!Se.isEncoding(s))throw new TypeError('"encoding" must be a valid string encoding');var a=0|gj(o,s);i=ic(i,a);var c=i.write(o,s);return c!==a&&(i=i.slice(0,c)),i}(t,e,n):function(i,o){if(Ws(o)){var s=0|vA(o.length);return(i=ic(i,s)).length===0||o.copy(i,0,0,s),i}if(o){if(typeof ArrayBuffer<"u"&&o.buffer instanceof ArrayBuffer||"length"in o)return typeof o.length!="number"||(a=o.length)!=a?ic(i,0):QE(i,o);if(o.type==="Buffer"&&fj(o.data))return QE(i,o.data)}var a;throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}(t,e)}function pj(t){if(typeof t!="number")throw new TypeError('"size" argument must be a number');if(t<0)throw new RangeError('"size" argument must not be negative')}function hS(t,e){if(pj(e),t=ic(t,e<0?0:0|vA(e)),!Se.TYPED_ARRAY_SUPPORT)for(var n=0;n<e;++n)t[n]=0;return t}function QE(t,e){var n=e.length<0?0:0|vA(e.length);t=ic(t,n);for(var r=0;r<n;r+=1)t[r]=255&e[r];return t}function vA(t){if(t>=kw())throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+kw().toString(16)+" bytes");return 0|t}function Ws(t){return!(t==null||!t._isBuffer)}function gj(t,e){if(Ws(t))return t.length;if(typeof ArrayBuffer<"u"&&typeof ArrayBuffer.isView=="function"&&(ArrayBuffer.isView(t)||t instanceof ArrayBuffer))return t.byteLength;typeof t!="string"&&(t=""+t);var n=t.length;if(n===0)return 0;for(var r=!1;;)switch(e){case"ascii":case"latin1":case"binary":return n;case"utf8":case"utf-8":case void 0:return Pw(t).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*n;case"hex":return n>>>1;case"base64":return wj(t).length;default:if(r)return Pw(t).length;e=(""+e).toLowerCase(),r=!0}}function ude(t,e,n){var r=!1;if((e===void 0||e<0)&&(e=0),e>this.length||((n===void 0||n>this.length)&&(n=this.length),n<=0)||(n>>>=0)<=(e>>>=0))return"";for(t||(t="utf8");;)switch(t){case"hex":return wde(this,e,n);case"utf8":case"utf-8":return yj(this,e,n);case"ascii":return yde(this,e,n);case"latin1":case"binary":return vde(this,e,n);case"base64":return mde(this,e,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return bde(this,e,n);default:if(r)throw new TypeError("Unknown encoding: "+t);t=(t+"").toLowerCase(),r=!0}}function Pu(t,e,n){var r=t[e];t[e]=t[n],t[n]=r}function YP(t,e,n,r,i){if(t.length===0)return-1;if(typeof n=="string"?(r=n,n=0):n>2147483647?n=2147483647:n<-2147483648&&(n=-2147483648),n=+n,isNaN(n)&&(n=i?0:t.length-1),n<0&&(n=t.length+n),n>=t.length){if(i)return-1;n=t.length-1}else if(n<0){if(!i)return-1;n=0}if(typeof e=="string"&&(e=Se.from(e,r)),Ws(e))return e.length===0?-1:JP(t,e,n,r,i);if(typeof e=="number")return e&=255,Se.TYPED_ARRAY_SUPPORT&&typeof Uint8Array.prototype.indexOf=="function"?i?Uint8Array.prototype.indexOf.call(t,e,n):Uint8Array.prototype.lastIndexOf.call(t,e,n):JP(t,[e],n,r,i);throw new TypeError("val must be string, number or Buffer")}function JP(t,e,n,r,i){var o,s=1,a=t.length,c=e.length;if(r!==void 0&&((r=String(r).toLowerCase())==="ucs2"||r==="ucs-2"||r==="utf16le"||r==="utf-16le")){if(t.length<2||e.length<2)return-1;s=2,a/=2,c/=2,n/=2}function l(h,g){return s===1?h[g]:h.readUInt16BE(g*s)}if(i){var u=-1;for(o=n;o<a;o++)if(l(t,o)===l(e,u===-1?0:o-u)){if(u===-1&&(u=o),o-u+1===c)return u*s}else u!==-1&&(o-=o-u),u=-1}else for(n+c>a&&(n=a-c),o=n;o>=0;o--){for(var d=!0,f=0;f<c;f++)if(l(t,o+f)!==l(e,f)){d=!1;break}if(d)return o}return-1}function dde(t,e,n,r){n=Number(n)||0;var i=t.length-n;r?(r=Number(r))>i&&(r=i):r=i;var o=e.length;if(o%2!=0)throw new TypeError("Invalid hex string");r>o/2&&(r=o/2);for(var s=0;s<r;++s){var a=parseInt(e.substr(2*s,2),16);if(isNaN(a))return s;t[n+s]=a}return s}function fde(t,e,n,r){return T2(Pw(e,t.length-n),t,n,r)}function mj(t,e,n,r){return T2(function(i){for(var o=[],s=0;s<i.length;++s)o.push(255&i.charCodeAt(s));return o}(e),t,n,r)}function hde(t,e,n,r){return mj(t,e,n,r)}function pde(t,e,n,r){return T2(wj(e),t,n,r)}function gde(t,e,n,r){return T2(function(i,o){for(var s,a,c,l=[],u=0;u<i.length&&!((o-=2)<0);++u)a=(s=i.charCodeAt(u))>>8,c=s%256,l.push(c),l.push(a);return l}(e,t.length-n),t,n,r)}function mde(t,e,n){return e===0&&n===t.length?GP(t):GP(t.slice(e,n))}function yj(t,e,n){n=Math.min(t.length,n);for(var r=[],i=e;i<n;){var o,s,a,c,l=t[i],u=null,d=l>239?4:l>223?3:l>191?2:1;if(i+d<=n)switch(d){case 1:l<128&&(u=l);break;case 2:(192&(o=t[i+1]))==128&&(c=(31&l)<<6|63&o)>127&&(u=c);break;case 3:o=t[i+1],s=t[i+2],(192&o)==128&&(192&s)==128&&(c=(15&l)<<12|(63&o)<<6|63&s)>2047&&(c<55296||c>57343)&&(u=c);break;case 4:o=t[i+1],s=t[i+2],a=t[i+3],(192&o)==128&&(192&s)==128&&(192&a)==128&&(c=(15&l)<<18|(63&o)<<12|(63&s)<<6|63&a)>65535&&c<1114112&&(u=c)}u===null?(u=65533,d=1):u>65535&&(u-=65536,r.push(u>>>10&1023|55296),u=56320|1023&u),r.push(u),i+=d}return function(f){var h=f.length;if(h<=ZP)return String.fromCharCode.apply(String,f);for(var g="",p=0;p<h;)g+=String.fromCharCode.apply(String,f.slice(p,p+=ZP));return g}(r)}Se.poolSize=8192,Se._augment=function(t){return t.__proto__=Se.prototype,t},Se.from=function(t,e,n){return hj(null,t,e,n)},Se.TYPED_ARRAY_SUPPORT&&(Se.prototype.__proto__=Uint8Array.prototype,Se.__proto__=Uint8Array,typeof Symbol<"u"&&Symbol.species&&Se[Symbol.species]),Se.alloc=function(t,e,n){return function(r,i,o,s){return pj(i),i<=0?ic(r,i):o!==void 0?typeof s=="string"?ic(r,i).fill(o,s):ic(r,i).fill(o):ic(r,i)}(null,t,e,n)},Se.allocUnsafe=function(t){return hS(null,t)},Se.allocUnsafeSlow=function(t){return hS(null,t)},Se.isBuffer=bj,Se.compare=function(t,e){if(!Ws(t)||!Ws(e))throw new TypeError("Arguments must be Buffers");if(t===e)return 0;for(var n=t.length,r=e.length,i=0,o=Math.min(n,r);i<o;++i)if(t[i]!==e[i]){n=t[i],r=e[i];break}return n<r?-1:r<n?1:0},Se.isEncoding=function(t){switch(String(t).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},Se.concat=function(t,e){if(!fj(t))throw new TypeError('"list" argument must be an Array of Buffers');if(t.length===0)return Se.alloc(0);var n;if(e===void 0)for(e=0,n=0;n<t.length;++n)e+=t[n].length;var r=Se.allocUnsafe(e),i=0;for(n=0;n<t.length;++n){var o=t[n];if(!Ws(o))throw new TypeError('"list" argument must be an Array of Buffers');o.copy(r,i),i+=o.length}return r},Se.byteLength=gj,Se.prototype._isBuffer=!0,Se.prototype.swap16=function(){var t=this.length;if(t%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var e=0;e<t;e+=2)Pu(this,e,e+1);return this},Se.prototype.swap32=function(){var t=this.length;if(t%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var e=0;e<t;e+=4)Pu(this,e,e+3),Pu(this,e+1,e+2);return this},Se.prototype.swap64=function(){var t=this.length;if(t%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var e=0;e<t;e+=8)Pu(this,e,e+7),Pu(this,e+1,e+6),Pu(this,e+2,e+5),Pu(this,e+3,e+4);return this},Se.prototype.toString=function(){var t=0|this.length;return t===0?"":arguments.length===0?yj(this,0,t):ude.apply(this,arguments)},Se.prototype.equals=function(t){if(!Ws(t))throw new TypeError("Argument must be a Buffer");return this===t||Se.compare(this,t)===0},Se.prototype.inspect=function(){var t="";return this.length>0&&(t=this.toString("hex",0,50).match(/.{2}/g).join(" "),this.length>50&&(t+=" ... ")),"<Buffer "+t+">"},Se.prototype.compare=function(t,e,n,r,i){if(!Ws(t))throw new TypeError("Argument must be a Buffer");if(e===void 0&&(e=0),n===void 0&&(n=t?t.length:0),r===void 0&&(r=0),i===void 0&&(i=this.length),e<0||n>t.length||r<0||i>this.length)throw new RangeError("out of range index");if(r>=i&&e>=n)return 0;if(r>=i)return-1;if(e>=n)return 1;if(this===t)return 0;for(var o=(i>>>=0)-(r>>>=0),s=(n>>>=0)-(e>>>=0),a=Math.min(o,s),c=this.slice(r,i),l=t.slice(e,n),u=0;u<a;++u)if(c[u]!==l[u]){o=c[u],s=l[u];break}return o<s?-1:s<o?1:0},Se.prototype.includes=function(t,e,n){return this.indexOf(t,e,n)!==-1},Se.prototype.indexOf=function(t,e,n){return YP(this,t,e,n,!0)},Se.prototype.lastIndexOf=function(t,e,n){return YP(this,t,e,n,!1)},Se.prototype.write=function(t,e,n,r){if(e===void 0)r="utf8",n=this.length,e=0;else if(n===void 0&&typeof e=="string")r=e,n=this.length,e=0;else{if(!isFinite(e))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");e|=0,isFinite(n)?(n|=0,r===void 0&&(r="utf8")):(r=n,n=void 0)}var i=this.length-e;if((n===void 0||n>i)&&(n=i),t.length>0&&(n<0||e<0)||e>this.length)throw new RangeError("Attempt to write outside buffer bounds");r||(r="utf8");for(var o=!1;;)switch(r){case"hex":return dde(this,t,e,n);case"utf8":case"utf-8":return fde(this,t,e,n);case"ascii":return mj(this,t,e,n);case"latin1":case"binary":return hde(this,t,e,n);case"base64":return pde(this,t,e,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return gde(this,t,e,n);default:if(o)throw new TypeError("Unknown encoding: "+r);r=(""+r).toLowerCase(),o=!0}},Se.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var ZP=4096;function yde(t,e,n){var r="";n=Math.min(t.length,n);for(var i=e;i<n;++i)r+=String.fromCharCode(127&t[i]);return r}function vde(t,e,n){var r="";n=Math.min(t.length,n);for(var i=e;i<n;++i)r+=String.fromCharCode(t[i]);return r}function wde(t,e,n){var r=t.length;(!e||e<0)&&(e=0),(!n||n<0||n>r)&&(n=r);for(var i="",o=e;o<n;++o)i+=xde(t[o]);return i}function bde(t,e,n){for(var r=t.slice(e,n),i="",o=0;o<r.length;o+=2)i+=String.fromCharCode(r[o]+256*r[o+1]);return i}function qn(t,e,n){if(t%1!=0||t<0)throw new RangeError("offset is not uint");if(t+e>n)throw new RangeError("Trying to access beyond buffer length")}function ri(t,e,n,r,i,o){if(!Ws(t))throw new TypeError('"buffer" argument must be a Buffer instance');if(e>i||e<o)throw new RangeError('"value" argument is out of bounds');if(n+r>t.length)throw new RangeError("Index out of range")}function c1(t,e,n,r){e<0&&(e=65535+e+1);for(var i=0,o=Math.min(t.length-n,2);i<o;++i)t[n+i]=(e&255<<8*(r?i:1-i))>>>8*(r?i:1-i)}function l1(t,e,n,r){e<0&&(e=4294967295+e+1);for(var i=0,o=Math.min(t.length-n,4);i<o;++i)t[n+i]=e>>>8*(r?i:3-i)&255}function vj(t,e,n,r,i,o){if(n+r>t.length)throw new RangeError("Index out of range");if(n<0)throw new RangeError("Index out of range")}function QP(t,e,n,r,i){return i||vj(t,0,n,4),dj(t,e,n,r,23,4),n+4}function XP(t,e,n,r,i){return i||vj(t,0,n,8),dj(t,e,n,r,52,8),n+8}Se.prototype.slice=function(t,e){var n,r=this.length;if((t=~~t)<0?(t+=r)<0&&(t=0):t>r&&(t=r),(e=e===void 0?r:~~e)<0?(e+=r)<0&&(e=0):e>r&&(e=r),e<t&&(e=t),Se.TYPED_ARRAY_SUPPORT)(n=this.subarray(t,e)).__proto__=Se.prototype;else{var i=e-t;n=new Se(i,void 0);for(var o=0;o<i;++o)n[o]=this[o+t]}return n},Se.prototype.readUIntLE=function(t,e,n){t|=0,e|=0,n||qn(t,e,this.length);for(var r=this[t],i=1,o=0;++o<e&&(i*=256);)r+=this[t+o]*i;return r},Se.prototype.readUIntBE=function(t,e,n){t|=0,e|=0,n||qn(t,e,this.length);for(var r=this[t+--e],i=1;e>0&&(i*=256);)r+=this[t+--e]*i;return r},Se.prototype.readUInt8=function(t,e){return e||qn(t,1,this.length),this[t]},Se.prototype.readUInt16LE=function(t,e){return e||qn(t,2,this.length),this[t]|this[t+1]<<8},Se.prototype.readUInt16BE=function(t,e){return e||qn(t,2,this.length),this[t]<<8|this[t+1]},Se.prototype.readUInt32LE=function(t,e){return e||qn(t,4,this.length),(this[t]|this[t+1]<<8|this[t+2]<<16)+16777216*this[t+3]},Se.prototype.readUInt32BE=function(t,e){return e||qn(t,4,this.length),16777216*this[t]+(this[t+1]<<16|this[t+2]<<8|this[t+3])},Se.prototype.readIntLE=function(t,e,n){t|=0,e|=0,n||qn(t,e,this.length);for(var r=this[t],i=1,o=0;++o<e&&(i*=256);)r+=this[t+o]*i;return r>=(i*=128)&&(r-=Math.pow(2,8*e)),r},Se.prototype.readIntBE=function(t,e,n){t|=0,e|=0,n||qn(t,e,this.length);for(var r=e,i=1,o=this[t+--r];r>0&&(i*=256);)o+=this[t+--r]*i;return o>=(i*=128)&&(o-=Math.pow(2,8*e)),o},Se.prototype.readInt8=function(t,e){return e||qn(t,1,this.length),128&this[t]?-1*(255-this[t]+1):this[t]},Se.prototype.readInt16LE=function(t,e){e||qn(t,2,this.length);var n=this[t]|this[t+1]<<8;return 32768&n?4294901760|n:n},Se.prototype.readInt16BE=function(t,e){e||qn(t,2,this.length);var n=this[t+1]|this[t]<<8;return 32768&n?4294901760|n:n},Se.prototype.readInt32LE=function(t,e){return e||qn(t,4,this.length),this[t]|this[t+1]<<8|this[t+2]<<16|this[t+3]<<24},Se.prototype.readInt32BE=function(t,e){return e||qn(t,4,this.length),this[t]<<24|this[t+1]<<16|this[t+2]<<8|this[t+3]},Se.prototype.readFloatLE=function(t,e){return e||qn(t,4,this.length),a1(this,t,!0,23,4)},Se.prototype.readFloatBE=function(t,e){return e||qn(t,4,this.length),a1(this,t,!1,23,4)},Se.prototype.readDoubleLE=function(t,e){return e||qn(t,8,this.length),a1(this,t,!0,52,8)},Se.prototype.readDoubleBE=function(t,e){return e||qn(t,8,this.length),a1(this,t,!1,52,8)},Se.prototype.writeUIntLE=function(t,e,n,r){t=+t,e|=0,n|=0,r||ri(this,t,e,n,Math.pow(2,8*n)-1,0);var i=1,o=0;for(this[e]=255&t;++o<n&&(i*=256);)this[e+o]=t/i&255;return e+n},Se.prototype.writeUIntBE=function(t,e,n,r){t=+t,e|=0,n|=0,r||ri(this,t,e,n,Math.pow(2,8*n)-1,0);var i=n-1,o=1;for(this[e+i]=255&t;--i>=0&&(o*=256);)this[e+i]=t/o&255;return e+n},Se.prototype.writeUInt8=function(t,e,n){return t=+t,e|=0,n||ri(this,t,e,1,255,0),Se.TYPED_ARRAY_SUPPORT||(t=Math.floor(t)),this[e]=255&t,e+1},Se.prototype.writeUInt16LE=function(t,e,n){return t=+t,e|=0,n||ri(this,t,e,2,65535,0),Se.TYPED_ARRAY_SUPPORT?(this[e]=255&t,this[e+1]=t>>>8):c1(this,t,e,!0),e+2},Se.prototype.writeUInt16BE=function(t,e,n){return t=+t,e|=0,n||ri(this,t,e,2,65535,0),Se.TYPED_ARRAY_SUPPORT?(this[e]=t>>>8,this[e+1]=255&t):c1(this,t,e,!1),e+2},Se.prototype.writeUInt32LE=function(t,e,n){return t=+t,e|=0,n||ri(this,t,e,4,4294967295,0),Se.TYPED_ARRAY_SUPPORT?(this[e+3]=t>>>24,this[e+2]=t>>>16,this[e+1]=t>>>8,this[e]=255&t):l1(this,t,e,!0),e+4},Se.prototype.writeUInt32BE=function(t,e,n){return t=+t,e|=0,n||ri(this,t,e,4,4294967295,0),Se.TYPED_ARRAY_SUPPORT?(this[e]=t>>>24,this[e+1]=t>>>16,this[e+2]=t>>>8,this[e+3]=255&t):l1(this,t,e,!1),e+4},Se.prototype.writeIntLE=function(t,e,n,r){if(t=+t,e|=0,!r){var i=Math.pow(2,8*n-1);ri(this,t,e,n,i-1,-i)}var o=0,s=1,a=0;for(this[e]=255&t;++o<n&&(s*=256);)t<0&&a===0&&this[e+o-1]!==0&&(a=1),this[e+o]=(t/s>>0)-a&255;return e+n},Se.prototype.writeIntBE=function(t,e,n,r){if(t=+t,e|=0,!r){var i=Math.pow(2,8*n-1);ri(this,t,e,n,i-1,-i)}var o=n-1,s=1,a=0;for(this[e+o]=255&t;--o>=0&&(s*=256);)t<0&&a===0&&this[e+o+1]!==0&&(a=1),this[e+o]=(t/s>>0)-a&255;return e+n},Se.prototype.writeInt8=function(t,e,n){return t=+t,e|=0,n||ri(this,t,e,1,127,-128),Se.TYPED_ARRAY_SUPPORT||(t=Math.floor(t)),t<0&&(t=255+t+1),this[e]=255&t,e+1},Se.prototype.writeInt16LE=function(t,e,n){return t=+t,e|=0,n||ri(this,t,e,2,32767,-32768),Se.TYPED_ARRAY_SUPPORT?(this[e]=255&t,this[e+1]=t>>>8):c1(this,t,e,!0),e+2},Se.prototype.writeInt16BE=function(t,e,n){return t=+t,e|=0,n||ri(this,t,e,2,32767,-32768),Se.TYPED_ARRAY_SUPPORT?(this[e]=t>>>8,this[e+1]=255&t):c1(this,t,e,!1),e+2},Se.prototype.writeInt32LE=function(t,e,n){return t=+t,e|=0,n||ri(this,t,e,4,2147483647,-2147483648),Se.TYPED_ARRAY_SUPPORT?(this[e]=255&t,this[e+1]=t>>>8,this[e+2]=t>>>16,this[e+3]=t>>>24):l1(this,t,e,!0),e+4},Se.prototype.writeInt32BE=function(t,e,n){return t=+t,e|=0,n||ri(this,t,e,4,2147483647,-2147483648),t<0&&(t=4294967295+t+1),Se.TYPED_ARRAY_SUPPORT?(this[e]=t>>>24,this[e+1]=t>>>16,this[e+2]=t>>>8,this[e+3]=255&t):l1(this,t,e,!1),e+4},Se.prototype.writeFloatLE=function(t,e,n){return QP(this,t,e,!0,n)},Se.prototype.writeFloatBE=function(t,e,n){return QP(this,t,e,!1,n)},Se.prototype.writeDoubleLE=function(t,e,n){return XP(this,t,e,!0,n)},Se.prototype.writeDoubleBE=function(t,e,n){return XP(this,t,e,!1,n)},Se.prototype.copy=function(t,e,n,r){if(n||(n=0),r||r===0||(r=this.length),e>=t.length&&(e=t.length),e||(e=0),r>0&&r<n&&(r=n),r===n||t.length===0||this.length===0)return 0;if(e<0)throw new RangeError("targetStart out of bounds");if(n<0||n>=this.length)throw new RangeError("sourceStart out of bounds");if(r<0)throw new RangeError("sourceEnd out of bounds");r>this.length&&(r=this.length),t.length-e<r-n&&(r=t.length-e+n);var i,o=r-n;if(this===t&&n<e&&e<r)for(i=o-1;i>=0;--i)t[i+e]=this[i+n];else if(o<1e3||!Se.TYPED_ARRAY_SUPPORT)for(i=0;i<o;++i)t[i+e]=this[i+n];else Uint8Array.prototype.set.call(t,this.subarray(n,n+o),e);return o},Se.prototype.fill=function(t,e,n,r){if(typeof t=="string"){if(typeof e=="string"?(r=e,e=0,n=this.length):typeof n=="string"&&(r=n,n=this.length),t.length===1){var i=t.charCodeAt(0);i<256&&(t=i)}if(r!==void 0&&typeof r!="string")throw new TypeError("encoding must be a string");if(typeof r=="string"&&!Se.isEncoding(r))throw new TypeError("Unknown encoding: "+r)}else typeof t=="number"&&(t&=255);if(e<0||this.length<e||this.length<n)throw new RangeError("Out of range index");if(n<=e)return this;var o;if(e>>>=0,n=n===void 0?this.length:n>>>0,t||(t=0),typeof t=="number")for(o=e;o<n;++o)this[o]=t;else{var s=Ws(t)?t:Pw(new Se(t,r).toString()),a=s.length;for(o=0;o<n-e;++o)this[o+e]=s[o%a]}return this};var Ede=/[^+\/0-9A-Za-z-_]/g;function xde(t){return t<16?"0"+t.toString(16):t.toString(16)}function Pw(t,e){var n;e=e||1/0;for(var r=t.length,i=null,o=[],s=0;s<r;++s){if((n=t.charCodeAt(s))>55295&&n<57344){if(!i){if(n>56319){(e-=3)>-1&&o.push(239,191,189);continue}if(s+1===r){(e-=3)>-1&&o.push(239,191,189);continue}i=n;continue}if(n<56320){(e-=3)>-1&&o.push(239,191,189),i=n;continue}n=65536+(i-55296<<10|n-56320)}else i&&(e-=3)>-1&&o.push(239,191,189);if(i=null,n<128){if((e-=1)<0)break;o.push(n)}else if(n<2048){if((e-=2)<0)break;o.push(n>>6|192,63&n|128)}else if(n<65536){if((e-=3)<0)break;o.push(n>>12|224,n>>6&63|128,63&n|128)}else{if(!(n<1114112))throw new Error("Invalid code point");if((e-=4)<0)break;o.push(n>>18|240,n>>12&63|128,n>>6&63|128,63&n|128)}}return o}function wj(t){return function(e){var n,r,i,o,s,a;yA||uj();var c=e.length;if(c%4>0)throw new Error("Invalid string. Length must be a multiple of 4");s=e[c-2]==="="?2:e[c-1]==="="?1:0,a=new sde(3*c/4-s),i=s>0?c-4:c;var l=0;for(n=0,r=0;n<i;n+=4,r+=3)o=yo[e.charCodeAt(n)]<<18|yo[e.charCodeAt(n+1)]<<12|yo[e.charCodeAt(n+2)]<<6|yo[e.charCodeAt(n+3)],a[l++]=o>>16&255,a[l++]=o>>8&255,a[l++]=255&o;return s===2?(o=yo[e.charCodeAt(n)]<<2|yo[e.charCodeAt(n+1)]>>4,a[l++]=255&o):s===1&&(o=yo[e.charCodeAt(n)]<<10|yo[e.charCodeAt(n+1)]<<4|yo[e.charCodeAt(n+2)]>>2,a[l++]=o>>8&255,a[l++]=255&o),a}(function(e){if((e=function(n){return n.trim?n.trim():n.replace(/^\s+|\s+$/g,"")}(e).replace(Ede,"")).length<2)return"";for(;e.length%4!=0;)e+="=";return e}(t))}function T2(t,e,n,r){for(var i=0;i<r&&!(i+n>=e.length||i>=t.length);++i)e[i+n]=t[i];return i}function bj(t){return t!=null&&(!!t._isBuffer||eO(t)||function(e){return typeof e.readFloatLE=="function"&&typeof e.slice=="function"&&eO(e.slice(0,0))}(t))}function eO(t){return!!t.constructor&&typeof t.constructor.isBuffer=="function"&&t.constructor.isBuffer(t)}var Sde=Object.freeze({__proto__:null,Buffer:Se,INSPECT_MAX_BYTES:50,SlowBuffer:function(t){return+t!=t&&(t=0),Se.alloc(+t)},isBuffer:bj,kMaxLength:lde}),Po=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof globalThis<"u"?globalThis:typeof self<"u"?self:{};function M2(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function Zm(t){if(t.__esModule)return t;var e=t.default;if(typeof e=="function"){var n=function r(){return this instanceof r?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};n.prototype=e.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(t).forEach(function(r){var i=Object.getOwnPropertyDescriptor(t,r);Object.defineProperty(n,r,i.get?i:{enumerable:!0,get:function(){return t[r]}})}),n}var Of={},Zi={},Tr={};function Ow(t){if(!Number.isSafeInteger(t)||t<0)throw new Error(`positive integer expected, not ${t}`)}function Ej(t){if(typeof t!="boolean")throw new Error(`boolean expected, not ${t}`)}function xj(t){return t instanceof Uint8Array||t!=null&&typeof t=="object"&&t.constructor.name==="Uint8Array"}function wA(t,...e){if(!xj(t))throw new Error("Uint8Array expected");if(e.length>0&&!e.includes(t.length))throw new Error(`Uint8Array expected of length ${e}, not of length=${t.length}`)}function Sj(t){if(typeof t!="function"||typeof t.create!="function")throw new Error("hash must be wrapped by utils.wrapConstructor");Ow(t.outputLen),Ow(t.blockLen)}function _j(t,e=!0){if(t.destroyed)throw new Error("Hash instance has been destroyed");if(e&&t.finished)throw new Error("Hash#digest() has already been called")}function Cj(t,e){wA(t);const n=e.outputLen;if(t.length<n)throw new Error(`digestInto() expects output buffer of length at least ${n}`)}Object.defineProperty(Tr,"__esModule",{value:!0}),Tr.isBytes=xj,Tr.number=Ow,Tr.bool=Ej,Tr.bytes=wA,Tr.hash=Sj,Tr.exists=_j,Tr.output=Cj;const _de={number:Ow,bool:Ej,bytes:wA,hash:Sj,exists:_j,output:Cj};Tr.default=_de,function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.wrapCipher=t.Hash=t.nextTick=t.isLE=t.createView=t.u32=t.u16=t.u8=void 0,t.bytesToHex=r,t.hexToBytes=s,t.hexToNumber=a,t.bytesToNumberBE=function(d){return a(r(d))},t.numberToBytesBE=function(d,f){return s(d.toString(16).padStart(2*f,"0"))},t.asyncLoop=async function(d,f,h){let g=Date.now();for(let p=0;p<d;p++){h(p);const S=Date.now()-g;S>=0&&S<f||(await(0,t.nextTick)(),g+=S)}},t.utf8ToBytes=c,t.bytesToUtf8=function(d){return new TextDecoder().decode(d)},t.toBytes=function(d){if(typeof d=="string")d=c(d);else{if(!(0,e.isBytes)(d))throw new Error("Uint8Array expected, got "+typeof d);d=u(d)}return d},t.concatBytes=function(...d){let f=0;for(let g=0;g<d.length;g++){const p=d[g];(0,e.bytes)(p),f+=p.length}const h=new Uint8Array(f);for(let g=0,p=0;g<d.length;g++){const S=d[g];h.set(S,p),p+=S.length}return h},t.checkOpts=function(d,f){if(f==null||typeof f!="object")throw new Error("options must be defined");return Object.assign(d,f)},t.equalBytes=function(d,f){if(d.length!==f.length)return!1;let h=0;for(let g=0;g<d.length;g++)h|=d[g]^f[g];return h===0},t.setBigUint64=l,t.u64Lengths=function(d,f){const h=new Uint8Array(16),g=(0,t.createView)(h);return l(g,0,BigInt(f?f.length:0),!0),l(g,8,BigInt(d.length),!0),h},t.isAligned32=function(d){return d.byteOffset%4==0},t.copyBytes=u,t.clean=function(...d){for(let f=0;f<d.length;f++)d[f].fill(0)};const e=Tr;if(t.u8=d=>new Uint8Array(d.buffer,d.byteOffset,d.byteLength),t.u16=d=>new Uint16Array(d.buffer,d.byteOffset,Math.floor(d.byteLength/2)),t.u32=d=>new Uint32Array(d.buffer,d.byteOffset,Math.floor(d.byteLength/4)),t.createView=d=>new DataView(d.buffer,d.byteOffset,d.byteLength),t.isLE=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68,!t.isLE)throw new Error("Non little-endian hardware is not supported");const n=Array.from({length:256},(d,f)=>f.toString(16).padStart(2,"0"));function r(d){(0,e.bytes)(d);let f="";for(let h=0;h<d.length;h++)f+=n[d[h]];return f}const i={_0:48,_9:57,_A:65,_F:70,_a:97,_f:102};function o(d){return d>=i._0&&d<=i._9?d-i._0:d>=i._A&&d<=i._F?d-(i._A-10):d>=i._a&&d<=i._f?d-(i._a-10):void 0}function s(d){if(typeof d!="string")throw new Error("hex string expected, got "+typeof d);const f=d.length,h=f/2;if(f%2)throw new Error("padded hex string expected, got unpadded hex of length "+f);const g=new Uint8Array(h);for(let p=0,S=0;p<h;p++,S+=2){const y=o(d.charCodeAt(S)),b=o(d.charCodeAt(S+1));if(y===void 0||b===void 0){const _=d[S]+d[S+1];throw new Error('hex string expected, got non-hex character "'+_+'" at index '+S)}g[p]=16*y+b}return g}function a(d){if(typeof d!="string")throw new Error("hex string expected, got "+typeof d);return BigInt(d===""?"0":`0x${d}`)}function c(d){if(typeof d!="string")throw new Error("string expected, got "+typeof d);return new Uint8Array(new TextEncoder().encode(d))}t.nextTick=async()=>{},t.Hash=class{};function l(d,f,h,g){if(typeof d.setBigUint64=="function")return d.setBigUint64(f,h,g);const p=BigInt(32),S=BigInt(4294967295),y=Number(h>>p&S),b=Number(h&S),_=g?4:0,N=g?0:4;d.setUint32(f+_,y,g),d.setUint32(f+N,b,g)}function u(d){return Uint8Array.from(d)}t.wrapCipher=(d,f)=>(Object.assign(f,d),f)}(Zi);var Ug={},Vn={};Object.defineProperty(Vn,"__esModule",{value:!0}),Vn.AEAD_TAG_LENGTH=Vn.XCHACHA20_NONCE_LENGTH=Vn.CURVE25519_PUBLIC_KEY_SIZE=Vn.ETH_PUBLIC_KEY_SIZE=Vn.UNCOMPRESSED_PUBLIC_KEY_SIZE=Vn.COMPRESSED_PUBLIC_KEY_SIZE=Vn.SECRET_KEY_LENGTH=void 0,Vn.SECRET_KEY_LENGTH=32,Vn.COMPRESSED_PUBLIC_KEY_SIZE=33,Vn.UNCOMPRESSED_PUBLIC_KEY_SIZE=65,Vn.ETH_PUBLIC_KEY_SIZE=64,Vn.CURVE25519_PUBLIC_KEY_SIZE=32,Vn.XCHACHA20_NONCE_LENGTH=24,Vn.AEAD_TAG_LENGTH=16,function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.ephemeralKeySize=t.symmetricNonceLength=t.symmetricAlgorithm=t.isHkdfKeyCompressed=t.isEphemeralKeyCompressed=t.ellipticCurve=t.ECIES_CONFIG=void 0;var e=Vn,n=function(){this.ellipticCurve="secp256k1",this.isEphemeralKeyCompressed=!1,this.isHkdfKeyCompressed=!1,this.symmetricAlgorithm="aes-256-gcm",this.symmetricNonceLength=16};t.ECIES_CONFIG=new n,t.ellipticCurve=function(){return t.ECIES_CONFIG.ellipticCurve},t.isEphemeralKeyCompressed=function(){return t.ECIES_CONFIG.isEphemeralKeyCompressed},t.isHkdfKeyCompressed=function(){return t.ECIES_CONFIG.isHkdfKeyCompressed},t.symmetricAlgorithm=function(){return t.ECIES_CONFIG.symmetricAlgorithm},t.symmetricNonceLength=function(){return t.ECIES_CONFIG.symmetricNonceLength},t.ephemeralKeySize=function(){var r={secp256k1:t.ECIES_CONFIG.isEphemeralKeyCompressed?e.COMPRESSED_PUBLIC_KEY_SIZE:e.UNCOMPRESSED_PUBLIC_KEY_SIZE,x25519:e.CURVE25519_PUBLIC_KEY_SIZE,ed25519:e.CURVE25519_PUBLIC_KEY_SIZE};if(t.ECIES_CONFIG.ellipticCurve in r)return r[t.ECIES_CONFIG.ellipticCurve];throw new Error("Not implemented")}}(Ug);var XE={},Tw={},N2={},Aj={},bA={},u1={};Object.defineProperty(u1,"__esModule",{value:!0}),u1.crypto=void 0,u1.crypto=typeof globalThis=="object"&&"crypto"in globalThis?globalThis.crypto:void 0,function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.gcm=t.ctr=t.cbc=t.utils=void 0,t.randomBytes=i,t.getWebcryptoSubtle=o,t.managedNonce=function(c){return(0,n.number)(c.nonceLength),(l,...u)=>({encrypt(d,...f){const{nonceLength:h}=c,g=i(h),p=c(l,g,...u).encrypt(d,...f),S=(0,r.concatBytes)(g,p);return p.fill(0),S},decrypt(d,...f){const{nonceLength:h}=c,g=d.subarray(0,h),p=d.subarray(h);return c(l,g,...u).decrypt(p,...f)}})};const e=u1,n=Tr,r=Zi;function i(c=32){if(e.crypto&&typeof e.crypto.getRandomValues=="function")return e.crypto.getRandomValues(new Uint8Array(c));if(e.crypto&&typeof e.crypto.randomBytes=="function")return e.crypto.randomBytes(c);throw new Error("crypto.getRandomValues must be defined")}function o(){if(e.crypto&&typeof e.crypto.subtle=="object"&&e.crypto.subtle!=null)return e.crypto.subtle;throw new Error("crypto.subtle must be defined")}t.utils={async encrypt(c,l,u,d){const f=o(),h=await f.importKey("raw",c,l,!0,["encrypt"]),g=await f.encrypt(u,h,d);return new Uint8Array(g)},async decrypt(c,l,u,d){const f=o(),h=await f.importKey("raw",c,l,!0,["decrypt"]),g=await f.decrypt(u,h,d);return new Uint8Array(g)}};const s={CBC:"AES-CBC",CTR:"AES-CTR",GCM:"AES-GCM"};function a(c){return(l,u,d)=>{(0,n.bytes)(l),(0,n.bytes)(u);const f={name:c,length:8*l.length},h=function(g,p,S){if(g===s.CBC)return{name:s.CBC,iv:p};if(g===s.CTR)return{name:s.CTR,counter:p,length:64};if(g===s.GCM)return S?{name:s.GCM,iv:p,additionalData:S}:{name:s.GCM,iv:p};throw new Error("unknown aes block mode")}(c,u,d);return{encrypt:g=>((0,n.bytes)(g),t.utils.encrypt(l,f,h,g)),decrypt:g=>((0,n.bytes)(g),t.utils.decrypt(l,f,h,g))}}}t.cbc=a(s.CBC),t.ctr=a(s.CTR),t.gcm=a(s.GCM)}(bA);var Ij={},Qn={},oc={},Bi={};function Mw(t){if(!Number.isSafeInteger(t)||t<0)throw new Error(`positive integer expected, not ${t}`)}function kj(t){if(typeof t!="boolean")throw new Error(`boolean expected, not ${t}`)}function Pj(t){return t instanceof Uint8Array||t!=null&&typeof t=="object"&&t.constructor.name==="Uint8Array"}function EA(t,...e){if(!Pj(t))throw new Error("Uint8Array expected");if(e.length>0&&!e.includes(t.length))throw new Error(`Uint8Array expected of length ${e}, not of length=${t.length}`)}function Oj(t){if(typeof t!="function"||typeof t.create!="function")throw new Error("Hash should be wrapped by utils.wrapConstructor");Mw(t.outputLen),Mw(t.blockLen)}function Tj(t,e=!0){if(t.destroyed)throw new Error("Hash instance has been destroyed");if(e&&t.finished)throw new Error("Hash#digest() has already been called")}function Mj(t,e){EA(t);const n=e.outputLen;if(t.length<n)throw new Error(`digestInto() expects output buffer of length at least ${n}`)}Object.defineProperty(Bi,"__esModule",{value:!0}),Bi.isBytes=Pj,Bi.number=Mw,Bi.bool=kj,Bi.bytes=EA,Bi.hash=Oj,Bi.exists=Tj,Bi.output=Mj;const Cde={number:Mw,bool:kj,bytes:EA,hash:Oj,exists:Tj,output:Mj};Bi.default=Cde;var $c={},d1={};Object.defineProperty(d1,"__esModule",{value:!0}),d1.crypto=void 0,d1.crypto=typeof globalThis=="object"&&"crypto"in globalThis?globalThis.crypto:void 0,function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.Hash=t.nextTick=t.byteSwapIfBE=t.byteSwap=t.isLE=t.rotl=t.rotr=t.createView=t.u32=t.u8=void 0,t.isBytes=function(l){return l instanceof Uint8Array||l!=null&&typeof l=="object"&&l.constructor.name==="Uint8Array"},t.byteSwap32=function(l){for(let u=0;u<l.length;u++)l[u]=(0,t.byteSwap)(l[u])},t.bytesToHex=function(l){(0,n.bytes)(l);let u="";for(let d=0;d<l.length;d++)u+=r[l[d]];return u},t.hexToBytes=function(l){if(typeof l!="string")throw new Error("hex string expected, got "+typeof l);const u=l.length,d=u/2;if(u%2)throw new Error("padded hex string expected, got unpadded hex of length "+u);const f=new Uint8Array(d);for(let h=0,g=0;h<d;h++,g+=2){const p=o(l.charCodeAt(g)),S=o(l.charCodeAt(g+1));if(p===void 0||S===void 0){const y=l[g]+l[g+1];throw new Error('hex string expected, got non-hex character "'+y+'" at index '+g)}f[h]=16*p+S}return f},t.asyncLoop=async function(l,u,d){let f=Date.now();for(let h=0;h<l;h++){d(h);const g=Date.now()-f;g>=0&&g<u||(await(0,t.nextTick)(),f+=g)}},t.utf8ToBytes=s,t.toBytes=a,t.concatBytes=function(...l){let u=0;for(let f=0;f<l.length;f++){const h=l[f];(0,n.bytes)(h),u+=h.length}const d=new Uint8Array(u);for(let f=0,h=0;f<l.length;f++){const g=l[f];d.set(g,h),h+=g.length}return d},t.checkOpts=function(l,u){if(u!==void 0&&c.call(u)!=="[object Object]")throw new Error("Options should be object or undefined");return Object.assign(l,u)},t.wrapConstructor=function(l){const u=f=>l().update(a(f)).digest(),d=l();return u.outputLen=d.outputLen,u.blockLen=d.blockLen,u.create=()=>l(),u},t.wrapConstructorWithOpts=function(l){const u=(f,h)=>l(h).update(a(f)).digest(),d=l({});return u.outputLen=d.outputLen,u.blockLen=d.blockLen,u.create=f=>l(f),u},t.wrapXOFConstructorWithOpts=function(l){const u=(f,h)=>l(h).update(a(f)).digest(),d=l({});return u.outputLen=d.outputLen,u.blockLen=d.blockLen,u.create=f=>l(f),u},t.randomBytes=function(l=32){if(e.crypto&&typeof e.crypto.getRandomValues=="function")return e.crypto.getRandomValues(new Uint8Array(l));if(e.crypto&&typeof e.crypto.randomBytes=="function")return e.crypto.randomBytes(l);throw new Error("crypto.getRandomValues must be defined")};const e=d1,n=Bi;t.u8=l=>new Uint8Array(l.buffer,l.byteOffset,l.byteLength),t.u32=l=>new Uint32Array(l.buffer,l.byteOffset,Math.floor(l.byteLength/4)),t.createView=l=>new DataView(l.buffer,l.byteOffset,l.byteLength),t.rotr=(l,u)=>l<<32-u|l>>>u,t.rotl=(l,u)=>l<<u|l>>>32-u>>>0,t.isLE=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68,t.byteSwap=l=>l<<24&4278190080|l<<8&16711680|l>>>8&65280|l>>>24&255,t.byteSwapIfBE=t.isLE?l=>l:l=>(0,t.byteSwap)(l);const r=Array.from({length:256},(l,u)=>u.toString(16).padStart(2,"0")),i={_0:48,_9:57,_A:65,_F:70,_a:97,_f:102};function o(l){return l>=i._0&&l<=i._9?l-i._0:l>=i._A&&l<=i._F?l-(i._A-10):l>=i._a&&l<=i._f?l-(i._a-10):void 0}function s(l){if(typeof l!="string")throw new Error("utf8ToBytes expected string, got "+typeof l);return new Uint8Array(new TextEncoder().encode(l))}function a(l){return typeof l=="string"&&(l=s(l)),(0,n.bytes)(l),l}t.nextTick=async()=>{},t.Hash=class{clone(){return this._cloneInto()}};const c={}.toString}($c),Object.defineProperty(oc,"__esModule",{value:!0}),oc.HashMD=oc.Maj=oc.Chi=void 0;const e6=Bi,bp=$c;oc.Chi=(t,e,n)=>t&e^~t&n;oc.Maj=(t,e,n)=>t&e^t&n^e&n;oc.HashMD=class extends bp.Hash{constructor(t,e,n,r){super(),this.blockLen=t,this.outputLen=e,this.padOffset=n,this.isLE=r,this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.buffer=new Uint8Array(t),this.view=(0,bp.createView)(this.buffer)}update(t){(0,e6.exists)(this);const{view:e,buffer:n,blockLen:r}=this,i=(t=(0,bp.toBytes)(t)).length;for(let o=0;o<i;){const s=Math.min(r-this.pos,i-o);if(s!==r)n.set(t.subarray(o,o+s),this.pos),this.pos+=s,o+=s,this.pos===r&&(this.process(e,0),this.pos=0);else{const a=(0,bp.createView)(t);for(;r<=i-o;o+=r)this.process(a,o)}}return this.length+=t.length,this.roundClean(),this}digestInto(t){(0,e6.exists)(this),(0,e6.output)(t,this),this.finished=!0;const{buffer:e,view:n,blockLen:r,isLE:i}=this;let{pos:o}=this;e[o++]=128,this.buffer.subarray(o).fill(0),this.padOffset>r-o&&(this.process(n,0),o=0);for(let u=o;u<r;u++)e[u]=0;(function(u,d,f,h){if(typeof u.setBigUint64=="function")return u.setBigUint64(d,f,h);const g=BigInt(32),p=BigInt(4294967295),S=Number(f>>g&p),y=Number(f&p),b=h?4:0,_=h?0:4;u.setUint32(d+b,S,h),u.setUint32(d+_,y,h)})(n,r-8,BigInt(8*this.length),i),this.process(n,0);const s=(0,bp.createView)(t),a=this.outputLen;if(a%4)throw new Error("_sha2: outputLen should be aligned to 32bit");const c=a/4,l=this.get();if(c>l.length)throw new Error("_sha2: outputLen bigger than state");for(let u=0;u<c;u++)s.setUint32(4*u,l[u],i)}digest(){const{buffer:t,outputLen:e}=this;this.digestInto(t);const n=t.slice(0,e);return this.destroy(),n}_cloneInto(t){t||(t=new this.constructor),t.set(...this.get());const{blockLen:e,buffer:n,length:r,finished:i,destroyed:o,pos:s}=this;return t.length=r,t.pos=s,t.finished=i,t.destroyed=o,r%e&&t.buffer.set(n),t}};var pt={};Object.defineProperty(pt,"__esModule",{value:!0}),pt.add5L=pt.add5H=pt.add4H=pt.add4L=pt.add3H=pt.add3L=pt.rotlBL=pt.rotlBH=pt.rotlSL=pt.rotlSH=pt.rotr32L=pt.rotr32H=pt.rotrBL=pt.rotrBH=pt.rotrSL=pt.rotrSH=pt.shrSL=pt.shrSH=pt.toBig=void 0,pt.fromBig=xA,pt.split=Nj,pt.add=Vj;const f1=BigInt(2**32-1),pS=BigInt(32);function xA(t,e=!1){return e?{h:Number(t&f1),l:Number(t>>pS&f1)}:{h:0|Number(t>>pS&f1),l:0|Number(t&f1)}}function Nj(t,e=!1){let n=new Uint32Array(t.length),r=new Uint32Array(t.length);for(let i=0;i<t.length;i++){const{h:o,l:s}=xA(t[i],e);[n[i],r[i]]=[o,s]}return[n,r]}const Rj=(t,e)=>BigInt(t>>>0)<<pS|BigInt(e>>>0);pt.toBig=Rj;const Lj=(t,e,n)=>t>>>n;pt.shrSH=Lj;const $j=(t,e,n)=>t<<32-n|e>>>n;pt.shrSL=$j;const Bj=(t,e,n)=>t>>>n|e<<32-n;pt.rotrSH=Bj;const Dj=(t,e,n)=>t<<32-n|e>>>n;pt.rotrSL=Dj;const jj=(t,e,n)=>t<<64-n|e>>>n-32;pt.rotrBH=jj;const Fj=(t,e,n)=>t>>>n-32|e<<64-n;pt.rotrBL=Fj;const Uj=(t,e)=>e;pt.rotr32H=Uj;const zj=(t,e)=>t;pt.rotr32L=zj;const Hj=(t,e,n)=>t<<n|e>>>32-n;pt.rotlSH=Hj;const Wj=(t,e,n)=>e<<n|t>>>32-n;pt.rotlSL=Wj;const Kj=(t,e,n)=>e<<n-32|t>>>64-n;pt.rotlBH=Kj;const qj=(t,e,n)=>t<<n-32|e>>>64-n;function Vj(t,e,n,r){const i=(e>>>0)+(r>>>0);return{h:t+n+(i/2**32|0)|0,l:0|i}}pt.rotlBL=qj;const Gj=(t,e,n)=>(t>>>0)+(e>>>0)+(n>>>0);pt.add3L=Gj;const Yj=(t,e,n,r)=>e+n+r+(t/2**32|0)|0;pt.add3H=Yj;const Jj=(t,e,n,r)=>(t>>>0)+(e>>>0)+(n>>>0)+(r>>>0);pt.add4L=Jj;const Zj=(t,e,n,r,i)=>e+n+r+i+(t/2**32|0)|0;pt.add4H=Zj;const Qj=(t,e,n,r,i)=>(t>>>0)+(e>>>0)+(n>>>0)+(r>>>0)+(i>>>0);pt.add5L=Qj;const Xj=(t,e,n,r,i,o)=>e+n+r+i+o+(t/2**32|0)|0;pt.add5H=Xj;const Ade={fromBig:xA,split:Nj,toBig:Rj,shrSH:Lj,shrSL:$j,rotrSH:Bj,rotrSL:Dj,rotrBH:jj,rotrBL:Fj,rotr32H:Uj,rotr32L:zj,rotlSH:Hj,rotlSL:Wj,rotlBH:Kj,rotlBL:qj,add:Vj,add3L:Gj,add3H:Yj,add4L:Jj,add4H:Zj,add5H:Xj,add5L:Qj};pt.default=Ade,Object.defineProperty(Qn,"__esModule",{value:!0}),Qn.sha384=Qn.sha512_256=Qn.sha512_224=Qn.sha512=Qn.SHA384=Qn.SHA512_256=Qn.SHA512_224=Qn.SHA512=void 0;const Ide=oc,xt=pt,h1=$c,[kde,Pde]=xt.default.split(["0x428a2f98d728ae22","0x7137449123ef65cd","0xb5c0fbcfec4d3b2f","0xe9b5dba58189dbbc","0x3956c25bf348b538","0x59f111f1b605d019","0x923f82a4af194f9b","0xab1c5ed5da6d8118","0xd807aa98a3030242","0x12835b0145706fbe","0x243185be4ee4b28c","0x550c7dc3d5ffb4e2","0x72be5d74f27b896f","0x80deb1fe3b1696b1","0x9bdc06a725c71235","0xc19bf174cf692694","0xe49b69c19ef14ad2","0xefbe4786384f25e3","0x0fc19dc68b8cd5b5","0x240ca1cc77ac9c65","0x2de92c6f592b0275","0x4a7484aa6ea6e483","0x5cb0a9dcbd41fbd4","0x76f988da831153b5","0x983e5152ee66dfab","0xa831c66d2db43210","0xb00327c898fb213f","0xbf597fc7beef0ee4","0xc6e00bf33da88fc2","0xd5a79147930aa725","0x06ca6351e003826f","0x142929670a0e6e70","0x27b70a8546d22ffc","0x2e1b21385c26c926","0x4d2c6dfc5ac42aed","0x53380d139d95b3df","0x650a73548baf63de","0x766a0abb3c77b2a8","0x81c2c92e47edaee6","0x92722c851482353b","0xa2bfe8a14cf10364","0xa81a664bbc423001","0xc24b8b70d0f89791","0xc76c51a30654be30","0xd192e819d6ef5218","0xd69906245565a910","0xf40e35855771202a","0x106aa07032bbd1b8","0x19a4c116b8d2d0c8","0x1e376c085141ab53","0x2748774cdf8eeb99","0x34b0bcb5e19b48a8","0x391c0cb3c5c95a63","0x4ed8aa4ae3418acb","0x5b9cca4f7763e373","0x682e6ff3d6b2b8a3","0x748f82ee5defb2fc","0x78a5636f43172f60","0x84c87814a1f0ab72","0x8cc702081a6439ec","0x90befffa23631e28","0xa4506cebde82bde9","0xbef9a3f7b2c67915","0xc67178f2e372532b","0xca273eceea26619c","0xd186b8c721c0c207","0xeada7dd6cde0eb1e","0xf57d4f7fee6ed178","0x06f067aa72176fba","0x0a637dc5a2c898a6","0x113f9804bef90dae","0x1b710b35131c471b","0x28db77f523047d84","0x32caab7b40c72493","0x3c9ebe0a15c9bebc","0x431d67c49c100d4c","0x4cc5d4becb3e42b6","0x597f299cfc657e2a","0x5fcb6fab3ad6faec","0x6c44198c4a475817"].map(t=>BigInt(t))),Qc=new Uint32Array(80),Xc=new Uint32Array(80);class Qm extends Ide.HashMD{constructor(){super(128,64,16,!1),this.Ah=1779033703,this.Al=-205731576,this.Bh=-1150833019,this.Bl=-2067093701,this.Ch=1013904242,this.Cl=-23791573,this.Dh=-1521486534,this.Dl=1595750129,this.Eh=1359893119,this.El=-1377402159,this.Fh=-1694144372,this.Fl=725511199,this.Gh=528734635,this.Gl=-79577749,this.Hh=1541459225,this.Hl=327033209}get(){const{Ah:e,Al:n,Bh:r,Bl:i,Ch:o,Cl:s,Dh:a,Dl:c,Eh:l,El:u,Fh:d,Fl:f,Gh:h,Gl:g,Hh:p,Hl:S}=this;return[e,n,r,i,o,s,a,c,l,u,d,f,h,g,p,S]}set(e,n,r,i,o,s,a,c,l,u,d,f,h,g,p,S){this.Ah=0|e,this.Al=0|n,this.Bh=0|r,this.Bl=0|i,this.Ch=0|o,this.Cl=0|s,this.Dh=0|a,this.Dl=0|c,this.Eh=0|l,this.El=0|u,this.Fh=0|d,this.Fl=0|f,this.Gh=0|h,this.Gl=0|g,this.Hh=0|p,this.Hl=0|S}process(e,n){for(let _=0;_<16;_++,n+=4)Qc[_]=e.getUint32(n),Xc[_]=e.getUint32(n+=4);for(let _=16;_<80;_++){const N=0|Qc[_-15],O=0|Xc[_-15],$=xt.default.rotrSH(N,O,1)^xt.default.rotrSH(N,O,8)^xt.default.shrSH(N,O,7),j=xt.default.rotrSL(N,O,1)^xt.default.rotrSL(N,O,8)^xt.default.shrSL(N,O,7),k=0|Qc[_-2],T=0|Xc[_-2],L=xt.default.rotrSH(k,T,19)^xt.default.rotrBH(k,T,61)^xt.default.shrSH(k,T,6),P=xt.default.rotrSL(k,T,19)^xt.default.rotrBL(k,T,61)^xt.default.shrSL(k,T,6),m=xt.default.add4L(j,P,Xc[_-7],Xc[_-16]),w=xt.default.add4H(m,$,L,Qc[_-7],Qc[_-16]);Qc[_]=0|w,Xc[_]=0|m}let{Ah:r,Al:i,Bh:o,Bl:s,Ch:a,Cl:c,Dh:l,Dl:u,Eh:d,El:f,Fh:h,Fl:g,Gh:p,Gl:S,Hh:y,Hl:b}=this;for(let _=0;_<80;_++){const N=xt.default.rotrSH(d,f,14)^xt.default.rotrSH(d,f,18)^xt.default.rotrBH(d,f,41),O=xt.default.rotrSL(d,f,14)^xt.default.rotrSL(d,f,18)^xt.default.rotrBL(d,f,41),$=d&h^~d&p,j=f&g^~f&S,k=xt.default.add5L(b,O,j,Pde[_],Xc[_]),T=xt.default.add5H(k,y,N,$,kde[_],Qc[_]),L=0|k,P=xt.default.rotrSH(r,i,28)^xt.default.rotrBH(r,i,34)^xt.default.rotrBH(r,i,39),m=xt.default.rotrSL(r,i,28)^xt.default.rotrBL(r,i,34)^xt.default.rotrBL(r,i,39),w=r&o^r&a^o&a,A=i&s^i&c^s&c;y=0|p,b=0|S,p=0|h,S=0|g,h=0|d,g=0|f,{h:d,l:f}=xt.default.add(0|l,0|u,0|T,0|L),l=0|a,u=0|c,a=0|o,c=0|s,o=0|r,s=0|i;const v=xt.default.add3L(L,m,A);r=xt.default.add3H(v,T,P,w),i=0|v}({h:r,l:i}=xt.default.add(0|this.Ah,0|this.Al,0|r,0|i)),{h:o,l:s}=xt.default.add(0|this.Bh,0|this.Bl,0|o,0|s),{h:a,l:c}=xt.default.add(0|this.Ch,0|this.Cl,0|a,0|c),{h:l,l:u}=xt.default.add(0|this.Dh,0|this.Dl,0|l,0|u),{h:d,l:f}=xt.default.add(0|this.Eh,0|this.El,0|d,0|f),{h,l:g}=xt.default.add(0|this.Fh,0|this.Fl,0|h,0|g),{h:p,l:S}=xt.default.add(0|this.Gh,0|this.Gl,0|p,0|S),{h:y,l:b}=xt.default.add(0|this.Hh,0|this.Hl,0|y,0|b),this.set(r,i,o,s,a,c,l,u,d,f,h,g,p,S,y,b)}roundClean(){Qc.fill(0),Xc.fill(0)}destroy(){this.buffer.fill(0),this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)}}Qn.SHA512=Qm;class eF extends Qm{constructor(){super(),this.Ah=-1942145080,this.Al=424955298,this.Bh=1944164710,this.Bl=-1982016298,this.Ch=502970286,this.Cl=855612546,this.Dh=1738396948,this.Dl=1479516111,this.Eh=258812777,this.El=2077511080,this.Fh=2011393907,this.Fl=79989058,this.Gh=1067287976,this.Gl=1780299464,this.Hh=286451373,this.Hl=-1848208735,this.outputLen=28}}Qn.SHA512_224=eF;class tF extends Qm{constructor(){super(),this.Ah=573645204,this.Al=-64227540,this.Bh=-1621794909,this.Bl=-934517566,this.Ch=596883563,this.Cl=1867755857,this.Dh=-1774684391,this.Dl=1497426621,this.Eh=-1775747358,this.El=-1467023389,this.Fh=-1101128155,this.Fl=1401305490,this.Gh=721525244,this.Gl=746961066,this.Hh=246885852,this.Hl=-2117784414,this.outputLen=32}}Qn.SHA512_256=tF;class tO extends Qm{constructor(){super(),this.Ah=-876896931,this.Al=-1056596264,this.Bh=1654270250,this.Bl=914150663,this.Ch=-1856437926,this.Cl=812702999,this.Dh=355462360,this.Dl=-150054599,this.Eh=1731405415,this.El=-4191439,this.Fh=-1900787065,this.Fl=1750603025,this.Gh=-619958771,this.Gl=1694076839,this.Hh=1203062813,this.Hl=-1090891868,this.outputLen=48}}Qn.SHA384=tO,Qn.sha512=(0,h1.wrapConstructor)(()=>new Qm),Qn.sha512_224=(0,h1.wrapConstructor)(()=>new eF),Qn.sha512_256=(0,h1.wrapConstructor)(()=>new tF),Qn.sha384=(0,h1.wrapConstructor)(()=>new tO);var gS={},Gf={},zt={},_t={};Object.defineProperty(_t,"__esModule",{value:!0}),_t.notImplemented=_t.bitMask=void 0,_t.isBytes=Nw,_t.abytes=Rw,_t.abool=function(t,e){if(typeof e!="boolean")throw new Error(`${t} must be valid boolean, got "${e}".`)},_t.bytesToHex=t6,_t.numberToHexUnpadded=nO,_t.hexToNumber=n6,_t.hexToBytes=yv,_t.bytesToNumberBE=function(t){return n6(t6(t))},_t.bytesToNumberLE=function(t){return Rw(t),n6(t6(Uint8Array.from(t).reverse()))},_t.numberToBytesBE=iO,_t.numberToBytesLE=function(t,e){return iO(t,e).reverse()},_t.numberToVarBytesBE=function(t){return yv(nO(t))},_t.ensureBytes=function(t,e,n){let r;if(typeof e=="string")try{r=yv(e)}catch(o){throw new Error(`${t} must be valid hex string, got "${e}". Cause: ${o}`)}else{if(!Nw(e))throw new Error(`${t} must be hex string or Uint8Array`);r=Uint8Array.from(e)}const i=r.length;if(typeof n=="number"&&i!==n)throw new Error(`${t} expected ${n} bytes, got ${i}`);return r},_t.concatBytes=oO,_t.equalBytes=function(t,e){if(t.length!==e.length)return!1;let n=0;for(let r=0;r<t.length;r++)n|=t[r]^e[r];return n===0},_t.utf8ToBytes=function(t){if(typeof t!="string")throw new Error("utf8ToBytes expected string, got "+typeof t);return new Uint8Array(new TextEncoder().encode(t))},_t.inRange=sO,_t.aInRange=function(t,e,n,r){if(!sO(e,n,r))throw new Error(`expected valid ${t}: ${n} <= n < ${r}, got ${typeof e} ${e}`)},_t.bitLen=function(t){let e;for(e=0;t>mS;t>>=mv,e+=1);return e},_t.bitGet=function(t,e){return t>>BigInt(e)&mv},_t.bitSet=function(t,e,n){return t|(n?mv:mS)<<BigInt(e)},_t.createHmacDrbg=function(t,e,n){if(typeof t!="number"||t<2)throw new Error("hashLen must be a number");if(typeof e!="number"||e<2)throw new Error("qByteLen must be a number");if(typeof n!="function")throw new Error("hmacFn must be a function");let r=i6(t),i=i6(t),o=0;const s=()=>{r.fill(1),i.fill(0),o=0},a=(...u)=>n(i,r,...u),c=(u=i6())=>{i=a(aO([0]),u),r=a(),u.length!==0&&(i=a(aO([1]),u),r=a())},l=()=>{if(o++>=1e3)throw new Error("drbg: tried 1000 values");let u=0;const d=[];for(;u<e;){r=a();const f=r.slice();d.push(f),u+=r.length}return oO(...d)};return(u,d)=>{let f;for(s(),c(u);!(f=d(l()));)c();return s(),f}},_t.validateObject=function(t,e,n={}){const r=(i,o,s)=>{const a=Mde[o];if(typeof a!="function")throw new Error(`Invalid validator "${o}", expected function`);const c=t[i];if(!(s&&c===void 0||a(c,t)))throw new Error(`Invalid param ${String(i)}=${c} (${typeof c}), expected ${o}`)};for(const[i,o]of Object.entries(e))r(i,o,!1);for(const[i,o]of Object.entries(n))r(i,o,!0);return t},_t.memoized=function(t){const e=new WeakMap;return(n,...r)=>{const i=e.get(n);if(i!==void 0)return i;const o=t(n,...r);return e.set(n,o),o}};const mS=BigInt(0),mv=BigInt(1),Ode=BigInt(2);function Nw(t){return t instanceof Uint8Array||t!=null&&typeof t=="object"&&t.constructor.name==="Uint8Array"}function Rw(t){if(!Nw(t))throw new Error("Uint8Array expected")}const Tde=Array.from({length:256},(t,e)=>e.toString(16).padStart(2,"0"));function t6(t){Rw(t);let e="";for(let n=0;n<t.length;n++)e+=Tde[t[n]];return e}function nO(t){const e=t.toString(16);return 1&e.length?`0${e}`:e}function n6(t){if(typeof t!="string")throw new Error("hex string expected, got "+typeof t);return BigInt(t===""?"0":`0x${t}`)}const Pa={_0:48,_9:57,_A:65,_F:70,_a:97,_f:102};function rO(t){return t>=Pa._0&&t<=Pa._9?t-Pa._0:t>=Pa._A&&t<=Pa._F?t-(Pa._A-10):t>=Pa._a&&t<=Pa._f?t-(Pa._a-10):void 0}function yv(t){if(typeof t!="string")throw new Error("hex string expected, got "+typeof t);const e=t.length,n=e/2;if(e%2)throw new Error("padded hex string expected, got unpadded hex of length "+e);const r=new Uint8Array(n);for(let i=0,o=0;i<n;i++,o+=2){const s=rO(t.charCodeAt(o)),a=rO(t.charCodeAt(o+1));if(s===void 0||a===void 0){const c=t[o]+t[o+1];throw new Error('hex string expected, got non-hex character "'+c+'" at index '+o)}r[i]=16*s+a}return r}function iO(t,e){return yv(t.toString(16).padStart(2*e,"0"))}function oO(...t){let e=0;for(let r=0;r<t.length;r++){const i=t[r];Rw(i),e+=i.length}const n=new Uint8Array(e);for(let r=0,i=0;r<t.length;r++){const o=t[r];n.set(o,i),i+=o.length}return n}const r6=t=>typeof t=="bigint"&&mS<=t;function sO(t,e,n){return r6(t)&&r6(e)&&r6(n)&&e<=t&&t<n}_t.bitMask=t=>(Ode<<BigInt(t-1))-mv;const i6=t=>new Uint8Array(t),aO=t=>Uint8Array.from(t),Mde={bigint:t=>typeof t=="bigint",function:t=>typeof t=="function",boolean:t=>typeof t=="boolean",string:t=>typeof t=="string",stringOrUint8Array:t=>typeof t=="string"||Nw(t),isSafeInteger:t=>Number.isSafeInteger(t),array:t=>Array.isArray(t),field:(t,e)=>e.Fp.isValid(t),hash:t=>typeof t=="function"&&Number.isSafeInteger(t.outputLen)};_t.notImplemented=()=>{throw new Error("not implemented")},Object.defineProperty(zt,"__esModule",{value:!0}),zt.isNegativeLE=void 0,zt.mod=Ri,zt.pow=nF,zt.pow2=function(t,e,n){let r=t;for(;e-- >er;)r*=r,r%=n;return r},zt.invert=p1,zt.tonelliShanks=rF,zt.FpSqrt=uO,zt.validateField=function(t){const e=Rde.reduce((n,r)=>(n[r]="function",n),{ORDER:"bigint",MASK:"bigint",BYTES:"isSafeInteger",BITS:"isSafeInteger"});return(0,Mi.validateObject)(t,e)},zt.FpPow=dO,zt.FpInvertBatch=fO,zt.FpDiv=function(t,e,n){return t.mul(e,typeof n=="bigint"?p1(n,t.ORDER):t.inv(n))},zt.FpLegendre=hO,zt.FpIsSquare=function(t){const e=hO(t.ORDER);return n=>{const r=e(t,n);return t.eql(r,t.ZERO)||t.eql(r,t.ONE)}},zt.nLength=o6,zt.Field=function(t,e,n=!1,r={}){if(t<=er)throw new Error(`Expected Field ORDER > 0, got ${t}`);const{nBitLength:i,nByteLength:o}=o6(t,e);if(o>2048)throw new Error("Field lengths over 2048 bytes are not supported");const s=uO(t),a=Object.freeze({ORDER:t,BITS:i,BYTES:o,MASK:(0,Mi.bitMask)(i),ZERO:er,ONE:Zt,create:c=>Ri(c,t),isValid:c=>{if(typeof c!="bigint")throw new Error("Invalid field element: expected bigint, got "+typeof c);return er<=c&&c<t},is0:c=>c===er,isOdd:c=>(c&Zt)===Zt,neg:c=>Ri(-c,t),eql:(c,l)=>c===l,sqr:c=>Ri(c*c,t),add:(c,l)=>Ri(c+l,t),sub:(c,l)=>Ri(c-l,t),mul:(c,l)=>Ri(c*l,t),pow:(c,l)=>dO(a,c,l),div:(c,l)=>Ri(c*p1(l,t),t),sqrN:c=>c*c,addN:(c,l)=>c+l,subN:(c,l)=>c-l,mulN:(c,l)=>c*l,inv:c=>p1(c,t),sqrt:r.sqrt||(c=>s(a,c)),invertBatch:c=>fO(a,c),cmov:(c,l,u)=>u?l:c,toBytes:c=>n?(0,Mi.numberToBytesLE)(c,o):(0,Mi.numberToBytesBE)(c,o),fromBytes:c=>{if(c.length!==o)throw new Error(`Fp.fromBytes: expected ${o}, got ${c.length}`);return n?(0,Mi.bytesToNumberLE)(c):(0,Mi.bytesToNumberBE)(c)}});return Object.freeze(a)},zt.FpSqrtOdd=function(t,e){if(!t.isOdd)throw new Error("Field doesn't have isOdd");const n=t.sqrt(e);return t.isOdd(n)?n:t.neg(n)},zt.FpSqrtEven=function(t,e){if(!t.isOdd)throw new Error("Field doesn't have isOdd");const n=t.sqrt(e);return t.isOdd(n)?t.neg(n):n},zt.hashToPrivateScalar=function(t,e,n=!1){t=(0,Mi.ensureBytes)("privateHash",t);const r=t.length,i=o6(e).nByteLength+8;if(i<24||r<i||r>1024)throw new Error(`hashToPrivateScalar: expected ${i}-1024 bytes of input, got ${r}`);const o=n?(0,Mi.bytesToNumberLE)(t):(0,Mi.bytesToNumberBE)(t);return Ri(o,e-Zt)+Zt},zt.getFieldBytesLength=vS,zt.getMinHashLength=pO,zt.mapHashToField=function(t,e,n=!1){const r=t.length,i=vS(e),o=pO(e);if(r<16||r<o||r>1024)throw new Error(`expected ${o}-1024 bytes of input, got ${r}`);const s=Ri(n?(0,Mi.bytesToNumberBE)(t):(0,Mi.bytesToNumberLE)(t),e-Zt)+Zt;return n?(0,Mi.numberToBytesLE)(s,i):(0,Mi.numberToBytesBE)(s,i)};const Mi=_t,er=BigInt(0),Zt=BigInt(1),Cl=BigInt(2),Nde=BigInt(3),yS=BigInt(4),cO=BigInt(5),lO=BigInt(8);function Ri(t,e){const n=t%e;return n>=er?n:e+n}function nF(t,e,n){if(n<=er||e<er)throw new Error("Expected power/modulo > 0");if(n===Zt)return er;let r=Zt;for(;e>er;)e&Zt&&(r=r*t%n),t=t*t%n,e>>=Zt;return r}function p1(t,e){if(t===er||e<=er)throw new Error(`invert: expected positive integers, got n=${t} mod=${e}`);let n=Ri(t,e),r=e,i=er,o=Zt;for(;n!==er;){const s=r%n,a=i-o*(r/n);r=n,n=s,i=o,o=a}if(r!==Zt)throw new Error("invert: does not exist");return Ri(i,e)}function rF(t){const e=(t-Zt)/Cl;let n,r,i;for(n=t-Zt,r=0;n%Cl===er;n/=Cl,r++);for(i=Cl;i<t&&nF(i,e,t)!==t-Zt;i++);if(r===1){const s=(t+Zt)/yS;return function(a,c){const l=a.pow(c,s);if(!a.eql(a.sqr(l),c))throw new Error("Cannot find square root");return l}}const o=(n+Zt)/Cl;return function(s,a){if(s.pow(a,e)===s.neg(s.ONE))throw new Error("Cannot find square root");let c=r,l=s.pow(s.mul(s.ONE,i),n),u=s.pow(a,o),d=s.pow(a,n);for(;!s.eql(d,s.ONE);){if(s.eql(d,s.ZERO))return s.ZERO;let f=1;for(let g=s.sqr(d);f<c&&!s.eql(g,s.ONE);f++)g=s.sqr(g);const h=s.pow(l,Zt<<BigInt(c-f-1));l=s.sqr(h),u=s.mul(u,h),d=s.mul(d,l),c=f}return u}}function uO(t){if(t%yS===Nde){const e=(t+Zt)/yS;return function(n,r){const i=n.pow(r,e);if(!n.eql(n.sqr(i),r))throw new Error("Cannot find square root");return i}}if(t%lO===cO){const e=(t-cO)/lO;return function(n,r){const i=n.mul(r,Cl),o=n.pow(i,e),s=n.mul(r,o),a=n.mul(n.mul(s,Cl),o),c=n.mul(s,n.sub(a,n.ONE));if(!n.eql(n.sqr(c),r))throw new Error("Cannot find square root");return c}}return rF(t)}BigInt(9),BigInt(16);zt.isNegativeLE=(t,e)=>(Ri(t,e)&Zt)===Zt;const Rde=["create","isValid","is0","neg","inv","sqrt","sqr","eql","add","sub","mul","pow","div","addN","subN","mulN","sqrN"];function dO(t,e,n){if(n<er)throw new Error("Expected power > 0");if(n===er)return t.ONE;if(n===Zt)return e;let r=t.ONE,i=e;for(;n>er;)n&Zt&&(r=t.mul(r,i)),i=t.sqr(i),n>>=Zt;return r}function fO(t,e){const n=new Array(e.length),r=e.reduce((o,s,a)=>t.is0(s)?o:(n[a]=o,t.mul(o,s)),t.ONE),i=t.inv(r);return e.reduceRight((o,s,a)=>t.is0(s)?o:(n[a]=t.mul(o,n[a]),t.mul(o,s)),i),n}function hO(t){const e=(t-Zt)/Cl;return(n,r)=>n.pow(r,e)}function o6(t,e){const n=e!==void 0?e:t.toString(2).length;return{nBitLength:n,nByteLength:Math.ceil(n/8)}}function vS(t){if(typeof t!="bigint")throw new Error("field order must be bigint");const e=t.toString(2).length;return Math.ceil(e/8)}function pO(t){const e=vS(t);return e+Math.ceil(e/2)}Object.defineProperty(Gf,"__esModule",{value:!0}),Gf.wNAF=function(t,e){const n=(o,s)=>{const a=s.negate();return o?a:s},r=o=>{if(!Number.isSafeInteger(o)||o<=0||o>e)throw new Error(`Wrong window size=${o}, should be [1..${e}]`)},i=o=>(r(o),{windows:Math.ceil(e/o)+1,windowSize:2**(o-1)});return{constTimeNegate:n,unsafeLadder(o,s){let a=t.ZERO,c=o;for(;s>Lde;)s&s6&&(a=a.add(c)),c=c.double(),s>>=s6;return a},precomputeWindow(o,s){const{windows:a,windowSize:c}=i(s),l=[];let u=o,d=u;for(let f=0;f<a;f++){d=u,l.push(d);for(let h=1;h<c;h++)d=d.add(u),l.push(d);u=d.double()}return l},wNAF(o,s,a){const{windows:c,windowSize:l}=i(o);let u=t.ZERO,d=t.BASE;const f=BigInt(2**o-1),h=2**o,g=BigInt(o);for(let p=0;p<c;p++){const S=p*l;let y=Number(a&f);a>>=g,y>l&&(y-=h,a+=s6);const b=S,_=S+Math.abs(y)-1,N=p%2!=0,O=y<0;y===0?d=d.add(n(N,s[b])):u=u.add(n(O,s[_]))}return{p:u,f:d}},wNAFCached(o,s,a){const c=yO.get(o)||1;let l=a6.get(o);return l||(l=this.precomputeWindow(o,c),c!==1&&a6.set(o,a(l))),this.wNAF(c,l,s)},setWindowSize(o,s){r(s),yO.set(o,s),a6.delete(o)}}},Gf.pippenger=function(t,e,n,r){if(!Array.isArray(n)||!Array.isArray(r)||r.length!==n.length)throw new Error("arrays of points and scalars must have equal length");r.forEach((u,d)=>{if(!e.isValid(u))throw new Error(`wrong scalar at index ${d}`)}),n.forEach((u,d)=>{if(!(u instanceof t))throw new Error(`wrong point at index ${d}`)});const i=(0,mO.bitLen)(BigInt(n.length)),o=i>12?i-3:i>4?i-2:i?2:1,s=(1<<o)-1,a=new Array(s+1).fill(t.ZERO),c=Math.floor((e.BITS-1)/o)*o;let l=t.ZERO;for(let u=c;u>=0;u-=o){a.fill(t.ZERO);for(let f=0;f<r.length;f++){const h=r[f],g=Number(h>>BigInt(u)&BigInt(s));a[g]=a[g].add(n[f])}let d=t.ZERO;for(let f=a.length-1,h=t.ZERO;f>0;f--)h=h.add(a[f]),d=d.add(h);if(l=l.add(d),u!==0)for(let f=0;f<o;f++)l=l.double()}return l},Gf.validateBasic=function(t){return(0,gO.validateField)(t.Fp),(0,mO.validateObject)(t,{n:"bigint",h:"bigint",Gx:"field",Gy:"field"},{nBitLength:"isSafeInteger",nByteLength:"isSafeInteger"}),Object.freeze({...(0,gO.nLength)(t.n,t.nBitLength),...t,p:t.Fp.ORDER})};const gO=zt,mO=_t,Lde=BigInt(0),s6=BigInt(1),a6=new WeakMap,yO=new WeakMap;Object.defineProperty(gS,"__esModule",{value:!0}),gS.twistedEdwards=function(t){const e=function(w){const A=(0,c6.validateBasic)(w);return ii.validateObject(w,{hash:"function",a:"bigint",d:"bigint",randomBytes:"function"},{adjustScalarBytes:"function",domain:"function",uvRatio:"function",mapToCurve:"function"}),Object.freeze({...A})}(t),{Fp:n,n:r,prehash:i,hash:o,randomBytes:s,nByteLength:a,h:c}=e,l=g1<<BigInt(8*a)-oi,u=n.create,d=(0,vO.Field)(e.n,e.nBitLength),f=e.uvRatio||((w,A)=>{try{return{isValid:!0,value:n.sqrt(w*n.inv(A))}}catch{return{isValid:!1,value:Go}}}),h=e.adjustScalarBytes||(w=>w),g=e.domain||((w,A,v)=>{if((0,Ni.abool)("phflag",v),A.length||v)throw new Error("Contexts/pre-hash are not supported");return w});function p(w,A){ii.aInRange("coordinate "+w,A,Go,l)}function S(w){if(!(w instanceof _))throw new Error("ExtendedPoint expected")}const y=(0,Ni.memoized)((w,A)=>{const{ex:v,ey:I,ez:M}=w,E=w.is0();A==null&&(A=E?$de:n.inv(M));const C=u(v*A),x=u(I*A),R=u(M*A);if(E)return{x:Go,y:oi};if(R!==oi)throw new Error("invZ was invalid");return{x:C,y:x}}),b=(0,Ni.memoized)(w=>{const{a:A,d:v}=e;if(w.is0())throw new Error("bad point: ZERO");const{ex:I,ey:M,ez:E,et:C}=w,x=u(I*I),R=u(M*M),D=u(E*E),B=u(D*D),z=u(x*A);if(u(D*u(z+R))!==u(B+u(v*u(x*R))))throw new Error("bad point: equation left != right (1)");if(u(I*M)!==u(E*C))throw new Error("bad point: equation left != right (2)");return!0});class _{constructor(A,v,I,M){this.ex=A,this.ey=v,this.ez=I,this.et=M,p("x",A),p("y",v),p("z",I),p("t",M),Object.freeze(this)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static fromAffine(A){if(A instanceof _)throw new Error("extended point not allowed");const{x:v,y:I}=A||{};return p("x",v),p("y",I),new _(v,I,oi,u(v*I))}static normalizeZ(A){const v=n.invertBatch(A.map(I=>I.ez));return A.map((I,M)=>I.toAffine(v[M])).map(_.fromAffine)}static msm(A,v){return(0,c6.pippenger)(_,d,A,v)}_setWindowSize(A){$.setWindowSize(this,A)}assertValidity(){b(this)}equals(A){S(A);const{ex:v,ey:I,ez:M}=this,{ex:E,ey:C,ez:x}=A,R=u(v*x),D=u(E*M),B=u(I*x),z=u(C*M);return R===D&&B===z}is0(){return this.equals(_.ZERO)}negate(){return new _(u(-this.ex),this.ey,this.ez,u(-this.et))}double(){const{a:A}=e,{ex:v,ey:I,ez:M}=this,E=u(v*v),C=u(I*I),x=u(g1*u(M*M)),R=u(A*E),D=v+I,B=u(u(D*D)-E-C),z=R+C,H=z-x,W=R-C,G=u(B*H),V=u(z*W),J=u(B*W),Y=u(H*z);return new _(G,V,Y,J)}add(A){S(A);const{a:v,d:I}=e,{ex:M,ey:E,ez:C,et:x}=this,{ex:R,ey:D,ez:B,et:z}=A;if(v===BigInt(-1)){const he=u((E-M)*(D+R)),pe=u((E+M)*(D-R)),Ee=u(pe-he);if(Ee===Go)return this.double();const Le=u(C*g1*z),De=u(x*g1*B),we=De+Le,Je=pe+he,He=De-Le,Xe=u(we*Ee),ze=u(Je*He),q=u(we*He),F=u(Ee*Je);return new _(Xe,ze,F,q)}const H=u(M*R),W=u(E*D),G=u(x*I*z),V=u(C*B),J=u((M+E)*(R+D)-H-W),Y=V-G,ee=V+G,ne=u(W-v*H),K=u(J*Y),Q=u(ee*ne),ie=u(J*ne),ce=u(Y*ee);return new _(K,Q,ce,ie)}subtract(A){return this.add(A.negate())}wNAF(A){return $.wNAFCached(this,A,_.normalizeZ)}multiply(A){const v=A;ii.aInRange("scalar",v,oi,r);const{p:I,f:M}=this.wNAF(v);return _.normalizeZ([I,M])[0]}multiplyUnsafe(A){const v=A;return ii.aInRange("scalar",v,Go,r),v===Go?O:this.equals(O)||v===oi?this:this.equals(N)?this.wNAF(v).p:$.unsafeLadder(this,v)}isSmallOrder(){return this.multiplyUnsafe(c).is0()}isTorsionFree(){return $.unsafeLadder(this,r).is0()}toAffine(A){return y(this,A)}clearCofactor(){const{h:A}=e;return A===oi?this:this.multiplyUnsafe(A)}static fromHex(A,v=!1){const{d:I,a:M}=e,E=n.BYTES;A=(0,Ni.ensureBytes)("pointHex",A,E),(0,Ni.abool)("zip215",v);const C=A.slice(),x=A[E-1];C[E-1]=-129&x;const R=ii.bytesToNumberLE(C),D=v?l:n.ORDER;ii.aInRange("pointHex.y",R,Go,D);const B=u(R*R),z=u(B-oi),H=u(I*B-M);let{isValid:W,value:G}=f(z,H);if(!W)throw new Error("Point.fromHex: invalid y coordinate");const V=(G&oi)===oi,J=(128&x)!=0;if(!v&&G===Go&&J)throw new Error("Point.fromHex: x=0 and x_0=1");return J!==V&&(G=u(-G)),_.fromAffine({x:G,y:R})}static fromPrivateKey(A){return T(A).point}toRawBytes(){const{x:A,y:v}=this.toAffine(),I=ii.numberToBytesLE(v,n.BYTES);return I[I.length-1]|=A&oi?128:0,I}toHex(){return ii.bytesToHex(this.toRawBytes())}}_.BASE=new _(e.Gx,e.Gy,oi,u(e.Gx*e.Gy)),_.ZERO=new _(Go,oi,oi,Go);const{BASE:N,ZERO:O}=_,$=(0,c6.wNAF)(_,8*a);function j(w){return(0,vO.mod)(w,r)}function k(w){return j(ii.bytesToNumberLE(w))}function T(w){const A=a;w=(0,Ni.ensureBytes)("private key",w,A);const v=(0,Ni.ensureBytes)("hashed private key",o(w),2*A),I=h(v.slice(0,A)),M=v.slice(A,2*A),E=k(I),C=N.multiply(E),x=C.toRawBytes();return{head:I,prefix:M,scalar:E,point:C,pointBytes:x}}function L(w=new Uint8Array,...A){const v=ii.concatBytes(...A);return k(o(g(v,(0,Ni.ensureBytes)("context",w),!!i)))}const P=Bde;return N._setWindowSize(8),{CURVE:e,getPublicKey:function(w){return T(w).pointBytes},sign:function(w,A,v={}){w=(0,Ni.ensureBytes)("message",w),i&&(w=i(w));const{prefix:I,scalar:M,pointBytes:E}=T(A),C=L(v.context,I,w),x=N.multiply(C).toRawBytes(),R=j(C+L(v.context,x,E,w)*M);ii.aInRange("signature.s",R,Go,r);const D=ii.concatBytes(x,ii.numberToBytesLE(R,n.BYTES));return(0,Ni.ensureBytes)("result",D,2*a)},verify:function(w,A,v,I=P){const{context:M,zip215:E}=I,C=n.BYTES;w=(0,Ni.ensureBytes)("signature",w,2*C),A=(0,Ni.ensureBytes)("message",A),E!==void 0&&(0,Ni.abool)("zip215",E),i&&(A=i(A));const x=ii.bytesToNumberLE(w.slice(C,2*C));let R,D,B;try{R=_.fromHex(v,E),D=_.fromHex(w.slice(0,C),E),B=N.multiplyUnsafe(x)}catch{return!1}if(!E&&R.isSmallOrder())return!1;const z=L(M,D.toRawBytes(),R.toRawBytes(),A);return D.add(R.multiplyUnsafe(z)).subtract(B).clearCofactor().equals(_.ZERO)},ExtendedPoint:_,utils:{getExtendedPublicKey:T,randomPrivateKey:()=>s(n.BYTES),precompute:(w=8,A=_.BASE)=>(A._setWindowSize(w),A.multiply(BigInt(3)),A)}}};const c6=Gf,vO=zt,ii=_t,Ni=_t,Go=BigInt(0),oi=BigInt(1),g1=BigInt(2),$de=BigInt(8),Bde={zip215:!0};var gl={};Object.defineProperty(gl,"__esModule",{value:!0}),gl.expand_message_xmd=iF,gl.expand_message_xof=oF,gl.hash_to_field=l6,gl.isogenyMap=function(t,e){const n=e.map(r=>Array.from(r).reverse());return(r,i)=>{const[o,s,a,c]=n.map(l=>l.reduce((u,d)=>t.add(t.mul(u,r),d)));return r=t.div(o,s),i=t.mul(i,t.div(a,c)),{x:r,y:i}}},gl.createHasher=function(t,e,n){if(typeof e!="function")throw new Error("mapToCurve() must be defined");return{hashToCurve(r,i){const o=l6(r,2,{...n,DST:n.DST,...i}),s=t.fromAffine(e(o[0])),a=t.fromAffine(e(o[1])),c=s.add(a).clearCofactor();return c.assertValidity(),c},encodeToCurve(r,i){const o=l6(r,1,{...n,DST:n.encodeDST,...i}),s=t.fromAffine(e(o[0])).clearCofactor();return s.assertValidity(),s},mapToCurve(r){if(!Array.isArray(r))throw new Error("mapToCurve: expected array of bigints");for(const o of r)if(typeof o!="bigint")throw new Error(`mapToCurve: expected array of bigints, got ${o} in array`);const i=t.fromAffine(e(r)).clearCofactor();return i.assertValidity(),i}}};const Dde=zt,Or=_t,jde=Or.bytesToNumberBE;function ml(t,e){if(zg(t),zg(e),t<0||t>=1<<8*e)throw new Error(`bad I2OSP call: value=${t} length=${e}`);const n=Array.from({length:e}).fill(0);for(let r=e-1;r>=0;r--)n[r]=255&t,t>>>=8;return new Uint8Array(n)}function Fde(t,e){const n=new Uint8Array(t.length);for(let r=0;r<t.length;r++)n[r]=t[r]^e[r];return n}function zg(t){if(!Number.isSafeInteger(t))throw new Error("number expected")}function iF(t,e,n,r){(0,Or.abytes)(t),(0,Or.abytes)(e),zg(n),e.length>255&&(e=r((0,Or.concatBytes)((0,Or.utf8ToBytes)("H2C-OVERSIZE-DST-"),e)));const{outputLen:i,blockLen:o}=r,s=Math.ceil(n/i);if(n>65535||s>255)throw new Error("expand_message_xmd: invalid lenInBytes");const a=(0,Or.concatBytes)(e,ml(e.length,1)),c=ml(0,o),l=ml(n,2),u=new Array(s),d=r((0,Or.concatBytes)(c,t,l,ml(0,1),a));u[0]=r((0,Or.concatBytes)(d,ml(1,1),a));for(let f=1;f<=s;f++){const h=[Fde(d,u[f-1]),ml(f+1,1),a];u[f]=r((0,Or.concatBytes)(...h))}return(0,Or.concatBytes)(...u).slice(0,n)}function oF(t,e,n,r,i){if((0,Or.abytes)(t),(0,Or.abytes)(e),zg(n),e.length>255){const o=Math.ceil(2*r/8);e=i.create({dkLen:o}).update((0,Or.utf8ToBytes)("H2C-OVERSIZE-DST-")).update(e).digest()}if(n>65535||e.length>255)throw new Error("expand_message_xof: invalid lenInBytes");return i.create({dkLen:n}).update(t).update(ml(n,2)).update(e).update(ml(e.length,1)).digest()}function l6(t,e,n){(0,Or.validateObject)(n,{DST:"stringOrUint8Array",p:"bigint",m:"isSafeInteger",k:"isSafeInteger",hash:"hash"});const{p:r,k:i,m:o,hash:s,expand:a,DST:c}=n;(0,Or.abytes)(t),zg(e);const l=typeof c=="string"?(0,Or.utf8ToBytes)(c):c,u=r.toString(2).length,d=Math.ceil((u+i)/8),f=e*o*d;let h;if(a==="xmd")h=iF(t,l,f,s);else if(a==="xof")h=oF(t,l,f,i,s);else{if(a!=="_internal_pass")throw new Error('expand must be "xmd" or "xof"');h=t}const g=new Array(e);for(let p=0;p<e;p++){const S=new Array(o);for(let y=0;y<o;y++){const b=d*(y+p*o),_=h.subarray(b,b+d);S[y]=(0,Dde.mod)(jde(_),r)}g[p]=S}return g}var wS={};Object.defineProperty(wS,"__esModule",{value:!0}),wS.montgomery=function(t){const e=function(p){return(0,el.validateObject)(p,{a:"bigint"},{montgomeryBits:"isSafeInteger",nByteLength:"isSafeInteger",adjustScalarBytes:"function",domain:"function",powPminus2:"function",Gu:"bigint"}),Object.freeze({...p})}(t),{P:n}=e,r=p=>(0,wO.mod)(p,n),i=e.montgomeryBits,o=Math.ceil(i/8),s=e.nByteLength,a=e.adjustScalarBytes||(p=>p),c=e.powPminus2||(p=>(0,wO.pow)(p,n-BigInt(2),n));function l(p,S,y){const b=r(p*(S-y));return[S=r(S-b),y=r(y+b)]}const u=(e.a-BigInt(2))/BigInt(4);function d(p){return(0,el.numberToBytesLE)(r(p),o)}function f(p,S){const y=function(N){const O=(0,el.ensureBytes)("u coordinate",N,o);return s===32&&(O[31]&=127),(0,el.bytesToNumberLE)(O)}(S),b=function(N){const O=(0,el.ensureBytes)("scalar",N),$=O.length;if($!==o&&$!==s)throw new Error(`Expected ${o} or ${s} bytes, got ${$}`);return(0,el.bytesToNumberLE)(a(O))}(p),_=function(N,O){(0,el.aInRange)("u",N,wf,n),(0,el.aInRange)("scalar",O,wf,n);const $=O,j=N;let k,T=u6,L=wf,P=N,m=u6,w=wf;for(let v=BigInt(i-1);v>=wf;v--){const I=$>>v&u6;w^=I,k=l(w,T,P),T=k[0],P=k[1],k=l(w,L,m),L=k[0],m=k[1],w=I;const M=T+L,E=r(M*M),C=T-L,x=r(C*C),R=E-x,D=P+m,B=r((P-m)*M),z=r(D*C),H=B+z,W=B-z;P=r(H*H),m=r(j*r(W*W)),T=r(E*x),L=r(R*(E+r(u*R)))}k=l(w,T,P),T=k[0],P=k[1],k=l(w,L,m),L=k[0],m=k[1];const A=c(L);return r(T*A)}(y,b);if(_===wf)throw new Error("Invalid private or public key received");return d(_)}const h=d(e.Gu);function g(p){return f(p,h)}return{scalarMult:f,scalarMultBase:g,getSharedSecret:(p,S)=>f(p,S),getPublicKey:p=>g(p),utils:{randomPrivateKey:()=>e.randomBytes(e.nByteLength)},GuBytes:h}};const wO=zt,el=_t,wf=BigInt(0),u6=BigInt(1);(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.hash_to_ristretto255=t.hashToRistretto255=t.RistrettoPoint=t.encodeToCurve=t.hashToCurve=t.edwardsToMontgomery=t.x25519=t.ed25519ph=t.ed25519ctx=t.ed25519=t.ED25519_TORSION_SUBGROUP=void 0,t.edwardsToMontgomeryPub=$,t.edwardsToMontgomeryPriv=function(z){const H=N.hash(z.subarray(0,32));return N.adjustScalarBytes(H).subarray(0,32)};const e=Qn,n=$c,r=gS,i=gl,o=zt,s=wS,a=_t,c=BigInt("57896044618658097711785492504343953926634992332820282019728792003956564819949"),l=BigInt("19681161376707505956807079304988542015446066515923890162744021073123829784752"),u=BigInt(0),d=BigInt(1),f=BigInt(2),h=BigInt(3),g=BigInt(5),p=BigInt(8);function S(z){const H=BigInt(10),W=BigInt(20),G=BigInt(40),V=BigInt(80),J=c,Y=z*z%J*z%J,ee=(0,o.pow2)(Y,f,J)*Y%J,ne=(0,o.pow2)(ee,d,J)*z%J,K=(0,o.pow2)(ne,g,J)*ne%J,Q=(0,o.pow2)(K,H,J)*K%J,ie=(0,o.pow2)(Q,W,J)*Q%J,ce=(0,o.pow2)(ie,G,J)*ie%J,he=(0,o.pow2)(ce,V,J)*ce%J,pe=(0,o.pow2)(he,V,J)*ce%J,Ee=(0,o.pow2)(pe,H,J)*K%J;return{pow_p_5_8:(0,o.pow2)(Ee,f,J)*z%J,b2:Y}}function y(z){return z[0]&=248,z[31]&=127,z[31]|=64,z}function b(z,H){const W=c,G=(0,o.mod)(H*H*H,W),V=S(z*(0,o.mod)(G*G*H,W)).pow_p_5_8;let J=(0,o.mod)(z*G*V,W);const Y=(0,o.mod)(H*J*J,W),ee=J,ne=(0,o.mod)(J*l,W),K=Y===z,Q=Y===(0,o.mod)(-z,W),ie=Y===(0,o.mod)(-z*l,W);return K&&(J=ee),(Q||ie)&&(J=ne),(0,o.isNegativeLE)(J,W)&&(J=(0,o.mod)(-J,W)),{isValid:K||Q,value:J}}t.ED25519_TORSION_SUBGROUP=["0100000000000000000000000000000000000000000000000000000000000000","c7176a703d4dd84fba3c0b760d10670f2a2053fa2c39ccc64ec7fd7792ac037a","0000000000000000000000000000000000000000000000000000000000000080","26e8958fc2b227b045c3f489f2ef98f0d5dfac05d3c63339b13802886d53fc05","ecffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff7f","26e8958fc2b227b045c3f489f2ef98f0d5dfac05d3c63339b13802886d53fc85","0000000000000000000000000000000000000000000000000000000000000000","c7176a703d4dd84fba3c0b760d10670f2a2053fa2c39ccc64ec7fd7792ac03fa"];const _=(0,o.Field)(c,void 0,!0),N={a:BigInt(-1),d:BigInt("37095705934669439343138083508754565189542113879843219016388785533085940283555"),Fp:_,n:BigInt("7237005577332262213973186563042994240857116359379907606001950938285454250989"),h:p,Gx:BigInt("15112221349535400772501151409588531511454012693041857206046113283949847762202"),Gy:BigInt("46316835694926478169428394003475163141307993866256225615783033603165251855960"),hash:e.sha512,randomBytes:n.randomBytes,adjustScalarBytes:y,uvRatio:b};function O(z,H,W){if(H.length>255)throw new Error("Context is too big");return(0,n.concatBytes)((0,n.utf8ToBytes)("SigEd25519 no Ed25519 collisions"),new Uint8Array([W?1:0,H.length]),H,z)}function $(z){const{y:H}=t.ed25519.ExtendedPoint.fromHex(z),W=BigInt(1);return _.toBytes(_.create((W+H)*_.inv(W-H)))}t.ed25519=(0,r.twistedEdwards)(N),t.ed25519ctx=(0,r.twistedEdwards)({...N,domain:O}),t.ed25519ph=(0,r.twistedEdwards)(Object.assign({},N,{domain:O,prehash:e.sha512})),t.x25519=(0,s.montgomery)({P:c,a:BigInt(486662),montgomeryBits:255,nByteLength:32,Gu:BigInt(9),powPminus2:z=>{const H=c,{pow_p_5_8:W,b2:G}=S(z);return(0,o.mod)((0,o.pow2)(W,h,H)*G,H)},adjustScalarBytes:y,randomBytes:n.randomBytes}),t.edwardsToMontgomery=$;const j=(_.ORDER+h)/p,k=_.pow(f,j),T=_.sqrt(_.neg(_.ONE)),L=(0,o.FpSqrtEven)(_,_.neg(BigInt(486664)));function P(z){const{xMn:H,xMd:W,yMn:G,yMd:V}=function(ce){const he=(_.ORDER-g)/p,pe=BigInt(486662);let Ee=_.sqr(ce);Ee=_.mul(Ee,f);let Le=_.add(Ee,_.ONE),De=_.neg(pe),we=_.sqr(Le),Je=_.mul(we,Le),He=_.mul(Ee,pe);He=_.mul(He,De),He=_.add(He,we),He=_.mul(He,De);let Xe=_.sqr(Je);we=_.sqr(Xe),Xe=_.mul(Xe,Je),Xe=_.mul(Xe,He),we=_.mul(we,Xe);let ze=_.pow(we,he);ze=_.mul(ze,Xe);let q=_.mul(ze,T);we=_.sqr(ze),we=_.mul(we,Je);let F=_.eql(we,He),U=_.cmov(q,ze,F),Z=_.mul(De,Ee),se=_.mul(ze,ce);se=_.mul(se,k);let fe=_.mul(se,T),ge=_.mul(He,Ee);we=_.sqr(se),we=_.mul(we,Je);let je=_.eql(we,ge),yt=_.cmov(fe,se,je);we=_.sqr(U),we=_.mul(we,Je);let Ke=_.eql(we,He),at=_.cmov(Z,De,Ke),ft=_.cmov(yt,U,Ke),vt=_.isOdd(ft);return ft=_.cmov(ft,_.neg(ft),Ke!==vt),{xMn:at,xMd:Le,yMn:ft,yMd:d}}(z);let J=_.mul(H,V);J=_.mul(J,L);let Y=_.mul(W,G),ee=_.sub(H,W),ne=_.add(H,W),K=_.mul(Y,ne),Q=_.eql(K,_.ZERO);J=_.cmov(J,_.ZERO,Q),Y=_.cmov(Y,_.ONE,Q),ee=_.cmov(ee,_.ONE,Q),ne=_.cmov(ne,_.ONE,Q);const ie=_.invertBatch([Y,ne]);return{x:_.mul(J,ie[0]),y:_.mul(ee,ie[1])}}const m=(0,i.createHasher)(t.ed25519.ExtendedPoint,z=>P(z[0]),{DST:"edwards25519_XMD:SHA-512_ELL2_RO_",encodeDST:"edwards25519_XMD:SHA-512_ELL2_NU_",p:_.ORDER,m:1,k:128,expand:"xmd",hash:e.sha512});function w(z){if(!(z instanceof B))throw new Error("RistrettoPoint expected")}t.hashToCurve=m.hashToCurve,t.encodeToCurve=m.encodeToCurve;const A=l,v=BigInt("25063068953384623474111414158702152701244531502492656460079210482610430750235"),I=BigInt("54469307008909316920995813868745141605393597292927456921205312896311721017578"),M=BigInt("1159843021668779879193775521855586647937357759715417654439879720876111806838"),E=BigInt("40440834346308536858101042469323190826248399146238708352240133220865137265952"),C=z=>b(d,z),x=BigInt("0x7fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff"),R=z=>t.ed25519.CURVE.Fp.create((0,a.bytesToNumberLE)(z)&x);function D(z){const{d:H}=t.ed25519.CURVE,W=t.ed25519.CURVE.Fp.ORDER,G=t.ed25519.CURVE.Fp.create,V=G(A*z*z),J=G((V+d)*M);let Y=BigInt(-1);const ee=G((Y-H*V)*G(V+H));let{isValid:ne,value:K}=b(J,ee),Q=G(K*z);(0,o.isNegativeLE)(Q,W)||(Q=G(-Q)),ne||(K=Q),ne||(Y=V);const ie=G(Y*(V-d)*E-ee),ce=K*K,he=G((K+K)*ee),pe=G(ie*v),Ee=G(d-ce),Le=G(d+ce);return new t.ed25519.ExtendedPoint(G(he*Le),G(Ee*pe),G(pe*Le),G(he*Ee))}class B{constructor(H){this.ep=H}static fromAffine(H){return new B(t.ed25519.ExtendedPoint.fromAffine(H))}static hashToCurve(H){H=(0,a.ensureBytes)("ristrettoHash",H,64);const W=D(R(H.slice(0,32))),G=D(R(H.slice(32,64)));return new B(W.add(G))}static fromHex(H){H=(0,a.ensureBytes)("ristrettoHex",H,32);const{a:W,d:G}=t.ed25519.CURVE,V=t.ed25519.CURVE.Fp.ORDER,J=t.ed25519.CURVE.Fp.create,Y="RistrettoPoint.fromHex: the hex is not valid encoding of RistrettoPoint",ee=R(H);if(!(0,a.equalBytes)((0,a.numberToBytesLE)(ee,32),H)||(0,o.isNegativeLE)(ee,V))throw new Error(Y);const ne=J(ee*ee),K=J(d+W*ne),Q=J(d-W*ne),ie=J(K*K),ce=J(Q*Q),he=J(W*G*ie-ce),{isValid:pe,value:Ee}=C(J(he*ce)),Le=J(Ee*Q),De=J(Ee*Le*he);let we=J((ee+ee)*Le);(0,o.isNegativeLE)(we,V)&&(we=J(-we));const Je=J(K*De),He=J(we*Je);if(!pe||(0,o.isNegativeLE)(He,V)||Je===u)throw new Error(Y);return new B(new t.ed25519.ExtendedPoint(we,Je,d,He))}toRawBytes(){let{ex:H,ey:W,ez:G,et:V}=this.ep;const J=t.ed25519.CURVE.Fp.ORDER,Y=t.ed25519.CURVE.Fp.create,ee=Y(Y(G+W)*Y(G-W)),ne=Y(H*W),K=Y(ne*ne),{value:Q}=C(Y(ee*K)),ie=Y(Q*ee),ce=Y(Q*ne),he=Y(ie*ce*V);let pe;if((0,o.isNegativeLE)(V*he,J)){let Le=Y(W*A),De=Y(H*A);H=Le,W=De,pe=Y(ie*I)}else pe=ce;(0,o.isNegativeLE)(H*he,J)&&(W=Y(-W));let Ee=Y((G-W)*pe);return(0,o.isNegativeLE)(Ee,J)&&(Ee=Y(-Ee)),(0,a.numberToBytesLE)(Ee,32)}toHex(){return(0,a.bytesToHex)(this.toRawBytes())}toString(){return this.toHex()}equals(H){w(H);const{ex:W,ey:G}=this.ep,{ex:V,ey:J}=H.ep,Y=t.ed25519.CURVE.Fp.create,ee=Y(W*J)===Y(G*V),ne=Y(G*J)===Y(W*V);return ee||ne}add(H){return w(H),new B(this.ep.add(H.ep))}subtract(H){return w(H),new B(this.ep.subtract(H.ep))}multiply(H){return new B(this.ep.multiply(H))}multiplyUnsafe(H){return new B(this.ep.multiplyUnsafe(H))}double(){return new B(this.ep.double())}negate(){return new B(this.ep.negate())}}t.RistrettoPoint=(B.BASE||(B.BASE=new B(t.ed25519.ExtendedPoint.BASE)),B.ZERO||(B.ZERO=new B(t.ed25519.ExtendedPoint.ZERO)),B),t.hashToRistretto255=(z,H)=>{const W=H.DST,G=typeof W=="string"?(0,n.utf8ToBytes)(W):W,V=(0,i.expand_message_xmd)(z,G,64,e.sha512);return B.hashToCurve(V)},t.hash_to_ristretto255=t.hashToRistretto255})(Ij);var sF={},sc={};Object.defineProperty(sc,"__esModule",{value:!0}),sc.sha224=sc.sha256=sc.SHA256=void 0;const d6=oc,po=$c,Ude=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),tl=new Uint32Array([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),nl=new Uint32Array(64);class SA extends d6.HashMD{constructor(){super(64,32,8,!1),this.A=0|tl[0],this.B=0|tl[1],this.C=0|tl[2],this.D=0|tl[3],this.E=0|tl[4],this.F=0|tl[5],this.G=0|tl[6],this.H=0|tl[7]}get(){const{A:e,B:n,C:r,D:i,E:o,F:s,G:a,H:c}=this;return[e,n,r,i,o,s,a,c]}set(e,n,r,i,o,s,a,c){this.A=0|e,this.B=0|n,this.C=0|r,this.D=0|i,this.E=0|o,this.F=0|s,this.G=0|a,this.H=0|c}process(e,n){for(let d=0;d<16;d++,n+=4)nl[d]=e.getUint32(n,!1);for(let d=16;d<64;d++){const f=nl[d-15],h=nl[d-2],g=(0,po.rotr)(f,7)^(0,po.rotr)(f,18)^f>>>3,p=(0,po.rotr)(h,17)^(0,po.rotr)(h,19)^h>>>10;nl[d]=p+nl[d-7]+g+nl[d-16]|0}let{A:r,B:i,C:o,D:s,E:a,F:c,G:l,H:u}=this;for(let d=0;d<64;d++){const f=u+((0,po.rotr)(a,6)^(0,po.rotr)(a,11)^(0,po.rotr)(a,25))+(0,d6.Chi)(a,c,l)+Ude[d]+nl[d]|0,h=((0,po.rotr)(r,2)^(0,po.rotr)(r,13)^(0,po.rotr)(r,22))+(0,d6.Maj)(r,i,o)|0;u=l,l=c,c=a,a=s+f|0,s=o,o=i,i=r,r=f+h|0}r=r+this.A|0,i=i+this.B|0,o=o+this.C|0,s=s+this.D|0,a=a+this.E|0,c=c+this.F|0,l=l+this.G|0,u=u+this.H|0,this.set(r,i,o,s,a,c,l,u)}roundClean(){nl.fill(0)}destroy(){this.set(0,0,0,0,0,0,0,0),this.buffer.fill(0)}}sc.SHA256=SA;class zde extends SA{constructor(){super(),this.A=-1056596264,this.B=914150663,this.C=812702999,this.D=-150054599,this.E=-4191439,this.F=1750603025,this.G=1694076839,this.H=-1090891868,this.outputLen=28}}sc.sha256=(0,po.wrapConstructor)(()=>new SA),sc.sha224=(0,po.wrapConstructor)(()=>new zde);var vv={},_A={};(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.hmac=t.HMAC=void 0;const e=Bi,n=$c;class r extends n.Hash{constructor(o,s){super(),this.finished=!1,this.destroyed=!1,(0,e.hash)(o);const a=(0,n.toBytes)(s);if(this.iHash=o.create(),typeof this.iHash.update!="function")throw new Error("Expected instance of class which extends utils.Hash");this.blockLen=this.iHash.blockLen,this.outputLen=this.iHash.outputLen;const c=this.blockLen,l=new Uint8Array(c);l.set(a.length>c?o.create().update(a).digest():a);for(let u=0;u<l.length;u++)l[u]^=54;this.iHash.update(l),this.oHash=o.create();for(let u=0;u<l.length;u++)l[u]^=106;this.oHash.update(l),l.fill(0)}update(o){return(0,e.exists)(this),this.iHash.update(o),this}digestInto(o){(0,e.exists)(this),(0,e.bytes)(o,this.outputLen),this.finished=!0,this.iHash.digestInto(o),this.oHash.update(o),this.oHash.digestInto(o),this.destroy()}digest(){const o=new Uint8Array(this.oHash.outputLen);return this.digestInto(o),o}_cloneInto(o){o||(o=Object.create(Object.getPrototypeOf(this),{}));const{oHash:s,iHash:a,finished:c,destroyed:l,blockLen:u,outputLen:d}=this;return o.finished=c,o.destroyed=l,o.blockLen=u,o.outputLen=d,o.oHash=s._cloneInto(o.oHash),o.iHash=a._cloneInto(o.iHash),o}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}}t.HMAC=r,t.hmac=(i,o,s)=>new r(i,o).update(s).digest(),t.hmac.create=(i,o)=>new r(i,o)})(_A);var CA={};(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.DER=void 0,t.weierstrassPoints=h,t.weierstrass=function(p){const S=function(z){const H=(0,e.validateBasic)(z);return r.validateObject(H,{hash:"hash",hmac:"function",randomBytes:"function"},{bits2int:"function",bits2int_modN:"function",lowS:"boolean"}),Object.freeze({lowS:!0,...H})}(p),{Fp:y,n:b}=S,_=y.BYTES+1,N=2*y.BYTES+1;function O(z){return n.mod(z,b)}function $(z){return n.invert(z,b)}const{ProjectivePoint:j,normPrivateKeyToScalar:k,weierstrassEquation:T,isWithinCurveOrder:L}=h({...S,toBytes(z,H,W){const G=H.toAffine(),V=y.toBytes(G.x),J=r.concatBytes;return(0,i.abool)("isCompressed",W),W?J(Uint8Array.from([H.hasEvenY()?2:3]),V):J(Uint8Array.from([4]),V,y.toBytes(G.y))},fromBytes(z){const H=z.length,W=z[0],G=z.subarray(1);if(H!==_||W!==2&&W!==3){if(H===N&&W===4)return{x:y.fromBytes(G.subarray(0,y.BYTES)),y:y.fromBytes(G.subarray(y.BYTES,2*y.BYTES))};throw new Error(`Point of length ${H} was invalid. Expected ${_} compressed bytes or ${N} uncompressed bytes`)}{const V=r.bytesToNumberBE(G);if(!r.inRange(V,l,y.ORDER))throw new Error("Point is not on curve");const J=T(V);let Y;try{Y=y.sqrt(J)}catch(ee){const ne=ee instanceof Error?": "+ee.message:"";throw new Error("Point is not on curve"+ne)}return(1&W)==1!=((Y&l)===l)&&(Y=y.neg(Y)),{x:V,y:Y}}}}),P=z=>r.bytesToHex(r.numberToBytesBE(z,S.nByteLength));function m(z){return z>b>>l}const w=(z,H,W)=>r.bytesToNumberBE(z.slice(H,W));class A{constructor(H,W,G){this.r=H,this.s=W,this.recovery=G,this.assertValidity()}static fromCompact(H){const W=S.nByteLength;return H=(0,i.ensureBytes)("compactSignature",H,2*W),new A(w(H,0,W),w(H,W,2*W))}static fromDER(H){const{r:W,s:G}=t.DER.toSig((0,i.ensureBytes)("DER",H));return new A(W,G)}assertValidity(){r.aInRange("r",this.r,l,b),r.aInRange("s",this.s,l,b)}addRecoveryBit(H){return new A(this.r,this.s,H)}recoverPublicKey(H){const{r:W,s:G,recovery:V}=this,J=E((0,i.ensureBytes)("msgHash",H));if(V==null||![0,1,2,3].includes(V))throw new Error("recovery id invalid");const Y=V===2||V===3?W+S.n:W;if(Y>=y.ORDER)throw new Error("recovery id 2 or 3 invalid");const ee=1&V?"03":"02",ne=j.fromHex(ee+P(Y)),K=$(Y),Q=O(-J*K),ie=O(G*K),ce=j.BASE.multiplyAndAddUnsafe(ne,Q,ie);if(!ce)throw new Error("point at infinify");return ce.assertValidity(),ce}hasHighS(){return m(this.s)}normalizeS(){return this.hasHighS()?new A(this.r,O(-this.s),this.recovery):this}toDERRawBytes(){return r.hexToBytes(this.toDERHex())}toDERHex(){return t.DER.hexFromSig({r:this.r,s:this.s})}toCompactRawBytes(){return r.hexToBytes(this.toCompactHex())}toCompactHex(){return P(this.r)+P(this.s)}}const v={isValidPrivateKey(z){try{return k(z),!0}catch{return!1}},normPrivateKeyToScalar:k,randomPrivateKey:()=>{const z=n.getMinHashLength(S.n);return n.mapHashToField(S.randomBytes(z),S.n)},precompute:(z=8,H=j.BASE)=>(H._setWindowSize(z),H.multiply(BigInt(3)),H)};function I(z){const H=r.isBytes(z),W=typeof z=="string",G=(H||W)&&z.length;return H?G===_||G===N:W?G===2*_||G===2*N:z instanceof j}const M=S.bits2int||function(z){const H=r.bytesToNumberBE(z),W=8*z.length-S.nBitLength;return W>0?H>>BigInt(W):H},E=S.bits2int_modN||function(z){return O(M(z))},C=r.bitMask(S.nBitLength);function x(z){return r.aInRange(`num < 2^${S.nBitLength}`,z,c,C),r.numberToBytesBE(z,S.nByteLength)}function R(z,H,W=D){if(["recovered","canonical"].some(he=>he in W))throw new Error("sign() legacy options not supported");const{hash:G,randomBytes:V}=S;let{lowS:J,prehash:Y,extraEntropy:ee}=W;J==null&&(J=!0),z=(0,i.ensureBytes)("msgHash",z),o(W),Y&&(z=(0,i.ensureBytes)("prehashed msgHash",G(z)));const ne=E(z),K=k(H),Q=[x(K),x(ne)];if(ee!=null&&ee!==!1){const he=ee===!0?V(y.BYTES):ee;Q.push((0,i.ensureBytes)("extraEntropy",he))}const ie=r.concatBytes(...Q),ce=ne;return{seed:ie,k2sig:function(he){const pe=M(he);if(!L(pe))return;const Ee=$(pe),Le=j.BASE.multiply(pe).toAffine(),De=O(Le.x);if(De===c)return;const we=O(Ee*O(ce+De*K));if(we===c)return;let Je=(Le.x===De?0:2)|Number(Le.y&l),He=we;return J&&m(we)&&(He=function(Xe){return m(Xe)?O(-Xe):Xe}(we),Je^=1),new A(De,He,Je)}}}const D={lowS:S.lowS,prehash:!1},B={lowS:S.lowS,prehash:!1};return j.BASE._setWindowSize(8),{CURVE:S,getPublicKey:function(z,H=!0){return j.fromPrivateKey(z).toRawBytes(H)},getSharedSecret:function(z,H,W=!0){if(I(z))throw new Error("first arg must be private key");if(!I(H))throw new Error("second arg must be public key");return j.fromHex(H).multiply(k(z)).toRawBytes(W)},sign:function(z,H,W=D){const{seed:G,k2sig:V}=R(z,H,W),J=S;return r.createHmacDrbg(J.hash.outputLen,J.nByteLength,J.hmac)(G,V)},verify:function(z,H,W,G=B){var De;const V=z;if(H=(0,i.ensureBytes)("msgHash",H),W=(0,i.ensureBytes)("publicKey",W),"strict"in G)throw new Error("options.strict was renamed to lowS");o(G);const{lowS:J,prehash:Y}=G;let ee,ne;try{if(typeof V=="string"||r.isBytes(V))try{ee=A.fromDER(V)}catch(we){if(!(we instanceof t.DER.Err))throw we;ee=A.fromCompact(V)}else{if(typeof V!="object"||typeof V.r!="bigint"||typeof V.s!="bigint")throw new Error("PARSE");{const{r:we,s:Je}=V;ee=new A(we,Je)}}ne=j.fromHex(W)}catch(we){if(we.message==="PARSE")throw new Error("signature must be Signature instance, Uint8Array or hex string");return!1}if(J&&ee.hasHighS())return!1;Y&&(H=S.hash(H));const{r:K,s:Q}=ee,ie=E(H),ce=$(Q),he=O(ie*ce),pe=O(K*ce),Ee=(De=j.BASE.multiplyAndAddUnsafe(ne,he,pe))==null?void 0:De.toAffine();return Ee?O(Ee.x)===K:!1},ProjectivePoint:j,Signature:A,utils:v}},t.SWUFpSqrtRatio=g,t.mapToCurveSimpleSWU=function(p,S){if(n.validateField(p),!p.isValid(S.A)||!p.isValid(S.B)||!p.isValid(S.Z))throw new Error("mapToCurveSimpleSWU: invalid opts");const y=g(p,S.Z);if(!p.isOdd)throw new Error("Fp.isOdd is not implemented!");return b=>{let _,N,O,$,j,k,T,L;_=p.sqr(b),_=p.mul(_,S.Z),N=p.sqr(_),N=p.add(N,_),O=p.add(N,p.ONE),O=p.mul(O,S.B),$=p.cmov(S.Z,p.neg(N),!p.eql(N,p.ZERO)),$=p.mul($,S.A),N=p.sqr(O),k=p.sqr($),j=p.mul(k,S.A),N=p.add(N,j),N=p.mul(N,O),k=p.mul(k,$),j=p.mul(k,S.B),N=p.add(N,j),T=p.mul(_,O);const{isValid:P,value:m}=y(N,k);L=p.mul(_,b),L=p.mul(L,m),T=p.cmov(T,O,P),L=p.cmov(L,m,P);const w=p.isOdd(b)===p.isOdd(L);return L=p.cmov(p.neg(L),L,w),T=p.div(T,$),{x:T,y:L}}};const e=Gf,n=zt,r=_t,i=_t;function o(p){p.lowS!==void 0&&(0,i.abool)("lowS",p.lowS),p.prehash!==void 0&&(0,i.abool)("prehash",p.prehash)}const{bytesToNumberBE:s,hexToBytes:a}=r;t.DER={Err:class extends Error{constructor(p=""){super(p)}},_tlv:{encode:(p,S)=>{const{Err:y}=t.DER;if(p<0||p>256)throw new y("tlv.encode: wrong tag");if(1&S.length)throw new y("tlv.encode: unpadded data");const b=S.length/2,_=r.numberToHexUnpadded(b);if(_.length/2&128)throw new y("tlv.encode: long form length too big");const N=b>127?r.numberToHexUnpadded(_.length/2|128):"";return`${r.numberToHexUnpadded(p)}${N}${_}${S}`},decode(p,S){const{Err:y}=t.DER;let b=0;if(p<0||p>256)throw new y("tlv.encode: wrong tag");if(S.length<2||S[b++]!==p)throw new y("tlv.decode: wrong tlv");const _=S[b++];let N=0;if(128&_){const $=127&_;if(!$)throw new y("tlv.decode(long): indefinite length not supported");if($>4)throw new y("tlv.decode(long): byte length is too big");const j=S.subarray(b,b+$);if(j.length!==$)throw new y("tlv.decode: length bytes not complete");if(j[0]===0)throw new y("tlv.decode(long): zero leftmost byte");for(const k of j)N=N<<8|k;if(b+=$,N<128)throw new y("tlv.decode(long): not minimal encoding")}else N=_;const O=S.subarray(b,b+N);if(O.length!==N)throw new y("tlv.decode: wrong value length");return{v:O,l:S.subarray(b+N)}}},_int:{encode(p){const{Err:S}=t.DER;if(p<c)throw new S("integer: negative integers are not allowed");let y=r.numberToHexUnpadded(p);if(8&Number.parseInt(y[0],16)&&(y="00"+y),1&y.length)throw new S("unexpected assertion");return y},decode(p){const{Err:S}=t.DER;if(128&p[0])throw new S("Invalid signature integer: negative");if(p[0]===0&&!(128&p[1]))throw new S("Invalid signature integer: unnecessary leading zero");return s(p)}},toSig(p){const{Err:S,_int:y,_tlv:b}=t.DER,_=typeof p=="string"?a(p):p;r.abytes(_);const{v:N,l:O}=b.decode(48,_);if(O.length)throw new S("Invalid signature: left bytes after parsing");const{v:$,l:j}=b.decode(2,N),{v:k,l:T}=b.decode(2,j);if(T.length)throw new S("Invalid signature: left bytes after parsing");return{r:y.decode($),s:y.decode(k)}},hexFromSig(p){const{_tlv:S,_int:y}=t.DER,b=`${S.encode(2,y.encode(p.r))}${S.encode(2,y.encode(p.s))}`;return S.encode(48,b)}};const c=BigInt(0),l=BigInt(1),u=BigInt(2),d=BigInt(3),f=BigInt(4);function h(p){const S=function(w){const A=(0,e.validateBasic)(w);r.validateObject(A,{a:"field",b:"field"},{allowedPrivateKeyLengths:"array",wrapPrivateKey:"boolean",isTorsionFree:"function",clearCofactor:"function",allowInfinityPoint:"boolean",fromBytes:"function",toBytes:"function"});const{endo:v,Fp:I,a:M}=A;if(v){if(!I.eql(M,I.ZERO))throw new Error("Endomorphism can only be defined for Koblitz curves that have a=0");if(typeof v!="object"||typeof v.beta!="bigint"||typeof v.splitScalar!="function")throw new Error("Expected endomorphism with beta: bigint and splitScalar: function")}return Object.freeze({...A})}(p),{Fp:y}=S,b=n.Field(S.n,S.nBitLength),_=S.toBytes||((w,A,v)=>{const I=A.toAffine();return r.concatBytes(Uint8Array.from([4]),y.toBytes(I.x),y.toBytes(I.y))}),N=S.fromBytes||(w=>{const A=w.subarray(1);return{x:y.fromBytes(A.subarray(0,y.BYTES)),y:y.fromBytes(A.subarray(y.BYTES,2*y.BYTES))}});function O(w){const{a:A,b:v}=S,I=y.sqr(w),M=y.mul(I,w);return y.add(y.add(M,y.mul(w,A)),v)}if(!y.eql(y.sqr(S.Gy),O(S.Gx)))throw new Error("bad generator point: equation left != right");function $(w){const{allowedPrivateKeyLengths:A,nByteLength:v,wrapPrivateKey:I,n:M}=S;if(A&&typeof w!="bigint"){if(r.isBytes(w)&&(w=r.bytesToHex(w)),typeof w!="string"||!A.includes(w.length))throw new Error("Invalid key");w=w.padStart(2*v,"0")}let E;try{E=typeof w=="bigint"?w:r.bytesToNumberBE((0,i.ensureBytes)("private key",w,v))}catch{throw new Error(`private key must be ${v} bytes, hex or bigint, not ${typeof w}`)}return I&&(E=n.mod(E,M)),r.aInRange("private key",E,l,M),E}function j(w){if(!(w instanceof L))throw new Error("ProjectivePoint expected")}const k=(0,i.memoized)((w,A)=>{const{px:v,py:I,pz:M}=w;if(y.eql(M,y.ONE))return{x:v,y:I};const E=w.is0();A==null&&(A=E?y.ONE:y.inv(M));const C=y.mul(v,A),x=y.mul(I,A),R=y.mul(M,A);if(E)return{x:y.ZERO,y:y.ZERO};if(!y.eql(R,y.ONE))throw new Error("invZ was invalid");return{x:C,y:x}}),T=(0,i.memoized)(w=>{if(w.is0()){if(S.allowInfinityPoint&&!y.is0(w.py))return;throw new Error("bad point: ZERO")}const{x:A,y:v}=w.toAffine();if(!y.isValid(A)||!y.isValid(v))throw new Error("bad point: x or y not FE");const I=y.sqr(v),M=O(A);if(!y.eql(I,M))throw new Error("bad point: equation left != right");if(!w.isTorsionFree())throw new Error("bad point: not in prime-order subgroup");return!0});class L{constructor(A,v,I){if(this.px=A,this.py=v,this.pz=I,A==null||!y.isValid(A))throw new Error("x required");if(v==null||!y.isValid(v))throw new Error("y required");if(I==null||!y.isValid(I))throw new Error("z required");Object.freeze(this)}static fromAffine(A){const{x:v,y:I}=A||{};if(!A||!y.isValid(v)||!y.isValid(I))throw new Error("invalid affine point");if(A instanceof L)throw new Error("projective point not allowed");const M=E=>y.eql(E,y.ZERO);return M(v)&&M(I)?L.ZERO:new L(v,I,y.ONE)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static normalizeZ(A){const v=y.invertBatch(A.map(I=>I.pz));return A.map((I,M)=>I.toAffine(v[M])).map(L.fromAffine)}static fromHex(A){const v=L.fromAffine(N((0,i.ensureBytes)("pointHex",A)));return v.assertValidity(),v}static fromPrivateKey(A){return L.BASE.multiply($(A))}static msm(A,v){return(0,e.pippenger)(L,b,A,v)}_setWindowSize(A){m.setWindowSize(this,A)}assertValidity(){T(this)}hasEvenY(){const{y:A}=this.toAffine();if(y.isOdd)return!y.isOdd(A);throw new Error("Field doesn't support isOdd")}equals(A){j(A);const{px:v,py:I,pz:M}=this,{px:E,py:C,pz:x}=A,R=y.eql(y.mul(v,x),y.mul(E,M)),D=y.eql(y.mul(I,x),y.mul(C,M));return R&&D}negate(){return new L(this.px,y.neg(this.py),this.pz)}double(){const{a:A,b:v}=S,I=y.mul(v,d),{px:M,py:E,pz:C}=this;let x=y.ZERO,R=y.ZERO,D=y.ZERO,B=y.mul(M,M),z=y.mul(E,E),H=y.mul(C,C),W=y.mul(M,E);return W=y.add(W,W),D=y.mul(M,C),D=y.add(D,D),x=y.mul(A,D),R=y.mul(I,H),R=y.add(x,R),x=y.sub(z,R),R=y.add(z,R),R=y.mul(x,R),x=y.mul(W,x),D=y.mul(I,D),H=y.mul(A,H),W=y.sub(B,H),W=y.mul(A,W),W=y.add(W,D),D=y.add(B,B),B=y.add(D,B),B=y.add(B,H),B=y.mul(B,W),R=y.add(R,B),H=y.mul(E,C),H=y.add(H,H),B=y.mul(H,W),x=y.sub(x,B),D=y.mul(H,z),D=y.add(D,D),D=y.add(D,D),new L(x,R,D)}add(A){j(A);const{px:v,py:I,pz:M}=this,{px:E,py:C,pz:x}=A;let R=y.ZERO,D=y.ZERO,B=y.ZERO;const z=S.a,H=y.mul(S.b,d);let W=y.mul(v,E),G=y.mul(I,C),V=y.mul(M,x),J=y.add(v,I),Y=y.add(E,C);J=y.mul(J,Y),Y=y.add(W,G),J=y.sub(J,Y),Y=y.add(v,M);let ee=y.add(E,x);return Y=y.mul(Y,ee),ee=y.add(W,V),Y=y.sub(Y,ee),ee=y.add(I,M),R=y.add(C,x),ee=y.mul(ee,R),R=y.add(G,V),ee=y.sub(ee,R),B=y.mul(z,Y),R=y.mul(H,V),B=y.add(R,B),R=y.sub(G,B),B=y.add(G,B),D=y.mul(R,B),G=y.add(W,W),G=y.add(G,W),V=y.mul(z,V),Y=y.mul(H,Y),G=y.add(G,V),V=y.sub(W,V),V=y.mul(z,V),Y=y.add(Y,V),W=y.mul(G,Y),D=y.add(D,W),W=y.mul(ee,Y),R=y.mul(J,R),R=y.sub(R,W),W=y.mul(J,G),B=y.mul(ee,B),B=y.add(B,W),new L(R,D,B)}subtract(A){return this.add(A.negate())}is0(){return this.equals(L.ZERO)}wNAF(A){return m.wNAFCached(this,A,L.normalizeZ)}multiplyUnsafe(A){r.aInRange("scalar",A,c,S.n);const v=L.ZERO;if(A===c)return v;if(A===l)return this;const{endo:I}=S;if(!I)return m.unsafeLadder(this,A);let{k1neg:M,k1:E,k2neg:C,k2:x}=I.splitScalar(A),R=v,D=v,B=this;for(;E>c||x>c;)E&l&&(R=R.add(B)),x&l&&(D=D.add(B)),B=B.double(),E>>=l,x>>=l;return M&&(R=R.negate()),C&&(D=D.negate()),D=new L(y.mul(D.px,I.beta),D.py,D.pz),R.add(D)}multiply(A){const{endo:v,n:I}=S;let M,E;if(r.aInRange("scalar",A,l,I),v){const{k1neg:C,k1:x,k2neg:R,k2:D}=v.splitScalar(A);let{p:B,f:z}=this.wNAF(x),{p:H,f:W}=this.wNAF(D);B=m.constTimeNegate(C,B),H=m.constTimeNegate(R,H),H=new L(y.mul(H.px,v.beta),H.py,H.pz),M=B.add(H),E=z.add(W)}else{const{p:C,f:x}=this.wNAF(A);M=C,E=x}return L.normalizeZ([M,E])[0]}multiplyAndAddUnsafe(A,v,I){const M=L.BASE,E=(x,R)=>R!==c&&R!==l&&x.equals(M)?x.multiply(R):x.multiplyUnsafe(R),C=E(this,v).add(E(A,I));return C.is0()?void 0:C}toAffine(A){return k(this,A)}isTorsionFree(){const{h:A,isTorsionFree:v}=S;if(A===l)return!0;if(v)return v(L,this);throw new Error("isTorsionFree() has not been declared for the elliptic curve")}clearCofactor(){const{h:A,clearCofactor:v}=S;return A===l?this:v?v(L,this):this.multiplyUnsafe(S.h)}toRawBytes(A=!0){return(0,i.abool)("isCompressed",A),this.assertValidity(),_(L,this,A)}toHex(A=!0){return(0,i.abool)("isCompressed",A),r.bytesToHex(this.toRawBytes(A))}}L.BASE=new L(S.Gx,S.Gy,y.ONE),L.ZERO=new L(y.ZERO,y.ONE,y.ZERO);const P=S.nBitLength,m=(0,e.wNAF)(L,S.endo?Math.ceil(P/2):P);return{CURVE:S,ProjectivePoint:L,normPrivateKeyToScalar:$,weierstrassEquation:O,isWithinCurveOrder:function(w){return r.inRange(w,l,S.n)}}}function g(p,S){const y=p.ORDER;let b=c;for(let w=y-l;w%u===c;w/=u)b+=l;const _=b,N=u<<_-l-l,O=N*u,$=(y-l)/O,j=($-l)/u,k=O-l,T=N,L=p.pow(S,$),P=p.pow(S,($+l)/u);let m=(w,A)=>{let v=L,I=p.pow(A,k),M=p.sqr(I);M=p.mul(M,A);let E=p.mul(w,M);E=p.pow(E,j),E=p.mul(E,I),I=p.mul(E,A),M=p.mul(E,w);let C=p.mul(M,I);E=p.pow(C,T);let x=p.eql(E,p.ONE);I=p.mul(M,P),E=p.mul(C,v),M=p.cmov(I,M,x),C=p.cmov(E,C,x);for(let R=_;R>l;R--){let D=R-u;D=u<<D-l;let B=p.pow(C,D);const z=p.eql(B,p.ONE);I=p.mul(M,v),v=p.mul(v,v),B=p.mul(C,v),M=p.cmov(I,M,z),C=p.cmov(B,C,z)}return{isValid:x,value:M}};if(p.ORDER%f===d){const w=(p.ORDER-d)/f,A=p.sqrt(p.neg(S));m=(v,I)=>{let M=p.sqr(I);const E=p.mul(v,I);M=p.mul(M,E);let C=p.pow(M,w);C=p.mul(C,E);const x=p.mul(C,A),R=p.mul(p.sqr(C),I),D=p.eql(R,v);return{isValid:D,value:p.cmov(x,C,D)}}}return m}})(CA),Object.defineProperty(vv,"__esModule",{value:!0}),vv.getHash=EO,vv.createCurve=function(t,e){const n=r=>(0,Wde.weierstrass)({...t,...EO(r)});return Object.freeze({...n(e),create:n})};const Hde=_A,bO=$c,Wde=CA;function EO(t){return{hash:t,hmac:(e,...n)=>(0,Hde.hmac)(t,e,(0,bO.concatBytes)(...n)),randomBytes:bO.randomBytes}}(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.encodeToCurve=t.hashToCurve=t.schnorr=t.secp256k1=void 0;const e=sc,n=$c,r=vv,i=gl,o=zt,s=_t,a=CA,c=BigInt("0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffefffffc2f"),l=BigInt("0xfffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141"),u=BigInt(1),d=BigInt(2),f=(E,C)=>(E+C/d)/C;function h(E){const C=c,x=BigInt(3),R=BigInt(6),D=BigInt(11),B=BigInt(22),z=BigInt(23),H=BigInt(44),W=BigInt(88),G=E*E*E%C,V=G*G*E%C,J=(0,o.pow2)(V,x,C)*V%C,Y=(0,o.pow2)(J,x,C)*V%C,ee=(0,o.pow2)(Y,d,C)*G%C,ne=(0,o.pow2)(ee,D,C)*ee%C,K=(0,o.pow2)(ne,B,C)*ne%C,Q=(0,o.pow2)(K,H,C)*K%C,ie=(0,o.pow2)(Q,W,C)*Q%C,ce=(0,o.pow2)(ie,H,C)*K%C,he=(0,o.pow2)(ce,x,C)*V%C,pe=(0,o.pow2)(he,z,C)*ne%C,Ee=(0,o.pow2)(pe,R,C)*G%C,Le=(0,o.pow2)(Ee,d,C);if(!g.eql(g.sqr(Le),E))throw new Error("Cannot find square root");return Le}const g=(0,o.Field)(c,void 0,void 0,{sqrt:h});t.secp256k1=(0,r.createCurve)({a:BigInt(0),b:BigInt(7),Fp:g,n:l,Gx:BigInt("55066263022277343669578718895168534326250603453777594175500187360389116729240"),Gy:BigInt("32670510020758816978083085130507043184471273380659243275938904335757337482424"),h:BigInt(1),lowS:!0,endo:{beta:BigInt("0x7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee"),splitScalar:E=>{const C=l,x=BigInt("0x3086d221a7d46bcde86c90e49284eb15"),R=-u*BigInt("0xe4437ed6010e88286f547fa90abfe4c3"),D=BigInt("0x114ca50f7a8e2f3f657c1108d9d44cfd8"),B=x,z=BigInt("0x100000000000000000000000000000000"),H=f(B*E,C),W=f(-R*E,C);let G=(0,o.mod)(E-H*x-W*D,C),V=(0,o.mod)(-H*R-W*B,C);const J=G>z,Y=V>z;if(J&&(G=C-G),Y&&(V=C-V),G>z||V>z)throw new Error("splitScalar: Endomorphism failed, k="+E);return{k1neg:J,k1:G,k2neg:Y,k2:V}}}},e.sha256);const p=BigInt(0),S={};function y(E,...C){let x=S[E];if(x===void 0){const R=(0,e.sha256)(Uint8Array.from(E,D=>D.charCodeAt(0)));x=(0,s.concatBytes)(R,R),S[E]=x}return(0,e.sha256)((0,s.concatBytes)(x,...C))}const b=E=>E.toRawBytes(!0).slice(1),_=E=>(0,s.numberToBytesBE)(E,32),N=E=>(0,o.mod)(E,c),O=E=>(0,o.mod)(E,l),$=t.secp256k1.ProjectivePoint,j=(E,C,x)=>$.BASE.multiplyAndAddUnsafe(E,C,x);function k(E){let C=t.secp256k1.utils.normPrivateKeyToScalar(E),x=$.fromPrivateKey(C);return{scalar:x.hasEvenY()?C:O(-C),bytes:b(x)}}function T(E){(0,s.aInRange)("x",E,u,c);const C=N(E*E);let x=h(N(C*E+BigInt(7)));x%d!==p&&(x=N(-x));const R=new $(E,x,u);return R.assertValidity(),R}const L=s.bytesToNumberBE;function P(...E){return O(L(y("BIP0340/challenge",...E)))}function m(E){return k(E).bytes}function w(E,C,x=(0,n.randomBytes)(32)){const R=(0,s.ensureBytes)("message",E),{bytes:D,scalar:B}=k(C),z=(0,s.ensureBytes)("auxRand",x,32),H=_(B^L(y("BIP0340/aux",z))),W=y("BIP0340/nonce",H,D,R),G=O(L(W));if(G===p)throw new Error("sign failed: k is zero");const{bytes:V,scalar:J}=k(G),Y=P(V,D,R),ee=new Uint8Array(64);if(ee.set(V,0),ee.set(_(O(J+Y*B)),32),!A(ee,R,D))throw new Error("sign: Invalid signature produced");return ee}function A(E,C,x){const R=(0,s.ensureBytes)("signature",E,64),D=(0,s.ensureBytes)("message",C),B=(0,s.ensureBytes)("publicKey",x,32);try{const z=T(L(B)),H=L(R.subarray(0,32));if(!(0,s.inRange)(H,u,c))return!1;const W=L(R.subarray(32,64));if(!(0,s.inRange)(W,u,l))return!1;const G=P(_(H),b(z),D),V=j(z,W,O(-G));return!(!V||!V.hasEvenY()||V.toAffine().x!==H)}catch{return!1}}t.schnorr={getPublicKey:m,sign:w,verify:A,utils:{randomPrivateKey:t.secp256k1.utils.randomPrivateKey,lift_x:T,pointToBytes:b,numberToBytesBE:s.numberToBytesBE,bytesToNumberBE:s.bytesToNumberBE,taggedHash:y,mod:o.mod}};const v=(0,i.isogenyMap)(g,[["0x8e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38daaaaa8c7","0x7d3d4c80bc321d5b9f315cea7fd44c5d595d2fc0bf63b92dfff1044f17c6581","0x534c328d23f234e6e2a413deca25caece4506144037c40314ecbd0b53d9dd262","0x8e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38daaaaa88c"],["0xd35771193d94918a9ca34ccbb7b640dd86cd409542f8487d9fe6b745781eb49b","0xedadc6f64383dc1df7c4b2d51b54225406d36b641f5e41bbc52a56612a8c6d14","0x0000000000000000000000000000000000000000000000000000000000000001"],["0x4bda12f684bda12f684bda12f684bda12f684bda12f684bda12f684b8e38e23c","0xc75e0c32d5cb7c0fa9d0a54b12a0a6d5647ab046d686da6fdffc90fc201d71a3","0x29a6194691f91a73715209ef6512e576722830a201be2018a765e85a9ecee931","0x2f684bda12f684bda12f684bda12f684bda12f684bda12f684bda12f38e38d84"],["0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffefffff93b","0x7a06534bb8bdb49fd5e9e6632722c2989467c1bfc8e8d978dfb425d2685c2573","0x6484aa716545ca2cf3a70c3fa8fe337e0a3d21162f0d6299a7bf8192bfd2a76f","0x0000000000000000000000000000000000000000000000000000000000000001"]].map(E=>E.map(C=>BigInt(C)))),I=(0,a.mapToCurveSimpleSWU)(g,{A:BigInt("0x3f8731abdd661adca08a5558f0f5d272e953d363cb6f0e5d405447c01a444533"),B:BigInt("1771"),Z:g.create(BigInt("-11"))}),M=(0,i.createHasher)(t.secp256k1.ProjectivePoint,E=>{const{x:C,y:x}=I(g.create(E[0]));return v(C,x)},{DST:"secp256k1_XMD:SHA-256_SSWU_RO_",encodeDST:"secp256k1_XMD:SHA-256_SSWU_NU_",p:g.ORDER,m:1,k:128,expand:"xmd",hash:e.sha256});t.hashToCurve=M.hashToCurve,t.encodeToCurve=M.encodeToCurve})(sF);var bS={};(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.decodeHex=t.remove0x=void 0;var e=Zi;t.remove0x=function(n){return n.startsWith("0x")||n.startsWith("0X")?n.slice(2):n},t.decodeHex=function(n){return(0,e.hexToBytes)((0,t.remove0x)(n))}})(bS),function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.hexToPublicKey=t.convertPublicKeyFormat=t.getSharedPoint=t.getPublicKey=t.isValidPrivateKey=t.getValidSecret=void 0;var e=bA,n=Ij,r=sF,i=Ug,o=Vn,s=bS;t.getValidSecret=function(){var u;do u=(0,e.randomBytes)(o.SECRET_KEY_LENGTH);while(!(0,t.isValidPrivateKey)(u));return u},t.isValidPrivateKey=function(u){return a((0,i.ellipticCurve)(),function(d){return d.utils.isValidPrivateKey(u)},function(){return!0},function(){return!0})},t.getPublicKey=function(u){return a((0,i.ellipticCurve)(),function(d){return d.getPublicKey(u)},function(d){return d.getPublicKey(u)},function(d){return d.getPublicKey(u)})},t.getSharedPoint=function(u,d,f){return a((0,i.ellipticCurve)(),function(h){return h.getSharedSecret(u,d,f)},function(h){return h.getSharedSecret(u,d)},function(h){return l(h,u,d)})},t.convertPublicKeyFormat=function(u,d){return a((0,i.ellipticCurve)(),function(f){return f.getSharedSecret(BigInt(1),u,d)},function(){return u},function(){return u})};function a(u,d,f,h){if(u==="secp256k1")return d(r.secp256k1);if(u==="x25519")return f(n.x25519);if(u==="ed25519")return h(n.ed25519);throw new Error("Not implemented")}t.hexToPublicKey=function(u){var d=(0,s.decodeHex)(u);return a((0,i.ellipticCurve)(),function(){return c(d)},function(){return d},function(){return d})};var c=function(u){if(u.length===o.ETH_PUBLIC_KEY_SIZE){var d=new Uint8Array(1+u.length);return d.set([4]),d.set(u,1),d}return u},l=function(u,d,f){var h=u.utils.getExtendedPublicKey(d).scalar;return u.ExtendedPoint.fromHex(f).multiply(h).toRawBytes()}}(Aj);var aF={},Yf={};Object.defineProperty(Yf,"__esModule",{value:!0}),Yf.hkdf=void 0,Yf.extract=lF,Yf.expand=uF;const ES=Bi,xO=$c,cF=_A;function lF(t,e,n){return(0,ES.hash)(t),n===void 0&&(n=new Uint8Array(t.outputLen)),(0,cF.hmac)(t,(0,xO.toBytes)(n),(0,xO.toBytes)(e))}const f6=new Uint8Array([0]),SO=new Uint8Array;function uF(t,e,n,r=32){if((0,ES.hash)(t),(0,ES.number)(r),r>255*t.outputLen)throw new Error("Length should be <= 255*HashLen");const i=Math.ceil(r/t.outputLen);n===void 0&&(n=SO);const o=new Uint8Array(i*t.outputLen),s=cF.hmac.create(t,e),a=s._cloneInto(),c=new Uint8Array(s.outputLen);for(let l=0;l<i;l++)f6[0]=l+1,a.update(l===0?SO:c).update(n).update(f6).digestInto(c),o.set(c,t.outputLen*l),s._cloneInto(a);return s.destroy(),a.destroy(),c.fill(0),f6.fill(0),o.slice(0,r)}Yf.hkdf=(t,e,n,r,i)=>uF(t,lF(t,e,n),r,i),function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.getSharedKey=t.deriveKey=void 0;var e=Zi,n=Yf,r=sc;t.deriveKey=function(i,o,s){return(0,n.hkdf)(r.sha256,i,o,s,32)},t.getSharedKey=function(){for(var i=[],o=0;o<arguments.length;o++)i[o]=arguments[o];return(0,t.deriveKey)(e.concatBytes.apply(void 0,i))}}(aF);var _O={},wh={},Sn={},Yu={};Object.defineProperty(Yu,"__esModule",{value:!0}),Yu.polyval=Yu.ghash=void 0,Yu._toGHASHKey=dF;const Ju=Tr,Wr=Zi,Ua=16,AA=new Uint8Array(16),Ks=(0,Wr.u32)(AA),Eo=t=>(t>>>0&255)<<24|(t>>>8&255)<<16|(t>>>16&255)<<8|t>>>24&255|0;function dF(t){t.reverse();const e=1&t[15];let n=0;for(let r=0;r<t.length;r++){const i=t[r];t[r]=i>>>1|n,n=(1&i)<<7}return t[0]^=225&-e,t}class fF{constructor(e,n){this.blockLen=Ua,this.outputLen=Ua,this.s0=0,this.s1=0,this.s2=0,this.s3=0,this.finished=!1,e=(0,Wr.toBytes)(e),(0,Ju.bytes)(e,16);const r=(0,Wr.createView)(e);let i=r.getUint32(0,!1),o=r.getUint32(4,!1),s=r.getUint32(8,!1),a=r.getUint32(12,!1);const c=[];for(let y=0;y<128;y++)c.push({s0:Eo(i),s1:Eo(o),s2:Eo(s),s3:Eo(a)}),{s0:i,s1:o,s2:s,s3:a}={s3:(d=s)<<31|(f=a)>>>1,s2:(u=o)<<31|d>>>1,s1:(l=i)<<31|u>>>1,s0:l>>>1^225<<24&-(1&f)};var l,u,d,f;const h=(y=>y>65536?8:y>1024?4:2)(n||1024);if(![1,2,4,8].includes(h))throw new Error(`ghash: wrong window size=${h}, should be 2, 4 or 8`);this.W=h;const g=128/h,p=this.windowSize=2**h,S=[];for(let y=0;y<g;y++)for(let b=0;b<p;b++){let _=0,N=0,O=0,$=0;for(let j=0;j<h;j++){if(!(b>>>h-j-1&1))continue;const{s0:k,s1:T,s2:L,s3:P}=c[h*y+j];_^=k,N^=T,O^=L,$^=P}S.push({s0:_,s1:N,s2:O,s3:$})}this.t=S}_updateBlock(e,n,r,i){e^=this.s0,n^=this.s1,r^=this.s2,i^=this.s3;const{W:o,t:s,windowSize:a}=this;let c=0,l=0,u=0,d=0;const f=(1<<o)-1;let h=0;for(const g of[e,n,r,i])for(let p=0;p<4;p++){const S=g>>>8*p&255;for(let y=8/o-1;y>=0;y--){const b=S>>>o*y&f,{s0:_,s1:N,s2:O,s3:$}=s[h*a+b];c^=_,l^=N,u^=O,d^=$,h+=1}}this.s0=c,this.s1=l,this.s2=u,this.s3=d}update(e){e=(0,Wr.toBytes)(e),(0,Ju.exists)(this);const n=(0,Wr.u32)(e),r=Math.floor(e.length/Ua),i=e.length%Ua;for(let o=0;o<r;o++)this._updateBlock(n[4*o+0],n[4*o+1],n[4*o+2],n[4*o+3]);return i&&(AA.set(e.subarray(r*Ua)),this._updateBlock(Ks[0],Ks[1],Ks[2],Ks[3]),(0,Wr.clean)(Ks)),this}destroy(){const{t:e}=this;for(const n of e)n.s0=0,n.s1=0,n.s2=0,n.s3=0}digestInto(e){(0,Ju.exists)(this),(0,Ju.output)(e,this),this.finished=!0;const{s0:n,s1:r,s2:i,s3:o}=this,s=(0,Wr.u32)(e);return s[0]=n,s[1]=r,s[2]=i,s[3]=o,e}digest(){const e=new Uint8Array(Ua);return this.digestInto(e),this.destroy(),e}}class Kde extends fF{constructor(e,n){e=(0,Wr.toBytes)(e);const r=dF((0,Wr.copyBytes)(e));super(r,n),(0,Wr.clean)(r)}update(e){e=(0,Wr.toBytes)(e),(0,Ju.exists)(this);const n=(0,Wr.u32)(e),r=e.length%Ua,i=Math.floor(e.length/Ua);for(let o=0;o<i;o++)this._updateBlock(Eo(n[4*o+3]),Eo(n[4*o+2]),Eo(n[4*o+1]),Eo(n[4*o+0]));return r&&(AA.set(e.subarray(i*Ua)),this._updateBlock(Eo(Ks[3]),Eo(Ks[2]),Eo(Ks[1]),Eo(Ks[0])),(0,Wr.clean)(Ks)),this}digestInto(e){(0,Ju.exists)(this),(0,Ju.output)(e,this),this.finished=!0;const{s0:n,s1:r,s2:i,s3:o}=this,s=(0,Wr.u32)(e);return s[0]=n,s[1]=r,s[2]=i,s[3]=o,e.reverse()}}function CO(t){const e=(r,i)=>t(i,r.length).update((0,Wr.toBytes)(r)).digest(),n=t(new Uint8Array(16),0);return e.outputLen=n.outputLen,e.blockLen=n.blockLen,e.create=(r,i)=>t(r,i),e}Yu.ghash=CO((t,e)=>new fF(t,e)),Yu.polyval=CO((t,e)=>new Kde(t,e)),Object.defineProperty(Sn,"__esModule",{value:!0}),Sn.unsafe=Sn.aeskwp=Sn.aeskw=Sn.siv=Sn.gcm=Sn.cfb=Sn.cbc=Sn.ecb=Sn.ctr=void 0,Sn.expandKeyLE=ss,Sn.expandKeyDecLE=Hg;const Rt=Tr,xS=Yu,ke=Zi,bi=16,m1=new Uint8Array(bi),qde=283;function IA(t){return t<<1^qde&-(t>>7)}function Jf(t,e){let n=0;for(;e>0;e>>=1)n^=t&-(1&e),t=IA(t);return n}const SS=(()=>{const t=new Uint8Array(256);for(let n=0,r=1;n<256;n++,r^=IA(r))t[n]=r;const e=new Uint8Array(256);e[0]=99;for(let n=0;n<255;n++){let r=t[255-n];r|=r<<8,e[t[n]]=255&(r^r>>4^r>>5^r>>6^r>>7^99)}return(0,ke.clean)(t),e})(),Vde=SS.map((t,e)=>SS.indexOf(e)),Gde=t=>t<<24|t>>>8,h6=t=>t<<8|t>>>24,Lw=t=>t<<24&4278190080|t<<8&16711680|t>>>8&65280|t>>>24&255;function hF(t,e){if(t.length!==256)throw new Error("Wrong sbox length");const n=new Uint32Array(256).map((l,u)=>e(t[u])),r=n.map(h6),i=r.map(h6),o=i.map(h6),s=new Uint32Array(65536),a=new Uint32Array(65536),c=new Uint16Array(65536);for(let l=0;l<256;l++)for(let u=0;u<256;u++){const d=256*l+u;s[d]=n[l]^r[u],a[d]=i[l]^o[u],c[d]=t[l]<<8|t[u]}return{sbox:t,sbox2:c,T0:n,T1:r,T2:i,T3:o,T01:s,T23:a}}const kA=hF(SS,t=>Jf(t,3)<<24|t<<16|t<<8|Jf(t,2)),pF=hF(Vde,t=>Jf(t,11)<<24|Jf(t,13)<<16|Jf(t,9)<<8|Jf(t,14)),Yde=(()=>{const t=new Uint8Array(16);for(let e=0,n=1;e<16;e++,n=IA(n))t[e]=n;return t})();function ss(t){(0,Rt.bytes)(t);const e=t.length;if(![16,24,32].includes(e))throw new Error(`aes: wrong key size: should be 16, 24 or 32, got: ${e}`);const{sbox2:n}=kA,r=[];(0,ke.isAligned32)(t)||r.push(t=(0,ke.copyBytes)(t));const i=(0,ke.u32)(t),o=i.length,s=c=>Vs(n,c,c,c,c),a=new Uint32Array(e+28);a.set(i);for(let c=o;c<a.length;c++){let l=a[c-1];c%o==0?l=s(Gde(l))^Yde[c/o-1]:o>6&&c%o==4&&(l=s(l)),a[c]=a[c-o]^l}return(0,ke.clean)(...r),a}function Hg(t){const e=ss(t),n=e.slice(),r=e.length,{sbox2:i}=kA,{T0:o,T1:s,T2:a,T3:c}=pF;for(let l=0;l<r;l+=4)for(let u=0;u<4;u++)n[l+u]=e[r-l-4+u];(0,ke.clean)(e);for(let l=4;l<r-4;l++){const u=n[l],d=Vs(i,u,u,u,u);n[l]=o[255&d]^s[d>>>8&255]^a[d>>>16&255]^c[d>>>24]}return n}function jl(t,e,n,r,i,o){return t[n<<8&65280|r>>>8&255]^e[i>>>8&65280|o>>>24&255]}function Vs(t,e,n,r,i){return t[255&e|65280&n]|t[r>>>16&255|i>>>16&65280]<<16}function Kr(t,e,n,r,i){const{sbox2:o,T01:s,T23:a}=kA;let c=0;e^=t[c++],n^=t[c++],r^=t[c++],i^=t[c++];const l=t.length/4-2;for(let u=0;u<l;u++){const d=t[c++]^jl(s,a,e,n,r,i),f=t[c++]^jl(s,a,n,r,i,e),h=t[c++]^jl(s,a,r,i,e,n),g=t[c++]^jl(s,a,i,e,n,r);e=d,n=f,r=h,i=g}return{s0:t[c++]^Vs(o,e,n,r,i),s1:t[c++]^Vs(o,n,r,i,e),s2:t[c++]^Vs(o,r,i,e,n),s3:t[c++]^Vs(o,i,e,n,r)}}function Wg(t,e,n,r,i){const{sbox2:o,T01:s,T23:a}=pF;let c=0;e^=t[c++],n^=t[c++],r^=t[c++],i^=t[c++];const l=t.length/4-2;for(let u=0;u<l;u++){const d=t[c++]^jl(s,a,e,i,r,n),f=t[c++]^jl(s,a,n,e,i,r),h=t[c++]^jl(s,a,r,n,e,i),g=t[c++]^jl(s,a,i,r,n,e);e=d,n=f,r=h,i=g}return{s0:t[c++]^Vs(o,e,i,r,n),s1:t[c++]^Vs(o,n,e,i,r),s2:t[c++]^Vs(o,r,n,e,i),s3:t[c++]^Vs(o,i,r,n,e)}}function bh(t,e){if(e===void 0)return new Uint8Array(t);if((0,Rt.bytes)(e),e.length<t)throw new Error(`aes: wrong destination length, expected at least ${t}, got: ${e.length}`);if(!(0,ke.isAligned32)(e))throw new Error("unaligned dst");return e}function gF(t,e,n,r){(0,Rt.bytes)(e,bi),(0,Rt.bytes)(n);const i=n.length;r=bh(i,r);const o=e,s=(0,ke.u32)(o);let{s0:a,s1:c,s2:l,s3:u}=Kr(t,s[0],s[1],s[2],s[3]);const d=(0,ke.u32)(n),f=(0,ke.u32)(r);for(let g=0;g+4<=d.length;g+=4){f[g+0]=d[g+0]^a,f[g+1]=d[g+1]^c,f[g+2]=d[g+2]^l,f[g+3]=d[g+3]^u;let p=1;for(let S=o.length-1;S>=0;S--)p=p+(255&o[S])|0,o[S]=255&p,p>>>=8;({s0:a,s1:c,s2:l,s3:u}=Kr(t,s[0],s[1],s[2],s[3]))}const h=bi*Math.floor(d.length/4);if(h<i){const g=new Uint32Array([a,c,l,u]),p=(0,ke.u8)(g);for(let S=h,y=0;S<i;S++,y++)r[S]=n[S]^p[y];(0,ke.clean)(g)}return r}function Zf(t,e,n,r,i){(0,Rt.bytes)(n,bi),(0,Rt.bytes)(r),i=bh(r.length,i);const o=n,s=(0,ke.u32)(o),a=(0,ke.createView)(o),c=(0,ke.u32)(r),l=(0,ke.u32)(i),u=e?0:12,d=r.length;let f=a.getUint32(u,e),{s0:h,s1:g,s2:p,s3:S}=Kr(t,s[0],s[1],s[2],s[3]);for(let b=0;b+4<=c.length;b+=4)l[b+0]=c[b+0]^h,l[b+1]=c[b+1]^g,l[b+2]=c[b+2]^p,l[b+3]=c[b+3]^S,f=f+1>>>0,a.setUint32(u,f,e),{s0:h,s1:g,s2:p,s3:S}=Kr(t,s[0],s[1],s[2],s[3]);const y=bi*Math.floor(c.length/4);if(y<d){const b=new Uint32Array([h,g,p,S]),_=(0,ke.u8)(b);for(let N=y,O=0;N<d;N++,O++)i[N]=r[N]^_[O];(0,ke.clean)(b)}return i}function AO(t){if((0,Rt.bytes)(t),t.length%bi!=0)throw new Error("aes/(cbc-ecb).decrypt ciphertext should consist of blocks with size 16")}function IO(t,e,n){(0,Rt.bytes)(t);let r=t.length;const i=r%bi;if(!e&&i!==0)throw new Error("aec/(cbc-ecb): unpadded plaintext with disabled padding");(0,ke.isAligned32)(t)||(t=(0,ke.copyBytes)(t));const o=(0,ke.u32)(t);if(e){let a=bi-i;a||(a=bi),r+=a}const s=bh(r,n);return{b:o,o:(0,ke.u32)(s),out:s}}function kO(t,e){if(!e)return t;const n=t.length;if(!n)throw new Error("aes/pcks5: empty ciphertext not allowed");const r=t[n-1];if(r<=0||r>16)throw new Error("aes/pcks5: wrong padding");const i=t.subarray(0,-r);for(let o=0;o<r;o++)if(t[n-o-1]!==r)throw new Error("aes/pcks5: wrong padding");return i}function PO(t){const e=new Uint8Array(16),n=(0,ke.u32)(e);e.set(t);const r=bi-t.length;for(let i=bi-r;i<bi;i++)e[i]=r;return n}function mF(t,e,n,r,i){const o=i==null?0:i.length,s=t.create(n,r.length+o);i&&s.update(i),s.update(r);const a=new Uint8Array(16),c=(0,ke.createView)(a);i&&(0,ke.setBigUint64)(c,0,BigInt(8*o),e),(0,ke.setBigUint64)(c,8,BigInt(8*r.length),e),s.update(a);const l=s.digest();return(0,ke.clean)(a),l}Sn.ctr=(0,ke.wrapCipher)({blockSize:16,nonceLength:16},function(t,e){function n(r,i){if((0,Rt.bytes)(r),i!==void 0&&((0,Rt.bytes)(i),!(0,ke.isAligned32)(i)))throw new Error("unaligned destination");const o=ss(t),s=(0,ke.copyBytes)(e),a=[o,s];(0,ke.isAligned32)(r)||a.push(r=(0,ke.copyBytes)(r));const c=gF(o,s,r,i);return(0,ke.clean)(...a),c}return(0,Rt.bytes)(t),(0,Rt.bytes)(e,bi),{encrypt:(r,i)=>n(r,i),decrypt:(r,i)=>n(r,i)}}),Sn.ecb=(0,ke.wrapCipher)({blockSize:16},function(t,e={}){(0,Rt.bytes)(t);const n=!e.disablePadding;return{encrypt(r,i){const{b:o,o:s,out:a}=IO(r,n,i),c=ss(t);let l=0;for(;l+4<=o.length;){const{s0:u,s1:d,s2:f,s3:h}=Kr(c,o[l+0],o[l+1],o[l+2],o[l+3]);s[l++]=u,s[l++]=d,s[l++]=f,s[l++]=h}if(n){const u=PO(r.subarray(4*l)),{s0:d,s1:f,s2:h,s3:g}=Kr(c,u[0],u[1],u[2],u[3]);s[l++]=d,s[l++]=f,s[l++]=h,s[l++]=g}return(0,ke.clean)(c),a},decrypt(r,i){AO(r);const o=Hg(t),s=bh(r.length,i),a=[o];(0,ke.isAligned32)(r)||a.push(r=(0,ke.copyBytes)(r));const c=(0,ke.u32)(r),l=(0,ke.u32)(s);for(let u=0;u+4<=c.length;){const{s0:d,s1:f,s2:h,s3:g}=Wg(o,c[u+0],c[u+1],c[u+2],c[u+3]);l[u++]=d,l[u++]=f,l[u++]=h,l[u++]=g}return(0,ke.clean)(...a),kO(s,n)}}}),Sn.cbc=(0,ke.wrapCipher)({blockSize:16,nonceLength:16},function(t,e,n={}){(0,Rt.bytes)(t),(0,Rt.bytes)(e,16);const r=!n.disablePadding;return{encrypt(i,o){const s=ss(t),{b:a,o:c,out:l}=IO(i,r,o);let u=e;const d=[s];(0,ke.isAligned32)(u)||d.push(u=(0,ke.copyBytes)(u));const f=(0,ke.u32)(u);let h=f[0],g=f[1],p=f[2],S=f[3],y=0;for(;y+4<=a.length;)h^=a[y+0],g^=a[y+1],p^=a[y+2],S^=a[y+3],{s0:h,s1:g,s2:p,s3:S}=Kr(s,h,g,p,S),c[y++]=h,c[y++]=g,c[y++]=p,c[y++]=S;if(r){const b=PO(i.subarray(4*y));h^=b[0],g^=b[1],p^=b[2],S^=b[3],{s0:h,s1:g,s2:p,s3:S}=Kr(s,h,g,p,S),c[y++]=h,c[y++]=g,c[y++]=p,c[y++]=S}return(0,ke.clean)(...d),l},decrypt(i,o){AO(i);const s=Hg(t);let a=e;const c=[s];(0,ke.isAligned32)(a)||c.push(a=(0,ke.copyBytes)(a));const l=(0,ke.u32)(a),u=bh(i.length,o);(0,ke.isAligned32)(i)||c.push(i=(0,ke.copyBytes)(i));const d=(0,ke.u32)(i),f=(0,ke.u32)(u);let h=l[0],g=l[1],p=l[2],S=l[3];for(let y=0;y+4<=d.length;){const b=h,_=g,N=p,O=S;h=d[y+0],g=d[y+1],p=d[y+2],S=d[y+3];const{s0:$,s1:j,s2:k,s3:T}=Wg(s,h,g,p,S);f[y++]=$^b,f[y++]=j^_,f[y++]=k^N,f[y++]=T^O}return(0,ke.clean)(...c),kO(u,r)}}}),Sn.cfb=(0,ke.wrapCipher)({blockSize:16,nonceLength:16},function(t,e){function n(r,i,o){(0,Rt.bytes)(r);const s=r.length;o=bh(s,o);const a=ss(t);let c=e;const l=[a];(0,ke.isAligned32)(c)||l.push(c=(0,ke.copyBytes)(c)),(0,ke.isAligned32)(r)||l.push(r=(0,ke.copyBytes)(r));const u=(0,ke.u32)(r),d=(0,ke.u32)(o),f=i?d:u,h=(0,ke.u32)(c);let g=h[0],p=h[1],S=h[2],y=h[3];for(let _=0;_+4<=u.length;){const{s0:N,s1:O,s2:$,s3:j}=Kr(a,g,p,S,y);d[_+0]=u[_+0]^N,d[_+1]=u[_+1]^O,d[_+2]=u[_+2]^$,d[_+3]=u[_+3]^j,g=f[_++],p=f[_++],S=f[_++],y=f[_++]}const b=bi*Math.floor(u.length/4);if(b<s){({s0:g,s1:p,s2:S,s3:y}=Kr(a,g,p,S,y));const _=(0,ke.u8)(new Uint32Array([g,p,S,y]));for(let N=b,O=0;N<s;N++,O++)o[N]=r[N]^_[O];(0,ke.clean)(_)}return(0,ke.clean)(...l),o}return(0,Rt.bytes)(t),(0,Rt.bytes)(e,16),{encrypt:(r,i)=>n(r,!0,i),decrypt:(r,i)=>n(r,!1,i)}}),Sn.gcm=(0,ke.wrapCipher)({blockSize:16,nonceLength:12,tagLength:16},function(t,e,n){if((0,Rt.bytes)(t),(0,Rt.bytes)(e),n!==void 0&&(0,Rt.bytes)(n),e.length<8)throw new Error("aes/gcm: invalid nonce length");const r=16;function i(s,a,c){const l=mF(xS.ghash,!1,s,c,n);for(let u=0;u<a.length;u++)l[u]^=a[u];return l}function o(){const s=ss(t),a=m1.slice(),c=m1.slice();if(Zf(s,!1,c,c,a),e.length===12)c.set(e);else{const l=m1.slice(),u=(0,ke.createView)(l);(0,ke.setBigUint64)(u,8,BigInt(8*e.length),!1);const d=xS.ghash.create(a).update(e).update(l);d.digestInto(c),d.destroy()}return{xk:s,authKey:a,counter:c,tagMask:Zf(s,!1,c,m1)}}return{encrypt(s){(0,Rt.bytes)(s);const{xk:a,authKey:c,counter:l,tagMask:u}=o(),d=new Uint8Array(s.length+r),f=[a,c,l,u];(0,ke.isAligned32)(s)||f.push(s=(0,ke.copyBytes)(s)),Zf(a,!1,l,s,d);const h=i(c,u,d.subarray(0,d.length-r));return f.push(h),d.set(h,s.length),(0,ke.clean)(...f),d},decrypt(s){if((0,Rt.bytes)(s),s.length<r)throw new Error("aes/gcm: ciphertext less than tagLen (16)");const{xk:a,authKey:c,counter:l,tagMask:u}=o(),d=[a,c,u,l];(0,ke.isAligned32)(s)||d.push(s=(0,ke.copyBytes)(s));const f=s.subarray(0,-16),h=s.subarray(-16),g=i(c,u,f);if(d.push(g),!(0,ke.equalBytes)(g,h))throw new Error("aes/gcm: invalid ghash tag");const p=Zf(a,!1,l,f);return(0,ke.clean)(...d),p}}});const y1=(t,e,n)=>r=>{if(!Number.isSafeInteger(r)||e>r||r>n)throw new Error(`${t}: invalid value=${r}, must be [${e}..${n}]`)};function yF(t){return t!=null&&typeof t=="object"&&(t instanceof Uint32Array||t.constructor.name==="Uint32Array")}function vF(t,e){if((0,Rt.bytes)(e,16),!yF(t))throw new Error("_encryptBlock accepts result of expandKeyLE");const n=(0,ke.u32)(e);let{s0:r,s1:i,s2:o,s3:s}=Kr(t,n[0],n[1],n[2],n[3]);return n[0]=r,n[1]=i,n[2]=o,n[3]=s,e}function wF(t,e){if((0,Rt.bytes)(e,16),!yF(t))throw new Error("_decryptBlock accepts result of expandKeyLE");const n=(0,ke.u32)(e);let{s0:r,s1:i,s2:o,s3:s}=Wg(t,n[0],n[1],n[2],n[3]);return n[0]=r,n[1]=i,n[2]=o,n[3]=s,e}Sn.siv=(0,ke.wrapCipher)({blockSize:16,nonceLength:12,tagLength:16},function(t,e,n){const r=y1("AAD",0,68719476736),i=y1("plaintext",0,2**36),o=y1("nonce",12,12),s=y1("ciphertext",16,2**36+16);function a(){const u=ss(t),d=new Uint8Array(t.length),f=new Uint8Array(16),h=[u,d];let g=e;(0,ke.isAligned32)(g)||h.push(g=(0,ke.copyBytes)(g));const p=(0,ke.u32)(g);let S=0,y=p[0],b=p[1],_=p[2],N=0;for(const $ of[f,d].map(ke.u32)){const j=(0,ke.u32)($);for(let k=0;k<j.length;k+=2){const{s0:T,s1:L}=Kr(u,S,y,b,_);j[k+0]=T,j[k+1]=L,S=++N}}const O={authKey:f,encKey:ss(d)};return(0,ke.clean)(...h),O}function c(u,d,f){const h=mF(xS.polyval,!0,d,f,n);for(let _=0;_<12;_++)h[_]^=e[_];h[15]&=127;const g=(0,ke.u32)(h);let p=g[0],S=g[1],y=g[2],b=g[3];return{s0:p,s1:S,s2:y,s3:b}=Kr(u,p,S,y,b),g[0]=p,g[1]=S,g[2]=y,g[3]=b,h}function l(u,d,f){let h=(0,ke.copyBytes)(d);h[15]|=128;const g=Zf(u,!0,h,f);return(0,ke.clean)(h),g}return(0,Rt.bytes)(t,16,24,32),(0,Rt.bytes)(e),o(e.length),n!==void 0&&((0,Rt.bytes)(n),r(n.length)),{encrypt(u){(0,Rt.bytes)(u),i(u.length);const{encKey:d,authKey:f}=a(),h=c(d,f,u),g=[d,f,h];(0,ke.isAligned32)(u)||g.push(u=(0,ke.copyBytes)(u));const p=new Uint8Array(u.length+16);return p.set(h,u.length),p.set(l(d,h,u)),(0,ke.clean)(...g),p},decrypt(u){(0,Rt.bytes)(u),s(u.length);const d=u.subarray(-16),{encKey:f,authKey:h}=a(),g=[f,h];(0,ke.isAligned32)(u)||g.push(u=(0,ke.copyBytes)(u));const p=l(f,d,u.subarray(0,-16)),S=c(f,h,p);if(g.push(S),!(0,ke.equalBytes)(d,S))throw(0,ke.clean)(...g),new Error("invalid polyval tag");return(0,ke.clean)(...g),p}}});const $w={encrypt(t,e){if(e.length>=2**32)throw new Error("plaintext should be less than 4gb");const n=ss(t);if(e.length===16)vF(n,e);else{const r=(0,ke.u32)(e);let i=r[0],o=r[1];for(let s=0,a=1;s<6;s++)for(let c=2;c<r.length;c+=2,a++){const{s0:l,s1:u,s2:d,s3:f}=Kr(n,i,o,r[c],r[c+1]);i=l,o=u^Lw(a),r[c]=d,r[c+1]=f}r[0]=i,r[1]=o}n.fill(0)},decrypt(t,e){if(e.length-8>=2**32)throw new Error("ciphertext should be less than 4gb");const n=Hg(t),r=e.length/8-1;if(r===1)wF(n,e);else{const i=(0,ke.u32)(e);let o=i[0],s=i[1];for(let a=0,c=6*r;a<6;a++)for(let l=2*r;l>=1;l-=2,c--){s^=Lw(c);const{s0:u,s1:d,s2:f,s3:h}=Wg(n,o,s,i[l],i[l+1]);o=u,s=d,i[l]=f,i[l+1]=h}i[0]=o,i[1]=s}n.fill(0)}},OO=new Uint8Array(8).fill(166);Sn.aeskw=(0,ke.wrapCipher)({blockSize:8},t=>({encrypt(e){if((0,Rt.bytes)(e),!e.length||e.length%8!=0)throw new Error("invalid plaintext length");if(e.length===8)throw new Error("8-byte keys not allowed in AESKW, use AESKWP instead");const n=(0,ke.concatBytes)(OO,e);return $w.encrypt(t,n),n},decrypt(e){if((0,Rt.bytes)(e),e.length%8!=0||e.length<24)throw new Error("invalid ciphertext length");const n=(0,ke.copyBytes)(e);if($w.decrypt(t,n),!(0,ke.equalBytes)(n.subarray(0,8),OO))throw new Error("integrity check failed");return n.subarray(0,8).fill(0),n.subarray(8)}}));const TO=2790873510;Sn.aeskwp=(0,ke.wrapCipher)({blockSize:8},t=>({encrypt(e){if((0,Rt.bytes)(e),!e.length)throw new Error("invalid plaintext length");const n=8*Math.ceil(e.length/8),r=new Uint8Array(8+n);r.set(e,8);const i=(0,ke.u32)(r);return i[0]=TO,i[1]=Lw(e.length),$w.encrypt(t,r),r},decrypt(e){if((0,Rt.bytes)(e),e.length<16)throw new Error("invalid ciphertext length");const n=(0,ke.copyBytes)(e),r=(0,ke.u32)(n);$w.decrypt(t,n);const i=Lw(r[1])>>>0,o=8*Math.ceil(i/8);if(r[0]!==TO||n.length-8!==o)throw new Error("integrity check failed");for(let s=i;s<o;s++)if(n[8+s]!==0)throw new Error("integrity check failed");return n.subarray(0,8).fill(0),n.subarray(8,8+i)}})),Sn.unsafe={expandKeyLE:ss,expandKeyDecLE:Hg,encrypt:Kr,decrypt:Wg,encryptBlock:vF,decryptBlock:wF,ctrCounter:gF,ctr32:Zf},Object.defineProperty(wh,"__esModule",{value:!0}),wh.aes256cbc=wh.aes256gcm=void 0;var bF=Sn;wh.aes256gcm=function(t,e,n){return(0,bF.gcm)(t,e,n)};wh.aes256cbc=function(t,e,n){return(0,bF.cbc)(t,e)};var Bw={},EF={},Qf={};Object.defineProperty(Qf,"__esModule",{value:!0}),Qf.sigma=void 0,Qf.rotl=function(t,e){return t<<e|t>>>32-e},Qf.createCipher=function(t,e){const{allowShortKeys:n,extendNonceFn:r,counterLength:i,counterRight:o,rounds:s}=(0,go.checkOpts)({allowShortKeys:!1,counterLength:8,counterRight:!1,rounds:20},e);if(typeof t!="function")throw new Error("core must be a function");return(0,Oa.number)(i),(0,Oa.number)(s),(0,Oa.bool)(o),(0,Oa.bool)(n),(a,c,l,u,d=0)=>{(0,Oa.bytes)(a),(0,Oa.bytes)(c),(0,Oa.bytes)(l);const f=l.length;if(u===void 0&&(u=new Uint8Array(f)),(0,Oa.bytes)(u),(0,Oa.number)(d),d<0||d>=MO)throw new Error("arx: counter overflow");if(u.length<f)throw new Error(`arx: output (${u.length}) is shorter than data (${f})`);const h=[];let g,p,S=a.length;if(S===32)h.push(g=(0,go.copyBytes)(a)),p=SF;else{if(S!==16||!n)throw new Error(`arx: invalid 32-byte key, got length=${S}`);g=new Uint8Array(32),g.set(a),g.set(a,16),p=Qde,h.push(g)}p6(c)||h.push(c=(0,go.copyBytes)(c));const y=(0,go.u32)(g);if(r){if(c.length!==24)throw new Error("arx: extended nonce must be 24 bytes");r(p,y,(0,go.u32)(c.subarray(0,16)),y),c=c.subarray(16)}const b=16-i;if(b!==c.length)throw new Error(`arx: nonce must be ${b} or 16 bytes`);if(b!==12){const N=new Uint8Array(12);N.set(c,o?0:12-c.length),c=N,h.push(c)}const _=(0,go.u32)(c);return function(N,O,$,j,k,T,L,P){const m=k.length,w=new Uint8Array(v1),A=(0,go.u32)(w),v=p6(k)&&p6(T),I=v?(0,go.u32)(k):NO,M=v?(0,go.u32)(T):NO;for(let E=0;E<m;L++){if(N(O,$,j,A,L,P),L>=MO)throw new Error("arx: counter overflow");const C=Math.min(v1,m-E);if(v&&C===v1){const x=E/4;if(E%4!=0)throw new Error("arx: invalid block position");for(let R,D=0;D<Xde;D++)R=x+D,M[R]=I[R]^A[D];E+=v1}else{for(let x,R=0;R<C;R++)x=E+R,T[x]=k[x]^w[R];E+=C}}}(t,p,y,_,l,u,d,s),(0,go.clean)(...h),u}};const Oa=Tr,go=Zi,xF=t=>Uint8Array.from(t.split("").map(e=>e.charCodeAt(0))),Jde=xF("expand 16-byte k"),Zde=xF("expand 32-byte k"),Qde=(0,go.u32)(Jde),SF=(0,go.u32)(Zde);function p6(t){return t.byteOffset%4==0}Qf.sigma=SF.slice();const v1=64,Xde=16,MO=2**32-1,NO=new Uint32Array;var rg={};Object.defineProperty(rg,"__esModule",{value:!0}),rg.poly1305=void 0,rg.wrapConstructorWithKey=_F;const w1=Tr,Bp=Zi,ur=(t,e)=>255&t[e++]|(255&t[e++])<<8;class efe{constructor(e){this.blockLen=16,this.outputLen=16,this.buffer=new Uint8Array(16),this.r=new Uint16Array(10),this.h=new Uint16Array(10),this.pad=new Uint16Array(8),this.pos=0,this.finished=!1,e=(0,Bp.toBytes)(e),(0,w1.bytes)(e,32);const n=ur(e,0),r=ur(e,2),i=ur(e,4),o=ur(e,6),s=ur(e,8),a=ur(e,10),c=ur(e,12),l=ur(e,14);this.r[0]=8191&n,this.r[1]=8191&(n>>>13|r<<3),this.r[2]=7939&(r>>>10|i<<6),this.r[3]=8191&(i>>>7|o<<9),this.r[4]=255&(o>>>4|s<<12),this.r[5]=s>>>1&8190,this.r[6]=8191&(s>>>14|a<<2),this.r[7]=8065&(a>>>11|c<<5),this.r[8]=8191&(c>>>8|l<<8),this.r[9]=l>>>5&127;for(let u=0;u<8;u++)this.pad[u]=ur(e,16+2*u)}process(e,n,r=!1){const i=r?0:2048,{h:o,r:s}=this,a=s[0],c=s[1],l=s[2],u=s[3],d=s[4],f=s[5],h=s[6],g=s[7],p=s[8],S=s[9],y=ur(e,n+0),b=ur(e,n+2),_=ur(e,n+4),N=ur(e,n+6),O=ur(e,n+8),$=ur(e,n+10),j=ur(e,n+12),k=ur(e,n+14);let T=o[0]+(8191&y),L=o[1]+(8191&(y>>>13|b<<3)),P=o[2]+(8191&(b>>>10|_<<6)),m=o[3]+(8191&(_>>>7|N<<9)),w=o[4]+(8191&(N>>>4|O<<12)),A=o[5]+(O>>>1&8191),v=o[6]+(8191&(O>>>14|$<<2)),I=o[7]+(8191&($>>>11|j<<5)),M=o[8]+(8191&(j>>>8|k<<8)),E=o[9]+(k>>>5|i),C=0,x=C+T*a+L*(5*S)+P*(5*p)+m*(5*g)+w*(5*h);C=x>>>13,x&=8191,x+=A*(5*f)+v*(5*d)+I*(5*u)+M*(5*l)+E*(5*c),C+=x>>>13,x&=8191;let R=C+T*c+L*a+P*(5*S)+m*(5*p)+w*(5*g);C=R>>>13,R&=8191,R+=A*(5*h)+v*(5*f)+I*(5*d)+M*(5*u)+E*(5*l),C+=R>>>13,R&=8191;let D=C+T*l+L*c+P*a+m*(5*S)+w*(5*p);C=D>>>13,D&=8191,D+=A*(5*g)+v*(5*h)+I*(5*f)+M*(5*d)+E*(5*u),C+=D>>>13,D&=8191;let B=C+T*u+L*l+P*c+m*a+w*(5*S);C=B>>>13,B&=8191,B+=A*(5*p)+v*(5*g)+I*(5*h)+M*(5*f)+E*(5*d),C+=B>>>13,B&=8191;let z=C+T*d+L*u+P*l+m*c+w*a;C=z>>>13,z&=8191,z+=A*(5*S)+v*(5*p)+I*(5*g)+M*(5*h)+E*(5*f),C+=z>>>13,z&=8191;let H=C+T*f+L*d+P*u+m*l+w*c;C=H>>>13,H&=8191,H+=A*a+v*(5*S)+I*(5*p)+M*(5*g)+E*(5*h),C+=H>>>13,H&=8191;let W=C+T*h+L*f+P*d+m*u+w*l;C=W>>>13,W&=8191,W+=A*c+v*a+I*(5*S)+M*(5*p)+E*(5*g),C+=W>>>13,W&=8191;let G=C+T*g+L*h+P*f+m*d+w*u;C=G>>>13,G&=8191,G+=A*l+v*c+I*a+M*(5*S)+E*(5*p),C+=G>>>13,G&=8191;let V=C+T*p+L*g+P*h+m*f+w*d;C=V>>>13,V&=8191,V+=A*u+v*l+I*c+M*a+E*(5*S),C+=V>>>13,V&=8191;let J=C+T*S+L*p+P*g+m*h+w*f;C=J>>>13,J&=8191,J+=A*d+v*u+I*l+M*c+E*a,C+=J>>>13,J&=8191,C=(C<<2)+C|0,C=C+x|0,x=8191&C,C>>>=13,R+=C,o[0]=x,o[1]=R,o[2]=D,o[3]=B,o[4]=z,o[5]=H,o[6]=W,o[7]=G,o[8]=V,o[9]=J}finalize(){const{h:e,pad:n}=this,r=new Uint16Array(10);let i=e[1]>>>13;e[1]&=8191;for(let a=2;a<10;a++)e[a]+=i,i=e[a]>>>13,e[a]&=8191;e[0]+=5*i,i=e[0]>>>13,e[0]&=8191,e[1]+=i,i=e[1]>>>13,e[1]&=8191,e[2]+=i,r[0]=e[0]+5,i=r[0]>>>13,r[0]&=8191;for(let a=1;a<10;a++)r[a]=e[a]+i,i=r[a]>>>13,r[a]&=8191;r[9]-=8192;let o=(1^i)-1;for(let a=0;a<10;a++)r[a]&=o;o=~o;for(let a=0;a<10;a++)e[a]=e[a]&o|r[a];e[0]=65535&(e[0]|e[1]<<13),e[1]=65535&(e[1]>>>3|e[2]<<10),e[2]=65535&(e[2]>>>6|e[3]<<7),e[3]=65535&(e[3]>>>9|e[4]<<4),e[4]=65535&(e[4]>>>12|e[5]<<1|e[6]<<14),e[5]=65535&(e[6]>>>2|e[7]<<11),e[6]=65535&(e[7]>>>5|e[8]<<8),e[7]=65535&(e[8]>>>8|e[9]<<5);let s=e[0]+n[0];e[0]=65535&s;for(let a=1;a<8;a++)s=(e[a]+n[a]|0)+(s>>>16)|0,e[a]=65535&s;(0,Bp.clean)(r)}update(e){(0,w1.exists)(this);const{buffer:n,blockLen:r}=this,i=(e=(0,Bp.toBytes)(e)).length;for(let o=0;o<i;){const s=Math.min(r-this.pos,i-o);if(s!==r)n.set(e.subarray(o,o+s),this.pos),this.pos+=s,o+=s,this.pos===r&&(this.process(n,0,!1),this.pos=0);else for(;r<=i-o;o+=r)this.process(e,o)}return this}destroy(){(0,Bp.clean)(this.h,this.r,this.buffer,this.pad)}digestInto(e){(0,w1.exists)(this),(0,w1.output)(e,this),this.finished=!0;const{buffer:n,h:r}=this;let{pos:i}=this;if(i){for(n[i++]=1;i<16;i++)n[i]=0;this.process(n,0,!0)}this.finalize();let o=0;for(let s=0;s<8;s++)e[o++]=r[s]>>>0,e[o++]=r[s]>>>8;return e}digest(){const{buffer:e,outputLen:n}=this;this.digestInto(e);const r=e.slice(0,n);return this.destroy(),r}}function _F(t){const e=(r,i)=>t(i).update((0,Bp.toBytes)(r)).digest(),n=t(new Uint8Array(32));return e.outputLen=n.outputLen,e.blockLen=n.blockLen,e.create=r=>t(r),e}rg.poly1305=_F(t=>new efe(t)),function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.xchacha20poly1305=t.chacha20poly1305=t._poly1305_aead=t.chacha12=t.chacha8=t.xchacha20=t.chacha20=t.chacha20orig=void 0,t.hchacha=s;const e=Qf,n=Tr,r=rg,i=Zi;function o(d,f,h,g,p,S=20){let y=d[0],b=d[1],_=d[2],N=d[3],O=f[0],$=f[1],j=f[2],k=f[3],T=f[4],L=f[5],P=f[6],m=f[7],w=p,A=h[0],v=h[1],I=h[2],M=y,E=b,C=_,x=N,R=O,D=$,B=j,z=k,H=T,W=L,G=P,V=m,J=w,Y=A,ee=v,ne=I;for(let Q=0;Q<S;Q+=2)M=M+R|0,J=(0,e.rotl)(J^M,16),H=H+J|0,R=(0,e.rotl)(R^H,12),M=M+R|0,J=(0,e.rotl)(J^M,8),H=H+J|0,R=(0,e.rotl)(R^H,7),E=E+D|0,Y=(0,e.rotl)(Y^E,16),W=W+Y|0,D=(0,e.rotl)(D^W,12),E=E+D|0,Y=(0,e.rotl)(Y^E,8),W=W+Y|0,D=(0,e.rotl)(D^W,7),C=C+B|0,ee=(0,e.rotl)(ee^C,16),G=G+ee|0,B=(0,e.rotl)(B^G,12),C=C+B|0,ee=(0,e.rotl)(ee^C,8),G=G+ee|0,B=(0,e.rotl)(B^G,7),x=x+z|0,ne=(0,e.rotl)(ne^x,16),V=V+ne|0,z=(0,e.rotl)(z^V,12),x=x+z|0,ne=(0,e.rotl)(ne^x,8),V=V+ne|0,z=(0,e.rotl)(z^V,7),M=M+D|0,ne=(0,e.rotl)(ne^M,16),G=G+ne|0,D=(0,e.rotl)(D^G,12),M=M+D|0,ne=(0,e.rotl)(ne^M,8),G=G+ne|0,D=(0,e.rotl)(D^G,7),E=E+B|0,J=(0,e.rotl)(J^E,16),V=V+J|0,B=(0,e.rotl)(B^V,12),E=E+B|0,J=(0,e.rotl)(J^E,8),V=V+J|0,B=(0,e.rotl)(B^V,7),C=C+z|0,Y=(0,e.rotl)(Y^C,16),H=H+Y|0,z=(0,e.rotl)(z^H,12),C=C+z|0,Y=(0,e.rotl)(Y^C,8),H=H+Y|0,z=(0,e.rotl)(z^H,7),x=x+R|0,ee=(0,e.rotl)(ee^x,16),W=W+ee|0,R=(0,e.rotl)(R^W,12),x=x+R|0,ee=(0,e.rotl)(ee^x,8),W=W+ee|0,R=(0,e.rotl)(R^W,7);let K=0;g[K++]=y+M|0,g[K++]=b+E|0,g[K++]=_+C|0,g[K++]=N+x|0,g[K++]=O+R|0,g[K++]=$+D|0,g[K++]=j+B|0,g[K++]=k+z|0,g[K++]=T+H|0,g[K++]=L+W|0,g[K++]=P+G|0,g[K++]=m+V|0,g[K++]=w+J|0,g[K++]=A+Y|0,g[K++]=v+ee|0,g[K++]=I+ne|0}function s(d,f,h,g){let p=d[0],S=d[1],y=d[2],b=d[3],_=f[0],N=f[1],O=f[2],$=f[3],j=f[4],k=f[5],T=f[6],L=f[7],P=h[0],m=h[1],w=h[2],A=h[3];for(let I=0;I<20;I+=2)p=p+_|0,P=(0,e.rotl)(P^p,16),j=j+P|0,_=(0,e.rotl)(_^j,12),p=p+_|0,P=(0,e.rotl)(P^p,8),j=j+P|0,_=(0,e.rotl)(_^j,7),S=S+N|0,m=(0,e.rotl)(m^S,16),k=k+m|0,N=(0,e.rotl)(N^k,12),S=S+N|0,m=(0,e.rotl)(m^S,8),k=k+m|0,N=(0,e.rotl)(N^k,7),y=y+O|0,w=(0,e.rotl)(w^y,16),T=T+w|0,O=(0,e.rotl)(O^T,12),y=y+O|0,w=(0,e.rotl)(w^y,8),T=T+w|0,O=(0,e.rotl)(O^T,7),b=b+$|0,A=(0,e.rotl)(A^b,16),L=L+A|0,$=(0,e.rotl)($^L,12),b=b+$|0,A=(0,e.rotl)(A^b,8),L=L+A|0,$=(0,e.rotl)($^L,7),p=p+N|0,A=(0,e.rotl)(A^p,16),T=T+A|0,N=(0,e.rotl)(N^T,12),p=p+N|0,A=(0,e.rotl)(A^p,8),T=T+A|0,N=(0,e.rotl)(N^T,7),S=S+O|0,P=(0,e.rotl)(P^S,16),L=L+P|0,O=(0,e.rotl)(O^L,12),S=S+O|0,P=(0,e.rotl)(P^S,8),L=L+P|0,O=(0,e.rotl)(O^L,7),y=y+$|0,m=(0,e.rotl)(m^y,16),j=j+m|0,$=(0,e.rotl)($^j,12),y=y+$|0,m=(0,e.rotl)(m^y,8),j=j+m|0,$=(0,e.rotl)($^j,7),b=b+_|0,w=(0,e.rotl)(w^b,16),k=k+w|0,_=(0,e.rotl)(_^k,12),b=b+_|0,w=(0,e.rotl)(w^b,8),k=k+w|0,_=(0,e.rotl)(_^k,7);let v=0;g[v++]=p,g[v++]=S,g[v++]=y,g[v++]=b,g[v++]=P,g[v++]=m,g[v++]=w,g[v++]=A}t.chacha20orig=(0,e.createCipher)(o,{counterRight:!1,counterLength:8,allowShortKeys:!0}),t.chacha20=(0,e.createCipher)(o,{counterRight:!1,counterLength:4,allowShortKeys:!1}),t.xchacha20=(0,e.createCipher)(o,{counterRight:!1,counterLength:8,extendNonceFn:s,allowShortKeys:!1}),t.chacha8=(0,e.createCipher)(o,{counterRight:!1,counterLength:4,rounds:8}),t.chacha12=(0,e.createCipher)(o,{counterRight:!1,counterLength:4,rounds:12});const a=new Uint8Array(16),c=(d,f)=>{d.update(f);const h=f.length%16;h&&d.update(a.subarray(h))},l=new Uint8Array(32);function u(d,f,h,g,p){const S=d(f,h,l),y=r.poly1305.create(S);p&&c(y,p),c(y,g);const b=new Uint8Array(16),_=(0,i.createView)(b);(0,i.setBigUint64)(_,0,BigInt(p?p.length:0),!0),(0,i.setBigUint64)(_,8,BigInt(g.length),!0),y.update(b);const N=y.digest();return(0,i.clean)(S,b),N}t._poly1305_aead=d=>(f,h,g)=>((0,n.bytes)(f,32),(0,n.bytes)(h),{encrypt(S,y){const b=S.length,_=b+16;y?(0,n.bytes)(y,_):y=new Uint8Array(_),d(f,h,S,y,1);const N=u(d,f,h,y.subarray(0,-16),g);return y.set(N,b),(0,i.clean)(N),y},decrypt(S,y){const b=S.length,_=b-16;if(b<16)throw new Error("encrypted data must be at least 16 bytes");y?(0,n.bytes)(y,_):y=new Uint8Array(_);const N=S.subarray(0,-16),O=S.subarray(-16),$=u(d,f,h,N,g);if(!(0,i.equalBytes)(O,$))throw new Error("invalid tag");return d(f,h,N,y,1),(0,i.clean)($),y}}),t.chacha20poly1305=(0,i.wrapCipher)({blockSize:64,nonceLength:12,tagLength:16},(0,t._poly1305_aead)(t.chacha20)),t.xchacha20poly1305=(0,i.wrapCipher)({blockSize:64,nonceLength:24,tagLength:16},(0,t._poly1305_aead)(t.xchacha20))}(EF),Object.defineProperty(Bw,"__esModule",{value:!0}),Bw.xchacha20=void 0;var bf,RO,Ep,tfe=EF;Bw.xchacha20=function(t,e,n){return(0,tfe.xchacha20poly1305)(t,e,n)},function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.aesDecrypt=t.aesEncrypt=t.symDecrypt=t.symEncrypt=void 0;var e=Zi,n=bA,r=wh,i=Bw,o=Ug,s=Vn;t.symEncrypt=function(u,d,f){return a(c,u,d,f)};function a(u,d,f,h){var g=(0,o.symmetricAlgorithm)();if(g==="aes-256-gcm")return u(r.aes256gcm,d,f,(0,o.symmetricNonceLength)(),s.AEAD_TAG_LENGTH,h);if(g==="xchacha20")return u(i.xchacha20,d,f,s.XCHACHA20_NONCE_LENGTH,s.AEAD_TAG_LENGTH,h);if(g==="aes-256-cbc")return u(r.aes256cbc,d,f,16,0);throw new Error("Not implemented")}function c(u,d,f,h,g,p){var S=(0,n.randomBytes)(h),y=u(d,S,p).encrypt(f);if(g===0)return(0,e.concatBytes)(S,y);var b=y.length-g,_=y.subarray(0,b),N=y.subarray(b);return(0,e.concatBytes)(S,N,_)}function l(u,d,f,h,g,p){var S=f.subarray(0,h),y=u(d,Uint8Array.from(S),p),b=f.subarray(h);if(g===0)return y.decrypt(b);var _=b.subarray(0,g),N=b.subarray(g);return y.decrypt((0,e.concatBytes)(N,_))}t.symDecrypt=function(u,d,f){return a(l,u,d,f)},t.aesEncrypt=t.symEncrypt,t.aesDecrypt=t.symDecrypt}(_O),bf=N2,RO=Po&&Po.__createBinding||(Object.create?function(t,e,n,r){r===void 0&&(r=n);var i=Object.getOwnPropertyDescriptor(e,n);i&&!("get"in i?!e.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return e[n]}}),Object.defineProperty(t,r,i)}:function(t,e,n,r){r===void 0&&(r=n),t[r]=e[n]}),Ep=Po&&Po.__exportStar||function(t,e){for(var n in t)n==="default"||Object.prototype.hasOwnProperty.call(e,n)||RO(e,t,n)},Object.defineProperty(bf,"__esModule",{value:!0}),Ep(Aj,bf),Ep(aF,bf),Ep(bS,bf),Ep(_O,bf);var Kg={};Object.defineProperty(Kg,"__esModule",{value:!0}),Kg.PublicKey=void 0;var LO=Zi,b1=N2,nfe=function(){function t(e){this.data=(0,b1.convertPublicKeyFormat)(e,!0)}return t.fromHex=function(e){return new t((0,b1.hexToPublicKey)(e))},Object.defineProperty(t.prototype,"uncompressed",{get:function(){return Se.from((0,b1.convertPublicKeyFormat)(this.data,!1))},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"compressed",{get:function(){return Se.from(this.data)},enumerable:!1,configurable:!0}),t.prototype.toHex=function(e){return e===void 0&&(e=!0),(0,LO.bytesToHex)(e?this.data:this.uncompressed)},t.prototype.decapsulate=function(e,n){n===void 0&&(n=!1);var r=n?this.data:this.uncompressed,i=e.multiply(this,n);return(0,b1.getSharedKey)(r,i)},t.prototype.equals=function(e){return(0,LO.equalBytes)(this.data,e.data)},t}();Kg.PublicKey=nfe,Object.defineProperty(Tw,"__esModule",{value:!0}),Tw.PrivateKey=void 0;var $O=Zi,Ef=N2,rfe=Kg,ife=function(){function t(e){if(e===void 0)this.data=(0,Ef.getValidSecret)();else{if(!(0,Ef.isValidPrivateKey)(e))throw new Error("Invalid private key");this.data=e}this.publicKey=new rfe.PublicKey((0,Ef.getPublicKey)(this.data))}return t.fromHex=function(e){return new t((0,Ef.decodeHex)(e))},Object.defineProperty(t.prototype,"secret",{get:function(){return Se.from(this.data)},enumerable:!1,configurable:!0}),t.prototype.toHex=function(){return(0,$O.bytesToHex)(this.data)},t.prototype.encapsulate=function(e,n){n===void 0&&(n=!1);var r=n?this.publicKey.compressed:this.publicKey.uncompressed,i=this.multiply(e,n);return(0,Ef.getSharedKey)(r,i)},t.prototype.multiply=function(e,n){return n===void 0&&(n=!1),(0,Ef.getSharedPoint)(this.data,e.compressed,n)},t.prototype.equals=function(e){return(0,$O.equalBytes)(this.data,e.data)},t}();Tw.PrivateKey=ife,function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.PublicKey=t.PrivateKey=void 0;var e=Tw;Object.defineProperty(t,"PrivateKey",{enumerable:!0,get:function(){return e.PrivateKey}});var n=Kg;Object.defineProperty(t,"PublicKey",{enumerable:!0,get:function(){return n.PublicKey}})}(XE),function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.utils=t.PublicKey=t.PrivateKey=t.ECIES_CONFIG=void 0,t.encrypt=function(a,c){var l=new r.PrivateKey,u=a instanceof Uint8Array?new r.PublicKey(a):r.PublicKey.fromHex(a),d=l.encapsulate(u,(0,n.isHkdfKeyCompressed)()),f=(0,n.isEphemeralKeyCompressed)()?l.publicKey.compressed:l.publicKey.uncompressed,h=(0,i.symEncrypt)(d,c);return Se.from((0,e.concatBytes)(f,h))},t.decrypt=function(a,c){var l=a instanceof Uint8Array?new r.PrivateKey(a):r.PrivateKey.fromHex(a),u=(0,n.ephemeralKeySize)(),d=new r.PublicKey(c.subarray(0,u)),f=c.subarray(u),h=d.decapsulate(l,(0,n.isHkdfKeyCompressed)());return Se.from((0,i.symDecrypt)(h,f))};var e=Zi,n=Ug,r=XE,i=N2,o=Ug;Object.defineProperty(t,"ECIES_CONFIG",{enumerable:!0,get:function(){return o.ECIES_CONFIG}});var s=XE;Object.defineProperty(t,"PrivateKey",{enumerable:!0,get:function(){return s.PrivateKey}}),Object.defineProperty(t,"PublicKey",{enumerable:!0,get:function(){return s.PublicKey}}),t.utils={aesEncrypt:i.aesEncrypt,aesDecrypt:i.aesDecrypt,symEncrypt:i.symEncrypt,symDecrypt:i.symDecrypt,decodeHex:i.decodeHex,getValidSecret:i.getValidSecret,remove0x:i.remove0x}}(Of);const CF=Vr("KeyExchange:Layer"),AF=Vr("SocketService:Layer"),IF=Vr("Ecies:Layer"),kF=Vr("RemoteCommunication:Layer");CF.color="##95c44e",AF.color="#f638d7",IF.color="#465b9c",kF.color="#47a2be";const me={KeyExchange:CF,SocketService:AF,Ecies:IF,RemoteCommunication:kF};let xp,E1=[],g6=[];const Cc=(t,e)=>xe(void 0,void 0,void 0,function*(){xp=e,g6.push(t),function(n){return xe(this,void 0,void 0,function*(){if(!xp||!n)return;(function(){const s=g6;g6=E1,E1=s})();const r=xp.endsWith("/")?`${xp}evt`:`${xp}/evt`,i=Object.assign({},n);if(delete i.params,n.params)for(const[s,a]of Object.entries(n.params))i[s]=a;const o=JSON.stringify(i);me.RemoteCommunication(`[sendBufferedEvents] Sending ${E1.length} analytics events to ${r}`);try{const s=yield X7(r,{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:o}),a=yield s.text();me.RemoteCommunication(`[sendBufferedEvents] Response: ${a}`),E1.length=0}catch{}})}(t).catch(()=>{})});class m6{constructor(e){this.enabled=!0,e!=null&&e.debug&&Vr.enable("Ecies:Layer"),this.ecies=e!=null&&e.privateKey?Of.PrivateKey.fromHex(e.privateKey):new Of.PrivateKey,me.Ecies("[ECIES constructor()] initialized secret: ",this.ecies.toHex()),me.Ecies("[ECIES constructor()] initialized public: ",this.ecies.publicKey.toHex()),me.Ecies("[ECIES constructor()] init with",this)}generateECIES(){this.ecies=new Of.PrivateKey}getPublicKey(){return this.ecies.publicKey.toHex()}encrypt(e,n){let r=e;if(this.enabled)try{me.Ecies("[ECIES: encrypt()] using otherPublicKey",n);const i=Se.from(e),o=Of.encrypt(n,i);r=Se.from(o).toString("base64")}catch(i){throw me.Ecies("[ECIES: encrypt()] error encrypt:",i),me.Ecies("[ECIES: encrypt()] private: ",this.ecies.toHex()),me.Ecies("[ECIES: encrypt()] data: ",e),me.Ecies("[ECIES: encrypt()] otherkey: ",n),i}return r}decrypt(e){let n=e;if(this.enabled)try{me.Ecies("[ECIES: decrypt()] using privateKey",this.ecies.toHex());const r=Se.from(e.toString(),"base64");n=Of.decrypt(this.ecies.toHex(),r).toString()}catch(r){throw me.Ecies("[ECIES: decrypt()] error decrypt",r),me.Ecies("[ECIES: decrypt()] private: ",this.ecies.toHex()),me.Ecies("[ECIES: decrypt()] encryptedData: ",e),r}return n}getKeyInfo(){return{private:this.ecies.toHex(),public:this.ecies.publicKey.toHex()}}toString(){me.Ecies("[ECIES: toString()]",this.getKeyInfo())}}var lu={version:"0.33.1"};const r0="https://metamask-sdk.api.cx.metamask.io/",ofe=["websocket"],i0=6048e5,sfe=3e3,kr={METAMASK_CONNECTSIGN:"metamask_connectSign",METAMASK_CONNECTWITH:"metamask_connectWith",METAMASK_OPEN:"metamask_open",METAMASK_BATCH:"metamask_batch",PERSONAL_SIGN:"personal_sign",WALLET_REQUESTPERMISSIONS:"wallet_requestPermissions",WALLET_REVOKEPERMISSIONS:"wallet_revokePermissions",WALLET_WATCHASSET:"wallet_watchAsset",ETH_REQUESTACCOUNTS:"eth_requestAccounts",ETH_SENDTRANSACTION:"eth_sendTransaction",ETH_SIGNTYPEDDATA:"eth_signTypedData",ETH_SIGNTYPEDDATA_V3:"eth_signTypedData_v3",ETH_SIGNTYPEDDATA_V4:"eth_signTypedData_v4",ETH_SIGNTRANSACTION:"eth_signTransaction",ETH_SIGN:"eth_sign",PERSONAL_EC_RECOVER:"personal_ecRecover"},afe=[kr.METAMASK_CONNECTSIGN,kr.METAMASK_CONNECTWITH,kr.METAMASK_OPEN,kr.METAMASK_BATCH,kr.PERSONAL_SIGN,kr.WALLET_REQUESTPERMISSIONS,kr.WALLET_REVOKEPERMISSIONS,kr.WALLET_WATCHASSET,kr.ETH_SENDTRANSACTION,kr.ETH_SIGNTYPEDDATA,kr.ETH_SIGNTYPEDDATA_V3,kr.ETH_SIGNTYPEDDATA_V4,kr.ETH_SIGNTRANSACTION,kr.ETH_SIGN,kr.PERSONAL_EC_RECOVER];function Xm(t){return afe.includes(t)}function PF(t){const{context:e}=t;me.RemoteCommunication(`[RemoteCommunication: clean()] context=${e}`),t.channelConfig=void 0,t.ready=!1,t.originatorConnectStarted=!1}var mr,Pe,Dw,Ut,mn,Nn,xf;(xf=mr||(mr={})).DISCONNECTED="disconnected",xf.WAITING="waiting",xf.TIMEOUT="timeout",xf.LINKED="linked",xf.PAUSED="paused",xf.TERMINATED="terminated",function(t){t.KEY_INFO="key_info",t.SERVICE_STATUS="service_status",t.PROVIDER_UPDATE="provider_update",t.RPC_UPDATE="rpc_update",t.KEYS_EXCHANGED="keys_exchanged",t.JOIN_CHANNEL="join_channel",t.PUBLIC_KEY="public_key",t.CHANNEL_CREATED="channel_created",t.CLIENTS_CONNECTED="clients_connected",t.CLIENTS_DISCONNECTED="clients_disconnected",t.CLIENTS_WAITING="clients_waiting",t.CLIENTS_READY="clients_ready",t.REJECTED="rejected",t.WALLET_INIT="wallet_init",t.CHANNEL_PERSISTENCE="channel_persistence",t.CONFIG="config",t.MESSAGE_ACK="ack",t.SOCKET_DISCONNECTED="socket_disconnected",t.SOCKET_RECONNECT="socket_reconnect",t.OTP="otp",t.SDK_RPC_CALL="sdk_rpc_call",t.AUTHORIZED="authorized",t.CONNECTION_STATUS="connection_status",t.MESSAGE="message",t.TERMINATE="terminate"}(Pe||(Pe={})),(Dw||(Dw={})).KEY_EXCHANGE="key_exchange",function(t){t.KEY_HANDSHAKE_START="key_handshake_start",t.KEY_HANDSHAKE_CHECK="key_handshake_check",t.KEY_HANDSHAKE_SYN="key_handshake_SYN",t.KEY_HANDSHAKE_SYNACK="key_handshake_SYNACK",t.KEY_HANDSHAKE_ACK="key_handshake_ACK",t.KEY_HANDSHAKE_WALLET="key_handshake_wallet",t.KEY_HANDSHAKE_NONE="none"}(Ut||(Ut={}));class cfe extends O2.EventEmitter2{constructor({communicationLayer:e,otherPublicKey:n,context:r,ecies:i,logging:o}){super(),this.keysExchanged=!1,this.step=Ut.KEY_HANDSHAKE_NONE,this.debug=!1,this.context=r,this.communicationLayer=e,i!=null&&i.privateKey&&n&&(me.KeyExchange(`[KeyExchange: constructor()] otherPubKey=${n} set keysExchanged to true!`,i),this.keysExchanged=!0),this.myECIES=new m6(Object.assign(Object.assign({},i),{debug:o==null?void 0:o.eciesLayer})),this.communicationLayer.state.eciesInstance=this.myECIES,this.myPublicKey=this.myECIES.getPublicKey(),this.debug=(o==null?void 0:o.keyExchangeLayer)===!0,n&&this.setOtherPublicKey(n),this.communicationLayer.on(Dw.KEY_EXCHANGE,this.onKeyExchangeMessage.bind(this))}onKeyExchangeMessage(e){const{relayPersistence:n}=this.communicationLayer.remote.state;if(me.KeyExchange(`[KeyExchange: onKeyExchangeMessage()] context=${this.context} keysExchanged=${this.keysExchanged} relayPersistence=${n}`,e),n)return void me.KeyExchange("[KeyExchange: onKeyExchangeMessage()] Ignoring key exchange message because relay persistence is activated");const{message:r}=e;this.keysExchanged&&me.KeyExchange(`[KeyExchange: onKeyExchangeMessage()] context=${this.context} received handshake while already exchanged. step=${this.step} otherPubKey=${this.otherPublicKey}`),this.emit(Pe.KEY_INFO,r.type),r.type===Ut.KEY_HANDSHAKE_SYN?(this.checkStep([Ut.KEY_HANDSHAKE_NONE,Ut.KEY_HANDSHAKE_ACK]),me.KeyExchange("[KeyExchange: onKeyExchangeMessage()] KEY_HANDSHAKE_SYN",r),r.pubkey&&this.setOtherPublicKey(r.pubkey),this.communicationLayer.sendMessage({type:Ut.KEY_HANDSHAKE_SYNACK,pubkey:this.myPublicKey}).catch(i=>{me.KeyExchange("[KeyExchange: onKeyExchangeMessage()] Error sending KEY_HANDSHAKE_SYNACK",i)}),this.setStep(Ut.KEY_HANDSHAKE_ACK)):r.type===Ut.KEY_HANDSHAKE_SYNACK?(this.checkStep([Ut.KEY_HANDSHAKE_SYNACK,Ut.KEY_HANDSHAKE_ACK,Ut.KEY_HANDSHAKE_NONE]),me.KeyExchange("[KeyExchange: onKeyExchangeMessage()] KEY_HANDSHAKE_SYNACK"),r.pubkey&&this.setOtherPublicKey(r.pubkey),this.communicationLayer.sendMessage({type:Ut.KEY_HANDSHAKE_ACK}).catch(i=>{me.KeyExchange("[KeyExchange: onKeyExchangeMessage()] Error sending KEY_HANDSHAKE_ACK",i)}),this.keysExchanged=!0,this.setStep(Ut.KEY_HANDSHAKE_ACK),this.emit(Pe.KEYS_EXCHANGED)):r.type===Ut.KEY_HANDSHAKE_ACK&&(me.KeyExchange("[KeyExchange: onKeyExchangeMessage()] KEY_HANDSHAKE_ACK set keysExchanged to true!"),this.checkStep([Ut.KEY_HANDSHAKE_ACK,Ut.KEY_HANDSHAKE_NONE]),this.keysExchanged=!0,this.setStep(Ut.KEY_HANDSHAKE_ACK),this.emit(Pe.KEYS_EXCHANGED))}resetKeys(e){this.clean(),this.myECIES=new m6(e)}clean(){me.KeyExchange(`[KeyExchange: clean()] context=${this.context} reset handshake state`),this.setStep(Ut.KEY_HANDSHAKE_NONE),this.emit(Pe.KEY_INFO,this.step),this.keysExchanged=!1}start({isOriginator:e,force:n}){const{relayPersistence:r,protocolVersion:i}=this.communicationLayer.remote.state,o=i>=2;r?me.KeyExchange("[KeyExchange: start()] Ignoring key exchange message because relay persistence is activated"):(me.KeyExchange(`[KeyExchange: start()] context=${this.context} protocolVersion=${i} isOriginator=${e} step=${this.step} force=${n} relayPersistence=${r} keysExchanged=${this.keysExchanged}`),e?!(this.keysExchanged||this.step!==Ut.KEY_HANDSHAKE_NONE&&this.step!==Ut.KEY_HANDSHAKE_SYNACK)||n?(me.KeyExchange(`[KeyExchange: start()] context=${this.context} -- start key exchange (force=${n}) -- step=${this.step}`,this.step),this.clean(),this.setStep(Ut.KEY_HANDSHAKE_SYNACK),this.communicationLayer.sendMessage({type:Ut.KEY_HANDSHAKE_SYN,pubkey:this.myPublicKey,v:2}).catch(s=>{me.KeyExchange("[KeyExchange: start()] Error sending KEY_HANDSHAKE_SYN",s)})):me.KeyExchange(`[KeyExchange: start()] context=${this.context} -- key exchange already ${this.keysExchanged?"done":"in progress"} -- aborted.`,this.step):this.keysExchanged&&n!==!0?me.KeyExchange("[KeyExchange: start()] don't send KEY_HANDSHAKE_START -- exchange already done."):o?this.communicationLayer.sendMessage({type:Ut.KEY_HANDSHAKE_SYNACK,pubkey:this.myPublicKey,v:2}).catch(s=>{me.KeyExchange("[KeyExchange: start()] Error sending KEY_HANDSHAKE_SYNACK",s)}):(this.communicationLayer.sendMessage({type:Ut.KEY_HANDSHAKE_START}).catch(s=>{me.KeyExchange("[KeyExchange: start()] Error sending KEY_HANDSHAKE_START",s)}),this.clean()))}setStep(e){this.step=e,this.emit(Pe.KEY_INFO,e)}checkStep(e){e.length>0&&e.indexOf(this.step.toString())}setRelayPersistence({localKey:e,otherKey:n}){this.otherPublicKey=n,this.myECIES=new m6({privateKey:e,debug:this.debug}),this.keysExchanged=!0}setKeysExchanged(e){this.keysExchanged=e}areKeysExchanged(){return this.keysExchanged}getMyPublicKey(){return this.myPublicKey}getOtherPublicKey(){return this.otherPublicKey}setOtherPublicKey(e){me.KeyExchange("[KeyExchange: setOtherPubKey()]",e),this.otherPublicKey=e}encryptMessage(e){if(!this.otherPublicKey)throw new Error("encryptMessage: Keys not exchanged - missing otherPubKey");return this.myECIES.encrypt(e,this.otherPublicKey)}decryptMessage(e){if(!this.otherPublicKey)throw new Error("decryptMessage: Keys not exchanged - missing otherPubKey");return this.myECIES.decrypt(e)}getKeyInfo(){return{ecies:Object.assign(Object.assign({},this.myECIES.getKeyInfo()),{otherPubKey:this.otherPublicKey}),step:this.step,keysExchanged:this.areKeysExchanged()}}toString(){const e={keyInfo:this.getKeyInfo(),keysExchanged:this.keysExchanged,step:this.step};return JSON.stringify(e)}}(function(t){t.TERMINATE="terminate",t.ANSWER="answer",t.OFFER="offer",t.CANDIDATE="candidate",t.JSONRPC="jsonrpc",t.WALLET_INFO="wallet_info",t.WALLET_INIT="wallet_init",t.ORIGINATOR_INFO="originator_info",t.PAUSE="pause",t.OTP="otp",t.AUTHORIZED="authorized",t.PING="ping",t.READY="ready"})(mn||(mn={})),function(t){t.REQUEST="sdk_connect_request_started",t.REQUEST_MOBILE="sdk_connect_request_started_mobile",t.RECONNECT="sdk_reconnect_request_started",t.CONNECTED="sdk_connection_established",t.CONNECTED_MOBILE="sdk_connection_established_mobile",t.AUTHORIZED="sdk_connection_authorized",t.REJECTED="sdk_connection_rejected",t.TERMINATED="sdk_connection_terminated",t.DISCONNECTED="sdk_disconnected",t.SDK_USE_EXTENSION="sdk_use_extension",t.SDK_RPC_REQUEST="sdk_rpc_request",t.SDK_RPC_REQUEST_RECEIVED="sdk_rpc_request_received",t.SDK_RPC_REQUEST_DONE="sdk_rpc_request_done",t.SDK_EXTENSION_UTILIZED="sdk_extension_utilized",t.SDK_USE_INAPP_BROWSER="sdk_use_inapp_browser"}(Nn||(Nn={}));const wv=(t,e,n)=>xe(void 0,void 0,void 0,function*(){var r,i,o,s,a,c;const{remote:l,state:u}=t,{channelId:d,isOriginator:f}=u;if(e==="error_terminated")return me.SocketService(`handleJoinChannelResults: Channel ${d} terminated`),void t.emit(Pe.TERMINATE);if(!n)return void me.SocketService(`handleJoinChannelResults: No result for channel ${d}`);const{persistence:h,walletKey:g,rejected:p}=n;if(me.SocketService(`handleJoinChannelResults: Channel ${d} persistence=${h} walletKey=${g} rejected=${p}`),p)return me.SocketService(`handleJoinChannelResults: Channel ${d} rejected`),yield t.remote.disconnect({terminate:!0}),t.remote.emit(Pe.REJECTED,{channelId:d}),void t.remote.emitServiceStatusEvent();if(g&&!(!((r=l.state.channelConfig)===null||r===void 0)&&r.otherKey)){t.getKeyExchange().setOtherPublicKey(g),(i=t.state.keyExchange)===null||i===void 0||i.setKeysExchanged(!0),l.state.ready=!0,l.state.authorized=!0,l.emit(Pe.AUTHORIZED);const{communicationLayer:S,storageManager:y}=l.state,b=Object.assign(Object.assign({},l.state.channelConfig),{channelId:(o=l.state.channelId)!==null&&o!==void 0?o:"",validUntil:Date.now()+i0,localKey:S==null?void 0:S.getKeyInfo().ecies.private,otherKey:g});t.sendMessage({type:Ut.KEY_HANDSHAKE_ACK}).catch(_=>{}),(s=t.state.socket)===null||s===void 0||s.emit(mn.PING,{id:d,clientType:f?"dapp":"wallet",context:"on_channel_reconnect",message:""}),yield y==null?void 0:y.persistChannelConfig(b),l.emitServiceStatusEvent(),l.setConnectionStatus(mr.LINKED)}h&&(t.emit(Pe.CHANNEL_PERSISTENCE),(a=t.state.keyExchange)===null||a===void 0||a.setKeysExchanged(!0),l.state.ready=!0,l.state.authorized=!0,l.emit(Pe.AUTHORIZED),Cc(Object.assign(Object.assign({id:d??"",event:f?Nn.CONNECTED:Nn.CONNECTED_MOBILE},t.remote.state.originatorInfo),{sdkVersion:t.remote.state.sdkVersion,commLayer:t.state.communicationLayerPreference,commLayerVersion:lu.version,walletVersion:(c=t.remote.state.walletInfo)===null||c===void 0?void 0:c.version}),u.communicationServerUrl).catch(S=>{}))}),Eh=t=>new Promise(e=>{setTimeout(e,t)}),BO=(t,e,...n)=>xe(void 0,[t,e,...n],void 0,function*(r,i,o=200){let s;const a=Date.now();let c=!1;for(;!c;){if(c=Date.now()-a>3e5,s=i[r],s.elapsedTime!==void 0)return s;yield Eh(o)}throw new Error(`RPC ${r} timed out`)}),_S=t=>xe(void 0,void 0,void 0,function*(){const{state:e}=t,{socket:n,channelId:r,context:i,isOriginator:o,isReconnecting:s}=e;if(s)return me.SocketService("[SocketService: reconnectSocket()] Reconnection already in progress, skipping",t),!1;if(!n)return me.SocketService("[SocketService: reconnectSocket()] socket is not defined",t),!1;if(!r)return!1;const{connected:a}=n;e.isReconnecting=!0,e.reconnectionAttempts=0,me.SocketService(`[SocketService: reconnectSocket()] connected=${a} trying to reconnect after socketio disconnection`,t);try{for(;3>e.reconnectionAttempts;){if(me.SocketService(`[SocketService: reconnectSocket()] Attempt ${e.reconnectionAttempts+1} of 3`,t),yield Eh(200),n.connected)return me.SocketService("Socket already connected --- ping to retrieve messages"),n.emit(mn.PING,{id:r,clientType:o?"dapp":"wallet",context:"on_channel_config",message:""}),!0;e.resumed=!0,n.connect(),t.emit(Pe.SOCKET_RECONNECT);try{if(yield new Promise((c,l)=>{n.emit(Pe.JOIN_CHANNEL,{channelId:r,context:`${i}connect_again`,clientType:o?"dapp":"wallet"},(u,d)=>xe(void 0,void 0,void 0,function*(){try{yield wv(t,u,d),c()}catch(f){l(f)}}))}),yield Eh(100),n.connected)return me.SocketService(`Reconnection successful on attempt ${e.reconnectionAttempts+1}`),!0}catch(c){me.SocketService(`Error during reconnection attempt ${e.reconnectionAttempts+1}:`,c)}e.reconnectionAttempts+=1,3>e.reconnectionAttempts&&(yield Eh(200))}return me.SocketService("Failed to reconnect after 3 attempts"),!1}finally{e.isReconnecting=!1,e.reconnectionAttempts=0}});function OF(t,e){return xe(this,void 0,void 0,function*(){var n;const r=(n=t.state.keyExchange)===null||n===void 0?void 0:n.encryptMessage(JSON.stringify(e)),i={id:t.state.channelId,context:t.state.context,clientType:t.state.isOriginator?"dapp":"wallet",message:r,plaintext:t.state.hasPlaintext?JSON.stringify(e):void 0};return me.SocketService(`[SocketService: encryptAndSendMessage()] context=${t.state.context}`,i),e.type===mn.TERMINATE&&(t.state.manualDisconnect=!0),new Promise((o,s)=>{var a;(a=t.state.socket)===null||a===void 0||a.emit(Pe.MESSAGE,i,(c,l)=>{var u;c&&(me.SocketService(`[SocketService: encryptAndSendMessage()] error=${c}`),s(c)),me.SocketService("[encryptAndSendMessage] response",l),o((u=l==null?void 0:l.success)!==null&&u!==void 0&&u)})})})}var Xf;(function(t){t.RPC_CHECK="rpcCheck",t.SKIPPED_RPC="skippedRpc"})(Xf||(Xf={}));const TF=["eth_sendTransaction","eth_signTypedData","eth_signTransaction","personal_sign","wallet_requestPermissions","wallet_switchEthereumChain","eth_signTypedData_v3","eth_signTypedData_v4","metamask_connectSign","metamask_connectWith","metamask_batch"].map(t=>t.toLowerCase()),lfe=[{event:Pe.CLIENTS_CONNECTED,handler:function(t,e){return n=>xe(this,void 0,void 0,function*(){var r,i,o,s,a,c,l,u,d,f,h;const g=(i=(r=t.remote.state.channelConfig)===null||r===void 0?void 0:r.relayPersistence)!==null&&i!==void 0&&i;if(me.SocketService(`[SocketService: handleClientsConnected()] context=${t.state.context} on 'clients_connected-${e}' relayPersistence=${g} resumed=${t.state.resumed}  clientsPaused=${t.state.clientsPaused} keysExchanged=${(o=t.state.keyExchange)===null||o===void 0?void 0:o.areKeysExchanged()} isOriginator=${t.state.isOriginator}`),t.emit(Pe.CLIENTS_CONNECTED,{isOriginator:t.state.isOriginator,keysExchanged:(s=t.state.keyExchange)===null||s===void 0?void 0:s.areKeysExchanged(),context:t.state.context}),t.state.resumed)t.state.isOriginator||(me.SocketService(`[SocketService: handleClientsConnected()] context=${t.state.context} 'clients_connected' / keysExchanged=${(a=t.state.keyExchange)===null||a===void 0?void 0:a.areKeysExchanged()} -- backward compatibility`),(c=t.state.keyExchange)===null||c===void 0||c.start({isOriginator:(l=t.state.isOriginator)!==null&&l!==void 0&&l})),t.state.resumed=!1;else if(t.state.clientsPaused)me.SocketService("[SocketService: handleClientsConnected()] 'clients_connected' skip sending originatorInfo on pause");else if(!t.state.isOriginator){const p=!g;me.SocketService(`[SocketService: handleClientsConnected()] context=${t.state.context} on 'clients_connected' / keysExchanged=${(u=t.state.keyExchange)===null||u===void 0?void 0:u.areKeysExchanged()} -- force=${p} -- backward compatibility`),me.SocketService(`[SocketService: handleClientsConnected()] context=${t.state.context} on 'clients_connected' / keysExchanged=${(d=t.state.keyExchange)===null||d===void 0?void 0:d.areKeysExchanged()} -- force=${p} -- backward compatibility`),(f=t.state.keyExchange)===null||f===void 0||f.start({isOriginator:(h=t.state.isOriginator)!==null&&h!==void 0&&h,force:p})}t.state.clientsConnected=!0,t.state.clientsPaused=!1})}},{event:Pe.CHANNEL_CREATED,handler:function(t,e){return n=>{me.SocketService(`[SocketService: handleChannelCreated()] context=${t.state.context} on 'channel_created-${e}'`,n),t.emit(Pe.CHANNEL_CREATED,n)}}},{event:Pe.CLIENTS_DISCONNECTED,handler:function(t,e){return()=>{var n;t.state.clientsConnected=!1,me.SocketService(`[SocketService: handlesClientsDisconnected()] context=${t.state.context} on 'clients_disconnected-${e}'`),t.remote.state.relayPersistence?me.SocketService(`[SocketService: handlesClientsDisconnected()] context=${t.state.context} on 'clients_disconnected-${e}' - relayPersistence enabled, skipping key exchange cleanup.`):(t.state.isOriginator&&!t.state.clientsPaused&&((n=t.state.keyExchange)===null||n===void 0||n.clean()),t.emit(Pe.CLIENTS_DISCONNECTED,e))}}},{event:Pe.CONFIG,handler:function(t,e){return n=>xe(this,void 0,void 0,function*(){var r,i,o;me.SocketService(`[SocketService: handleChannelConfig()] update relayPersistence on 'config-${e}'`,n);const{persistence:s,walletKey:a}=n;t.state.isOriginator&&t.remote.state.channelConfig?(n.walletKey&&!t.remote.state.channelConfig.otherKey&&(me.SocketService(`Setting wallet key ${a}`),t.remote.state.channelConfig.otherKey=a,t.getKeyExchange().setOtherPublicKey(n.walletKey),(r=t.state.keyExchange)===null||r===void 0||r.setKeysExchanged(!0),yield t.remote.sendMessage({type:Ut.KEY_HANDSHAKE_ACK}),yield t.remote.sendMessage({type:mn.PING}),yield(i=t.remote.state.storageManager)===null||i===void 0?void 0:i.persistChannelConfig(t.remote.state.channelConfig)),s!==!0||t.remote.state.channelConfig.relayPersistence||(me.SocketService(`Setting relay persistence ${s}`),t.remote.state.channelConfig.relayPersistence=s,t.remote.state.relayPersistence=!0,t.remote.emit(Pe.CHANNEL_PERSISTENCE),t.remote.state.authorized=!0,t.remote.state.ready=!0,t.remote.emit(Pe.AUTHORIZED),yield(o=t.remote.state.storageManager)===null||o===void 0?void 0:o.persistChannelConfig(t.remote.state.channelConfig))):t.state.isOriginator||n.persistence&&(t.remote.state.relayPersistence=!0,t.remote.emit(Pe.CHANNEL_PERSISTENCE))})}},{event:Pe.MESSAGE,handler:function(t,e){return n=>{var r,i,o,s,a,c,l,u,d,f,h,g,p,S,y,b,_,N;const{ackId:O,message:$,error:j}=n,k=(r=t.remote.state.relayPersistence)!==null&&r!==void 0&&r;if(me.SocketService(`[SocketService handleMessage()]  relayPersistence=${k}  context=${t.state.context} on 'message' ${e} keysExchanged=${(i=t.state.keyExchange)===null||i===void 0?void 0:i.areKeysExchanged()}`,n),j)throw me.SocketService(`
      [SocketService handleMessage()] context=${t.state.context}::on 'message' error=${j}`),new Error(j);const T=typeof $=="string";if(!T&&($==null?void 0:$.type)===Ut.KEY_HANDSHAKE_START)return k?void 0:(me.SocketService(`[SocketService handleMessage()] context=${t.state.context}::on 'message' received HANDSHAKE_START isOriginator=${t.state.isOriginator}`,$),void((o=t.state.keyExchange)===null||o===void 0||o.start({isOriginator:(s=t.state.isOriginator)!==null&&s!==void 0&&s,force:!0})));if(!T&&(!((a=$==null?void 0:$.type)===null||a===void 0)&&a.startsWith("key_handshake")))return k?void 0:(me.SocketService(`[SocketService handleMessage()] context=${t.state.context}::on 'message' emit KEY_EXCHANGE`,$),void t.emit(Dw.KEY_EXCHANGE,{message:$,context:t.state.context}));if(T&&!(!((c=t.state.keyExchange)===null||c===void 0)&&c.areKeysExchanged())){let m=!1;try{me.SocketService(`[SocketService handleMessage()] context=${t.state.context}::on 'message' trying to decrypt message`),(l=t.state.keyExchange)===null||l===void 0||l.decryptMessage($),m=!0}catch(w){me.SocketService(`[SocketService handleMessage()] context=${t.state.context}::on 'message' error`,w)}if(!m)return t.state.isOriginator?(d=t.state.keyExchange)===null||d===void 0||d.start({isOriginator:(f=t.state.isOriginator)!==null&&f!==void 0&&f}):t.sendMessage({type:Ut.KEY_HANDSHAKE_START}).catch(w=>{}),void me.SocketService(`Message ignored because invalid key exchange status. step=${(h=t.state.keyExchange)===null||h===void 0?void 0:h.getKeyInfo().step}`,(g=t.state.keyExchange)===null||g===void 0?void 0:g.getKeyInfo(),$);me.SocketService("Invalid key exchange status detected --- updating it."),(u=t.state.keyExchange)===null||u===void 0||u.setKeysExchanged(!0)}else if(!T&&($!=null&&$.type))return void t.emit(Pe.MESSAGE,$);if(!T)return void t.emit(Pe.MESSAGE,$);const L=(p=t.state.keyExchange)===null||p===void 0?void 0:p.decryptMessage($),P=JSON.parse(L??"{}");if(O&&(O==null?void 0:O.length)>0&&(me.SocketService(`[SocketService handleMessage()] context=${t.state.context}::on 'message' ackid=${O} channelId=${e}`),(S=t.state.socket)===null||S===void 0||S.emit(Pe.MESSAGE_ACK,{ackId:O,channelId:e,clientType:t.state.isOriginator?"dapp":"wallet"})),t.state.clientsPaused=(P==null?void 0:P.type)===mn.PAUSE,t.state.isOriginator&&P.data){const m=P.data,w=t.state.rpcMethodTracker[m.id];if(w){const A=Date.now()-w.timestamp;me.SocketService(`[SocketService handleMessage()] context=${t.state.context}::on 'message' received answer for id=${m.id} method=${w.method} responseTime=${A}`,P),t.remote.state.analytics&&TF.includes(w.method.toLowerCase())&&Cc(Object.assign(Object.assign({id:(y=t.remote.state.channelId)!==null&&y!==void 0?y:"",event:Nn.SDK_RPC_REQUEST_DONE,sdkVersion:t.remote.state.sdkVersion,commLayerVersion:lu.version},t.remote.state.originatorInfo),{walletVersion:(b=t.remote.state.walletInfo)===null||b===void 0?void 0:b.version,params:{method:w.method,from:"mobile"}}),t.remote.state.communicationServerUrl).catch(I=>{}),Xm(w.method)&&On.analytics.track(m.error?m.error.code===4001?"sdk_action_rejected":"sdk_action_failed":"sdk_action_succeeded",{action:w.method});const v=Object.assign(Object.assign({},w),{result:m.result,error:m.error?{code:(_=m.error)===null||_===void 0?void 0:_.code,message:(N=m.error)===null||N===void 0?void 0:N.message}:void 0,elapsedTime:A});t.state.rpcMethodTracker[m.id]=v,t.emit(Pe.RPC_UPDATE,v)}}t.emit(Pe.MESSAGE,{message:P})}}},{event:Pe.REJECTED,handler:function(t,e){return n=>xe(this,void 0,void 0,function*(){var r;t.state.isOriginator&&!t.remote.state.ready?(me.SocketService(`[SocketService: handleChannelRejected()] context=${t.state.context} channelId=${e} isOriginator=${t.state.isOriginator} ready=${t.remote.state.ready}`,t.remote.state.originatorInfo),Cc(Object.assign(Object.assign({id:e,event:Nn.REJECTED},t.remote.state.originatorInfo),{sdkVersion:t.remote.state.sdkVersion,commLayer:t.state.communicationLayerPreference,commLayerVersion:lu.version,walletVersion:(r=t.remote.state.walletInfo)===null||r===void 0?void 0:r.version}),t.remote.state.communicationServerUrl).catch(i=>{}),On.analytics.track("sdk_connection_rejected",{transport_type:"websocket"}),yield t.remote.disconnect({terminate:!0}),t.remote.emit(Pe.REJECTED,{channelId:e}),t.remote.setConnectionStatus(mr.DISCONNECTED)):me.SocketService(`[SocketService: handleChannelRejected()] SKIP -- channelId=${e} isOriginator=${t.state.isOriginator} ready=${t.remote.state.ready}`)})}},{event:"clients_waiting_to_join",handler:function(t,e){return n=>{me.SocketService(`[SocketService: handleClientsWaitingToJoin()] context=${t.state.context} on 'clients_waiting_to_join-${e}'`,n),t.emit(Pe.CLIENTS_WAITING,n)}}}],ufe=[{event:Pe.KEY_INFO,handler:function(t){return e=>{me.SocketService("[SocketService: handleKeyInfo()] on 'KEY_INFO'",e),t.emit(Pe.KEY_INFO,e)}}},{event:Pe.KEYS_EXCHANGED,handler:function(t){return()=>{var e,n,r;me.SocketService(`[SocketService: handleKeysExchanged()] on 'keys_exchanged' keyschanged=${(e=t.state.keyExchange)===null||e===void 0?void 0:e.areKeysExchanged()}`);const{channelConfig:i}=t.remote.state;if(i){const s=t.getKeyExchange().getKeyInfo().ecies;i.localKey=s.private,i.otherKey=s.otherPubKey,t.remote.state.channelConfig=i,(n=t.remote.state.storageManager)===null||n===void 0||n.persistChannelConfig(i).catch(a=>{})}t.emit(Pe.KEYS_EXCHANGED,{keysExchanged:(r=t.state.keyExchange)===null||r===void 0?void 0:r.areKeysExchanged(),isOriginator:t.state.isOriginator});const o={keyInfo:t.getKeyInfo()};t.emit(Pe.SERVICE_STATUS,o)}}}];function DO(t,e){me.SocketService(`[SocketService: setupChannelListener()] context=${t.state.context} setting socket listeners for channel ${e}...`);const{socket:n}=t.state,{keyExchange:r}=t.state;n&&t.state.isOriginator&&(t.state.debug&&(n==null||n.io.on("error",i=>{me.SocketService(`[SocketService: setupChannelListener()] context=${t.state.context} socket event=error`,i)}),n==null||n.io.on("reconnect",i=>{me.SocketService(`[SocketService: setupChannelListener()] context=${t.state.context} socket event=reconnect`,i),_S(t).catch(o=>{})}),n==null||n.io.on("reconnect_error",i=>{me.SocketService(`[SocketService: setupChannelListener()] context=${t.state.context} socket event=reconnect_error`,i)}),n==null||n.io.on("reconnect_failed",()=>{me.SocketService(`[SocketService: setupChannelListener()] context=${t.state.context} socket event=reconnect_failed`)})),n==null||n.on("disconnect",i=>(me.SocketService(`[SocketService: setupChannelListener()] on 'disconnect' -- MetaMaskSDK socket disconnected '${i}' begin recovery...`),function(o){return s=>{me.SocketService(`[SocketService: handleDisconnect()] on 'disconnect' manualDisconnect=${o.state.manualDisconnect}`,s),o.state.manualDisconnect||(o.emit(Pe.SOCKET_DISCONNECTED),_S(o).catch(a=>{}))}}(t)(i)))),lfe.forEach(({event:i,handler:o})=>{n==null||n.on(`${i}-${e}`,o(t,e))}),ufe.forEach(({event:i,handler:o})=>{r==null||r.on(i,o(t))}),t.state.setupChannelListeners=!0}class dfe extends O2.EventEmitter2{constructor(e){super(),this.state={clientsConnected:!1,clientsPaused:!1,manualDisconnect:!1,lastRpcId:void 0,rpcMethodTracker:{},hasPlaintext:!1,communicationServerUrl:"",focusListenerAdded:!1,removeFocusListener:void 0,isReconnecting:!1,reconnectionAttempts:0},this.options=e;const{reconnect:n,communicationLayerPreference:r,communicationServerUrl:i,context:o,remote:s,logging:a}=e;this.state.resumed=n,this.state.context=o,this.state.isOriginator=s.state.isOriginator,this.state.communicationLayerPreference=r,this.state.debug=(a==null?void 0:a.serviceLayer)===!0,this.remote=s,(a==null?void 0:a.serviceLayer)===!0&&Vr.enable("SocketService:Layer"),this.state.communicationServerUrl=i,this.state.hasPlaintext=this.state.communicationServerUrl!==r0&&(a==null?void 0:a.plaintext)===!0,me.SocketService(`[SocketService: constructor()] Socket IO url: ${this.state.communicationServerUrl}`),this.initSocket()}initSocket(){var e;const{otherPublicKey:n,ecies:r,logging:i}=this.options,o={autoConnect:!1,transports:ofe,withCredentials:!0},s=this.state.communicationServerUrl;me.SocketService(`[SocketService: initSocket()] Socket IO url: ${s}`),this.state.socket=Xp(s,o),function(c){if(typeof window<"u"&&typeof document<"u"&&(me.SocketService(`[SocketService: setupSocketFocusListener()] hasFocus=${document.hasFocus()}`,c),!c.state.focusListenerAdded)){const l=()=>{me.SocketService("Document has focus --- reconnecting socket"),_S(c).catch(u=>{})};window.addEventListener("focus",l),c.state.focusListenerAdded=!0,c.state.removeFocusListener=()=>{window.removeEventListener("focus",l),c.state.focusListenerAdded=!1}}}(this);const a={communicationLayer:this,otherPublicKey:n,sendPublicKey:!1,context:(e=this.state.context)!==null&&e!==void 0?e:"",ecies:r,logging:i};this.state.keyExchange=new cfe(a)}resetKeys(){return me.SocketService("[SocketService: resetKeys()] Resetting keys."),void((e=this.state.keyExchange)===null||e===void 0||e.resetKeys());var e}createChannel(){return xe(this,void 0,void 0,function*(){return function(e){return xe(this,void 0,void 0,function*(){var n,r,i;if(me.SocketService(`[SocketService: createChannel()] context=${e.state.context}`),e.state.socket||e.initSocket(),(n=e.state.socket)===null||n===void 0?void 0:n.connected)throw new Error("socket already connected");(r=e.state.socket)===null||r===void 0||r.connect(),e.state.manualDisconnect=!1,e.state.isOriginator=!0;const o=_l();e.state.channelId=o,DO(e,o),yield new Promise((a,c)=>{var l;(l=e.state.socket)===null||l===void 0||l.emit(Pe.JOIN_CHANNEL,{channelId:o,context:`${e.state.context}createChannel`,clientType:"dapp"},(u,d)=>xe(this,void 0,void 0,function*(){try{yield wv(e,u,d),a()}catch(f){c(f)}}))});const s=(i=e.state.keyExchange)===null||i===void 0?void 0:i.getKeyInfo();return{channelId:o,pubKey:(s==null?void 0:s.ecies.public)||"",privKey:(s==null?void 0:s.ecies.private)||""}})}(this)})}connectToChannel({channelId:e,withKeyExchange:n=!1,authorized:r}){return function(i){return xe(this,arguments,void 0,function*({options:o,instance:s}){const{channelId:a,authorized:c,withKeyExchange:l}=o,{state:u,remote:d}=s,{isOriginator:f=!1,socket:h,keyExchange:g}=u,{channelConfig:p}=d.state;if(h!=null&&h.connected)throw new Error("socket already connected");if(f&&(p!=null&&p.relayPersistence)){const{localKey:S,otherKey:y}=p;S&&y&&(g==null||g.setRelayPersistence({localKey:S,otherKey:y}))}return Object.assign(u,{manualDisconnect:!1,withKeyExchange:l,isOriginator:f,channelId:a}),h==null||h.connect(),DO(s,a),!f&&c&&(g==null||g.setKeysExchanged(!0),Object.assign(d.state,{ready:!0,authorized:!0})),new Promise(S=>{var y;const b=(y=g==null?void 0:g.getKeyInfo())===null||y===void 0?void 0:y.ecies.public;h==null||h.emit(Pe.JOIN_CHANNEL,{channelId:a,context:`${u.context}_connectToChannel`,clientType:f?"dapp":"wallet",publicKey:c&&!f?b:void 0},(_,N)=>xe(this,void 0,void 0,function*(){yield wv(s,_,N),S()}))})})}({options:{channelId:e,withKeyExchange:n,authorized:r},instance:this})}getKeyInfo(){return this.state.keyExchange.getKeyInfo()}keyCheck(){var e,n;(n=(e=this).state.socket)===null||n===void 0||n.emit(Pe.MESSAGE,{id:e.state.channelId,context:e.state.context,message:{type:Ut.KEY_HANDSHAKE_CHECK,pubkey:e.getKeyInfo().ecies.otherPubKey}})}getKeyExchange(){return this.state.keyExchange}sendMessage(e){return xe(this,void 0,void 0,function*(){return function(n,r){return xe(this,void 0,void 0,function*(){var i,o,s;if(!n.state.channelId)throw me.SocketService("handleSendMessage: no channelId - Create a channel first"),new Error("Create a channel first");if(me.SocketService(`[SocketService: handleSendMessage()] context=${n.state.context} areKeysExchanged=${(i=n.state.keyExchange)===null||i===void 0?void 0:i.areKeysExchanged()}`,r),(o=r==null?void 0:r.type)===null||o===void 0?void 0:o.startsWith("key_handshake"))return function(c,l){var u;me.SocketService(`[SocketService: handleKeyHandshake()] context=${c.state.context}`,l),(u=c.state.socket)===null||u===void 0||u.emit(Pe.MESSAGE,{id:c.state.channelId,context:c.state.context,clientType:c.state.isOriginator?"dapp":"wallet",message:l})}(n,r),!0;(function(c,l){var u;if(!(!((u=c.state.keyExchange)===null||u===void 0)&&u.areKeysExchanged())&&!c.remote.state.relayPersistence)throw me.SocketService(`[SocketService: validateKeyExchange()] context=${c.state.context} ERROR keys not exchanged`,l),new Error("Keys not exchanged BBB")})(n,r),function(c,l){var u;const d=(u=l==null?void 0:l.method)!==null&&u!==void 0?u:"",f=l==null?void 0:l.id;c.state.isOriginator&&f&&(c.state.rpcMethodTracker[f]={id:f,timestamp:Date.now(),method:d},c.emit(Pe.RPC_UPDATE,c.state.rpcMethodTracker[f]))}(n,r);const a=yield OF(n,r);return n.remote.state.analytics&&n.remote.state.isOriginator&&r.method&&TF.includes(r.method.toLowerCase())&&Cc({id:(s=n.remote.state.channelId)!==null&&s!==void 0?s:"",event:Nn.SDK_RPC_REQUEST,params:{method:r.method,from:"mobile"}},n.remote.state.communicationServerUrl).catch(c=>{}),n.remote.state.isOriginator&&r.method&&Xm(r.method)&&On.analytics.track("sdk_action_requested",{action:r.method}),function(c,l){return xe(this,void 0,void 0,function*(){var u;const d=l==null?void 0:l.id,f=(u=l==null?void 0:l.method)!==null&&u!==void 0?u:"";if(c.state.isOriginator&&d)try{const h=BO(d,c.state.rpcMethodTracker,200).then(S=>({type:Xf.RPC_CHECK,result:S})),g=xe(this,void 0,void 0,function*(){const S=yield(b=>xe(void 0,[b],void 0,function*({rpcId:_,instance:N}){for(;N.state.lastRpcId===_||N.state.lastRpcId===void 0;)yield Eh(200);return N.state.lastRpcId}))({instance:c,rpcId:d}),y=yield BO(S,c.state.rpcMethodTracker,200);return{type:Xf.SKIPPED_RPC,result:y}}),p=yield Promise.race([h,g]);if(p.type===Xf.RPC_CHECK){const S=p.result;me.SocketService(`[SocketService:handleRpcReplies()] id=${l.id} ${f} ( ${S.elapsedTime} ms)`,S.result)}else{if(p.type!==Xf.SKIPPED_RPC)throw new Error(`Error handling RPC replies for ${d}`);{const S=Object.assign(Object.assign({},c.state.rpcMethodTracker[d]),{error:new Error("SDK_CONNECTION_ISSUE")});c.emit(Pe.RPC_UPDATE,S);const y={data:Object.assign(Object.assign({},S),{jsonrpc:"2.0"}),name:"metamask-provider"};c.emit(Pe.MESSAGE,{message:y})}}}catch(h){throw h}})}(n,r).catch(c=>{}),a})}(this,e)})}ping(){return function(e){return xe(this,void 0,void 0,function*(){var n,r;me.SocketService(`[SocketService: ping()] context=${e.state.context} originator=${e.state.isOriginator} keysExchanged=${(n=e.state.keyExchange)===null||n===void 0?void 0:n.areKeysExchanged()}`),(r=e.state.socket)===null||r===void 0||r.emit(mn.PING,{id:e.state.channelId,context:"ping",clientType:e.remote.state.isOriginator?"dapp":"wallet",message:""})})}(this)}pause(){return function(e){return xe(this,void 0,void 0,function*(){var n,r;me.SocketService(`[SocketService: pause()] context=${e.state.context}`),e.state.manualDisconnect=!0,!((n=e.state.keyExchange)===null||n===void 0)&&n.areKeysExchanged()&&(yield e.sendMessage({type:mn.PAUSE})),(r=e.state.socket)===null||r===void 0||r.disconnect()})}(this)}isConnected(){var e;return(e=this.state.socket)===null||e===void 0?void 0:e.connected}resume(){return function(e){return xe(this,void 0,void 0,function*(){const{state:n,remote:r}=e,{socket:i,channelId:o,context:s,keyExchange:a,isOriginator:c}=n,{isOriginator:l}=r.state;if(me.SocketService(`[SocketService: resume()] channelId=${o} context=${s} connected=${i==null?void 0:i.connected} manualDisconnect=${n.manualDisconnect} resumed=${n.resumed} keysExchanged=${a==null?void 0:a.areKeysExchanged()}`),!o)throw me.SocketService("[SocketService: resume()] channelId is not defined"),new Error("ChannelId is not defined");i!=null&&i.connected?(me.SocketService("[SocketService: resume()] already connected."),i.emit(mn.PING,{id:o,clientType:l?"dapp":"wallet",context:"on_channel_config",message:""}),r.hasRelayPersistence()||a!=null&&a.areKeysExchanged()||(c?yield e.sendMessage({type:mn.READY}):a==null||a.start({isOriginator:!1}))):(i==null||i.connect(),me.SocketService(`[SocketService: resume()] after connecting socket --> connected=${i==null?void 0:i.connected}`),i==null||i.emit(Pe.JOIN_CHANNEL,{channelId:o,context:`${s}_resume`,clientType:l?"dapp":"wallet"},(u,d)=>xe(this,void 0,void 0,function*(){try{yield wv(e,u,d)}catch{}}))),n.manualDisconnect=!1,n.resumed=!0})}(this)}getRPCMethodTracker(){return this.state.rpcMethodTracker}disconnect(e){return function(n,r){var i,o,s,a,c;me.SocketService(`[SocketService: disconnect()] context=${n.state.context}`,r),r!=null&&r.terminate&&((o=(i=n.state).removeFocusListener)===null||o===void 0||o.call(i),n.state.channelId=r.channelId,(s=n.state.socket)===null||s===void 0||s.removeAllListeners(),(a=n.state.keyExchange)===null||a===void 0||a.clean(),n.remote.state.ready=!1,n.state.socket=void 0,n.state.rpcMethodTracker={}),n.state.manualDisconnect=!0,(c=n.state.socket)===null||c===void 0||c.disconnect()}(this,e)}}var Md,Nr,jO;function ffe(t){return()=>xe(this,void 0,void 0,function*(){var e,n,r;const{state:i}=t;if(i.authorized)return;yield xe(this,void 0,void 0,function*(){for(;!i.walletInfo;)yield Eh(500)});const o="7.3".localeCompare(((e=i.walletInfo)===null||e===void 0?void 0:e.version)||"");if(me.RemoteCommunication(`[RemoteCommunication: handleAuthorizedEvent()] HACK 'authorized' version=${(n=i.walletInfo)===null||n===void 0?void 0:n.version} compareValue=${o}`),o!==1)return;const s=i.platformType===Nr.MobileWeb||i.platformType===Nr.ReactNative||i.platformType===Nr.MetaMaskMobileWebview;me.RemoteCommunication(`[RemoteCommunication: handleAuthorizedEvent()] HACK 'authorized' platform=${i.platformType} secure=${s} channel=${i.channelId} walletVersion=${(r=i.walletInfo)===null||r===void 0?void 0:r.version}`),s&&(i.authorized=!0,t.emit(Pe.AUTHORIZED))})}function hfe(t){return e=>{const{state:n}=t;me.RemoteCommunication(`[RemoteCommunication: handleChannelCreatedEvent()] context=${n.context} on 'channel_created' channelId=${e}`),t.emit(Pe.CHANNEL_CREATED,e)}}function pfe(t,e){return()=>{var n,r,i,o;const{state:s}=t;me.RemoteCommunication(`[RemoteCommunication: handleClientsConnectedEvent()] on 'clients_connected' channel=${s.channelId} keysExchanged=${(r=(n=s.communicationLayer)===null||n===void 0?void 0:n.getKeyInfo())===null||r===void 0?void 0:r.keysExchanged}`),s.analytics&&Cc(Object.assign(Object.assign({id:(i=s.channelId)!==null&&i!==void 0?i:"",event:s.reconnection?Nn.RECONNECT:s.isOriginator?Nn.REQUEST:Nn.REQUEST_MOBILE},s.originatorInfo),{commLayer:e,sdkVersion:s.sdkVersion,walletVersion:(o=s.walletInfo)===null||o===void 0?void 0:o.version,commLayerVersion:lu.version}),s.communicationServerUrl).catch(a=>{}),s.isOriginator&&!s.reconnection&&On.analytics.track("sdk_connection_established",{transport_type:"websocket"}),s.clientsConnected=!0,s.originatorInfoSent=!1,t.emit(Pe.CLIENTS_CONNECTED)}}function gfe(t){return e=>{const{state:n}=t;me.RemoteCommunication(`[RemoteCommunication: handleClientsDisconnectedEvent()] context=${n.context} on 'clients_disconnected' channelId=${e}`),n.relayPersistence||(n.clientsConnected=!1,n.ready=!1,n.authorized=!1),t.emit(Pe.CLIENTS_DISCONNECTED,n.channelId),t.setConnectionStatus(mr.DISCONNECTED)}}function mfe(t){return e=>{var n;const{state:r}=t;if(me.RemoteCommunication(`[RemoteCommunication: handleClientsWaitingEvent()] context=${r.context} on 'clients_waiting' numberUsers=${e} ready=${r.ready} autoStarted=${r.originatorConnectStarted}`),t.setConnectionStatus(mr.WAITING),t.emit(Pe.CLIENTS_WAITING,e),r.originatorConnectStarted){me.RemoteCommunication(`[RemoteCommunication: handleClientsWaitingEvent()] on 'clients_waiting' watch autoStarted=${r.originatorConnectStarted} timeout`,r.autoConnectOptions);const i=((n=r.autoConnectOptions)===null||n===void 0?void 0:n.timeout)||3e3,o=setTimeout(()=>{me.RemoteCommunication(`[RemoteCommunication: handleClientsWaitingEvent()] setTimeout(${i}) terminate channelConfig`,r.autoConnectOptions),r.originatorConnectStarted=!1,r.ready||t.setConnectionStatus(mr.TIMEOUT),clearTimeout(o)},i)}}}function yfe(t,e){return n=>{var r,i,o,s,a,c,l,u;const{state:d}=t;if(me.RemoteCommunication(`[RemoteCommunication: handleKeysExchangedEvent()] context=${d.context} on commLayer.'keys_exchanged' channel=${d.channelId}`,n),(i=(r=d.communicationLayer)===null||r===void 0?void 0:r.getKeyInfo())===null||i===void 0?void 0:i.keysExchanged){const f=Object.assign(Object.assign({},d.channelConfig),{channelId:(o=d.channelId)!==null&&o!==void 0?o:"",validUntil:((s=d.channelConfig)===null||s===void 0?void 0:s.validUntil)||i0,localKey:d.communicationLayer.getKeyInfo().ecies.private,otherKey:d.communicationLayer.getKeyInfo().ecies.otherPubKey});(a=d.storageManager)===null||a===void 0||a.persistChannelConfig(f).catch(h=>{}),t.setConnectionStatus(mr.LINKED)}(function(f,h){var g,p,S,y,b,_,N,O;const{state:$}=f;me.RemoteCommunication(`[RemoteCommunication: setLastActiveDate()] channel=${$.channelId}`,h);const j=Object.assign(Object.assign({},$.channelConfig),{channelId:(g=$.channelId)!==null&&g!==void 0?g:"",validUntil:(S=(p=$.channelConfig)===null||p===void 0?void 0:p.validUntil)!==null&&S!==void 0?S:0,relayPersistence:$.relayPersistence,localKey:(b=(y=$.communicationLayer)===null||y===void 0?void 0:y.state.keyExchange)===null||b===void 0?void 0:b.getKeyInfo().ecies.private,otherKey:(N=(_=$.communicationLayer)===null||_===void 0?void 0:_.state.keyExchange)===null||N===void 0?void 0:N.getKeyInfo().ecies.otherPubKey,lastActive:h.getTime()});(O=$.storageManager)===null||O===void 0||O.persistChannelConfig(j)})(t,new Date),d.analytics&&d.channelId&&Cc(Object.assign(Object.assign({id:d.channelId,event:n.isOriginator?Nn.CONNECTED:Nn.CONNECTED_MOBILE},d.originatorInfo),{sdkVersion:d.sdkVersion,commLayer:e,commLayerVersion:lu.version,walletVersion:(c=d.walletInfo)===null||c===void 0?void 0:c.version}),d.communicationServerUrl).catch(f=>{}),d.isOriginator=n.isOriginator,n.isOriginator||((l=d.communicationLayer)===null||l===void 0||l.sendMessage({type:mn.READY}),d.ready=!0,d.paused=!1),n.isOriginator&&!d.originatorInfoSent&&((u=d.communicationLayer)===null||u===void 0||u.sendMessage({type:mn.ORIGINATOR_INFO,originatorInfo:d.originatorInfo,originator:d.originatorInfo}),d.originatorInfoSent=!0)}}function vfe(t){return e=>{let n=e;e.message&&(n=n.message),function(r,i){const{state:o}=i;if(me.RemoteCommunication(`[RemoteCommunication: onCommunicationLayerMessage()] context=${o.context} on 'message' typeof=${typeof r}`,r),i.state.ready=!0,o.isOriginator||r.type!==mn.ORIGINATOR_INFO)if(o.isOriginator&&r.type===mn.WALLET_INFO)(function(s,a){const{state:c}=s;c.walletInfo=a.walletInfo,c.paused=!1})(i,r);else{if(o.isOriginator&&r.type===mn.WALLET_INIT)(function(s,a){return xe(this,void 0,void 0,function*(){var c,l,u;const{state:d}=s;if(d.isOriginator){const f=a.data||{};if(typeof f=="object"&&"accounts"in f&&"chainId"in f&&"walletKey"in f)try{const{channelConfig:h}=s.state;if(me.RemoteCommunication("WALLET_INIT: channelConfig",JSON.stringify(h,null,2)),h){const g=f.accounts,p=f.chainId,S=f.walletKey;let y,b=!1;"deeplinkProtocol"in f&&(b=!!f.deeplinkProtocol,s.state.deeplinkProtocolAvailable=b),"walletVersion"in f&&(y=f.walletVersion),yield(c=s.state.storageManager)===null||c===void 0?void 0:c.persistChannelConfig(Object.assign(Object.assign({},h),{otherKey:S,walletVersion:y,deeplinkProtocolAvailable:b,relayPersistence:!0})),yield(l=s.state.storageManager)===null||l===void 0?void 0:l.persistAccounts(g),yield(u=s.state.storageManager)===null||u===void 0?void 0:u.persistChainId(p)}s.emit(Pe.WALLET_INIT,{accounts:f.accounts,chainId:f.chainId})}catch{}}})})(i,r).catch(s=>{me.RemoteCommunication(`[RemoteCommunication: onCommunicationLayerMessage()] error=${s}`)});else if(r.type===mn.TERMINATE)(function(s){return xe(this,void 0,void 0,function*(){const{state:a}=s;a.isOriginator&&(yield MF({options:{terminate:!0,sendMessage:!1},instance:s}),s.emit(Pe.TERMINATE))})})(i).catch(s=>{me.RemoteCommunication(`[RemoteCommunication: onCommunicationLayerMessage()] error=${s}`)});else if(r.type===mn.PAUSE)(function(s){const{state:a}=s;a.paused=!0,s.setConnectionStatus(mr.PAUSED)})(i);else if(r.type===mn.READY&&o.isOriginator)(function(s){const{state:a}=s;s.setConnectionStatus(mr.LINKED);const c=a.paused;a.paused=!1,s.emit(Pe.CLIENTS_READY,{isOriginator:a.isOriginator,walletInfo:a.walletInfo}),c&&(a.authorized=!0,s.emit(Pe.AUTHORIZED))})(i);else{if(r.type===mn.OTP&&o.isOriginator)return void function(s,a){var c;const{state:l}=s;s.emit(Pe.OTP,a.otpAnswer),"6.6".localeCompare(((c=l.walletInfo)===null||c===void 0?void 0:c.version)||"")===1&&s.emit(Pe.SDK_RPC_CALL,{method:kr.ETH_REQUESTACCOUNTS,params:[]})}(i,r);r.type===mn.AUTHORIZED&&o.isOriginator&&function(s){const{state:a}=s;a.authorized=!0,s.emit(Pe.AUTHORIZED)}(i)}i.emit(Pe.MESSAGE,r)}else(function(s,a){var c;const{state:l}=s;(c=l.communicationLayer)===null||c===void 0||c.sendMessage({type:mn.WALLET_INFO,walletInfo:l.walletInfo}),l.originatorInfo=a.originatorInfo||a.originator,s.emit(Pe.CLIENTS_READY,{isOriginator:l.isOriginator,originatorInfo:l.originatorInfo}),l.paused=!1})(i,r)}(n,t)}}function wfe(t){return()=>{const{state:e}=t;me.RemoteCommunication("[RemoteCommunication: handleSocketReconnectEvent()] on 'socket_reconnect' -- reset key exchange status / set ready to false"),e.ready=!1,e.authorized=!1,PF(e),t.emitServiceStatusEvent({context:"socket_reconnect"})}}function bfe(t){return()=>{const{state:e}=t;me.RemoteCommunication("[RemoteCommunication: handleSocketDisconnectedEvent()] on 'socket_Disconnected' set ready to false"),e.ready=!1}}function Efe(t){return()=>xe(this,void 0,void 0,function*(){var e,n,r,i,o,s,a;const{state:c}=t;me.RemoteCommunication(`[RemoteCommunication: handleFullPersistenceEvent()] context=${c.context}`),t.state.ready=!0,t.state.clientsConnected=!0,t.state.authorized=!0,t.state.relayPersistence=!0,(e=t.state.communicationLayer)===null||e===void 0||e.getKeyExchange().setKeysExchanged(!0),t.emit(Pe.KEYS_EXCHANGED,{keysExchanged:!0,isOriginator:!0}),t.emit(Pe.AUTHORIZED),t.emit(Pe.CLIENTS_READY),t.emit(Pe.CHANNEL_PERSISTENCE);try{c.channelConfig=Object.assign(Object.assign({},c.channelConfig),{localKey:(n=c.communicationLayer)===null||n===void 0?void 0:n.getKeyExchange().getKeyInfo().ecies.private,otherKey:(r=c.communicationLayer)===null||r===void 0?void 0:r.getKeyExchange().getOtherPublicKey(),channelId:(i=c.channelId)!==null&&i!==void 0?i:"",validUntil:(s=(o=c.channelConfig)===null||o===void 0?void 0:o.validUntil)!==null&&s!==void 0?s:i0,relayPersistence:!0}),yield(a=c.storageManager)===null||a===void 0?void 0:a.persistChannelConfig(c.channelConfig)}catch{}})}function FO({communicationLayerPreference:t,otherPublicKey:e,reconnect:n,ecies:r,communicationServerUrl:i=r0,instance:o}){var s,a,c,l,u,d,f,h,g,p,S;const{state:y}=o;if(me.RemoteCommunication("[initCommunicationLayer()] ",JSON.stringify(y,null,2)),t!==Md.SOCKET)throw new Error("Invalid communication protocol");y.communicationLayer=new dfe({communicationLayerPreference:t,otherPublicKey:e,reconnect:n,transports:y.transports,communicationServerUrl:i,context:y.context,ecies:r,logging:y.logging,remote:o});let b=typeof document<"u"&&document.URL||"",_=typeof document<"u"&&document.title||"";!((s=y.dappMetadata)===null||s===void 0)&&s.url&&(b=y.dappMetadata.url),!((a=y.dappMetadata)===null||a===void 0)&&a.name&&(_=y.dappMetadata.name);const N=(d=(l=(c=y.dappMetadata)===null||c===void 0?void 0:c.name)!==null&&l!==void 0?l:(u=y.dappMetadata)===null||u===void 0?void 0:u.url)!==null&&d!==void 0?d:"N/A",O=typeof window<"u"&&window.location!==void 0&&(f=window.location.hostname)!==null&&f!==void 0?f:N,$={url:b,title:_,source:(h=y.dappMetadata)===null||h===void 0?void 0:h.source,dappId:O,anonId:y.anonId,icon:((g=y.dappMetadata)===null||g===void 0?void 0:g.iconUrl)||((p=y.dappMetadata)===null||p===void 0?void 0:p.base64Icon),platform:y.platformType,apiVersion:lu.version,connector:(S=y.dappMetadata)===null||S===void 0?void 0:S.connector};y.originatorInfo=$;const j={[Pe.AUTHORIZED]:ffe(o),[Pe.MESSAGE]:vfe(o),[Pe.CHANNEL_PERSISTENCE]:Efe(o),[Pe.CLIENTS_CONNECTED]:pfe(o,t),[Pe.KEYS_EXCHANGED]:yfe(o,t),[Pe.SOCKET_DISCONNECTED]:bfe(o),[Pe.SOCKET_RECONNECT]:wfe(o),[Pe.CLIENTS_DISCONNECTED]:gfe(o),[Pe.KEY_INFO]:()=>{},[Pe.CHANNEL_CREATED]:hfe(o),[Pe.CLIENTS_WAITING]:mfe(o),[Pe.RPC_UPDATE]:k=>{o.emit(Pe.RPC_UPDATE,k)}};for(const[k,T]of Object.entries(j))try{y.communicationLayer.on(k,T)}catch{}}function MF(t){return xe(this,arguments,void 0,function*({options:e,instance:n}){const{state:r}=n;return me.RemoteCommunication(`[RemoteCommunication: disconnect()] channel=${r.channelId}`,e),new Promise((i,o)=>{var s,a,c,l,u,d;e!=null&&e.terminate?(n.state.ready&&Cc({id:(s=n.state.channelId)!==null&&s!==void 0?s:"",event:Nn.TERMINATED},n.state.communicationServerUrl).catch(f=>{}),r.ready=!1,r.paused=!1,(a=r.storageManager)===null||a===void 0||a.terminate((c=r.channelId)!==null&&c!==void 0?c:""),n.state.terminated=!0,e.sendMessage?!((l=r.communicationLayer)===null||l===void 0)&&l.getKeyInfo().keysExchanged&&n.state.communicationLayer&&OF(n.state.communicationLayer,{type:mn.TERMINATE}).then(()=>{i(!0)}).catch(f=>{o(f)}):i(!0),r.authorized=!1,r.relayPersistence=!1,r.channelId=_l(),e.channelId=r.channelId,r.channelConfig=void 0,r.originatorConnectStarted=!1,(u=r.communicationLayer)===null||u===void 0||u.disconnect(e),n.setConnectionStatus(mr.TERMINATED)):((d=r.communicationLayer)===null||d===void 0||d.disconnect(e),n.setConnectionStatus(mr.DISCONNECTED),i(!0))})})}(Md||(Md={})).SOCKET="socket",function(t){t.NonBrowser="nodejs",t.MetaMaskMobileWebview="in-app-browser",t.DesktopWeb="web-desktop",t.MobileWeb="web-mobile",t.ReactNative="react-native"}(Nr||(Nr={}));class xfe extends O2.EventEmitter2{constructor(e){super(),this.state={ready:!1,anonId:"",authorized:!1,isOriginator:!1,terminated:!1,protocolVersion:1,paused:!1,deeplinkProtocolAvailable:!1,platformType:"metamask-mobile",analytics:!1,reconnection:!1,originatorInfoSent:!1,communicationServerUrl:r0,context:"",persist:!1,clientsConnected:!1,sessionDuration:i0,originatorConnectStarted:!1,debug:!1,_connectionStatus:mr.DISCONNECTED},this._options=e;const{anonId:n,platformType:r,communicationLayerPreference:i,otherPublicKey:o,reconnect:s,walletInfo:a,dappMetadata:c,protocolVersion:l,transports:u,context:d,relayPersistence:f,ecies:h,analytics:g=!1,storage:p,sdkVersion:S,communicationServerUrl:y=r0,logging:b,autoConnect:_={timeout:sfe}}=e;this.state.anonId=n,this.state.otherPublicKey=o,this.state.dappMetadata=c,this.state.walletInfo=a,this.state.transports=u,this.state.platformType=r,this.state.analytics=g,this.state.protocolVersion=l??1,this.state.isOriginator=!o,this.state.relayPersistence=f,this.state.communicationServerUrl=y,this.state.context=d,this.state.terminated=!1,this.state.sdkVersion=S,this.setMaxListeners(50),this.setConnectionStatus(mr.DISCONNECTED),p!=null&&p.duration&&(this.state.sessionDuration=i0),this.state.storageOptions=p,this.state.autoConnectOptions=_,this.state.debug=(b==null?void 0:b.remoteLayer)===!0,(b==null?void 0:b.remoteLayer)===!0&&Vr.enable("RemoteCommunication:Layer"),(b==null?void 0:b.serviceLayer)===!0&&Vr.enable("SocketService:Layer"),(b==null?void 0:b.eciesLayer)===!0&&Vr.enable("ECIES:Layer"),(b==null?void 0:b.keyExchangeLayer)===!0&&Vr.enable("KeyExchange:Layer"),this.state.logging=b,p!=null&&p.storageManager&&(this.state.storageManager=p.storageManager),me.RemoteCommunication(`[RemoteCommunication: constructor()] protocolVersion=${l} relayPersistence=${f} isOriginator=${this.state.isOriginator} communicationLayerPreference=${i} otherPublicKey=${o} reconnect=${s}`),this.state.isOriginator||FO({communicationLayerPreference:i,otherPublicKey:o,reconnect:s,ecies:h,communicationServerUrl:y,instance:this}),this.emitServiceStatusEvent({context:"constructor"})}initFromDappStorage(){return xe(this,void 0,void 0,function*(){var e;if(this.state.storageManager){const n=yield this.state.storageManager.getPersistedChannelConfig({});n&&(this.state.channelConfig=n,this.state.channelId=n.channelId,this.state.deeplinkProtocolAvailable=(e=n.deeplinkProtocolAvailable)!==null&&e!==void 0&&e,n.relayPersistence&&(this.state.authorized=!0,this.state.ready=!0,this.setConnectionStatus(mr.LINKED),yield this.connectToChannel({channelId:n.channelId})))}FO({communicationLayerPreference:Md.SOCKET,otherPublicKey:this.state.otherPublicKey,reconnect:this._options.reconnect,ecies:this._options.ecies,communicationServerUrl:this.state.communicationServerUrl,instance:this})})}originatorSessionConnect(){return xe(this,void 0,void 0,function*(){return yield function(e){return xe(this,void 0,void 0,function*(){var n;const{state:r}=e;if(!r.storageManager)return void me.RemoteCommunication("[RemoteCommunication: originatorSessionConnect()] no storage manager defined - skip");const i=yield r.storageManager.getPersistedChannelConfig({});if(me.RemoteCommunication(`[RemoteCommunication: originatorSessionConnect()] autoStarted=${r.originatorConnectStarted} channelConfig`,i),(n=r.communicationLayer)===null||n===void 0?void 0:n.isConnected())return me.RemoteCommunication("[RemoteCommunication: originatorSessionConnect()] socket already connected - skip"),i;if(i){if(i.validUntil>Date.now())return r.channelConfig=i,r.originatorConnectStarted=!0,r.channelId=i==null?void 0:i.channelId,r.reconnection=!0,i;me.RemoteCommunication("[RemoteCommunication: autoConnect()] Session has expired")}r.originatorConnectStarted=!1})}(this)})}generateChannelIdConnect(){return xe(this,void 0,void 0,function*(){return function(e){return xe(this,void 0,void 0,function*(){var n,r,i,o,s,a;if(!e.communicationLayer)throw new Error("communication layer not initialized");if(e.ready)throw new Error("Channel already connected");if(e.channelId&&(!((n=e.communicationLayer)===null||n===void 0)&&n.isConnected()))return e.channelConfig=Object.assign(Object.assign({},e.channelConfig),{channelId:e.channelId,validUntil:Date.now()+e.sessionDuration}),(r=e.storageManager)===null||r===void 0||r.persistChannelConfig(e.channelConfig),{channelId:e.channelId,privKey:(o=(i=e.communicationLayer)===null||i===void 0?void 0:i.getKeyInfo())===null||o===void 0?void 0:o.ecies.private,pubKey:(a=(s=e.communicationLayer)===null||s===void 0?void 0:s.getKeyInfo())===null||a===void 0?void 0:a.ecies.public};me.RemoteCommunication("[RemoteCommunication: generateChannelId()]");const c=yield e.communicationLayer.createChannel();me.RemoteCommunication("[RemoteCommunication: generateChannelId()] channel created",c);const l=Object.assign(Object.assign({},e.channelConfig),{channelId:c.channelId,localKey:c.privKey,validUntil:Date.now()+e.sessionDuration});return e.channelId=c.channelId,e.channelConfig=l,{channelId:e.channelId,pubKey:c.pubKey,privKey:c.privKey}})}(this.state)})}clean(){return PF(this.state)}connectToChannel({channelId:e,withKeyExchange:n,authorized:r}){return function(i){return xe(this,arguments,void 0,function*({channelId:o,withKeyExchange:s,authorized:a,state:c}){var l,u,d;if(!fS(o))throw me.RemoteCommunication(`[RemoteCommunication: connectToChannel()] context=${c.context} invalid channel channelId=${o}`),new Error(`Invalid channel ${o}`);if(me.RemoteCommunication(`[RemoteCommunication: connectToChannel()] context=${c.context} channelId=${o} withKeyExchange=${s}`),(l=c.communicationLayer)===null||l===void 0?void 0:l.isConnected())return void me.RemoteCommunication(`[RemoteCommunication: connectToChannel()] context=${c.context} already connected - interrupt connection.`);c.channelId=o,yield(u=c.communicationLayer)===null||u===void 0?void 0:u.connectToChannel({channelId:o,authorized:a,withKeyExchange:s});const f=Object.assign(Object.assign({},c.channelConfig),{channelId:o,validUntil:Date.now()+c.sessionDuration});c.channelConfig=f,(d=c.storageManager)===null||d===void 0||d.persistChannelConfig(f)})}({channelId:e,authorized:r,withKeyExchange:n,state:this.state})}sendMessage(e){return xe(this,void 0,void 0,function*(){const n=this.state.isOriginator&&e.method&&Xm(e.method);n&&On.analytics.track("sdk_action_requested",{action:e.method});try{return yield function(r,i){return xe(this,void 0,void 0,function*(){var o,s;const{state:a}=r;me.RemoteCommunication(`[RemoteCommunication: sendMessage()] context=${a.context} paused=${a.paused} ready=${a.ready} relayPersistence=${a.relayPersistence} authorized=${a.authorized} socket=${(o=a.communicationLayer)===null||o===void 0?void 0:o.isConnected()} clientsConnected=${a.clientsConnected} status=${a._connectionStatus}`,i),a.relayPersistence||a.ready&&(!((s=a.communicationLayer)===null||s===void 0)&&s.isConnected())&&a.clientsConnected||(me.RemoteCommunication(`[RemoteCommunication: sendMessage()] context=${a.context}  SKIP message waiting for MM mobile readiness.`),yield new Promise(c=>{r.once(Pe.CLIENTS_READY,c)}),me.RemoteCommunication(`[RemoteCommunication: sendMessage()] context=${a.context}  AFTER SKIP / READY -- sending pending message`));try{return yield function(l,u){return xe(this,void 0,void 0,function*(){return new Promise(d=>{var f;const{state:h}=l;me.RemoteCommunication(`[RemoteCommunication: handleAuthorization()] context=${h.context} ready=${h.ready} authorized=${h.authorized} method=${u.method}`),!h.isOriginator||h.authorized||h.relayPersistence?(f=h.communicationLayer)===null||f===void 0||f.sendMessage(u).then(g=>{d(g)}).catch(g=>{d(!1)}):l.once(Pe.AUTHORIZED,()=>{var g;me.RemoteCommunication(`[RemoteCommunication: handleAuthorization()] context=${h.context}  AFTER SKIP / AUTHORIZED -- sending pending message`),(g=h.communicationLayer)===null||g===void 0||g.sendMessage(u).then(p=>{d(p)}).catch(p=>{d(!1)})})})})}(r,i)}catch(c){throw c}})}(this,e)}catch(r){throw n&&On.analytics.track("sdk_action_failed",{action:e.method}),r}})}testStorage(){return xe(this,void 0,void 0,function*(){return function(e){return xe(this,void 0,void 0,function*(){var n;const r=yield(n=e.storageManager)===null||n===void 0?void 0:n.getPersistedChannelConfig();me.RemoteCommunication("[RemoteCommunication: testStorage()] res",r)})}(this.state)})}hasDeeplinkProtocol(){return this.state.deeplinkProtocolAvailable}getChannelConfig(){return this.state.channelConfig}isReady(){return this.state.ready}isConnected(){var e;return(e=this.state.communicationLayer)===null||e===void 0?void 0:e.isConnected()}isAuthorized(){return this.state.authorized}isPaused(){return this.state.paused}getCommunicationLayer(){return this.state.communicationLayer}ping(){return xe(this,void 0,void 0,function*(){var e;me.RemoteCommunication(`[RemoteCommunication: ping()] channel=${this.state.channelId}`),yield(e=this.state.communicationLayer)===null||e===void 0?void 0:e.ping()})}testLogger(){me.RemoteCommunication(`testLogger() channel=${this.state.channelId}`),me.SocketService(`testLogger() channel=${this.state.channelId}`),me.Ecies(`testLogger() channel=${this.state.channelId}`),me.KeyExchange(`testLogger() channel=${this.state.channelId}`)}keyCheck(){var e;me.RemoteCommunication(`[RemoteCommunication: keyCheck()] channel=${this.state.channelId}`),(e=this.state.communicationLayer)===null||e===void 0||e.keyCheck()}setConnectionStatus(e){this.state._connectionStatus!==e&&(this.state._connectionStatus=e,this.emit(Pe.CONNECTION_STATUS,e),this.emitServiceStatusEvent({context:"setConnectionStatus"}))}emitServiceStatusEvent(e={}){this.emit(Pe.SERVICE_STATUS,this.getServiceStatus())}getConnectionStatus(){return this.state._connectionStatus}getServiceStatus(){return{originatorInfo:this.state.originatorInfo,keyInfo:this.getKeyInfo(),connectionStatus:this.state._connectionStatus,channelConfig:this.state.channelConfig,channelId:this.state.channelId}}getKeyInfo(){var e;return(e=this.state.communicationLayer)===null||e===void 0?void 0:e.getKeyInfo()}resetKeys(){var e;(e=this.state.communicationLayer)===null||e===void 0||e.resetKeys()}setOtherPublicKey(e){var n;const r=(n=this.state.communicationLayer)===null||n===void 0?void 0:n.getKeyExchange();if(!r)throw new Error("KeyExchange is not initialized.");r.getOtherPublicKey()!==e&&r.setOtherPublicKey(e)}pause(){return xe(this,void 0,void 0,function*(){var e;me.RemoteCommunication(`[RemoteCommunication: pause()] channel=${this.state.channelId}`),yield(e=this.state.communicationLayer)===null||e===void 0?void 0:e.pause(),this.setConnectionStatus(mr.PAUSED)})}getVersion(){return lu.version}hasRelayPersistence(){var e;return(e=this.state.relayPersistence)!==null&&e!==void 0&&e}resume(){return xe(this,void 0,void 0,function*(){return function(e){return xe(this,void 0,void 0,function*(){var n;const{state:r}=e;me.RemoteCommunication(`[RemoteCommunication: resume()] channel=${r.channelId}`),yield(n=r.communicationLayer)===null||n===void 0?void 0:n.resume(),e.setConnectionStatus(mr.LINKED)})}(this)})}encrypt(e){var n,r,i;const o=(n=this.state.communicationLayer)===null||n===void 0?void 0:n.getKeyExchange(),s=o==null?void 0:o.getOtherPublicKey();if(!s)throw new Error("KeyExchange not completed");return(i=(r=this.state.communicationLayer)===null||r===void 0?void 0:r.state.eciesInstance)===null||i===void 0?void 0:i.encrypt(e,s)}decrypt(e){var n,r,i;if(!(!((n=this.state.communicationLayer)===null||n===void 0)&&n.state.eciesInstance))throw new Error("ECIES instance is not initialized");return(i=(r=this.state.communicationLayer)===null||r===void 0?void 0:r.state.eciesInstance)===null||i===void 0?void 0:i.decrypt(e)}getChannelId(){return this.state.channelId}getRPCMethodTracker(){var e;return(e=this.state.communicationLayer)===null||e===void 0?void 0:e.getRPCMethodTracker()}reject({channelId:e}){return function(n){return xe(this,arguments,void 0,function*({channelId:r,state:i}){var o,s,a;if(!fS(r))throw me.RemoteCommunication(`[RemoteCommunication: connectToChannel()] context=${i.context} invalid channel channelId=${r}`),new Error(`Invalid channel ${r}`);if(i.isOriginator)return void me.RemoteCommunication(`[RemoteCommunication: reject()] context=${i.context} isOriginator=${i.isOriginator} channelId=${r}`);const{socket:c}=(s=(o=i.communicationLayer)===null||o===void 0?void 0:o.state)!==null&&s!==void 0?s:{};c!=null&&c.connected||(me.RemoteCommunication(`[RemoteCommunication: reject()] context=${i.context} socket already connected`),c==null||c.connect()),Cc(Object.assign(Object.assign({id:r,event:Nn.REJECTED},i.originatorInfo),{sdkVersion:i.sdkVersion,commLayerVersion:lu.version,walletVersion:(a=i.walletInfo)===null||a===void 0?void 0:a.version}),i.communicationServerUrl).catch(l=>{}),yield new Promise((l,u)=>{c==null||c.emit(Pe.REJECTED,{channelId:r},(d,f)=>{me.RemoteCommunication(`[RemoteCommunication: reject()] context=${i.context} socket=${c==null?void 0:c.id}`,{error:d,response:f}),d?u(d):l(f)})})})}({channelId:e,state:this.state})}disconnect(e){return xe(this,void 0,void 0,function*(){return MF({options:e,instance:this})})}}(function(t){t.RENEW="renew",t.LINK="link"})(jO||(jO={}));var Sfe="ERC721",_fe="ERC1155",Cn={errors:{disconnected:()=>"MetaMask: Disconnected from chain. Attempting to connect.",permanentlyDisconnected:()=>"MetaMask: Disconnected from MetaMask background. Page reload required.",sendSiteMetadata:()=>"MetaMask: Failed to send site metadata. This is an internal error, please report this bug.",unsupportedSync:t=>`MetaMask: The MetaMask Ethereum provider does not support synchronous methods like ${t} without a callback parameter.`,invalidDuplexStream:()=>"Must provide a Node.js-style duplex stream.",invalidNetworkParams:()=>"MetaMask: Received invalid network parameters. Please report this bug.",invalidRequestArgs:()=>"Expected a single, non-array, object argument.",invalidRequestMethod:()=>"'args.method' must be a non-empty string.",invalidRequestParams:()=>"'args.params' must be an object or array if provided.",invalidLoggerObject:()=>"'args.logger' must be an object if provided.",invalidLoggerMethod:t=>`'args.logger' must include required method '${t}'.`},info:{connected:t=>`MetaMask: Connected to chain with ID "${t}".`},warnings:{chainIdDeprecation:`MetaMask: 'ethereum.chainId' is deprecated and may be removed in the future. Please use the 'eth_chainId' RPC method instead.
For more information, see: https://github.com/MetaMask/metamask-improvement-proposals/discussions/23`,networkVersionDeprecation:`MetaMask: 'ethereum.networkVersion' is deprecated and may be removed in the future. Please use the 'net_version' RPC method instead.
For more information, see: https://github.com/MetaMask/metamask-improvement-proposals/discussions/23`,selectedAddressDeprecation:`MetaMask: 'ethereum.selectedAddress' is deprecated and may be removed in the future. Please use the 'eth_accounts' RPC method instead.
For more information, see: https://github.com/MetaMask/metamask-improvement-proposals/discussions/23`,enableDeprecation:`MetaMask: 'ethereum.enable()' is deprecated and may be removed in the future. Please use the 'eth_requestAccounts' RPC method instead.
For more information, see: https://eips.ethereum.org/EIPS/eip-1102`,sendDeprecation:`MetaMask: 'ethereum.send(...)' is deprecated and may be removed in the future. Please use 'ethereum.sendAsync(...)' or 'ethereum.request(...)' instead.
For more information, see: https://eips.ethereum.org/EIPS/eip-1193`,events:{close:`MetaMask: The event 'close' is deprecated and may be removed in the future. Please use 'disconnect' instead.
For more information, see: https://eips.ethereum.org/EIPS/eip-1193#disconnect`,data:`MetaMask: The event 'data' is deprecated and will be removed in the future. Use 'message' instead.
For more information, see: https://eips.ethereum.org/EIPS/eip-1193#message`,networkChanged:`MetaMask: The event 'networkChanged' is deprecated and may be removed in the future. Use 'chainChanged' instead.
For more information, see: https://eips.ethereum.org/EIPS/eip-1193#chainchanged`,notification:`MetaMask: The event 'notification' is deprecated and may be removed in the future. Use 'message' instead.
For more information, see: https://eips.ethereum.org/EIPS/eip-1193#message`},rpc:{ethDecryptDeprecation:`MetaMask: The RPC method 'eth_decrypt' is deprecated and may be removed in the future.
For more information, see: https://medium.com/metamask/metamask-api-method-deprecation-2b0564a84686`,ethGetEncryptionPublicKeyDeprecation:`MetaMask: The RPC method 'eth_getEncryptionPublicKey' is deprecated and may be removed in the future.
For more information, see: https://medium.com/metamask/metamask-api-method-deprecation-2b0564a84686`,walletWatchAssetNFTExperimental:`MetaMask: The RPC method 'wallet_watchAsset' is experimental for ERC721/ERC1155 assets and may change in the future.
For more information, see: https://github.com/MetaMask/metamask-improvement-proposals/blob/main/MIPs/mip-1.md and https://github.com/MetaMask/metamask-improvement-proposals/blob/main/PROCESS-GUIDE.md#proposal-lifecycle`},experimentalMethods:"MetaMask: 'ethereum._metamask' exposes non-standard, experimental methods. They may be removed or changed without warning."}};function Cfe(t){const e={ethDecryptDeprecation:!1,ethGetEncryptionPublicKeyDeprecation:!1,walletWatchAssetNFTExperimental:!1};return(n,r,i)=>{var o;e.ethDecryptDeprecation||n.method!=="eth_decrypt"?e.ethGetEncryptionPublicKeyDeprecation||n.method!=="eth_getEncryptionPublicKey"?!e.walletWatchAssetNFTExperimental&&n.method==="wallet_watchAsset"&&[Sfe,_fe].includes(((o=n.params)==null?void 0:o.type)||"")&&(t.warn(Cn.warnings.rpc.walletWatchAssetNFTExperimental),e.walletWatchAssetNFTExperimental=!0):(t.warn(Cn.warnings.rpc.ethGetEncryptionPublicKeyDeprecation),e.ethGetEncryptionPublicKeyDeprecation=!0):(t.warn(Cn.warnings.rpc.ethDecryptDeprecation),e.ethDecryptDeprecation=!0),i()}}var NF=4294967295,UO=Math.floor(Math.random()*NF);function Afe(){return(t,e,n,r)=>{const i=t.id,o=UO=(UO+1)%NF;t.id=o,e.id=o,n(s=>{t.id=i,e.id=i,s()})}}var PA=(t,e,n)=>{if(!e.has(t))throw TypeError("Cannot "+n)},Al=(t,e,n)=>(PA(t,e,"read from private field"),n?n.call(t):e.get(t)),rs=(t,e,n)=>{if(e.has(t))throw TypeError("Cannot add the same private member more than once");e instanceof WeakSet?e.add(t):e.set(t,n)},x1=(t,e,n,r)=>(PA(t,e,"write to private field"),e.set(t,n),n),Ur=(t,e,n)=>(PA(t,e,"access private method"),n),yl={invalidInput:-32e3,resourceNotFound:-32001,resourceUnavailable:-32002,transactionRejected:-32003,methodNotSupported:-32004,limitExceeded:-32005,parse:-32700,invalidRequest:-32600,methodNotFound:-32601,invalidParams:-32602,internal:-32603},zO={"-32700":{standard:"JSON RPC 2.0",message:"Invalid JSON was received by the server. An error occurred on the server while parsing the JSON text."},"-32600":{standard:"JSON RPC 2.0",message:"The JSON sent is not a valid Request object."},"-32601":{standard:"JSON RPC 2.0",message:"The method does not exist / is not available."},"-32602":{standard:"JSON RPC 2.0",message:"Invalid method parameter(s)."},"-32603":{standard:"JSON RPC 2.0",message:"Internal JSON-RPC error."},"-32000":{standard:"EIP-1474",message:"Invalid input."},"-32001":{standard:"EIP-1474",message:"Resource not found."},"-32002":{standard:"EIP-1474",message:"Resource unavailable."},"-32003":{standard:"EIP-1474",message:"Transaction rejected."},"-32004":{standard:"EIP-1474",message:"Method not supported."},"-32005":{standard:"EIP-1474",message:"Request limit exceeded."},4001:{standard:"EIP-1193",message:"User rejected the request."},4100:{standard:"EIP-1193",message:"The requested account and/or method has not been authorized by the user."},4200:{standard:"EIP-1193",message:"The requested method is not supported by this Ethereum provider."},4900:{standard:"EIP-1193",message:"The provider is disconnected from all chains."},4901:{standard:"EIP-1193",message:"The provider is disconnected from the specified chain."}};function HO(t){return!!t&&typeof t=="object"&&!Array.isArray(t)}var jw=(t,e)=>Object.hasOwnProperty.call(t,e);class Ife extends TypeError{constructor(e,n){let r;const{message:i,explanation:o,...s}=e,{path:a}=e,c=a.length===0?i:`At path: ${a.join(".")} -- ${i}`;super(o??c),o!=null&&(this.cause=c),Object.assign(this,s),this.name=this.constructor.name,this.failures=()=>r??(r=[e,...n()])}}function dc(t){return typeof t=="object"&&t!=null}function ha(t){return typeof t=="symbol"?t.toString():typeof t=="string"?JSON.stringify(t):`${t}`}function kfe(t,e,n,r){if(t===!0)return;t===!1?t={}:typeof t=="string"&&(t={message:t});const{path:i,branch:o}=e,{type:s}=n,{refinement:a,message:c=`Expected a value of type \`${s}\`${a?` with refinement \`${a}\``:""}, but received: \`${ha(r)}\``}=t;return{value:r,type:s,refinement:a,key:i[i.length-1],path:i,branch:o,...t,message:c}}function*WO(t,e,n,r){(function(i){return dc(i)&&typeof i[Symbol.iterator]=="function"})(t)||(t=[t]);for(const i of t){const o=kfe(i,e,n,r);o&&(yield o)}}function*OA(t,e,n={}){const{path:r=[],branch:i=[t],coerce:o=!1,mask:s=!1}=n,a={path:r,branch:i};if(o&&(t=e.coercer(t,a),s&&e.type!=="type"&&dc(e.schema)&&dc(t)&&!Array.isArray(t)))for(const l in t)e.schema[l]===void 0&&delete t[l];let c="valid";for(const l of e.validator(t,a))l.explanation=n.message,c="not_valid",yield[l,void 0];for(let[l,u,d]of e.entries(t,a)){const f=OA(u,d,{path:l===void 0?r:[...r,l],branch:l===void 0?i:[...i,u],coerce:o,mask:s,message:n.message});for(const h of f)h[0]?(c=h[0].refinement!=null?"not_refined":"not_valid",yield[h[0],void 0]):o&&(u=h[1],l===void 0?t=u:t instanceof Map?t.set(l,u):t instanceof Set?t.add(u):dc(t)&&(u!==void 0||l in t)&&(t[l]=u))}if(c!=="not_valid")for(const l of e.refiner(t,a))l.explanation=n.message,c="not_refined",yield[l,void 0];c==="valid"&&(yield[void 0,t])}class xs{constructor(e){const{type:n,schema:r,validator:i,refiner:o,coercer:s=c=>c,entries:a=function*(){}}=e;this.type=n,this.schema=r,this.entries=a,this.coercer=s,this.validator=i?(c,l)=>WO(i(c,l),l,this,c):()=>[],this.refiner=o?(c,l)=>WO(o(c,l),l,this,c):()=>[]}assert(e,n){return RF(e,this,n)}create(e,n){return LF(e,this,n)}is(e){return T0(e,this)}mask(e,n){return function(r,i,o){const s=qg(r,i,{coerce:!0,mask:!0,message:o});if(s[0])throw s[0];return s[1]}(e,this,n)}validate(e,n={}){return qg(e,this,n)}}function RF(t,e,n){const r=qg(t,e,{message:n});if(r[0])throw r[0]}function LF(t,e,n){const r=qg(t,e,{coerce:!0,message:n});if(r[0])throw r[0];return r[1]}function T0(t,e){return!qg(t,e)[0]}function qg(t,e,n={}){const r=OA(t,e,n),i=function(o){const{done:s,value:a}=o.next();return s?void 0:a}(r);return i[0]?[new Ife(i[0],function*(){for(const s of r)s[0]&&(yield s[0])}),void 0]:[void 0,i[1]]}function uu(t,e){return new xs({type:t,schema:null,validator:e})}function KO(t){let e;return new xs({type:"lazy",schema:null,*entries(n,r){e??(e=t()),yield*e.entries(n,r)},validator:(n,r)=>(e??(e=t()),e.validator(n,r)),coercer:(n,r)=>(e??(e=t()),e.coercer(n,r)),refiner:(n,r)=>(e??(e=t()),e.refiner(n,r))})}function $F(t){return new xs({type:"array",schema:t,*entries(e){if(t&&Array.isArray(e))for(const[n,r]of e.entries())yield[n,r,t]},coercer:e=>Array.isArray(e)?e.slice():e,validator:e=>Array.isArray(e)||`Expected an array value, but received: ${ha(e)}`})}function BF(t){const e=ha(t),n=typeof t;return new xs({type:"literal",schema:n==="string"||n==="number"||n==="boolean"?t:null,validator:r=>r===t||`Expected the literal \`${e}\`, but received: ${ha(r)}`})}function DF(){return uu("number",t=>typeof t=="number"&&!isNaN(t)||`Expected a number, but received: ${ha(t)}`)}function jF(t){const e=t?Object.keys(t):[],n=uu("never",()=>!1);return new xs({type:"object",schema:t||null,*entries(r){if(t&&dc(r)){const i=new Set(Object.keys(r));for(const o of e)i.delete(o),yield[o,r[o],t[o]];for(const o of i)yield[o,r[o],n]}},validator:r=>dc(r)||`Expected an object, but received: ${ha(r)}`,coercer:r=>dc(r)?{...r}:r})}function qO(t){return new xs({...t,validator:(e,n)=>e===void 0||t.validator(e,n),refiner:(e,n)=>e===void 0||t.refiner(e,n)})}function FF(t,e){return new xs({type:"record",schema:null,*entries(n){if(dc(n))for(const r in n){const i=n[r];yield[r,r,t],yield[r,i,e]}},validator:n=>dc(n)||`Expected an object, but received: ${ha(n)}`})}function du(){return uu("string",t=>typeof t=="string"||`Expected a string, but received: ${ha(t)}`)}function R2(t){const e=t.map(n=>n.type).join(" | ");return new xs({type:"union",schema:null,coercer(n){for(const r of t){const[i,o]=r.validate(n,{coerce:!0});if(!i)return o}return n},validator(n,r){const i=[];for(const o of t){const[...s]=OA(n,o,r),[a]=s;if(!a[0])return[];for(const[c]of s)c&&i.push(c)}return[`Expected the value to satisfy a union of \`${e}\`, but received: ${ha(n)}`,...i]}})}function Pfe(t){return function(e){return function(n){return typeof n=="object"&&n!==null&&"message"in n}(e)&&typeof e.message=="string"?e.message:e==null?"":String(e)}(t).replace(/\.$/u,"")}function Ofe(t,e){var r,i;return n=t,typeof((i=(r=n==null?void 0:n.prototype)==null?void 0:r.constructor)==null?void 0:i.name)=="string"?new t({message:e}):t({message:e});var n}var Tfe=class extends Error{constructor(t){super(t.message),this.code="ERR_ASSERTION"}};function UF(){throw new Error("setTimeout has not been defined")}function zF(){throw new Error("clearTimeout has not been defined")}var al=UF,cl=zF;function HF(t){if(al===setTimeout)return setTimeout(t,0);if((al===UF||!al)&&setTimeout)return al=setTimeout,setTimeout(t,0);try{return al(t,0)}catch{try{return al.call(null,t,0)}catch{return al.call(this,t,0)}}}typeof Yr.setTimeout=="function"&&(al=setTimeout),typeof Yr.clearTimeout=="function"&&(cl=clearTimeout);var Zu,ac=[],xh=!1,bv=-1;function Mfe(){xh&&Zu&&(xh=!1,Zu.length?ac=Zu.concat(ac):bv=-1,ac.length&&WF())}function WF(){if(!xh){var t=HF(Mfe);xh=!0;for(var e=ac.length;e;){for(Zu=ac,ac=[];++bv<e;)Zu&&Zu[bv].run();bv=-1,e=ac.length}Zu=null,xh=!1,function(n){if(cl===clearTimeout)return clearTimeout(n);if((cl===zF||!cl)&&clearTimeout)return cl=clearTimeout,clearTimeout(n);try{return cl(n)}catch{try{return cl.call(null,n)}catch{return cl.call(this,n)}}}(t)}}function KF(t,e){this.fun=t,this.array=e}KF.prototype.run=function(){this.fun.apply(null,this.array)};function Jd(){}var Nfe=Jd,Rfe=Jd,Lfe=Jd,$fe=Jd,Bfe=Jd,Dfe=Jd,jfe=Jd,Tf=Yr.performance||{},Ffe=Tf.now||Tf.mozNow||Tf.msNow||Tf.oNow||Tf.webkitNow||function(){return new Date().getTime()},Ufe=new Date,$t={nextTick:function(t){var e=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)e[n-1]=arguments[n];ac.push(new KF(t,e)),ac.length!==1||xh||HF(WF)},title:"browser",browser:!0,env:{},argv:[],version:"",versions:{},on:Nfe,addListener:Rfe,once:Lfe,off:$fe,removeListener:Bfe,removeAllListeners:Dfe,emit:jfe,binding:function(t){throw new Error("process.binding is not supported")},cwd:function(){return"/"},chdir:function(t){throw new Error("process.chdir is not supported")},umask:function(){return 0},hrtime:function(t){var e=.001*Ffe.call(Tf),n=Math.floor(e),r=Math.floor(e%1*1e9);return t&&(n-=t[0],(r-=t[1])<0&&(n--,r+=1e9)),[n,r]},platform:"browser",release:{},config:{},uptime:function(){return(new Date-Ufe)/1e3}},Vg=t=>jF(t);function VO({path:t,branch:e}){const n=t[t.length-1];return jw(e[e.length-2],n)}function Fw(t){return new xs({...t,type:`optional ${t.type}`,validator:(e,n)=>!VO(n)||t.validator(e,n),refiner:(e,n)=>!VO(n)||t.refiner(e,n)})}var S1,GO,YO,Uw=R2([BF(null),uu("boolean",t=>typeof t=="boolean"),uu("finite number",t=>T0(t,DF())&&Number.isFinite(t)),du(),$F(KO(()=>Uw)),FF(du(),KO(()=>Uw))]),Gg=(S1=Uw,GO=uu("any",()=>!0),YO=t=>(function(e,n,r="Assertion failed",i=Tfe){try{RF(e,n)}catch(o){throw Ofe(i,`${r}: ${Pfe(o)}.`)}}(t,Uw),JSON.parse(JSON.stringify(t,(e,n)=>{if(e!=="__proto__"&&e!=="constructor")return n}))),new xs({...S1,coercer:(t,e)=>T0(t,GO)?S1.coercer(YO(t,e),e):S1.coercer(t,e)}));function CS(t){try{return function(e){LF(e,Gg)}(t),!0}catch{return!1}}var ig=BF("2.0"),Ev=function(t){return new xs({...t,validator:(e,n)=>e===null||t.validator(e,n),refiner:(e,n)=>e===null||t.refiner(e,n)})}(R2([DF(),du()])),AS=Vg({code:uu("integer",t=>typeof t=="number"&&!isNaN(t)&&Number.isInteger(t)||`Expected an integer, but received: ${ha(t)}`),message:du(),data:Fw(Gg),stack:Fw(du())}),qF=R2([FF(du(),Gg),$F(Gg)]),zfe=Vg({id:Ev,jsonrpc:ig,method:du(),params:Fw(qF)}),Hfe=Vg({jsonrpc:ig,method:du(),params:Fw(qF)});function JO(t){return T0(t,zfe)}function ZO(t){return T0(t,AS)}jF({id:Ev,jsonrpc:ig,result:qO(uu("unknown",()=>!0)),error:qO(AS)}),R2([Vg({id:Ev,jsonrpc:ig,result:Gg}),Vg({id:Ev,jsonrpc:ig,error:AS})]);var QO=yl.internal,Wfe="Unspecified error message. This is a bug, please report it.",Kfe={code:QO,message:VF(QO)},qfe="Unspecified server error.";function VF(t,e=Wfe){if(function(n){return Number.isInteger(n)}(t)){const n=t.toString();if(jw(zO,n))return zO[n].message;if(function(r){return r>=-32099&&r<=-32e3}(t))return qfe}return e}function XO(t,{fallbackError:e=Kfe,shouldIncludeStack:n=!0}={}){if(!ZO(e))throw new Error("Must provide fallback error with integer number code and string message.");const r=function(i,o){if(i&&typeof i=="object"&&"serialize"in i&&typeof i.serialize=="function")return i.serialize();if(ZO(i))return i;const s=GF(i);return{...o,data:{cause:s}}}(t,e);return n||delete r.stack,r}function GF(t){return Array.isArray(t)?t.map(e=>CS(e)?e:HO(e)?eT(e):null):HO(t)?eT(t):CS(t)?t:null}function eT(t){return Object.getOwnPropertyNames(t).reduce((e,n)=>{const r=t[n];return CS(r)&&(e[n]=r),e},{})}var YF=Dp;Dp.default=Dp,Dp.stable=tT,Dp.stableStringify=tT;var zw="[...]",JF="[Circular]",Nd=[],Qu=[];function ZF(){return{depthLimit:Number.MAX_SAFE_INTEGER,edgesLimit:Number.MAX_SAFE_INTEGER}}function Dp(t,e,n,r){var i;r===void 0&&(r=ZF()),IS(t,"",0,[],void 0,0,r);try{i=Qu.length===0?JSON.stringify(t,e,n):JSON.stringify(t,QF(e),n)}catch{return JSON.stringify("[unable to serialize, circular reference is too complex to analyze]")}finally{for(;Nd.length!==0;){var o=Nd.pop();o.length===4?Object.defineProperty(o[0],o[1],o[3]):o[0][o[1]]=o[2]}}return i}function Sh(t,e,n,r){var i=Object.getOwnPropertyDescriptor(r,n);i.get!==void 0?i.configurable?(Object.defineProperty(r,n,{value:t}),Nd.push([r,n,e,i])):Qu.push([e,n,t]):(r[n]=t,Nd.push([r,n,e]))}function IS(t,e,n,r,i,o,s){var a;if(o+=1,typeof t=="object"&&t!==null){for(a=0;a<r.length;a++)if(r[a]===t)return void Sh(JF,t,e,i);if(s.depthLimit!==void 0&&o>s.depthLimit||s.edgesLimit!==void 0&&n+1>s.edgesLimit)return void Sh(zw,t,e,i);if(r.push(t),Array.isArray(t))for(a=0;a<t.length;a++)IS(t[a],a,a,r,t,o,s);else{var c=Object.keys(t);for(a=0;a<c.length;a++){var l=c[a];IS(t[l],l,a,r,t,o,s)}}r.pop()}}function Vfe(t,e){return t<e?-1:t>e?1:0}function tT(t,e,n,r){r===void 0&&(r=ZF());var i,o=kS(t,"",0,[],void 0,0,r)||t;try{i=Qu.length===0?JSON.stringify(o,e,n):JSON.stringify(o,QF(e),n)}catch{return JSON.stringify("[unable to serialize, circular reference is too complex to analyze]")}finally{for(;Nd.length!==0;){var s=Nd.pop();s.length===4?Object.defineProperty(s[0],s[1],s[3]):s[0][s[1]]=s[2]}}return i}function kS(t,e,n,r,i,o,s){var a;if(o+=1,typeof t=="object"&&t!==null){for(a=0;a<r.length;a++)if(r[a]===t)return void Sh(JF,t,e,i);try{if(typeof t.toJSON=="function")return}catch{return}if(s.depthLimit!==void 0&&o>s.depthLimit||s.edgesLimit!==void 0&&n+1>s.edgesLimit)return void Sh(zw,t,e,i);if(r.push(t),Array.isArray(t))for(a=0;a<t.length;a++)kS(t[a],a,a,r,t,o,s);else{var c={},l=Object.keys(t).sort(Vfe);for(a=0;a<l.length;a++){var u=l[a];kS(t[u],u,a,r,t,o,s),c[u]=t[u]}if(i===void 0)return c;Nd.push([i,e,t]),i[e]=c}r.pop()}}function QF(t){return t=t!==void 0?t:function(e,n){return n},function(e,n){if(Qu.length>0)for(var r=0;r<Qu.length;r++){var i=Qu[r];if(i[1]===e&&i[0]===n){n=i[2],Qu.splice(r,1);break}}return t.call(this,e,n)}}var Gfe=M2(YF),za=class extends Error{constructor(t,e,n){if(!Number.isInteger(t))throw new Error('"code" must be an integer.');if(!e||typeof e!="string")throw new Error('"message" must be a non-empty string.');super(e),this.code=t,n!==void 0&&(this.data=n)}serialize(){const t={code:this.code,message:this.message};return this.data!==void 0&&(t.data=this.data,function(e){if(typeof e!="object"||e===null)return!1;try{let n=e;for(;Object.getPrototypeOf(n)!==null;)n=Object.getPrototypeOf(n);return Object.getPrototypeOf(e)===n}catch{return!1}}(this.data)&&(t.data.cause=GF(this.data.cause))),this.stack&&(t.stack=this.stack),t}toString(){return Gfe(this.serialize(),Yfe,2)}};function Yfe(t,e){if(e!=="[Circular]")return e}var og=t=>Jfe(yl.invalidRequest,t);function Jfe(t,e){const[n,r]=function(i){if(i){if(typeof i=="string")return[i];if(typeof i=="object"&&!Array.isArray(i)){const{message:o,data:s}=i;if(o&&typeof o!="string")throw new Error("Must specify string message.");return[o??void 0,s]}}return[]}(e);return new za(t,n??VF(t),r)}var XF={};function ll(){}function Ft(){Ft.init.call(this)}function eU(t){return t._maxListeners===void 0?Ft.defaultMaxListeners:t._maxListeners}function nT(t,e,n,r){var i,o,s;if(typeof n!="function")throw new TypeError('"listener" argument must be a function');if((o=t._events)?(o.newListener&&(t.emit("newListener",e,n.listener?n.listener:n),o=t._events),s=o[e]):(o=t._events=new ll,t._eventsCount=0),s){if(typeof s=="function"?s=o[e]=r?[n,s]:[s,n]:r?s.unshift(n):s.push(n),!s.warned&&(i=eU(t))&&i>0&&s.length>i){s.warned=!0;var a=new Error("Possible EventEmitter memory leak detected. "+s.length+" "+e+" listeners added. Use emitter.setMaxListeners() to increase limit");a.name="MaxListenersExceededWarning",a.emitter=t,a.type=e,a.count=s.length,function(c){typeof console.warn=="function"?console.warn(c):console.log(c)}(a)}}else s=o[e]=n,++t._eventsCount;return t}function rT(t,e,n){var r=!1;function i(){t.removeListener(e,i),r||(r=!0,n.apply(t,arguments))}return i.listener=n,i}function iT(t){var e=this._events;if(e){var n=e[t];if(typeof n=="function")return 1;if(n)return n.length}return 0}function Sp(t,e){for(var n=new Array(e);e--;)n[e]=t[e];return n}ll.prototype=Object.create(null),Ft.EventEmitter=Ft,Ft.usingDomains=!1,Ft.prototype.domain=void 0,Ft.prototype._events=void 0,Ft.prototype._maxListeners=void 0,Ft.defaultMaxListeners=10,Ft.init=function(){this.domain=null,Ft.usingDomains&&(void 0).active,this._events&&this._events!==Object.getPrototypeOf(this)._events||(this._events=new ll,this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},Ft.prototype.setMaxListeners=function(t){if(typeof t!="number"||t<0||isNaN(t))throw new TypeError('"n" argument must be a positive number');return this._maxListeners=t,this},Ft.prototype.getMaxListeners=function(){return eU(this)},Ft.prototype.emit=function(t){var e,n,r,i,o,s,a,c=t==="error";if(s=this._events)c=c&&s.error==null;else if(!c)return!1;if(a=this.domain,c){if(e=arguments[1],!a){if(e instanceof Error)throw e;var l=new Error('Uncaught, unspecified "error" event. ('+e+")");throw l.context=e,l}return e||(e=new Error('Uncaught, unspecified "error" event')),e.domainEmitter=this,e.domain=a,e.domainThrown=!1,a.emit("error",e),!1}if(!(n=s[t]))return!1;var u=typeof n=="function";switch(r=arguments.length){case 1:(function(d,f,h){if(f)d.call(h);else for(var g=d.length,p=Sp(d,g),S=0;S<g;++S)p[S].call(h)})(n,u,this);break;case 2:(function(d,f,h,g){if(f)d.call(h,g);else for(var p=d.length,S=Sp(d,p),y=0;y<p;++y)S[y].call(h,g)})(n,u,this,arguments[1]);break;case 3:(function(d,f,h,g,p){if(f)d.call(h,g,p);else for(var S=d.length,y=Sp(d,S),b=0;b<S;++b)y[b].call(h,g,p)})(n,u,this,arguments[1],arguments[2]);break;case 4:(function(d,f,h,g,p,S){if(f)d.call(h,g,p,S);else for(var y=d.length,b=Sp(d,y),_=0;_<y;++_)b[_].call(h,g,p,S)})(n,u,this,arguments[1],arguments[2],arguments[3]);break;default:for(i=new Array(r-1),o=1;o<r;o++)i[o-1]=arguments[o];(function(d,f,h,g){if(f)d.apply(h,g);else for(var p=d.length,S=Sp(d,p),y=0;y<p;++y)S[y].apply(h,g)})(n,u,this,i)}return!0},Ft.prototype.addListener=function(t,e){return nT(this,t,e,!1)},Ft.prototype.on=Ft.prototype.addListener,Ft.prototype.prependListener=function(t,e){return nT(this,t,e,!0)},Ft.prototype.once=function(t,e){if(typeof e!="function")throw new TypeError('"listener" argument must be a function');return this.on(t,rT(this,t,e)),this},Ft.prototype.prependOnceListener=function(t,e){if(typeof e!="function")throw new TypeError('"listener" argument must be a function');return this.prependListener(t,rT(this,t,e)),this},Ft.prototype.removeListener=function(t,e){var n,r,i,o,s;if(typeof e!="function")throw new TypeError('"listener" argument must be a function');if(!(r=this._events))return this;if(!(n=r[t]))return this;if(n===e||n.listener&&n.listener===e)--this._eventsCount==0?this._events=new ll:(delete r[t],r.removeListener&&this.emit("removeListener",t,n.listener||e));else if(typeof n!="function"){for(i=-1,o=n.length;o-- >0;)if(n[o]===e||n[o].listener&&n[o].listener===e){s=n[o].listener,i=o;break}if(i<0)return this;if(n.length===1){if(n[0]=void 0,--this._eventsCount==0)return this._events=new ll,this;delete r[t]}else(function(a,c){for(var l=c,u=l+1,d=a.length;u<d;l+=1,u+=1)a[l]=a[u];a.pop()})(n,i);r.removeListener&&this.emit("removeListener",t,s||e)}return this},Ft.prototype.off=function(t,e){return this.removeListener(t,e)},Ft.prototype.removeAllListeners=function(t){var e,n;if(!(n=this._events))return this;if(!n.removeListener)return arguments.length===0?(this._events=new ll,this._eventsCount=0):n[t]&&(--this._eventsCount==0?this._events=new ll:delete n[t]),this;if(arguments.length===0){for(var r,i=Object.keys(n),o=0;o<i.length;++o)(r=i[o])!=="removeListener"&&this.removeAllListeners(r);return this.removeAllListeners("removeListener"),this._events=new ll,this._eventsCount=0,this}if(typeof(e=n[t])=="function")this.removeListener(t,e);else if(e)do this.removeListener(t,e[e.length-1]);while(e[0]);return this},Ft.prototype.listeners=function(t){var e,n,r=this._events;return n=r&&(e=r[t])?typeof e=="function"?[e.listener||e]:function(i){for(var o=new Array(i.length),s=0;s<o.length;++s)o[s]=i[s].listener||i[s];return o}(e):[],n},Ft.listenerCount=function(t,e){return typeof t.listenerCount=="function"?t.listenerCount(e):iT.call(t,e)},Ft.prototype.listenerCount=iT,Ft.prototype.eventNames=function(){return this._eventsCount>0?Reflect.ownKeys(this._events):[]};var TA=Zm(Object.freeze({__proto__:null,EventEmitter:Ft,default:Ft}));Object.defineProperty(XF,"__esModule",{value:!0});const Zfe=TA;function oT(t,e,n){try{Reflect.apply(t,e,n)}catch(r){setTimeout(()=>{throw r})}}let Qfe=class extends Zfe.EventEmitter{emit(t,...e){let n=t==="error";const r=this._events;if(r!==void 0)n=n&&r.error===void 0;else if(!n)return!1;if(n){let o;if(e.length>0&&([o]=e),o instanceof Error)throw o;const s=new Error("Unhandled error."+(o?` (${o.message})`:""));throw s.context=o,s}const i=r[t];if(i===void 0)return!1;if(typeof i=="function")oT(i,this,e);else{const o=i.length,s=function(a){const c=a.length,l=new Array(c);for(let u=0;u<c;u+=1)l[u]=a[u];return l}(i);for(let a=0;a<o;a+=1)oT(s[a],this,e)}return!0}};var Hw,vl,eh,jp,xv,Sv,PS,_v,OS,y6,sT,Cv,TS,v6,aT,sg,Ww,w6,cT,tU=XF.default=Qfe,Yo=class Av extends tU{constructor({notificationHandler:e}={}){super(),rs(this,jp),rs(this,Sv),rs(this,_v),rs(this,Hw,!1),rs(this,vl,void 0),rs(this,eh,void 0),x1(this,vl,[]),x1(this,eh,e)}destroy(){Al(this,vl).forEach(e=>{"destroy"in e&&typeof e.destroy=="function"&&e.destroy()}),x1(this,vl,[]),x1(this,Hw,!0)}push(e){Ur(this,jp,xv).call(this),Al(this,vl).push(e)}handle(e,n){if(Ur(this,jp,xv).call(this),n&&typeof n!="function")throw new Error('"callback" must be a function if provided.');return Array.isArray(e)?n?Ur(this,Sv,PS).call(this,e,n):Ur(this,Sv,PS).call(this,e):n?Ur(this,_v,OS).call(this,e,n):this._promiseHandle(e)}asMiddleware(){return Ur(this,jp,xv).call(this),async(e,n,r,i)=>{var o,s;try{const[a,c,l]=await Ur(o=Av,Cv,TS).call(o,e,n,Al(this,vl));return c?(await Ur(s=Av,sg,Ww).call(s,l),i(a)):r(async u=>{var d;try{await Ur(d=Av,sg,Ww).call(d,l)}catch(f){return u(f)}return u()})}catch(a){return i(a)}}}async _promiseHandle(e){return new Promise((n,r)=>{Ur(this,_v,OS).call(this,e,(i,o)=>{i&&o===void 0?r(i):n(o)}).catch(r)})}};Hw=new WeakMap,vl=new WeakMap,eh=new WeakMap,jp=new WeakSet,xv=function(){if(Al(this,Hw))throw new Error("This engine is destroyed and can no longer be used.")},Sv=new WeakSet,PS=async function(t,e){try{if(t.length===0){const r=[{id:null,jsonrpc:"2.0",error:new za(yl.invalidRequest,"Request batch must contain plain objects. Received an empty array")}];return e?e(null,r):r}const n=(await Promise.all(t.map(this._promiseHandle.bind(this)))).filter(r=>r!==void 0);return e?e(null,n):n}catch(n){if(e)return e(n);throw n}},_v=new WeakSet,OS=async function(t,e){var n;if(!t||Array.isArray(t)||typeof t!="object"){const s=new za(yl.invalidRequest,"Requests must be plain objects. Received: "+typeof t,{request:t});return e(s,{id:null,jsonrpc:"2.0",error:s})}if(typeof t.method!="string"){const s=new za(yl.invalidRequest,"Must specify a string method. Received: "+typeof t.method,{request:t});return Al(this,eh)&&!JO(t)?e(null):e(s,{id:t.id??null,jsonrpc:"2.0",error:s})}if(Al(this,eh)&&T0(t,Hfe)&&!JO(t)){try{await Al(this,eh).call(this,t)}catch(s){return e(s)}return e(null)}let r=null;const i={...t},o={id:i.id,jsonrpc:i.jsonrpc};try{await Ur(n=Yo,y6,sT).call(n,i,o,Al(this,vl))}catch(s){r=s}return r&&(delete o.result,o.error||(o.error=XO(r))),e(r,o)},y6=new WeakSet,sT=async function(t,e,n){var r,i,o;const[s,a,c]=await Ur(r=Yo,Cv,TS).call(r,t,e,n);if(Ur(i=Yo,w6,cT).call(i,t,e,a),await Ur(o=Yo,sg,Ww).call(o,c),s)throw s},Cv=new WeakSet,TS=async function(t,e,n){var r;const i=[];let o=null,s=!1;for(const a of n)if([o,s]=await Ur(r=Yo,v6,aT).call(r,t,e,a,i),s)break;return[o,s,i.reverse()]},v6=new WeakSet,aT=async function(t,e,n,r){return new Promise(i=>{const o=a=>{const c=a||e.error;c&&(e.error=XO(c)),i([c,!0])},s=a=>{e.error?o(e.error):(a&&(typeof a!="function"&&o(new za(yl.internal,`JsonRpcEngine: "next" return handlers must be functions. Received "${typeof a}" for request:
${b6(t)}`,{request:t})),r.push(a)),i([null,!1]))};try{n(t,e,s,o)}catch(a){o(a)}})},sg=new WeakSet,Ww=async function(t){for(const e of t)await new Promise((n,r)=>{e(i=>i?r(i):n())})},w6=new WeakSet,cT=function(t,e,n){if(!jw(e,"result")&&!jw(e,"error"))throw new za(yl.internal,`JsonRpcEngine: Response has no error or result for request:
${b6(t)}`,{request:t});if(!n)throw new za(yl.internal,`JsonRpcEngine: Nothing ended request:
${b6(t)}`,{request:t})},rs(Yo,y6),rs(Yo,Cv),rs(Yo,v6),rs(Yo,sg),rs(Yo,w6);var Xfe=Yo;function b6(t){return JSON.stringify(t,null,2)}var nU=Object.freeze(["eth_subscription"]),ehe=(t=console)=>[Afe(),the(t),Cfe(t)];function the(t){return(e,n,r)=>{typeof e.method=="string"&&e.method||(n.error=og({message:"The request 'method' must be a non-empty string.",data:e})),r(i=>{const{error:o}=n;return o&&t.error(`MetaMask - RPC Error: ${o.message}`,o),i()})}}var Iv=(t,e,n=!0)=>(r,i)=>{r||i.error?e(r||i.error):!n||Array.isArray(i)?t(i):t(i.result)},rU=t=>!!t&&typeof t=="string"&&t.startsWith("0x"),iU=()=>{};async function lT(t,e){try{const n=await async function(){return{name:nhe(window),icon:await rhe(window)}}();t.handle({jsonrpc:"2.0",id:1,method:"metamask_sendDomainMetadata",params:n},iU)}catch(n){e.error({message:Cn.errors.sendSiteMetadata(),originalError:n})}}function nhe(t){const{document:e}=t,n=e.querySelector('head > meta[property="og:site_name"]');if(n)return n.content;const r=e.querySelector('head > meta[name="title"]');return r?r.content:e.title&&e.title.length>0?e.title:window.location.hostname}async function rhe(t){const{document:e}=t,n=e.querySelectorAll('head > link[rel~="icon"]');for(const r of Array.from(n))if(r&&await ihe(r.href))return r.href;return null}async function ihe(t){return new Promise((e,n)=>{try{const r=document.createElement("img");r.onload=()=>e(!0),r.onerror=()=>e(!1),r.src=t}catch(r){n(r)}})}var oU=(t,e,n)=>{if(!e.has(t))throw TypeError("Cannot "+n)},qs=(t,e,n)=>(oU(t,e,"read from private field"),n?n.call(t):e.get(t)),MS=(t,e,n)=>{if(e.has(t))throw TypeError("Cannot add the same private member more than once");e instanceof WeakSet?e.add(t):e.set(t,n)},Ha=(t,e,n,r)=>(oU(t,e,"write to private field"),e.set(t,n),n);function uT(t,e,n){try{Reflect.apply(t,e,n)}catch(r){setTimeout(()=>{throw r})}}class ohe extends Ft{emit(e,...n){let r=e==="error";const i=this._events;if(i!==void 0)r=r&&i.error===void 0;else if(!r)return!1;if(r){let s;if(n.length>0&&([s]=n),s instanceof Error)throw s;const a=new Error("Unhandled error."+(s?` (${s.message})`:""));throw a.context=s,a}const o=i[e];if(o===void 0)return!1;if(typeof o=="function")uT(o,this,n);else{const s=o.length,a=function(c){const l=c.length,u=new Array(l);for(let d=0;d<l;d+=1)u[d]=c[d];return u}(o);for(let c=0;c<s;c+=1)uT(a[c],this,n)}return!0}}var ul,Lu,she=function t(e,n){if(e===n)return!0;if(e&&n&&typeof e=="object"&&typeof n=="object"){if(e.constructor!==n.constructor)return!1;var r,i,o;if(Array.isArray(e)){if((r=e.length)!=n.length)return!1;for(i=r;i--!=0;)if(!t(e[i],n[i]))return!1;return!0}if(e.constructor===RegExp)return e.source===n.source&&e.flags===n.flags;if(e.valueOf!==Object.prototype.valueOf)return e.valueOf()===n.valueOf();if(e.toString!==Object.prototype.toString)return e.toString()===n.toString();if((r=(o=Object.keys(e)).length)!==Object.keys(n).length)return!1;for(i=r;i--!=0;)if(!Object.prototype.hasOwnProperty.call(n,o[i]))return!1;for(i=r;i--!=0;){var s=o[i];if(!t(e[s],n[s]))return!1}return!0}return e!=e&&n!=n},ahe=M2(she),sU=class aU extends ohe{constructor({logger:e=console,maxEventListeners:n=100,rpcMiddleware:r=[]}={}){super(),MS(this,ul,void 0),MS(this,Lu,void 0),this._log=e,this.setMaxListeners(n),this._state={...aU._defaultState},Ha(this,Lu,null),Ha(this,ul,null),this._handleAccountsChanged=this._handleAccountsChanged.bind(this),this._handleConnect=this._handleConnect.bind(this),this._handleChainChanged=this._handleChainChanged.bind(this),this._handleDisconnect=this._handleDisconnect.bind(this),this._handleUnlockStateChanged=this._handleUnlockStateChanged.bind(this),this._rpcRequest=this._rpcRequest.bind(this),this.request=this.request.bind(this);const i=new Xfe;r.forEach(o=>i.push(o)),this._rpcEngine=i}get chainId(){return qs(this,ul)}get selectedAddress(){return qs(this,Lu)}isConnected(){return this._state.isConnected}async request(e){if(!e||typeof e!="object"||Array.isArray(e))throw og({message:Cn.errors.invalidRequestArgs(),data:e});const{method:n,params:r}=e;if(typeof n!="string"||n.length===0)throw og({message:Cn.errors.invalidRequestMethod(),data:e});if(r!==void 0&&!Array.isArray(r)&&(typeof r!="object"||r===null))throw og({message:Cn.errors.invalidRequestParams(),data:e});const i=r==null?{method:n}:{method:n,params:r};return new Promise((o,s)=>{this._rpcRequest(i,Iv(o,s))})}_initializeState(e){if(this._state.initialized)throw new Error("Provider already initialized.");if(e){const{accounts:n,chainId:r,isUnlocked:i,networkVersion:o}=e;this._handleConnect(r),this._handleChainChanged({chainId:r,networkVersion:o}),this._handleUnlockStateChanged({accounts:n,isUnlocked:i}),this._handleAccountsChanged(n)}this._state.initialized=!0,this.emit("_initialized")}_rpcRequest(e,n){let r=n;return Array.isArray(e)||(e.jsonrpc||(e.jsonrpc="2.0"),e.method!=="eth_accounts"&&e.method!=="eth_requestAccounts"||(r=(i,o)=>{this._handleAccountsChanged(o.result??[],e.method==="eth_accounts"),n(i,o)})),this._rpcEngine.handle(e,r)}_handleConnect(e){this._state.isConnected||(this._state.isConnected=!0,this.emit("connect",{chainId:e}),this._log.debug(Cn.info.connected(e)))}_handleDisconnect(e,n){if(this._state.isConnected||!this._state.isPermanentlyDisconnected&&!e){let r;this._state.isConnected=!1,e?(r=new za(1013,n??Cn.errors.disconnected()),this._log.debug(r)):(r=new za(1011,n??Cn.errors.permanentlyDisconnected()),this._log.error(r),Ha(this,ul,null),this._state.accounts=null,Ha(this,Lu,null),this._state.isUnlocked=!1,this._state.isPermanentlyDisconnected=!0),this.emit("disconnect",r)}}_handleChainChanged({chainId:e}={}){rU(e)?(this._handleConnect(e),e!==qs(this,ul)&&(Ha(this,ul,e),this._state.initialized&&this.emit("chainChanged",qs(this,ul)))):this._log.error(Cn.errors.invalidNetworkParams(),{chainId:e})}_handleAccountsChanged(e,n=!1){let r=e;Array.isArray(e)||(this._log.error("MetaMask: Received invalid accounts parameter. Please report this bug.",e),r=[]);for(const i of e)if(typeof i!="string"){this._log.error("MetaMask: Received non-string account. Please report this bug.",e),r=[];break}if(!ahe(this._state.accounts,r)&&(n&&this._state.accounts!==null&&this._log.error("MetaMask: 'eth_accounts' unexpectedly updated accounts. Please report this bug.",r),this._state.accounts=r,qs(this,Lu)!==r[0]&&Ha(this,Lu,r[0]||null),this._state.initialized)){const i=[...r];this.emit("accountsChanged",i)}}_handleUnlockStateChanged({accounts:e,isUnlocked:n}={}){typeof n=="boolean"?n!==this._state.isUnlocked&&(this._state.isUnlocked=n,this._handleAccountsChanged(e??[])):this._log.error("MetaMask: Received invalid isUnlocked parameter. Please report this bug.")}};ul=new WeakMap,Lu=new WeakMap,sU._defaultState={accounts:null,isConnected:!1,isUnlocked:!1,initialized:!1,isPermanentlyDisconnected:!1};var MA,che=sU,NS={exports:{}},cU=TA.EventEmitter,NA=Zm(Sde);MA=typeof Object.create=="function"?function(t,e){t.super_=e,t.prototype=Object.create(e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}})}:function(t,e){t.super_=e;var n=function(){};n.prototype=e.prototype,t.prototype=new n,t.prototype.constructor=t};var lU=Object.getOwnPropertyDescriptors||function(t){for(var e=Object.keys(t),n={},r=0;r<e.length;r++)n[e[r]]=Object.getOwnPropertyDescriptor(t,e[r]);return n},lhe=/%[sdj%]/g;function L2(t){if(!Yg(t)){for(var e=[],n=0;n<arguments.length;n++)e.push(oa(arguments[n]));return e.join(" ")}n=1;for(var r=arguments,i=r.length,o=String(t).replace(lhe,function(a){if(a==="%%")return"%";if(n>=i)return a;switch(a){case"%s":return String(r[n++]);case"%d":return Number(r[n++]);case"%j":try{return JSON.stringify(r[n++])}catch{return"[Circular]"}default:return a}}),s=r[n];n<i;s=r[++n])ey(s)||!Zd(s)?o+=" "+s:o+=" "+oa(s);return o}function RA(t,e){if(Gs(Yr.process))return function(){return RA(t,e).apply(this,arguments)};if($t.noDeprecation===!0)return t;var n=!1;return function(){if(!n){if($t.throwDeprecation)throw new Error(e);$t.traceDeprecation?console.trace(e):console.error(e),n=!0}return t.apply(this,arguments)}}var E6,_1={};function uU(t){return Gs(E6)&&(E6=$t.env.NODE_DEBUG||""),t=t.toUpperCase(),!_1[t]&&(new RegExp("\\b"+t+"\\b","i").test(E6)?_1[t]=function(){var e=L2.apply(null,arguments);console.error("%s %d: %s",t,0,e)}:_1[t]=function(){}),_1[t]}function oa(t,e){var n={seen:[],stylize:dhe};return arguments.length>=3&&(n.depth=arguments[2]),arguments.length>=4&&(n.colors=arguments[3]),$2(e)?n.showHidden=e:e&&DA(n,e),Gs(n.showHidden)&&(n.showHidden=!1),Gs(n.depth)&&(n.depth=2),Gs(n.colors)&&(n.colors=!1),Gs(n.customInspect)&&(n.customInspect=!0),n.colors&&(n.stylize=uhe),Kw(n,t,n.depth)}function uhe(t,e){var n=oa.styles[e];return n?"\x1B["+oa.colors[n][0]+"m"+t+"\x1B["+oa.colors[n][1]+"m":t}function dhe(t,e){return t}function Kw(t,e,n){if(t.customInspect&&e&&lg(e.inspect)&&e.inspect!==oa&&(!e.constructor||e.constructor.prototype!==e)){var r=e.inspect(n,t);return Yg(r)||(r=Kw(t,r,n)),r}var i=function(f,h){if(Gs(h))return f.stylize("undefined","undefined");if(Yg(h)){var g="'"+JSON.stringify(h).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return f.stylize(g,"string")}if($A(h))return f.stylize(""+h,"number");if($2(h))return f.stylize(""+h,"boolean");if(ey(h))return f.stylize("null","null")}(t,e);if(i)return i;var o=Object.keys(e),s=function(f){var h={};return f.forEach(function(g,p){h[g]=!0}),h}(o);if(t.showHidden&&(o=Object.getOwnPropertyNames(e)),cg(e)&&(o.indexOf("message")>=0||o.indexOf("description")>=0))return x6(e);if(o.length===0){if(lg(e)){var a=e.name?": "+e.name:"";return t.stylize("[Function"+a+"]","special")}if(ag(e))return t.stylize(RegExp.prototype.toString.call(e),"regexp");if(qw(e))return t.stylize(Date.prototype.toString.call(e),"date");if(cg(e))return x6(e)}var c,l="",u=!1,d=["{","}"];return LA(e)&&(u=!0,d=["[","]"]),lg(e)&&(l=" [Function"+(e.name?": "+e.name:"")+"]"),ag(e)&&(l=" "+RegExp.prototype.toString.call(e)),qw(e)&&(l=" "+Date.prototype.toUTCString.call(e)),cg(e)&&(l=" "+x6(e)),o.length!==0||u&&e.length!=0?n<0?ag(e)?t.stylize(RegExp.prototype.toString.call(e),"regexp"):t.stylize("[Object]","special"):(t.seen.push(e),c=u?function(f,h,g,p,S){for(var y=[],b=0,_=h.length;b<_;++b)mU(h,String(b))?y.push(S6(f,h,g,p,String(b),!0)):y.push("");return S.forEach(function(N){N.match(/^\d+$/)||y.push(S6(f,h,g,p,N,!0))}),y}(t,e,n,s,o):o.map(function(f){return S6(t,e,n,s,f,u)}),t.seen.pop(),function(f,h,g){var p=f.reduce(function(S,y){return y.indexOf(`
`),S+y.replace(/\u001b\[\d\d?m/g,"").length+1},0);return p>60?g[0]+(h===""?"":h+`
 `)+" "+f.join(`,
  `)+" "+g[1]:g[0]+h+" "+f.join(", ")+" "+g[1]}(c,l,d)):d[0]+l+d[1]}function x6(t){return"["+Error.prototype.toString.call(t)+"]"}function S6(t,e,n,r,i,o){var s,a,c;if((c=Object.getOwnPropertyDescriptor(e,i)||{value:e[i]}).get?a=c.set?t.stylize("[Getter/Setter]","special"):t.stylize("[Getter]","special"):c.set&&(a=t.stylize("[Setter]","special")),mU(r,i)||(s="["+i+"]"),a||(t.seen.indexOf(c.value)<0?(a=ey(n)?Kw(t,c.value,null):Kw(t,c.value,n-1)).indexOf(`
`)>-1&&(a=o?a.split(`
`).map(function(l){return"  "+l}).join(`
`).substr(2):`
`+a.split(`
`).map(function(l){return"   "+l}).join(`
`)):a=t.stylize("[Circular]","special")),Gs(s)){if(o&&i.match(/^\d+$/))return a;(s=JSON.stringify(""+i)).match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(s=s.substr(1,s.length-2),s=t.stylize(s,"name")):(s=s.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),s=t.stylize(s,"string"))}return s+": "+a}function LA(t){return Array.isArray(t)}function $2(t){return typeof t=="boolean"}function ey(t){return t===null}function dU(t){return t==null}function $A(t){return typeof t=="number"}function Yg(t){return typeof t=="string"}function fU(t){return typeof t=="symbol"}function Gs(t){return t===void 0}function ag(t){return Zd(t)&&BA(t)==="[object RegExp]"}function Zd(t){return typeof t=="object"&&t!==null}function qw(t){return Zd(t)&&BA(t)==="[object Date]"}function cg(t){return Zd(t)&&(BA(t)==="[object Error]"||t instanceof Error)}function lg(t){return typeof t=="function"}function hU(t){return t===null||typeof t=="boolean"||typeof t=="number"||typeof t=="string"||typeof t=="symbol"||t===void 0}function pU(t){return Se.isBuffer(t)}function BA(t){return Object.prototype.toString.call(t)}function _6(t){return t<10?"0"+t.toString(10):t.toString(10)}oa.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},oa.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"};var fhe=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];function gU(){var t,e;console.log("%s - %s",(t=new Date,e=[_6(t.getHours()),_6(t.getMinutes()),_6(t.getSeconds())].join(":"),[t.getDate(),fhe[t.getMonth()],e].join(" ")),L2.apply(null,arguments))}function DA(t,e){if(!e||!Zd(e))return t;for(var n=Object.keys(e),r=n.length;r--;)t[n[r]]=e[n[r]];return t}function mU(t,e){return Object.prototype.hasOwnProperty.call(t,e)}var $u=typeof Symbol<"u"?Symbol("util.promisify.custom"):void 0;function jA(t){if(typeof t!="function")throw new TypeError('The "original" argument must be of type Function');if($u&&t[$u]){var e;if(typeof(e=t[$u])!="function")throw new TypeError('The "util.promisify.custom" argument must be of type Function');return Object.defineProperty(e,$u,{value:e,enumerable:!1,writable:!1,configurable:!0}),e}function e(){for(var n,r,i=new Promise(function(a,c){n=a,r=c}),o=[],s=0;s<arguments.length;s++)o.push(arguments[s]);o.push(function(a,c){a?r(a):n(c)});try{t.apply(this,o)}catch(a){r(a)}return i}return Object.setPrototypeOf(e,Object.getPrototypeOf(t)),$u&&Object.defineProperty(e,$u,{value:e,enumerable:!1,writable:!1,configurable:!0}),Object.defineProperties(e,lU(t))}function hhe(t,e){if(!t){var n=new Error("Promise was rejected with a falsy value");n.reason=t,t=n}return e(t)}function yU(t){if(typeof t!="function")throw new TypeError('The "original" argument must be of type Function');function e(){for(var n=[],r=0;r<arguments.length;r++)n.push(arguments[r]);var i=n.pop();if(typeof i!="function")throw new TypeError("The last argument must be of type Function");var o=this,s=function(){return i.apply(o,arguments)};t.apply(this,n).then(function(a){$t.nextTick(s.bind(null,null,a))},function(a){$t.nextTick(hhe.bind(null,a,s))})}return Object.setPrototypeOf(e,Object.getPrototypeOf(t)),Object.defineProperties(e,lU(t)),e}jA.custom=$u;var C6,dT,phe={inherits:MA,_extend:DA,log:gU,isBuffer:pU,isPrimitive:hU,isFunction:lg,isError:cg,isDate:qw,isObject:Zd,isRegExp:ag,isUndefined:Gs,isSymbol:fU,isString:Yg,isNumber:$A,isNullOrUndefined:dU,isNull:ey,isBoolean:$2,isArray:LA,inspect:oa,deprecate:RA,format:L2,debuglog:uU,promisify:jA,callbackify:yU},vU=Zm(Object.freeze({__proto__:null,_extend:DA,callbackify:yU,debuglog:uU,default:phe,deprecate:RA,format:L2,inherits:MA,inspect:oa,isArray:LA,isBoolean:$2,isBuffer:pU,isDate:qw,isError:cg,isFunction:lg,isNull:ey,isNullOrUndefined:dU,isNumber:$A,isObject:Zd,isPrimitive:hU,isRegExp:ag,isString:Yg,isSymbol:fU,isUndefined:Gs,log:gU,promisify:jA}));function ghe(){if(dT)return C6;function t(c,l){var u=Object.keys(c);if(Object.getOwnPropertySymbols){var d=Object.getOwnPropertySymbols(c);l&&(d=d.filter(function(f){return Object.getOwnPropertyDescriptor(c,f).enumerable})),u.push.apply(u,d)}return u}function e(c){for(var l=1;l<arguments.length;l++){var u=arguments[l]!=null?arguments[l]:{};l%2?t(Object(u),!0).forEach(function(d){n(c,d,u[d])}):Object.getOwnPropertyDescriptors?Object.defineProperties(c,Object.getOwnPropertyDescriptors(u)):t(Object(u)).forEach(function(d){Object.defineProperty(c,d,Object.getOwnPropertyDescriptor(u,d))})}return c}function n(c,l,u){return(l=i(l))in c?Object.defineProperty(c,l,{value:u,enumerable:!0,configurable:!0,writable:!0}):c[l]=u,c}function r(c,l,u){return l&&function(d,f){for(var h=0;h<f.length;h++){var g=f[h];g.enumerable=g.enumerable||!1,g.configurable=!0,"value"in g&&(g.writable=!0),Object.defineProperty(d,i(g.key),g)}}(c.prototype,l),Object.defineProperty(c,"prototype",{writable:!1}),c}function i(c){var l=function(u,d){if(typeof u!="object"||u===null)return u;var f=u[Symbol.toPrimitive];if(f!==void 0){var h=f.call(u,d);if(typeof h!="object")return h;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(u)}(c,"string");return typeof l=="symbol"?l:String(l)}dT=1;var o=NA.Buffer,s=vU.inspect,a=s&&s.custom||"inspect";return C6=function(){function c(){(function(l,u){if(!(l instanceof u))throw new TypeError("Cannot call a class as a function")})(this,c),this.head=null,this.tail=null,this.length=0}return r(c,[{key:"push",value:function(l){var u={data:l,next:null};this.length>0?this.tail.next=u:this.head=u,this.tail=u,++this.length}},{key:"unshift",value:function(l){var u={data:l,next:this.head};this.length===0&&(this.tail=u),this.head=u,++this.length}},{key:"shift",value:function(){if(this.length!==0){var l=this.head.data;return this.length===1?this.head=this.tail=null:this.head=this.head.next,--this.length,l}}},{key:"clear",value:function(){this.head=this.tail=null,this.length=0}},{key:"join",value:function(l){if(this.length===0)return"";for(var u=this.head,d=""+u.data;u=u.next;)d+=l+u.data;return d}},{key:"concat",value:function(l){if(this.length===0)return o.alloc(0);for(var u,d,f,h=o.allocUnsafe(l>>>0),g=this.head,p=0;g;)u=g.data,d=h,f=p,o.prototype.copy.call(u,d,f),p+=g.data.length,g=g.next;return h}},{key:"consume",value:function(l,u){var d;return l<this.head.data.length?(d=this.head.data.slice(0,l),this.head.data=this.head.data.slice(l)):d=l===this.head.data.length?this.shift():u?this._getString(l):this._getBuffer(l),d}},{key:"first",value:function(){return this.head.data}},{key:"_getString",value:function(l){var u=this.head,d=1,f=u.data;for(l-=f.length;u=u.next;){var h=u.data,g=l>h.length?h.length:l;if(g===h.length?f+=h:f+=h.slice(0,l),(l-=g)===0){g===h.length?(++d,u.next?this.head=u.next:this.head=this.tail=null):(this.head=u,u.data=h.slice(g));break}++d}return this.length-=d,f}},{key:"_getBuffer",value:function(l){var u=o.allocUnsafe(l),d=this.head,f=1;for(d.data.copy(u),l-=d.data.length;d=d.next;){var h=d.data,g=l>h.length?h.length:l;if(h.copy(u,u.length-l,0,g),(l-=g)===0){g===h.length?(++f,d.next?this.head=d.next:this.head=this.tail=null):(this.head=d,d.data=h.slice(g));break}++f}return this.length-=f,u}},{key:a,value:function(l,u){return s(this,e(e({},u),{},{depth:0,customInspect:!1}))}}]),c}(),C6}function fT(t,e){RS(t,e),kv(t)}function kv(t){t._writableState&&!t._writableState.emitClose||t._readableState&&!t._readableState.emitClose||t.emit("close")}function RS(t,e){t.emit("error",e)}var wU={destroy:function(t,e){var n=this,r=this._readableState&&this._readableState.destroyed,i=this._writableState&&this._writableState.destroyed;return r||i?(e?e(t):t&&(this._writableState?this._writableState.errorEmitted||(this._writableState.errorEmitted=!0,$t.nextTick(RS,this,t)):$t.nextTick(RS,this,t)),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(t||null,function(o){!e&&o?n._writableState?n._writableState.errorEmitted?$t.nextTick(kv,n):(n._writableState.errorEmitted=!0,$t.nextTick(fT,n,o)):$t.nextTick(fT,n,o):e?($t.nextTick(kv,n),e(o)):$t.nextTick(kv,n)}),this)},undestroy:function(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finalCalled=!1,this._writableState.prefinished=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)},errorOrDestroy:function(t,e){var n=t._readableState,r=t._writableState;n&&n.autoDestroy||r&&r.autoDestroy?t.destroy(e):t.emit("error",e)}},Qd={},bU={};function so(t,e,n){n||(n=Error);var r=function(i){var o,s;function a(c,l,u){return i.call(this,function(d,f,h){return typeof e=="string"?e:e(d,f,h)}(c,l,u))||this}return s=i,(o=a).prototype=Object.create(s.prototype),o.prototype.constructor=o,o.__proto__=s,a}(n);r.prototype.name=n.name,r.prototype.code=t,bU[t]=r}function hT(t,e){if(Array.isArray(t)){var n=t.length;return t=t.map(function(r){return String(r)}),n>2?"one of ".concat(e," ").concat(t.slice(0,n-1).join(", "),", or ")+t[n-1]:n===2?"one of ".concat(e," ").concat(t[0]," or ").concat(t[1]):"of ".concat(e," ").concat(t[0])}return"of ".concat(e," ").concat(String(t))}so("ERR_INVALID_OPT_VALUE",function(t,e){return'The value "'+e+'" is invalid for option "'+t+'"'},TypeError),so("ERR_INVALID_ARG_TYPE",function(t,e,n){var r,i,o;if(typeof e=="string"&&(i="not ",e.substr(0,i.length)===i)?(r="must not be",e=e.replace(/^not /,"")):r="must be",function(a,c,l){return(l===void 0||l>a.length)&&(l=a.length),a.substring(l-c.length,l)===c}(t," argument"))o="The ".concat(t," ").concat(r," ").concat(hT(e,"type"));else{var s=function(a,c,l){return typeof l!="number"&&(l=0),!(l+c.length>a.length)&&a.indexOf(c,l)!==-1}(t,".")?"property":"argument";o='The "'.concat(t,'" ').concat(s," ").concat(r," ").concat(hT(e,"type"))}return o+=". Received type ".concat(typeof n)},TypeError),so("ERR_STREAM_PUSH_AFTER_EOF","stream.push() after EOF"),so("ERR_METHOD_NOT_IMPLEMENTED",function(t){return"The "+t+" method is not implemented"}),so("ERR_STREAM_PREMATURE_CLOSE","Premature close"),so("ERR_STREAM_DESTROYED",function(t){return"Cannot call "+t+" after a stream was destroyed"}),so("ERR_MULTIPLE_CALLBACK","Callback called multiple times"),so("ERR_STREAM_CANNOT_PIPE","Cannot pipe, not readable"),so("ERR_STREAM_WRITE_AFTER_END","write after end"),so("ERR_STREAM_NULL_VALUES","May not write null values to stream",TypeError),so("ERR_UNKNOWN_ENCODING",function(t){return"Unknown encoding: "+t},TypeError),so("ERR_STREAM_UNSHIFT_AFTER_END_EVENT","stream.unshift() after end event"),Qd.codes=bU;var mhe=Qd.codes.ERR_INVALID_OPT_VALUE,A6,pT,I6,gT,EU={getHighWaterMark:function(t,e,n,r){var i=function(o,s,a){return o.highWaterMark!=null?o.highWaterMark:s?o[a]:null}(e,r,n);if(i!=null){if(!isFinite(i)||Math.floor(i)!==i||i<0)throw new mhe(r?n:"highWaterMark",i);return Math.floor(i)}return t.objectMode?16:16384}},yhe=typeof Object.create=="function"?function(t,e){t.super_=e,t.prototype=Object.create(e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}})}:function(t,e){t.super_=e;var n=function(){};n.prototype=e.prototype,t.prototype=new n,t.prototype.constructor=t},ty=Zm(Object.freeze({__proto__:null,default:yhe})),vhe=function(t,e){if(k6("noDeprecation"))return t;var n=!1;return function(){if(!n){if(k6("throwDeprecation"))throw new Error(e);k6("traceDeprecation")?console.trace(e):console.warn(e),n=!0}return t.apply(this,arguments)}};function k6(t){try{if(!Po.localStorage)return!1}catch{return!1}var e=Po.localStorage[t];return e!=null&&String(e).toLowerCase()==="true"}function xU(){if(pT)return A6;function t(m){var w=this;this.next=null,this.entry=null,this.finish=function(){(function(A,v,I){var M=A.entry;for(A.entry=null;M;){var E=M.callback;v.pendingcb--,E(I),M=M.next}v.corkedRequestsFree.next=A})(w,m)}}var e;pT=1,A6=O,O.WritableState=N;var n={deprecate:vhe},r=cU,i=NA.Buffer,o=(Po!==void 0?Po:typeof window<"u"?window:typeof self<"u"?self:{}).Uint8Array||function(){},s,a=wU,c=EU.getHighWaterMark,l=Qd.codes,u=l.ERR_INVALID_ARG_TYPE,d=l.ERR_METHOD_NOT_IMPLEMENTED,f=l.ERR_MULTIPLE_CALLBACK,h=l.ERR_STREAM_CANNOT_PIPE,g=l.ERR_STREAM_DESTROYED,p=l.ERR_STREAM_NULL_VALUES,S=l.ERR_STREAM_WRITE_AFTER_END,y=l.ERR_UNKNOWN_ENCODING,b=a.errorOrDestroy;function _(){}function N(m,w,A){e=e||o0(),m=m||{},typeof A!="boolean"&&(A=w instanceof e),this.objectMode=!!m.objectMode,A&&(this.objectMode=this.objectMode||!!m.writableObjectMode),this.highWaterMark=c(this,m,"writableHighWaterMark",A),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var v=m.decodeStrings===!1;this.decodeStrings=!v,this.defaultEncoding=m.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(I){(function(M,E){var C=M._writableState,x=C.sync,R=C.writecb;if(typeof R!="function")throw new f;if(function(B){B.writing=!1,B.writecb=null,B.length-=B.writelen,B.writelen=0}(C),E)(function(B,z,H,W,G){--z.pendingcb,H?($t.nextTick(G,W),$t.nextTick(P,B,z),B._writableState.errorEmitted=!0,b(B,W)):(G(W),B._writableState.errorEmitted=!0,b(B,W),P(B,z))})(M,C,x,E,R);else{var D=T(C)||M.destroyed;D||C.corked||C.bufferProcessing||!C.bufferedRequest||k(M,C),x?$t.nextTick(j,M,C,D,R):j(M,C,D,R)}})(w,I)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.emitClose=m.emitClose!==!1,this.autoDestroy=!!m.autoDestroy,this.bufferedRequestCount=0,this.corkedRequestsFree=new t(this)}function O(m){var w=this instanceof(e=e||o0());if(!w&&!s.call(O,this))return new O(m);this._writableState=new N(m,this,w),this.writable=!0,m&&(typeof m.write=="function"&&(this._write=m.write),typeof m.writev=="function"&&(this._writev=m.writev),typeof m.destroy=="function"&&(this._destroy=m.destroy),typeof m.final=="function"&&(this._final=m.final)),r.call(this)}function $(m,w,A,v,I,M,E){w.writelen=v,w.writecb=E,w.writing=!0,w.sync=!0,w.destroyed?w.onwrite(new g("write")):A?m._writev(I,w.onwrite):m._write(I,M,w.onwrite),w.sync=!1}function j(m,w,A,v){A||function(I,M){M.length===0&&M.needDrain&&(M.needDrain=!1,I.emit("drain"))}(m,w),w.pendingcb--,v(),P(m,w)}function k(m,w){w.bufferProcessing=!0;var A=w.bufferedRequest;if(m._writev&&A&&A.next){var v=w.bufferedRequestCount,I=new Array(v),M=w.corkedRequestsFree;M.entry=A;for(var E=0,C=!0;A;)I[E]=A,A.isBuf||(C=!1),A=A.next,E+=1;I.allBuffers=C,$(m,w,!0,w.length,I,"",M.finish),w.pendingcb++,w.lastBufferedRequest=null,M.next?(w.corkedRequestsFree=M.next,M.next=null):w.corkedRequestsFree=new t(w),w.bufferedRequestCount=0}else{for(;A;){var x=A.chunk,R=A.encoding,D=A.callback;if($(m,w,!1,w.objectMode?1:x.length,x,R,D),A=A.next,w.bufferedRequestCount--,w.writing)break}A===null&&(w.lastBufferedRequest=null)}w.bufferedRequest=A,w.bufferProcessing=!1}function T(m){return m.ending&&m.length===0&&m.bufferedRequest===null&&!m.finished&&!m.writing}function L(m,w){m._final(function(A){w.pendingcb--,A&&b(m,A),w.prefinished=!0,m.emit("prefinish"),P(m,w)})}function P(m,w){var A=T(w);if(A&&(function(I,M){M.prefinished||M.finalCalled||(typeof I._final!="function"||M.destroyed?(M.prefinished=!0,I.emit("prefinish")):(M.pendingcb++,M.finalCalled=!0,$t.nextTick(L,I,M)))}(m,w),w.pendingcb===0&&(w.finished=!0,m.emit("finish"),w.autoDestroy))){var v=m._readableState;(!v||v.autoDestroy&&v.endEmitted)&&m.destroy()}return A}return ty(O,r),N.prototype.getBuffer=function(){for(var m=this.bufferedRequest,w=[];m;)w.push(m),m=m.next;return w},function(){try{Object.defineProperty(N.prototype,"buffer",{get:n.deprecate(function(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch{}}(),typeof Symbol=="function"&&Symbol.hasInstance&&typeof Function.prototype[Symbol.hasInstance]=="function"?(s=Function.prototype[Symbol.hasInstance],Object.defineProperty(O,Symbol.hasInstance,{value:function(m){return!!s.call(this,m)||this===O&&m&&m._writableState instanceof N}})):s=function(m){return m instanceof this},O.prototype.pipe=function(){b(this,new h)},O.prototype.write=function(m,w,A){var v,I=this._writableState,M=!1,E=!I.objectMode&&(v=m,i.isBuffer(v)||v instanceof o);return E&&!i.isBuffer(m)&&(m=function(C){return i.from(C)}(m)),typeof w=="function"&&(A=w,w=null),E?w="buffer":w||(w=I.defaultEncoding),typeof A!="function"&&(A=_),I.ending?function(C,x){var R=new S;b(C,R),$t.nextTick(x,R)}(this,A):(E||function(C,x,R,D){var B;return R===null?B=new p:typeof R=="string"||x.objectMode||(B=new u("chunk",["string","Buffer"],R)),!B||(b(C,B),$t.nextTick(D,B),!1)}(this,I,m,A))&&(I.pendingcb++,M=function(C,x,R,D,B,z){if(!R){var H=function(J,Y,ee){return J.objectMode||J.decodeStrings===!1||typeof Y!="string"||(Y=i.from(Y,ee)),Y}(x,D,B);D!==H&&(R=!0,B="buffer",D=H)}var W=x.objectMode?1:D.length;x.length+=W;var G=x.length<x.highWaterMark;if(G||(x.needDrain=!0),x.writing||x.corked){var V=x.lastBufferedRequest;x.lastBufferedRequest={chunk:D,encoding:B,isBuf:R,callback:z,next:null},V?V.next=x.lastBufferedRequest:x.bufferedRequest=x.lastBufferedRequest,x.bufferedRequestCount+=1}else $(C,x,!1,W,D,B,z);return G}(this,I,E,m,w,A)),M},O.prototype.cork=function(){this._writableState.corked++},O.prototype.uncork=function(){var m=this._writableState;m.corked&&(m.corked--,m.writing||m.corked||m.bufferProcessing||!m.bufferedRequest||k(this,m))},O.prototype.setDefaultEncoding=function(m){if(typeof m=="string"&&(m=m.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((m+"").toLowerCase())>-1))throw new y(m);return this._writableState.defaultEncoding=m,this},Object.defineProperty(O.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(O.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),O.prototype._write=function(m,w,A){A(new d("_write()"))},O.prototype._writev=null,O.prototype.end=function(m,w,A){var v=this._writableState;return typeof m=="function"?(A=m,m=null,w=null):typeof w=="function"&&(A=w,w=null),m!=null&&this.write(m,w),v.corked&&(v.corked=1,this.uncork()),v.ending||function(I,M,E){M.ending=!0,P(I,M),E&&(M.finished?$t.nextTick(E):I.once("finish",E)),M.ended=!0,I.writable=!1}(this,v,A),this},Object.defineProperty(O.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}}),Object.defineProperty(O.prototype,"destroyed",{enumerable:!1,get:function(){return this._writableState!==void 0&&this._writableState.destroyed},set:function(m){this._writableState&&(this._writableState.destroyed=m)}}),O.prototype.destroy=a.destroy,O.prototype._undestroy=a.undestroy,O.prototype._destroy=function(m,w){w(m)},A6}function o0(){if(gT)return I6;gT=1;var t=Object.keys||function(l){var u=[];for(var d in l)u.push(d);return u};I6=s;var e=SU(),n=xU();ty(s,e);for(var r=t(n.prototype),i=0;i<r.length;i++){var o=r[i];s.prototype[o]||(s.prototype[o]=n.prototype[o])}function s(l){if(!(this instanceof s))return new s(l);e.call(this,l),n.call(this,l),this.allowHalfOpen=!0,l&&(l.readable===!1&&(this.readable=!1),l.writable===!1&&(this.writable=!1),l.allowHalfOpen===!1&&(this.allowHalfOpen=!1,this.once("end",a)))}function a(){this._writableState.ended||$t.nextTick(c,this)}function c(l){l.end()}return Object.defineProperty(s.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),Object.defineProperty(s.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(s.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}}),Object.defineProperty(s.prototype,"destroyed",{enumerable:!1,get:function(){return this._readableState!==void 0&&this._writableState!==void 0&&this._readableState.destroyed&&this._writableState.destroyed},set:function(l){this._readableState!==void 0&&this._writableState!==void 0&&(this._readableState.destroyed=l,this._writableState.destroyed=l)}}),I6}var whe=Se.isEncoding||function(t){switch(t&&t.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function Pv(t){switch(this.encoding=(t||"utf8").toLowerCase().replace(/[-_]/,""),function(e){if(e&&!whe(e))throw new Error("Unknown encoding: "+e)}(t),this.encoding){case"utf8":this.surrogateSize=3;break;case"ucs2":case"utf16le":this.surrogateSize=2,this.detectIncompleteChar=Ehe;break;case"base64":this.surrogateSize=3,this.detectIncompleteChar=xhe;break;default:return void(this.write=bhe)}this.charBuffer=new Se(6),this.charReceived=0,this.charLength=0}function bhe(t){return t.toString(this.encoding)}function Ehe(t){this.charReceived=t.length%2,this.charLength=this.charReceived?2:0}function xhe(t){this.charReceived=t.length%3,this.charLength=this.charReceived?3:0}Pv.prototype.write=function(t){for(var e="";this.charLength;){var n=t.length>=this.charLength-this.charReceived?this.charLength-this.charReceived:t.length;if(t.copy(this.charBuffer,this.charReceived,0,n),this.charReceived+=n,this.charReceived<this.charLength)return"";if(t=t.slice(n,t.length),!((i=(e=this.charBuffer.slice(0,this.charLength).toString(this.encoding)).charCodeAt(e.length-1))>=55296&&i<=56319)){if(this.charReceived=this.charLength=0,t.length===0)return e;break}this.charLength+=this.surrogateSize,e=""}this.detectIncompleteChar(t);var r=t.length;this.charLength&&(t.copy(this.charBuffer,0,t.length-this.charReceived,r),r-=this.charReceived);var i;if(r=(e+=t.toString(this.encoding,0,r)).length-1,(i=e.charCodeAt(r))>=55296&&i<=56319){var o=this.surrogateSize;return this.charLength+=o,this.charReceived+=o,this.charBuffer.copy(this.charBuffer,o,0,o),t.copy(this.charBuffer,0,0,o),e.substring(0,r)}return e},Pv.prototype.detectIncompleteChar=function(t){for(var e=t.length>=3?3:t.length;e>0;e--){var n=t[t.length-e];if(e==1&&n>>5==6){this.charLength=2;break}if(e<=2&&n>>4==14){this.charLength=3;break}if(e<=3&&n>>3==30){this.charLength=4;break}}this.charReceived=e},Pv.prototype.end=function(t){var e="";if(t&&t.length&&(e=this.write(t)),this.charReceived){var n=this.charReceived,r=this.charBuffer,i=this.encoding;e+=r.slice(0,n).toString(i)}return e};var mT=Zm(Object.freeze({__proto__:null,StringDecoder:Pv})),yT=Qd.codes.ERR_STREAM_PREMATURE_CLOSE;function She(){}var P6,vT,wT,bT,O6,ET,FA=function t(e,n,r){if(typeof n=="function")return t(e,null,n);n||(n={}),r=function(g){var p=!1;return function(){if(!p){p=!0;for(var S=arguments.length,y=new Array(S),b=0;b<S;b++)y[b]=arguments[b];g.apply(this,y)}}}(r||She);var i=n.readable||n.readable!==!1&&e.readable,o=n.writable||n.writable!==!1&&e.writable,s=function(){e.writable||c()},a=e._writableState&&e._writableState.finished,c=function(){o=!1,a=!0,i||r.call(e)},l=e._readableState&&e._readableState.endEmitted,u=function(){i=!1,l=!0,o||r.call(e)},d=function(g){r.call(e,g)},f=function(){var g;return i&&!l?(e._readableState&&e._readableState.ended||(g=new yT),r.call(e,g)):o&&!a?(e._writableState&&e._writableState.ended||(g=new yT),r.call(e,g)):void 0},h=function(){e.req.on("finish",c)};return function(g){return g.setHeader&&typeof g.abort=="function"}(e)?(e.on("complete",c),e.on("abort",f),e.req?h():e.on("request",h)):o&&!e._writableState&&(e.on("end",s),e.on("close",s)),e.on("end",u),e.on("finish",c),n.error!==!1&&e.on("error",d),e.on("close",f),function(){e.removeListener("complete",c),e.removeListener("abort",f),e.removeListener("request",h),e.req&&e.req.removeListener("finish",c),e.removeListener("end",s),e.removeListener("close",s),e.removeListener("finish",c),e.removeListener("end",u),e.removeListener("error",d),e.removeListener("close",f)}};function _he(){if(vT)return P6;var t;function e(p,S,y){return(S=function(b){var _=function(N,O){if(typeof N!="object"||N===null)return N;var $=N[Symbol.toPrimitive];if($!==void 0){var j=$.call(N,O);if(typeof j!="object")return j;throw new TypeError("@@toPrimitive must return a primitive value.")}return(O==="string"?String:Number)(N)}(b,"string");return typeof _=="symbol"?_:String(_)}(S))in p?Object.defineProperty(p,S,{value:y,enumerable:!0,configurable:!0,writable:!0}):p[S]=y,p}vT=1;var n=FA,r=Symbol("lastResolve"),i=Symbol("lastReject"),o=Symbol("error"),s=Symbol("ended"),a=Symbol("lastPromise"),c=Symbol("handlePromise"),l=Symbol("stream");function u(p,S){return{value:p,done:S}}function d(p){var S=p[r];if(S!==null){var y=p[l].read();y!==null&&(p[a]=null,p[r]=null,p[i]=null,S(u(y,!1)))}}function f(p){$t.nextTick(d,p)}var h=Object.getPrototypeOf(function(){}),g=Object.setPrototypeOf((e(t={get stream(){return this[l]},next:function(){var p=this,S=this[o];if(S!==null)return Promise.reject(S);if(this[s])return Promise.resolve(u(void 0,!0));if(this[l].destroyed)return new Promise(function(N,O){$t.nextTick(function(){p[o]?O(p[o]):N(u(void 0,!0))})});var y,b=this[a];if(b)y=new Promise(function(N,O){return function($,j){N.then(function(){O[s]?$(u(void 0,!0)):O[c]($,j)},j)}}(b,this));else{var _=this[l].read();if(_!==null)return Promise.resolve(u(_,!1));y=new Promise(this[c])}return this[a]=y,y}},Symbol.asyncIterator,function(){return this}),e(t,"return",function(){var p=this;return new Promise(function(S,y){p[l].destroy(null,function(b){b?y(b):S(u(void 0,!0))})})}),t),h);return P6=function(p){var S,y=Object.create(g,(e(S={},l,{value:p,writable:!0}),e(S,r,{value:null,writable:!0}),e(S,i,{value:null,writable:!0}),e(S,o,{value:null,writable:!0}),e(S,s,{value:p._readableState.endEmitted,writable:!0}),e(S,c,{value:function(b,_){var N=y[l].read();N?(y[a]=null,y[r]=null,y[i]=null,b(u(N,!1))):(y[r]=b,y[i]=_)},writable:!0}),S));return y[a]=null,n(p,function(b){if(b&&b.code!=="ERR_STREAM_PREMATURE_CLOSE"){var _=y[i];return _!==null&&(y[a]=null,y[r]=null,y[i]=null,_(b)),void(y[o]=b)}var N=y[r];N!==null&&(y[a]=null,y[r]=null,y[i]=null,N(u(void 0,!0))),y[s]=!0}),p.on("readable",f.bind(null,y)),y},P6}function SU(){if(ET)return O6;var t;ET=1,O6=O,O.ReadableState=N,TA.EventEmitter;var e=function(D,B){return D.listeners(B).length},n=cU,r=NA.Buffer,i=(Po!==void 0?Po:typeof window<"u"?window:typeof self<"u"?self:{}).Uint8Array||function(){},o,s=vU;o=s&&s.debuglog?s.debuglog("stream"):function(){};var a,c,l,u=ghe(),d=wU,f=EU.getHighWaterMark,h=Qd.codes,g=h.ERR_INVALID_ARG_TYPE,p=h.ERR_STREAM_PUSH_AFTER_EOF,S=h.ERR_METHOD_NOT_IMPLEMENTED,y=h.ERR_STREAM_UNSHIFT_AFTER_END_EVENT;ty(O,n);var b=d.errorOrDestroy,_=["error","close","destroy","pause","resume"];function N(D,B,z){t=t||o0(),D=D||{},typeof z!="boolean"&&(z=B instanceof t),this.objectMode=!!D.objectMode,z&&(this.objectMode=this.objectMode||!!D.readableObjectMode),this.highWaterMark=f(this,D,"readableHighWaterMark",z),this.buffer=new u,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.paused=!0,this.emitClose=D.emitClose!==!1,this.autoDestroy=!!D.autoDestroy,this.destroyed=!1,this.defaultEncoding=D.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,D.encoding&&(a||(a=mT.StringDecoder),this.decoder=new a(D.encoding),this.encoding=D.encoding)}function O(D){if(t=t||o0(),!(this instanceof O))return new O(D);var B=this instanceof t;this._readableState=new N(D,this,B),this.readable=!0,D&&(typeof D.read=="function"&&(this._read=D.read),typeof D.destroy=="function"&&(this._destroy=D.destroy)),n.call(this)}function $(D,B,z,H,W){o("readableAddChunk",B);var G,V=D._readableState;if(B===null)V.reading=!1,function(J,Y){if(o("onEofChunk"),!Y.ended){if(Y.decoder){var ee=Y.decoder.end();ee&&ee.length&&(Y.buffer.push(ee),Y.length+=Y.objectMode?1:ee.length)}Y.ended=!0,Y.sync?L(J):(Y.needReadable=!1,Y.emittedReadable||(Y.emittedReadable=!0,P(J)))}}(D,V);else if(W||(G=function(J,Y){var ee;ne=Y,r.isBuffer(ne)||ne instanceof i||typeof Y=="string"||Y===void 0||J.objectMode||(ee=new g("chunk",["string","Buffer","Uint8Array"],Y));var ne;return ee}(V,B)),G)b(D,G);else if(V.objectMode||B&&B.length>0)if(typeof B=="string"||V.objectMode||Object.getPrototypeOf(B)===r.prototype||(B=function(J){return r.from(J)}(B)),H)V.endEmitted?b(D,new y):j(D,V,B,!0);else if(V.ended)b(D,new p);else{if(V.destroyed)return!1;V.reading=!1,V.decoder&&!z?(B=V.decoder.write(B),V.objectMode||B.length!==0?j(D,V,B,!1):m(D,V)):j(D,V,B,!1)}else H||(V.reading=!1,m(D,V));return!V.ended&&(V.length<V.highWaterMark||V.length===0)}function j(D,B,z,H){B.flowing&&B.length===0&&!B.sync?(B.awaitDrain=0,D.emit("data",z)):(B.length+=B.objectMode?1:z.length,H?B.buffer.unshift(z):B.buffer.push(z),B.needReadable&&L(D)),m(D,B)}Object.defineProperty(O.prototype,"destroyed",{enumerable:!1,get:function(){return this._readableState!==void 0&&this._readableState.destroyed},set:function(D){this._readableState&&(this._readableState.destroyed=D)}}),O.prototype.destroy=d.destroy,O.prototype._undestroy=d.undestroy,O.prototype._destroy=function(D,B){B(D)},O.prototype.push=function(D,B){var z,H=this._readableState;return H.objectMode?z=!0:typeof D=="string"&&((B=B||H.defaultEncoding)!==H.encoding&&(D=r.from(D,B),B=""),z=!0),$(this,D,B,!1,z)},O.prototype.unshift=function(D){return $(this,D,null,!0,!1)},O.prototype.isPaused=function(){return this._readableState.flowing===!1},O.prototype.setEncoding=function(D){a||(a=mT.StringDecoder);var B=new a(D);this._readableState.decoder=B,this._readableState.encoding=this._readableState.decoder.encoding;for(var z=this._readableState.buffer.head,H="";z!==null;)H+=B.write(z.data),z=z.next;return this._readableState.buffer.clear(),H!==""&&this._readableState.buffer.push(H),this._readableState.length=H.length,this};var k=1073741824;function T(D,B){return D<=0||B.length===0&&B.ended?0:B.objectMode?1:D!=D?B.flowing&&B.length?B.buffer.head.data.length:B.length:(D>B.highWaterMark&&(B.highWaterMark=function(z){return z>=k?z=k:(z--,z|=z>>>1,z|=z>>>2,z|=z>>>4,z|=z>>>8,z|=z>>>16,z++),z}(D)),D<=B.length?D:B.ended?B.length:(B.needReadable=!0,0))}function L(D){var B=D._readableState;o("emitReadable",B.needReadable,B.emittedReadable),B.needReadable=!1,B.emittedReadable||(o("emitReadable",B.flowing),B.emittedReadable=!0,$t.nextTick(P,D))}function P(D){var B=D._readableState;o("emitReadable_",B.destroyed,B.length,B.ended),B.destroyed||!B.length&&!B.ended||(D.emit("readable"),B.emittedReadable=!1),B.needReadable=!B.flowing&&!B.ended&&B.length<=B.highWaterMark,M(D)}function m(D,B){B.readingMore||(B.readingMore=!0,$t.nextTick(w,D,B))}function w(D,B){for(;!B.reading&&!B.ended&&(B.length<B.highWaterMark||B.flowing&&B.length===0);){var z=B.length;if(o("maybeReadMore read 0"),D.read(0),z===B.length)break}B.readingMore=!1}function A(D){var B=D._readableState;B.readableListening=D.listenerCount("readable")>0,B.resumeScheduled&&!B.paused?B.flowing=!0:D.listenerCount("data")>0&&D.resume()}function v(D){o("readable nexttick read 0"),D.read(0)}function I(D,B){o("resume",B.reading),B.reading||D.read(0),B.resumeScheduled=!1,D.emit("resume"),M(D),B.flowing&&!B.reading&&D.read(0)}function M(D){var B=D._readableState;for(o("flow",B.flowing);B.flowing&&D.read()!==null;);}function E(D,B){return B.length===0?null:(B.objectMode?z=B.buffer.shift():!D||D>=B.length?(z=B.decoder?B.buffer.join(""):B.buffer.length===1?B.buffer.first():B.buffer.concat(B.length),B.buffer.clear()):z=B.buffer.consume(D,B.decoder),z);var z}function C(D){var B=D._readableState;o("endReadable",B.endEmitted),B.endEmitted||(B.ended=!0,$t.nextTick(x,B,D))}function x(D,B){if(o("endReadableNT",D.endEmitted,D.length),!D.endEmitted&&D.length===0&&(D.endEmitted=!0,B.readable=!1,B.emit("end"),D.autoDestroy)){var z=B._writableState;(!z||z.autoDestroy&&z.finished)&&B.destroy()}}function R(D,B){for(var z=0,H=D.length;z<H;z++)if(D[z]===B)return z;return-1}return O.prototype.read=function(D){o("read",D),D=parseInt(D,10);var B=this._readableState,z=D;if(D!==0&&(B.emittedReadable=!1),D===0&&B.needReadable&&((B.highWaterMark!==0?B.length>=B.highWaterMark:B.length>0)||B.ended))return o("read: emitReadable",B.length,B.ended),B.length===0&&B.ended?C(this):L(this),null;if((D=T(D,B))===0&&B.ended)return B.length===0&&C(this),null;var H,W=B.needReadable;return o("need readable",W),(B.length===0||B.length-D<B.highWaterMark)&&o("length less than watermark",W=!0),B.ended||B.reading?o("reading or ended",W=!1):W&&(o("do read"),B.reading=!0,B.sync=!0,B.length===0&&(B.needReadable=!0),this._read(B.highWaterMark),B.sync=!1,B.reading||(D=T(z,B))),(H=D>0?E(D,B):null)===null?(B.needReadable=B.length<=B.highWaterMark,D=0):(B.length-=D,B.awaitDrain=0),B.length===0&&(B.ended||(B.needReadable=!0),z!==D&&B.ended&&C(this)),H!==null&&this.emit("data",H),H},O.prototype._read=function(D){b(this,new S("_read()"))},O.prototype.pipe=function(D,B){var z=this,H=this._readableState;switch(H.pipesCount){case 0:H.pipes=D;break;case 1:H.pipes=[H.pipes,D];break;default:H.pipes.push(D)}H.pipesCount+=1,o("pipe count=%d opts=%j",H.pipesCount,B);var W=(!B||B.end!==!1)&&D!==$t.stdout&&D!==$t.stderr?V:ie;function G(ce,he){o("onunpipe"),ce===z&&he&&he.hasUnpiped===!1&&(he.hasUnpiped=!0,o("cleanup"),D.removeListener("close",K),D.removeListener("finish",Q),D.removeListener("drain",J),D.removeListener("error",ne),D.removeListener("unpipe",G),z.removeListener("end",V),z.removeListener("end",ie),z.removeListener("data",ee),Y=!0,!H.awaitDrain||D._writableState&&!D._writableState.needDrain||J())}function V(){o("onend"),D.end()}H.endEmitted?$t.nextTick(W):z.once("end",W),D.on("unpipe",G);var J=function(ce){return function(){var he=ce._readableState;o("pipeOnDrain",he.awaitDrain),he.awaitDrain&&he.awaitDrain--,he.awaitDrain===0&&e(ce,"data")&&(he.flowing=!0,M(ce))}}(z);D.on("drain",J);var Y=!1;function ee(ce){o("ondata");var he=D.write(ce);o("dest.write",he),he===!1&&((H.pipesCount===1&&H.pipes===D||H.pipesCount>1&&R(H.pipes,D)!==-1)&&!Y&&(o("false write response, pause",H.awaitDrain),H.awaitDrain++),z.pause())}function ne(ce){o("onerror",ce),ie(),D.removeListener("error",ne),e(D,"error")===0&&b(D,ce)}function K(){D.removeListener("finish",Q),ie()}function Q(){o("onfinish"),D.removeListener("close",K),ie()}function ie(){o("unpipe"),z.unpipe(D)}return z.on("data",ee),function(ce,he,pe){if(typeof ce.prependListener=="function")return ce.prependListener(he,pe);ce._events&&ce._events[he]?Array.isArray(ce._events[he])?ce._events[he].unshift(pe):ce._events[he]=[pe,ce._events[he]]:ce.on(he,pe)}(D,"error",ne),D.once("close",K),D.once("finish",Q),D.emit("pipe",z),H.flowing||(o("pipe resume"),z.resume()),D},O.prototype.unpipe=function(D){var B=this._readableState,z={hasUnpiped:!1};if(B.pipesCount===0)return this;if(B.pipesCount===1)return D&&D!==B.pipes||(D||(D=B.pipes),B.pipes=null,B.pipesCount=0,B.flowing=!1,D&&D.emit("unpipe",this,z)),this;if(!D){var H=B.pipes,W=B.pipesCount;B.pipes=null,B.pipesCount=0,B.flowing=!1;for(var G=0;G<W;G++)H[G].emit("unpipe",this,{hasUnpiped:!1});return this}var V=R(B.pipes,D);return V===-1||(B.pipes.splice(V,1),B.pipesCount-=1,B.pipesCount===1&&(B.pipes=B.pipes[0]),D.emit("unpipe",this,z)),this},O.prototype.on=function(D,B){var z=n.prototype.on.call(this,D,B),H=this._readableState;return D==="data"?(H.readableListening=this.listenerCount("readable")>0,H.flowing!==!1&&this.resume()):D==="readable"&&(H.endEmitted||H.readableListening||(H.readableListening=H.needReadable=!0,H.flowing=!1,H.emittedReadable=!1,o("on readable",H.length,H.reading),H.length?L(this):H.reading||$t.nextTick(v,this))),z},O.prototype.addListener=O.prototype.on,O.prototype.removeListener=function(D,B){var z=n.prototype.removeListener.call(this,D,B);return D==="readable"&&$t.nextTick(A,this),z},O.prototype.removeAllListeners=function(D){var B=n.prototype.removeAllListeners.apply(this,arguments);return D!=="readable"&&D!==void 0||$t.nextTick(A,this),B},O.prototype.resume=function(){var D=this._readableState;return D.flowing||(o("resume"),D.flowing=!D.readableListening,function(B,z){z.resumeScheduled||(z.resumeScheduled=!0,$t.nextTick(I,B,z))}(this,D)),D.paused=!1,this},O.prototype.pause=function(){return o("call pause flowing=%j",this._readableState.flowing),this._readableState.flowing!==!1&&(o("pause"),this._readableState.flowing=!1,this.emit("pause")),this._readableState.paused=!0,this},O.prototype.wrap=function(D){var B=this,z=this._readableState,H=!1;for(var W in D.on("end",function(){if(o("wrapped end"),z.decoder&&!z.ended){var V=z.decoder.end();V&&V.length&&B.push(V)}B.push(null)}),D.on("data",function(V){o("wrapped data"),z.decoder&&(V=z.decoder.write(V)),z.objectMode&&V==null||(z.objectMode||V&&V.length)&&(B.push(V)||(H=!0,D.pause()))}),D)this[W]===void 0&&typeof D[W]=="function"&&(this[W]=function(V){return function(){return D[V].apply(D,arguments)}}(W));for(var G=0;G<_.length;G++)D.on(_[G],this.emit.bind(this,_[G]));return this._read=function(V){o("wrapped _read",V),H&&(H=!1,D.resume())},this},typeof Symbol=="function"&&(O.prototype[Symbol.asyncIterator]=function(){return c===void 0&&(c=_he()),c(this)}),Object.defineProperty(O.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),Object.defineProperty(O.prototype,"readableBuffer",{enumerable:!1,get:function(){return this._readableState&&this._readableState.buffer}}),Object.defineProperty(O.prototype,"readableFlowing",{enumerable:!1,get:function(){return this._readableState.flowing},set:function(D){this._readableState&&(this._readableState.flowing=D)}}),O._fromList=E,Object.defineProperty(O.prototype,"readableLength",{enumerable:!1,get:function(){return this._readableState.length}}),typeof Symbol=="function"&&(O.from=function(D,B){return l===void 0&&(l=bT?wT:(bT=1,wT=function(){throw new Error("Readable.from is not available in the browser")})),l(O,D,B)}),O6}var _U=Wa,B2=Qd.codes,Che=B2.ERR_METHOD_NOT_IMPLEMENTED,Ahe=B2.ERR_MULTIPLE_CALLBACK,Ihe=B2.ERR_TRANSFORM_ALREADY_TRANSFORMING,khe=B2.ERR_TRANSFORM_WITH_LENGTH_0,Ov=o0();function Phe(t,e){var n=this._transformState;n.transforming=!1;var r=n.writecb;if(r===null)return this.emit("error",new Ahe);n.writechunk=null,n.writecb=null,e!=null&&this.push(e),r(t);var i=this._readableState;i.reading=!1,(i.needReadable||i.length<i.highWaterMark)&&this._read(i.highWaterMark)}function Wa(t){if(!(this instanceof Wa))return new Wa(t);Ov.call(this,t),this._transformState={afterTransform:Phe.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,t&&(typeof t.transform=="function"&&(this._transform=t.transform),typeof t.flush=="function"&&(this._flush=t.flush)),this.on("prefinish",Ohe)}function Ohe(){var t=this;typeof this._flush!="function"||this._readableState.destroyed?xT(this,null,null):this._flush(function(e,n){xT(t,e,n)})}function xT(t,e,n){if(e)return t.emit("error",e);if(n!=null&&t.push(n),t._writableState.length)throw new khe;if(t._transformState.transforming)throw new Ihe;return t.push(null)}ty(Wa,Ov),Wa.prototype.push=function(t,e){return this._transformState.needTransform=!1,Ov.prototype.push.call(this,t,e)},Wa.prototype._transform=function(t,e,n){n(new Che("_transform()"))},Wa.prototype._write=function(t,e,n){var r=this._transformState;if(r.writecb=n,r.writechunk=t,r.writeencoding=e,!r.transforming){var i=this._readableState;(r.needTransform||i.needReadable||i.length<i.highWaterMark)&&this._read(i.highWaterMark)}},Wa.prototype._read=function(t){var e=this._transformState;e.writechunk===null||e.transforming?e.needTransform=!0:(e.transforming=!0,this._transform(e.writechunk,e.writeencoding,e.afterTransform))},Wa.prototype._destroy=function(t,e){Ov.prototype._destroy.call(this,t,function(n){e(n)})};var T6,The=Jg,CU=_U;function Jg(t){if(!(this instanceof Jg))return new Jg(t);CU.call(this,t)}ty(Jg,CU),Jg.prototype._transform=function(t,e,n){n(null,t)};var AU=Qd.codes,Mhe=AU.ERR_MISSING_ARGS,Nhe=AU.ERR_STREAM_DESTROYED;function ST(t){if(t)throw t}function _T(t){t()}function Rhe(t,e){return t.pipe(e)}var Lhe=function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];var r,i=function(s){return s.length?typeof s[s.length-1]!="function"?ST:s.pop():ST}(e);if(Array.isArray(e[0])&&(e=e[0]),e.length<2)throw new Mhe("streams");var o=e.map(function(s,a){var c=a<e.length-1;return function(l,u,d,f){f=function(p){var S=!1;return function(){S||(S=!0,p.apply(void 0,arguments))}}(f);var h=!1;l.on("close",function(){h=!0}),T6===void 0&&(T6=FA),T6(l,{readable:u,writable:d},function(p){if(p)return f(p);h=!0,f()});var g=!1;return function(p){if(!h&&!g)return g=!0,function(S){return S.setHeader&&typeof S.abort=="function"}(l)?l.abort():typeof l.destroy=="function"?l.destroy():void f(p||new Nhe("pipe"))}}(s,c,a>0,function(l){r||(r=l),l&&o.forEach(_T),c||(o.forEach(_T),i(r))})});return e.reduce(Rhe)};(function(t,e){(e=NS.exports=SU()).Stream=e,e.Readable=e,e.Writable=xU(),e.Duplex=o0(),e.Transform=_U,e.PassThrough=The,e.finished=FA,e.pipeline=Lhe})(0,NS.exports);var s0=NS.exports;function $he(t={}){const e={},n=new s0.Duplex({objectMode:!0,read:()=>{},write:function(o,s,a){let c=null;try{o.id?function(l){const{id:u}=l;if(u===null)return;const d=e[u];if(!d)return void console.warn(`StreamMiddleware - Unknown response id "${u}"`);delete e[u],Object.assign(d.res,l),setTimeout(d.end)}(o):function(l){t!=null&&t.retryOnMessage&&l.method===t.retryOnMessage&&Object.values(e).forEach(({req:u,retryCount:d=0})=>{if(!u.id)return;if(d>=3)throw new Error(`StreamMiddleware - Retry limit exceeded for request id "${u.id}"`);const f=e[u.id];f&&(f.retryCount=d+1),i(u)}),r.emit("notification",l)}(o)}catch(l){c=l}a(c)}}),r=new tU;return{events:r,middleware:(o,s,a,c)=>{e[o.id]={req:o,res:s,next:a,end:c},i(o)},stream:n};function i(o){n.push(o)}}var Vw={},LS={exports:{}},Bhe=function t(e,n){if(e&&n)return t(e)(n);if(typeof e!="function")throw new TypeError("need wrapper function");return Object.keys(e).forEach(function(i){r[i]=e[i]}),r;function r(){for(var i=new Array(arguments.length),o=0;o<i.length;o++)i[o]=arguments[o];var s=e.apply(this,i),a=i[i.length-1];return typeof s=="function"&&s!==a&&Object.keys(a).forEach(function(c){s[c]=a[c]}),s}},CT=Bhe;function C1(t){var e=function(){return e.called?e.value:(e.called=!0,e.value=t.apply(this,arguments))};return e.called=!1,e}function AT(t){var e=function(){if(e.called)throw new Error(e.onceError);return e.called=!0,e.value=t.apply(this,arguments)},n=t.name||"Function wrapped with `once`";return e.onceError=n+" shouldn't be called more than once",e.called=!1,e}LS.exports=CT(C1),LS.exports.strict=CT(AT),C1.proto=C1(function(){Object.defineProperty(Function.prototype,"once",{value:function(){return C1(this)},configurable:!0}),Object.defineProperty(Function.prototype,"onceStrict",{value:function(){return AT(this)},configurable:!0})});var Dhe=LS.exports,Gw={};Object.defineProperty(Gw,"__esModule",{value:!0}),Gw.Substream=void 0;const jhe=s0;class Fhe extends jhe.Duplex{constructor({parent:e,name:n}){super({objectMode:!0}),this._parent=e,this._name=n}_read(){}_write(e,n,r){this._parent.push({name:this._name,data:e}),r()}}Gw.Substream=Fhe;var Uhe=Po&&Po.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Vw,"__esModule",{value:!0}),Vw.ObjectMultiplex=void 0;const M6=s0,zhe=Uhe(Dhe),Hhe=Gw,IT=Symbol("IGNORE_SUBSTREAM");let Whe=class extends M6.Duplex{constructor(t={}){super(Object.assign(Object.assign({},t),{objectMode:!0})),this._substreams={}}createStream(t){if(this.destroyed)throw new Error(`ObjectMultiplex - parent stream for name "${t}" already destroyed`);if(this._readableState.ended||this._writableState.ended)throw new Error(`ObjectMultiplex - parent stream for name "${t}" already ended`);if(!t)throw new Error("ObjectMultiplex - name must not be empty");if(this._substreams[t])throw new Error(`ObjectMultiplex - Substream for name "${t}" already exists`);const e=new Hhe.Substream({parent:this,name:t});return this._substreams[t]=e,function(n,r){const i=(0,zhe.default)(r);(0,M6.finished)(n,{readable:!1},i),(0,M6.finished)(n,{writable:!1},i)}(this,n=>e.destroy(n||void 0)),e}ignoreStream(t){if(!t)throw new Error("ObjectMultiplex - name must not be empty");if(this._substreams[t])throw new Error(`ObjectMultiplex - Substream for name "${t}" already exists`);this._substreams[t]=IT}_read(){}_write(t,e,n){const{name:r,data:i}=t;if(!r)return console.warn(`ObjectMultiplex - malformed chunk without name "${t}"`),n();const o=this._substreams[r];return o?(o!==IT&&o.push(i),n()):(console.warn(`ObjectMultiplex - orphaned data for stream "${r}"`),n())}};Vw.ObjectMultiplex=Whe;var Khe=M2(Vw.ObjectMultiplex);const Ts=t=>t!==null&&typeof t=="object"&&typeof t.pipe=="function";Ts.writable=t=>Ts(t)&&t.writable!==!1&&typeof t._write=="function"&&typeof t._writableState=="object",Ts.readable=t=>Ts(t)&&t.readable!==!1&&typeof t._read=="function"&&typeof t._readableState=="object",Ts.duplex=t=>Ts.writable(t)&&Ts.readable(t),Ts.transform=t=>Ts.duplex(t)&&typeof t._transform=="function";var Ms,qhe=Ts,Vhe=class extends che{constructor(t,{jsonRpcStreamName:e,logger:n=console,maxEventListeners:r=100,rpcMiddleware:i=[]}){if(super({logger:n,maxEventListeners:r,rpcMiddleware:i}),!qhe.duplex(t))throw new Error(Cn.errors.invalidDuplexStream());this._handleStreamDisconnect=this._handleStreamDisconnect.bind(this);const o=new Khe;s0.pipeline(t,o,t,this._handleStreamDisconnect.bind(this,"MetaMask")),this._jsonRpcConnection=$he({retryOnMessage:"METAMASK_EXTENSION_CONNECT_CAN_RETRY"}),s0.pipeline(this._jsonRpcConnection.stream,o.createStream(e),this._jsonRpcConnection.stream,this._handleStreamDisconnect.bind(this,"MetaMask RpcProvider")),this._rpcEngine.push(this._jsonRpcConnection.middleware),this._jsonRpcConnection.events.on("notification",s=>{const{method:a,params:c}=s;a==="metamask_accountsChanged"?this._handleAccountsChanged(c):a==="metamask_unlockStateChanged"?this._handleUnlockStateChanged(c):a==="metamask_chainChanged"?this._handleChainChanged(c):nU.includes(a)?this.emit("message",{type:a,data:c}):a==="METAMASK_STREAM_FAILURE"&&t.destroy(new Error(Cn.errors.permanentlyDisconnected()))})}async _initializeStateAsync(){let t;try{t=await this.request({method:"metamask_getProviderState"})}catch(e){this._log.error("MetaMask: Failed to get initial state. Please report this bug.",e)}this._initializeState(t)}_handleStreamDisconnect(t,e){let n=`MetaMask: Lost connection to "${t}".`;e!=null&&e.stack&&(n+=`
${e.stack}`),this._log.warn(n),this.listenerCount("error")>0&&this.emit("error",n),this._handleDisconnect(!1,e?e.message:void 0)}_handleChainChanged({chainId:t,networkVersion:e}={}){rU(t)&&(n=>!!n&&typeof n=="string")(e)?e==="loading"?this._handleDisconnect(!0):super._handleChainChanged({chainId:t}):this._log.error(Cn.errors.invalidNetworkParams(),{chainId:t,networkVersion:e})}},Ghe=class extends Vhe{constructor(t,{jsonRpcStreamName:e="metamask-provider",logger:n=console,maxEventListeners:r=100,shouldSendMetadata:i}={}){if(super(t,{jsonRpcStreamName:e,logger:n,maxEventListeners:r,rpcMiddleware:ehe(n)}),this._sentWarnings={chainId:!1,networkVersion:!1,selectedAddress:!1,enable:!1,experimentalMethods:!1,send:!1,events:{close:!1,data:!1,networkChanged:!1,notification:!1}},MS(this,Ms,void 0),this._initializeStateAsync(),Ha(this,Ms,null),this.isMetaMask=!0,this._sendSync=this._sendSync.bind(this),this.enable=this.enable.bind(this),this.send=this.send.bind(this),this.sendAsync=this.sendAsync.bind(this),this._warnOfDeprecation=this._warnOfDeprecation.bind(this),this._metamask=this._getExperimentalApi(),this._jsonRpcConnection.events.on("notification",o=>{const{method:s}=o;nU.includes(s)&&(this.emit("data",o),this.emit("notification",o.params.result))}),i)if(document.readyState==="complete")lT(this._rpcEngine,this._log);else{const o=()=>{lT(this._rpcEngine,this._log),window.removeEventListener("DOMContentLoaded",o)};window.addEventListener("DOMContentLoaded",o)}}get chainId(){return this._sentWarnings.chainId||(this._log.warn(Cn.warnings.chainIdDeprecation),this._sentWarnings.chainId=!0),super.chainId}get networkVersion(){return this._sentWarnings.networkVersion||(this._log.warn(Cn.warnings.networkVersionDeprecation),this._sentWarnings.networkVersion=!0),qs(this,Ms)}get selectedAddress(){return this._sentWarnings.selectedAddress||(this._log.warn(Cn.warnings.selectedAddressDeprecation),this._sentWarnings.selectedAddress=!0),super.selectedAddress}sendAsync(t,e){this._rpcRequest(t,e)}addListener(t,e){return this._warnOfDeprecation(t),super.addListener(t,e)}on(t,e){return this._warnOfDeprecation(t),super.on(t,e)}once(t,e){return this._warnOfDeprecation(t),super.once(t,e)}prependListener(t,e){return this._warnOfDeprecation(t),super.prependListener(t,e)}prependOnceListener(t,e){return this._warnOfDeprecation(t),super.prependOnceListener(t,e)}_handleDisconnect(t,e){super._handleDisconnect(t,e),qs(this,Ms)&&!t&&Ha(this,Ms,null)}_warnOfDeprecation(t){var e;((e=this._sentWarnings)==null?void 0:e.events[t])===!1&&(this._log.warn(Cn.warnings.events[t]),this._sentWarnings.events[t]=!0)}async enable(){return this._sentWarnings.enable||(this._log.warn(Cn.warnings.enableDeprecation),this._sentWarnings.enable=!0),new Promise((t,e)=>{try{this._rpcRequest({method:"eth_requestAccounts",params:[]},Iv(t,e))}catch(n){e(n)}})}send(t,e){return this._sentWarnings.send||(this._log.warn(Cn.warnings.sendDeprecation),this._sentWarnings.send=!0),typeof t!="string"||e&&!Array.isArray(e)?t&&typeof t=="object"&&typeof e=="function"?this._rpcRequest(t,e):this._sendSync(t):new Promise((n,r)=>{try{this._rpcRequest({method:t,params:e},Iv(n,r,!1))}catch(i){r(i)}})}_sendSync(t){let e;switch(t.method){case"eth_accounts":e=this.selectedAddress?[this.selectedAddress]:[];break;case"eth_coinbase":e=this.selectedAddress??null;break;case"eth_uninstallFilter":this._rpcRequest(t,iU),e=!0;break;case"net_version":e=qs(this,Ms)??null;break;default:throw new Error(Cn.errors.unsupportedSync(t.method))}return{id:t.id,jsonrpc:t.jsonrpc,result:e}}_getExperimentalApi(){return new Proxy({isUnlocked:async()=>(this._state.initialized||await new Promise(t=>{this.on("_initialized",()=>t())}),this._state.isUnlocked),requestBatch:async t=>{if(!Array.isArray(t))throw og({message:"Batch requests must be made with an array of request objects.",data:t});return new Promise((e,n)=>{this._rpcRequest(t,Iv(e,n))})}},{get:(t,e,...n)=>(this._sentWarnings.experimentalMethods||(this._log.warn(Cn.warnings.experimentalMethods),this._sentWarnings.experimentalMethods=!0),Reflect.get(t,e,...n))})}_handleChainChanged({chainId:t,networkVersion:e}={}){super._handleChainChanged({chainId:t,networkVersion:e}),this._state.isConnected&&e!==qs(this,Ms)&&(Ha(this,Ms,e),this._state.initialized&&this.emit("networkChanged",qs(this,Ms)))}};Ms=new WeakMap;const ve=Vr("MM_SDK");let kT;ve.color="#FFAC1C";var IU={},Ql={};Object.defineProperty(Ql,"__esModule",{value:!0}),Ql.EthereumProviderError=Ql.EthereumRpcError=void 0;const Yhe=YF;class kU extends Error{constructor(e,n,r){if(!Number.isInteger(e))throw new Error('"code" must be an integer.');if(!n||typeof n!="string")throw new Error('"message" must be a nonempty string.');super(n),this.code=e,r!==void 0&&(this.data=r)}serialize(){const e={code:this.code,message:this.message};return this.data!==void 0&&(e.data=this.data),this.stack&&(e.stack=this.stack),e}toString(){return Yhe.default(this.serialize(),Jhe,2)}}Ql.EthereumRpcError=kU;function Jhe(t,e){if(e!=="[Circular]")return e}Ql.EthereumProviderError=class extends kU{constructor(t,e,n){if(!function(r){return Number.isInteger(r)&&r>=1e3&&r<=4999}(t))throw new Error('"code" must be an integer such that: 1000 <= code <= 4999');super(t,e,n)}};var UA={},wl={};Object.defineProperty(wl,"__esModule",{value:!0}),wl.errorValues=wl.errorCodes=void 0,wl.errorCodes={rpc:{invalidInput:-32e3,resourceNotFound:-32001,resourceUnavailable:-32002,transactionRejected:-32003,methodNotSupported:-32004,limitExceeded:-32005,parse:-32700,invalidRequest:-32600,methodNotFound:-32601,invalidParams:-32602,internal:-32603},provider:{userRejectedRequest:4001,unauthorized:4100,unsupportedMethod:4200,disconnected:4900,chainDisconnected:4901}},wl.errorValues={"-32700":{standard:"JSON RPC 2.0",message:"Invalid JSON was received by the server. An error occurred on the server while parsing the JSON text."},"-32600":{standard:"JSON RPC 2.0",message:"The JSON sent is not a valid Request object."},"-32601":{standard:"JSON RPC 2.0",message:"The method does not exist / is not available."},"-32602":{standard:"JSON RPC 2.0",message:"Invalid method parameter(s)."},"-32603":{standard:"JSON RPC 2.0",message:"Internal JSON-RPC error."},"-32000":{standard:"EIP-1474",message:"Invalid input."},"-32001":{standard:"EIP-1474",message:"Resource not found."},"-32002":{standard:"EIP-1474",message:"Resource unavailable."},"-32003":{standard:"EIP-1474",message:"Transaction rejected."},"-32004":{standard:"EIP-1474",message:"Method not supported."},"-32005":{standard:"EIP-1474",message:"Request limit exceeded."},4001:{standard:"EIP-1193",message:"User rejected the request."},4100:{standard:"EIP-1193",message:"The requested account and/or method has not been authorized by the user."},4200:{standard:"EIP-1193",message:"The requested method is not supported by this Ethereum provider."},4900:{standard:"EIP-1193",message:"The provider is disconnected from all chains."},4901:{standard:"EIP-1193",message:"The provider is disconnected from the specified chain."}},function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.serializeError=t.isValidCode=t.getMessageFromCode=t.JSON_RPC_SERVER_ERROR_MESSAGE=void 0;const e=wl,n=Ql,r=e.errorCodes.rpc.internal,i="Unspecified error message. This is a bug, please report it.",o={code:r,message:s(r)};function s(d,f=i){if(Number.isInteger(d)){const h=d.toString();if(u(e.errorValues,h))return e.errorValues[h].message;if(c(d))return t.JSON_RPC_SERVER_ERROR_MESSAGE}return f}function a(d){if(!Number.isInteger(d))return!1;const f=d.toString();return!!e.errorValues[f]||!!c(d)}function c(d){return d>=-32099&&d<=-32e3}function l(d){return d&&typeof d=="object"&&!Array.isArray(d)?Object.assign({},d):d}function u(d,f){return Object.prototype.hasOwnProperty.call(d,f)}t.JSON_RPC_SERVER_ERROR_MESSAGE="Unspecified server error.",t.getMessageFromCode=s,t.isValidCode=a,t.serializeError=function(d,{fallbackError:f=o,shouldIncludeStack:h=!1}={}){var g,p;if(!f||!Number.isInteger(f.code)||typeof f.message!="string")throw new Error("Must provide fallback error with integer number code and string message.");if(d instanceof n.EthereumRpcError)return d.serialize();const S={};if(d&&typeof d=="object"&&!Array.isArray(d)&&u(d,"code")&&a(d.code)){const b=d;S.code=b.code,b.message&&typeof b.message=="string"?(S.message=b.message,u(b,"data")&&(S.data=b.data)):(S.message=s(S.code),S.data={originalError:l(d)})}else{S.code=f.code;const b=(g=d)===null||g===void 0?void 0:g.message;S.message=b&&typeof b=="string"?b:f.message,S.data={originalError:l(d)}}const y=(p=d)===null||p===void 0?void 0:p.stack;return h&&d&&y&&typeof y=="string"&&(S.stack=y),S}}(UA);var Yw={};Object.defineProperty(Yw,"__esModule",{value:!0}),Yw.ethErrors=void 0;const zA=Ql,PU=UA,Ar=wl;function ao(t,e){const[n,r]=OU(e);return new zA.EthereumRpcError(t,n||PU.getMessageFromCode(t),r)}function _p(t,e){const[n,r]=OU(e);return new zA.EthereumProviderError(t,n||PU.getMessageFromCode(t),r)}function OU(t){if(t){if(typeof t=="string")return[t];if(typeof t=="object"&&!Array.isArray(t)){const{message:e,data:n}=t;if(e&&typeof e!="string")throw new Error("Must specify string message.");return[e||void 0,n]}}return[]}Yw.ethErrors={rpc:{parse:t=>ao(Ar.errorCodes.rpc.parse,t),invalidRequest:t=>ao(Ar.errorCodes.rpc.invalidRequest,t),invalidParams:t=>ao(Ar.errorCodes.rpc.invalidParams,t),methodNotFound:t=>ao(Ar.errorCodes.rpc.methodNotFound,t),internal:t=>ao(Ar.errorCodes.rpc.internal,t),server:t=>{if(!t||typeof t!="object"||Array.isArray(t))throw new Error("Ethereum RPC Server errors must provide single object argument.");const{code:e}=t;if(!Number.isInteger(e)||e>-32005||e<-32099)throw new Error('"code" must be an integer such that: -32099 <= code <= -32005');return ao(e,t)},invalidInput:t=>ao(Ar.errorCodes.rpc.invalidInput,t),resourceNotFound:t=>ao(Ar.errorCodes.rpc.resourceNotFound,t),resourceUnavailable:t=>ao(Ar.errorCodes.rpc.resourceUnavailable,t),transactionRejected:t=>ao(Ar.errorCodes.rpc.transactionRejected,t),methodNotSupported:t=>ao(Ar.errorCodes.rpc.methodNotSupported,t),limitExceeded:t=>ao(Ar.errorCodes.rpc.limitExceeded,t)},provider:{userRejectedRequest:t=>_p(Ar.errorCodes.provider.userRejectedRequest,t),unauthorized:t=>_p(Ar.errorCodes.provider.unauthorized,t),unsupportedMethod:t=>_p(Ar.errorCodes.provider.unsupportedMethod,t),disconnected:t=>_p(Ar.errorCodes.provider.disconnected,t),chainDisconnected:t=>_p(Ar.errorCodes.provider.chainDisconnected,t),custom:t=>{if(!t||typeof t!="object"||Array.isArray(t))throw new Error("Ethereum Provider custom errors must provide single object argument.");const{code:e,message:n,data:r}=t;if(!n||typeof n!="string")throw new Error('"message" must be a nonempty string');return new zA.EthereumProviderError(e,n,r)}}},function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.getMessageFromCode=t.serializeError=t.EthereumProviderError=t.EthereumRpcError=t.ethErrors=t.errorCodes=void 0;const e=Ql;Object.defineProperty(t,"EthereumRpcError",{enumerable:!0,get:function(){return e.EthereumRpcError}}),Object.defineProperty(t,"EthereumProviderError",{enumerable:!0,get:function(){return e.EthereumProviderError}});const n=UA;Object.defineProperty(t,"serializeError",{enumerable:!0,get:function(){return n.serializeError}}),Object.defineProperty(t,"getMessageFromCode",{enumerable:!0,get:function(){return n.getMessageFromCode}});const r=Yw;Object.defineProperty(t,"ethErrors",{enumerable:!0,get:function(){return r.ethErrors}});const i=wl;Object.defineProperty(t,"errorCodes",{enumerable:!0,get:function(){return i.errorCodes}})}(IU);var TU={exports:{}};TU.exports=function(t){var e={};function n(r){if(e[r])return e[r].exports;var i=e[r]={i:r,l:!1,exports:{}};return t[r].call(i.exports,i,i.exports,n),i.l=!0,i.exports}return n.m=t,n.c=e,n.d=function(r,i,o){n.o(r,i)||Object.defineProperty(r,i,{enumerable:!0,get:o})},n.r=function(r){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(r,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(r,"__esModule",{value:!0})},n.t=function(r,i){if(1&i&&(r=n(r)),8&i||4&i&&typeof r=="object"&&r&&r.__esModule)return r;var o=Object.create(null);if(n.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:r}),2&i&&typeof r!="string")for(var s in r)n.d(o,s,(function(a){return r[a]}).bind(null,s));return o},n.n=function(r){var i=r&&r.__esModule?function(){return r.default}:function(){return r};return n.d(i,"a",i),i},n.o=function(r,i){return Object.prototype.hasOwnProperty.call(r,i)},n.p="",n(n.s=90)}({17:function(t,e,n){e.__esModule=!0,e.default=void 0;var r=n(18),i=function(){function o(){}return o.getFirstMatch=function(s,a){var c=a.match(s);return c&&c.length>0&&c[1]||""},o.getSecondMatch=function(s,a){var c=a.match(s);return c&&c.length>1&&c[2]||""},o.matchAndReturnConst=function(s,a,c){if(s.test(a))return c},o.getWindowsVersionName=function(s){switch(s){case"NT":return"NT";case"XP":case"NT 5.1":return"XP";case"NT 5.0":return"2000";case"NT 5.2":return"2003";case"NT 6.0":return"Vista";case"NT 6.1":return"7";case"NT 6.2":return"8";case"NT 6.3":return"8.1";case"NT 10.0":return"10";default:return}},o.getMacOSVersionName=function(s){var a=s.split(".").splice(0,2).map(function(c){return parseInt(c,10)||0});if(a.push(0),a[0]===10)switch(a[1]){case 5:return"Leopard";case 6:return"Snow Leopard";case 7:return"Lion";case 8:return"Mountain Lion";case 9:return"Mavericks";case 10:return"Yosemite";case 11:return"El Capitan";case 12:return"Sierra";case 13:return"High Sierra";case 14:return"Mojave";case 15:return"Catalina";default:return}},o.getAndroidVersionName=function(s){var a=s.split(".").splice(0,2).map(function(c){return parseInt(c,10)||0});if(a.push(0),!(a[0]===1&&a[1]<5))return a[0]===1&&a[1]<6?"Cupcake":a[0]===1&&a[1]>=6?"Donut":a[0]===2&&a[1]<2?"Eclair":a[0]===2&&a[1]===2?"Froyo":a[0]===2&&a[1]>2?"Gingerbread":a[0]===3?"Honeycomb":a[0]===4&&a[1]<1?"Ice Cream Sandwich":a[0]===4&&a[1]<4?"Jelly Bean":a[0]===4&&a[1]>=4?"KitKat":a[0]===5?"Lollipop":a[0]===6?"Marshmallow":a[0]===7?"Nougat":a[0]===8?"Oreo":a[0]===9?"Pie":void 0},o.getVersionPrecision=function(s){return s.split(".").length},o.compareVersions=function(s,a,c){c===void 0&&(c=!1);var l=o.getVersionPrecision(s),u=o.getVersionPrecision(a),d=Math.max(l,u),f=0,h=o.map([s,a],function(g){var p=d-o.getVersionPrecision(g),S=g+new Array(p+1).join(".0");return o.map(S.split("."),function(y){return new Array(20-y.length).join("0")+y}).reverse()});for(c&&(f=d-Math.min(l,u)),d-=1;d>=f;){if(h[0][d]>h[1][d])return 1;if(h[0][d]===h[1][d]){if(d===f)return 0;d-=1}else if(h[0][d]<h[1][d])return-1}},o.map=function(s,a){var c,l=[];if(Array.prototype.map)return Array.prototype.map.call(s,a);for(c=0;c<s.length;c+=1)l.push(a(s[c]));return l},o.find=function(s,a){var c,l;if(Array.prototype.find)return Array.prototype.find.call(s,a);for(c=0,l=s.length;c<l;c+=1){var u=s[c];if(a(u,c))return u}},o.assign=function(s){for(var a,c,l=s,u=arguments.length,d=new Array(u>1?u-1:0),f=1;f<u;f++)d[f-1]=arguments[f];if(Object.assign)return Object.assign.apply(Object,[s].concat(d));var h=function(){var g=d[a];typeof g=="object"&&g!==null&&Object.keys(g).forEach(function(p){l[p]=g[p]})};for(a=0,c=d.length;a<c;a+=1)h();return s},o.getBrowserAlias=function(s){return r.BROWSER_ALIASES_MAP[s]},o.getBrowserTypeByAlias=function(s){return r.BROWSER_MAP[s]||""},o}();e.default=i,t.exports=e.default},18:function(t,e,n){e.__esModule=!0,e.ENGINE_MAP=e.OS_MAP=e.PLATFORMS_MAP=e.BROWSER_MAP=e.BROWSER_ALIASES_MAP=void 0,e.BROWSER_ALIASES_MAP={"Amazon Silk":"amazon_silk","Android Browser":"android",Bada:"bada",BlackBerry:"blackberry",Chrome:"chrome",Chromium:"chromium",Electron:"electron",Epiphany:"epiphany",Firefox:"firefox",Focus:"focus",Generic:"generic","Google Search":"google_search",Googlebot:"googlebot","Internet Explorer":"ie","K-Meleon":"k_meleon",Maxthon:"maxthon","Microsoft Edge":"edge","MZ Browser":"mz","NAVER Whale Browser":"naver",Opera:"opera","Opera Coast":"opera_coast",PhantomJS:"phantomjs",Puffin:"puffin",QupZilla:"qupzilla",QQ:"qq",QQLite:"qqlite",Safari:"safari",Sailfish:"sailfish","Samsung Internet for Android":"samsung_internet",SeaMonkey:"seamonkey",Sleipnir:"sleipnir",Swing:"swing",Tizen:"tizen","UC Browser":"uc",Vivaldi:"vivaldi","WebOS Browser":"webos",WeChat:"wechat","Yandex Browser":"yandex",Roku:"roku"},e.BROWSER_MAP={amazon_silk:"Amazon Silk",android:"Android Browser",bada:"Bada",blackberry:"BlackBerry",chrome:"Chrome",chromium:"Chromium",electron:"Electron",epiphany:"Epiphany",firefox:"Firefox",focus:"Focus",generic:"Generic",googlebot:"Googlebot",google_search:"Google Search",ie:"Internet Explorer",k_meleon:"K-Meleon",maxthon:"Maxthon",edge:"Microsoft Edge",mz:"MZ Browser",naver:"NAVER Whale Browser",opera:"Opera",opera_coast:"Opera Coast",phantomjs:"PhantomJS",puffin:"Puffin",qupzilla:"QupZilla",qq:"QQ Browser",qqlite:"QQ Browser Lite",safari:"Safari",sailfish:"Sailfish",samsung_internet:"Samsung Internet for Android",seamonkey:"SeaMonkey",sleipnir:"Sleipnir",swing:"Swing",tizen:"Tizen",uc:"UC Browser",vivaldi:"Vivaldi",webos:"WebOS Browser",wechat:"WeChat",yandex:"Yandex Browser"},e.PLATFORMS_MAP={tablet:"tablet",mobile:"mobile",desktop:"desktop",tv:"tv"},e.OS_MAP={WindowsPhone:"Windows Phone",Windows:"Windows",MacOS:"macOS",iOS:"iOS",Android:"Android",WebOS:"WebOS",BlackBerry:"BlackBerry",Bada:"Bada",Tizen:"Tizen",Linux:"Linux",ChromeOS:"Chrome OS",PlayStation4:"PlayStation 4",Roku:"Roku"},e.ENGINE_MAP={EdgeHTML:"EdgeHTML",Blink:"Blink",Trident:"Trident",Presto:"Presto",Gecko:"Gecko",WebKit:"WebKit"}},90:function(t,e,n){e.__esModule=!0,e.default=void 0;var r,i=(r=n(91))&&r.__esModule?r:{default:r},o=n(18);function s(c,l){for(var u=0;u<l.length;u++){var d=l[u];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(c,d.key,d)}}var a=function(){function c(){}var l,u,d;return c.getParser=function(f,h){if(h===void 0&&(h=!1),typeof f!="string")throw new Error("UserAgent should be a string");return new i.default(f,h)},c.parse=function(f){return new i.default(f).getResult()},l=c,d=[{key:"BROWSER_MAP",get:function(){return o.BROWSER_MAP}},{key:"ENGINE_MAP",get:function(){return o.ENGINE_MAP}},{key:"OS_MAP",get:function(){return o.OS_MAP}},{key:"PLATFORMS_MAP",get:function(){return o.PLATFORMS_MAP}}],(u=null)&&s(l.prototype,u),d&&s(l,d),c}();e.default=a,t.exports=e.default},91:function(t,e,n){e.__esModule=!0,e.default=void 0;var r=c(n(92)),i=c(n(93)),o=c(n(94)),s=c(n(95)),a=c(n(17));function c(u){return u&&u.__esModule?u:{default:u}}var l=function(){function u(f,h){if(h===void 0&&(h=!1),f==null||f==="")throw new Error("UserAgent parameter can't be empty");this._ua=f,this.parsedResult={},h!==!0&&this.parse()}var d=u.prototype;return d.getUA=function(){return this._ua},d.test=function(f){return f.test(this._ua)},d.parseBrowser=function(){var f=this;this.parsedResult.browser={};var h=a.default.find(r.default,function(g){if(typeof g.test=="function")return g.test(f);if(g.test instanceof Array)return g.test.some(function(p){return f.test(p)});throw new Error("Browser's test function is not valid")});return h&&(this.parsedResult.browser=h.describe(this.getUA())),this.parsedResult.browser},d.getBrowser=function(){return this.parsedResult.browser?this.parsedResult.browser:this.parseBrowser()},d.getBrowserName=function(f){return f?String(this.getBrowser().name).toLowerCase()||"":this.getBrowser().name||""},d.getBrowserVersion=function(){return this.getBrowser().version},d.getOS=function(){return this.parsedResult.os?this.parsedResult.os:this.parseOS()},d.parseOS=function(){var f=this;this.parsedResult.os={};var h=a.default.find(i.default,function(g){if(typeof g.test=="function")return g.test(f);if(g.test instanceof Array)return g.test.some(function(p){return f.test(p)});throw new Error("Browser's test function is not valid")});return h&&(this.parsedResult.os=h.describe(this.getUA())),this.parsedResult.os},d.getOSName=function(f){var h=this.getOS().name;return f?String(h).toLowerCase()||"":h||""},d.getOSVersion=function(){return this.getOS().version},d.getPlatform=function(){return this.parsedResult.platform?this.parsedResult.platform:this.parsePlatform()},d.getPlatformType=function(f){f===void 0&&(f=!1);var h=this.getPlatform().type;return f?String(h).toLowerCase()||"":h||""},d.parsePlatform=function(){var f=this;this.parsedResult.platform={};var h=a.default.find(o.default,function(g){if(typeof g.test=="function")return g.test(f);if(g.test instanceof Array)return g.test.some(function(p){return f.test(p)});throw new Error("Browser's test function is not valid")});return h&&(this.parsedResult.platform=h.describe(this.getUA())),this.parsedResult.platform},d.getEngine=function(){return this.parsedResult.engine?this.parsedResult.engine:this.parseEngine()},d.getEngineName=function(f){return f?String(this.getEngine().name).toLowerCase()||"":this.getEngine().name||""},d.parseEngine=function(){var f=this;this.parsedResult.engine={};var h=a.default.find(s.default,function(g){if(typeof g.test=="function")return g.test(f);if(g.test instanceof Array)return g.test.some(function(p){return f.test(p)});throw new Error("Browser's test function is not valid")});return h&&(this.parsedResult.engine=h.describe(this.getUA())),this.parsedResult.engine},d.parse=function(){return this.parseBrowser(),this.parseOS(),this.parsePlatform(),this.parseEngine(),this},d.getResult=function(){return a.default.assign({},this.parsedResult)},d.satisfies=function(f){var h=this,g={},p=0,S={},y=0;if(Object.keys(f).forEach(function(T){var L=f[T];typeof L=="string"?(S[T]=L,y+=1):typeof L=="object"&&(g[T]=L,p+=1)}),p>0){var b=Object.keys(g),_=a.default.find(b,function(T){return h.isOS(T)});if(_){var N=this.satisfies(g[_]);if(N!==void 0)return N}var O=a.default.find(b,function(T){return h.isPlatform(T)});if(O){var $=this.satisfies(g[O]);if($!==void 0)return $}}if(y>0){var j=Object.keys(S),k=a.default.find(j,function(T){return h.isBrowser(T,!0)});if(k!==void 0)return this.compareVersion(S[k])}},d.isBrowser=function(f,h){h===void 0&&(h=!1);var g=this.getBrowserName().toLowerCase(),p=f.toLowerCase(),S=a.default.getBrowserTypeByAlias(p);return h&&S&&(p=S.toLowerCase()),p===g},d.compareVersion=function(f){var h=[0],g=f,p=!1,S=this.getBrowserVersion();if(typeof S=="string")return f[0]===">"||f[0]==="<"?(g=f.substr(1),f[1]==="="?(p=!0,g=f.substr(2)):h=[],f[0]===">"?h.push(1):h.push(-1)):f[0]==="="?g=f.substr(1):f[0]==="~"&&(p=!0,g=f.substr(1)),h.indexOf(a.default.compareVersions(S,g,p))>-1},d.isOS=function(f){return this.getOSName(!0)===String(f).toLowerCase()},d.isPlatform=function(f){return this.getPlatformType(!0)===String(f).toLowerCase()},d.isEngine=function(f){return this.getEngineName(!0)===String(f).toLowerCase()},d.is=function(f,h){return h===void 0&&(h=!1),this.isBrowser(f,h)||this.isOS(f)||this.isPlatform(f)},d.some=function(f){var h=this;return f===void 0&&(f=[]),f.some(function(g){return h.is(g)})},u}();e.default=l,t.exports=e.default},92:function(t,e,n){e.__esModule=!0,e.default=void 0;var r,i=(r=n(17))&&r.__esModule?r:{default:r},o=/version\/(\d+(\.?_?\d+)+)/i,s=[{test:[/googlebot/i],describe:function(a){var c={name:"Googlebot"},l=i.default.getFirstMatch(/googlebot\/(\d+(\.\d+))/i,a)||i.default.getFirstMatch(o,a);return l&&(c.version=l),c}},{test:[/opera/i],describe:function(a){var c={name:"Opera"},l=i.default.getFirstMatch(o,a)||i.default.getFirstMatch(/(?:opera)[\s/](\d+(\.?_?\d+)+)/i,a);return l&&(c.version=l),c}},{test:[/opr\/|opios/i],describe:function(a){var c={name:"Opera"},l=i.default.getFirstMatch(/(?:opr|opios)[\s/](\S+)/i,a)||i.default.getFirstMatch(o,a);return l&&(c.version=l),c}},{test:[/SamsungBrowser/i],describe:function(a){var c={name:"Samsung Internet for Android"},l=i.default.getFirstMatch(o,a)||i.default.getFirstMatch(/(?:SamsungBrowser)[\s/](\d+(\.?_?\d+)+)/i,a);return l&&(c.version=l),c}},{test:[/Whale/i],describe:function(a){var c={name:"NAVER Whale Browser"},l=i.default.getFirstMatch(o,a)||i.default.getFirstMatch(/(?:whale)[\s/](\d+(?:\.\d+)+)/i,a);return l&&(c.version=l),c}},{test:[/MZBrowser/i],describe:function(a){var c={name:"MZ Browser"},l=i.default.getFirstMatch(/(?:MZBrowser)[\s/](\d+(?:\.\d+)+)/i,a)||i.default.getFirstMatch(o,a);return l&&(c.version=l),c}},{test:[/focus/i],describe:function(a){var c={name:"Focus"},l=i.default.getFirstMatch(/(?:focus)[\s/](\d+(?:\.\d+)+)/i,a)||i.default.getFirstMatch(o,a);return l&&(c.version=l),c}},{test:[/swing/i],describe:function(a){var c={name:"Swing"},l=i.default.getFirstMatch(/(?:swing)[\s/](\d+(?:\.\d+)+)/i,a)||i.default.getFirstMatch(o,a);return l&&(c.version=l),c}},{test:[/coast/i],describe:function(a){var c={name:"Opera Coast"},l=i.default.getFirstMatch(o,a)||i.default.getFirstMatch(/(?:coast)[\s/](\d+(\.?_?\d+)+)/i,a);return l&&(c.version=l),c}},{test:[/opt\/\d+(?:.?_?\d+)+/i],describe:function(a){var c={name:"Opera Touch"},l=i.default.getFirstMatch(/(?:opt)[\s/](\d+(\.?_?\d+)+)/i,a)||i.default.getFirstMatch(o,a);return l&&(c.version=l),c}},{test:[/yabrowser/i],describe:function(a){var c={name:"Yandex Browser"},l=i.default.getFirstMatch(/(?:yabrowser)[\s/](\d+(\.?_?\d+)+)/i,a)||i.default.getFirstMatch(o,a);return l&&(c.version=l),c}},{test:[/ucbrowser/i],describe:function(a){var c={name:"UC Browser"},l=i.default.getFirstMatch(o,a)||i.default.getFirstMatch(/(?:ucbrowser)[\s/](\d+(\.?_?\d+)+)/i,a);return l&&(c.version=l),c}},{test:[/Maxthon|mxios/i],describe:function(a){var c={name:"Maxthon"},l=i.default.getFirstMatch(o,a)||i.default.getFirstMatch(/(?:Maxthon|mxios)[\s/](\d+(\.?_?\d+)+)/i,a);return l&&(c.version=l),c}},{test:[/epiphany/i],describe:function(a){var c={name:"Epiphany"},l=i.default.getFirstMatch(o,a)||i.default.getFirstMatch(/(?:epiphany)[\s/](\d+(\.?_?\d+)+)/i,a);return l&&(c.version=l),c}},{test:[/puffin/i],describe:function(a){var c={name:"Puffin"},l=i.default.getFirstMatch(o,a)||i.default.getFirstMatch(/(?:puffin)[\s/](\d+(\.?_?\d+)+)/i,a);return l&&(c.version=l),c}},{test:[/sleipnir/i],describe:function(a){var c={name:"Sleipnir"},l=i.default.getFirstMatch(o,a)||i.default.getFirstMatch(/(?:sleipnir)[\s/](\d+(\.?_?\d+)+)/i,a);return l&&(c.version=l),c}},{test:[/k-meleon/i],describe:function(a){var c={name:"K-Meleon"},l=i.default.getFirstMatch(o,a)||i.default.getFirstMatch(/(?:k-meleon)[\s/](\d+(\.?_?\d+)+)/i,a);return l&&(c.version=l),c}},{test:[/micromessenger/i],describe:function(a){var c={name:"WeChat"},l=i.default.getFirstMatch(/(?:micromessenger)[\s/](\d+(\.?_?\d+)+)/i,a)||i.default.getFirstMatch(o,a);return l&&(c.version=l),c}},{test:[/qqbrowser/i],describe:function(a){var c={name:/qqbrowserlite/i.test(a)?"QQ Browser Lite":"QQ Browser"},l=i.default.getFirstMatch(/(?:qqbrowserlite|qqbrowser)[/](\d+(\.?_?\d+)+)/i,a)||i.default.getFirstMatch(o,a);return l&&(c.version=l),c}},{test:[/msie|trident/i],describe:function(a){var c={name:"Internet Explorer"},l=i.default.getFirstMatch(/(?:msie |rv:)(\d+(\.?_?\d+)+)/i,a);return l&&(c.version=l),c}},{test:[/\sedg\//i],describe:function(a){var c={name:"Microsoft Edge"},l=i.default.getFirstMatch(/\sedg\/(\d+(\.?_?\d+)+)/i,a);return l&&(c.version=l),c}},{test:[/edg([ea]|ios)/i],describe:function(a){var c={name:"Microsoft Edge"},l=i.default.getSecondMatch(/edg([ea]|ios)\/(\d+(\.?_?\d+)+)/i,a);return l&&(c.version=l),c}},{test:[/vivaldi/i],describe:function(a){var c={name:"Vivaldi"},l=i.default.getFirstMatch(/vivaldi\/(\d+(\.?_?\d+)+)/i,a);return l&&(c.version=l),c}},{test:[/seamonkey/i],describe:function(a){var c={name:"SeaMonkey"},l=i.default.getFirstMatch(/seamonkey\/(\d+(\.?_?\d+)+)/i,a);return l&&(c.version=l),c}},{test:[/sailfish/i],describe:function(a){var c={name:"Sailfish"},l=i.default.getFirstMatch(/sailfish\s?browser\/(\d+(\.\d+)?)/i,a);return l&&(c.version=l),c}},{test:[/silk/i],describe:function(a){var c={name:"Amazon Silk"},l=i.default.getFirstMatch(/silk\/(\d+(\.?_?\d+)+)/i,a);return l&&(c.version=l),c}},{test:[/phantom/i],describe:function(a){var c={name:"PhantomJS"},l=i.default.getFirstMatch(/phantomjs\/(\d+(\.?_?\d+)+)/i,a);return l&&(c.version=l),c}},{test:[/slimerjs/i],describe:function(a){var c={name:"SlimerJS"},l=i.default.getFirstMatch(/slimerjs\/(\d+(\.?_?\d+)+)/i,a);return l&&(c.version=l),c}},{test:[/blackberry|\bbb\d+/i,/rim\stablet/i],describe:function(a){var c={name:"BlackBerry"},l=i.default.getFirstMatch(o,a)||i.default.getFirstMatch(/blackberry[\d]+\/(\d+(\.?_?\d+)+)/i,a);return l&&(c.version=l),c}},{test:[/(web|hpw)[o0]s/i],describe:function(a){var c={name:"WebOS Browser"},l=i.default.getFirstMatch(o,a)||i.default.getFirstMatch(/w(?:eb)?[o0]sbrowser\/(\d+(\.?_?\d+)+)/i,a);return l&&(c.version=l),c}},{test:[/bada/i],describe:function(a){var c={name:"Bada"},l=i.default.getFirstMatch(/dolfin\/(\d+(\.?_?\d+)+)/i,a);return l&&(c.version=l),c}},{test:[/tizen/i],describe:function(a){var c={name:"Tizen"},l=i.default.getFirstMatch(/(?:tizen\s?)?browser\/(\d+(\.?_?\d+)+)/i,a)||i.default.getFirstMatch(o,a);return l&&(c.version=l),c}},{test:[/qupzilla/i],describe:function(a){var c={name:"QupZilla"},l=i.default.getFirstMatch(/(?:qupzilla)[\s/](\d+(\.?_?\d+)+)/i,a)||i.default.getFirstMatch(o,a);return l&&(c.version=l),c}},{test:[/firefox|iceweasel|fxios/i],describe:function(a){var c={name:"Firefox"},l=i.default.getFirstMatch(/(?:firefox|iceweasel|fxios)[\s/](\d+(\.?_?\d+)+)/i,a);return l&&(c.version=l),c}},{test:[/electron/i],describe:function(a){var c={name:"Electron"},l=i.default.getFirstMatch(/(?:electron)\/(\d+(\.?_?\d+)+)/i,a);return l&&(c.version=l),c}},{test:[/MiuiBrowser/i],describe:function(a){var c={name:"Miui"},l=i.default.getFirstMatch(/(?:MiuiBrowser)[\s/](\d+(\.?_?\d+)+)/i,a);return l&&(c.version=l),c}},{test:[/chromium/i],describe:function(a){var c={name:"Chromium"},l=i.default.getFirstMatch(/(?:chromium)[\s/](\d+(\.?_?\d+)+)/i,a)||i.default.getFirstMatch(o,a);return l&&(c.version=l),c}},{test:[/chrome|crios|crmo/i],describe:function(a){var c={name:"Chrome"},l=i.default.getFirstMatch(/(?:chrome|crios|crmo)\/(\d+(\.?_?\d+)+)/i,a);return l&&(c.version=l),c}},{test:[/GSA/i],describe:function(a){var c={name:"Google Search"},l=i.default.getFirstMatch(/(?:GSA)\/(\d+(\.?_?\d+)+)/i,a);return l&&(c.version=l),c}},{test:function(a){var c=!a.test(/like android/i),l=a.test(/android/i);return c&&l},describe:function(a){var c={name:"Android Browser"},l=i.default.getFirstMatch(o,a);return l&&(c.version=l),c}},{test:[/playstation 4/i],describe:function(a){var c={name:"PlayStation 4"},l=i.default.getFirstMatch(o,a);return l&&(c.version=l),c}},{test:[/safari|applewebkit/i],describe:function(a){var c={name:"Safari"},l=i.default.getFirstMatch(o,a);return l&&(c.version=l),c}},{test:[/.*/i],describe:function(a){var c=a.search("\\(")!==-1?/^(.*)\/(.*)[ \t]\((.*)/:/^(.*)\/(.*) /;return{name:i.default.getFirstMatch(c,a),version:i.default.getSecondMatch(c,a)}}}];e.default=s,t.exports=e.default},93:function(t,e,n){e.__esModule=!0,e.default=void 0;var r,i=(r=n(17))&&r.__esModule?r:{default:r},o=n(18),s=[{test:[/Roku\/DVP/],describe:function(a){var c=i.default.getFirstMatch(/Roku\/DVP-(\d+\.\d+)/i,a);return{name:o.OS_MAP.Roku,version:c}}},{test:[/windows phone/i],describe:function(a){var c=i.default.getFirstMatch(/windows phone (?:os)?\s?(\d+(\.\d+)*)/i,a);return{name:o.OS_MAP.WindowsPhone,version:c}}},{test:[/windows /i],describe:function(a){var c=i.default.getFirstMatch(/Windows ((NT|XP)( \d\d?.\d)?)/i,a),l=i.default.getWindowsVersionName(c);return{name:o.OS_MAP.Windows,version:c,versionName:l}}},{test:[/Macintosh(.*?) FxiOS(.*?)\//],describe:function(a){var c={name:o.OS_MAP.iOS},l=i.default.getSecondMatch(/(Version\/)(\d[\d.]+)/,a);return l&&(c.version=l),c}},{test:[/macintosh/i],describe:function(a){var c=i.default.getFirstMatch(/mac os x (\d+(\.?_?\d+)+)/i,a).replace(/[_\s]/g,"."),l=i.default.getMacOSVersionName(c),u={name:o.OS_MAP.MacOS,version:c};return l&&(u.versionName=l),u}},{test:[/(ipod|iphone|ipad)/i],describe:function(a){var c=i.default.getFirstMatch(/os (\d+([_\s]\d+)*) like mac os x/i,a).replace(/[_\s]/g,".");return{name:o.OS_MAP.iOS,version:c}}},{test:function(a){var c=!a.test(/like android/i),l=a.test(/android/i);return c&&l},describe:function(a){var c=i.default.getFirstMatch(/android[\s/-](\d+(\.\d+)*)/i,a),l=i.default.getAndroidVersionName(c),u={name:o.OS_MAP.Android,version:c};return l&&(u.versionName=l),u}},{test:[/(web|hpw)[o0]s/i],describe:function(a){var c=i.default.getFirstMatch(/(?:web|hpw)[o0]s\/(\d+(\.\d+)*)/i,a),l={name:o.OS_MAP.WebOS};return c&&c.length&&(l.version=c),l}},{test:[/blackberry|\bbb\d+/i,/rim\stablet/i],describe:function(a){var c=i.default.getFirstMatch(/rim\stablet\sos\s(\d+(\.\d+)*)/i,a)||i.default.getFirstMatch(/blackberry\d+\/(\d+([_\s]\d+)*)/i,a)||i.default.getFirstMatch(/\bbb(\d+)/i,a);return{name:o.OS_MAP.BlackBerry,version:c}}},{test:[/bada/i],describe:function(a){var c=i.default.getFirstMatch(/bada\/(\d+(\.\d+)*)/i,a);return{name:o.OS_MAP.Bada,version:c}}},{test:[/tizen/i],describe:function(a){var c=i.default.getFirstMatch(/tizen[/\s](\d+(\.\d+)*)/i,a);return{name:o.OS_MAP.Tizen,version:c}}},{test:[/linux/i],describe:function(){return{name:o.OS_MAP.Linux}}},{test:[/CrOS/],describe:function(){return{name:o.OS_MAP.ChromeOS}}},{test:[/PlayStation 4/],describe:function(a){var c=i.default.getFirstMatch(/PlayStation 4[/\s](\d+(\.\d+)*)/i,a);return{name:o.OS_MAP.PlayStation4,version:c}}}];e.default=s,t.exports=e.default},94:function(t,e,n){e.__esModule=!0,e.default=void 0;var r,i=(r=n(17))&&r.__esModule?r:{default:r},o=n(18),s=[{test:[/googlebot/i],describe:function(){return{type:"bot",vendor:"Google"}}},{test:[/huawei/i],describe:function(a){var c=i.default.getFirstMatch(/(can-l01)/i,a)&&"Nova",l={type:o.PLATFORMS_MAP.mobile,vendor:"Huawei"};return c&&(l.model=c),l}},{test:[/nexus\s*(?:7|8|9|10).*/i],describe:function(){return{type:o.PLATFORMS_MAP.tablet,vendor:"Nexus"}}},{test:[/ipad/i],describe:function(){return{type:o.PLATFORMS_MAP.tablet,vendor:"Apple",model:"iPad"}}},{test:[/Macintosh(.*?) FxiOS(.*?)\//],describe:function(){return{type:o.PLATFORMS_MAP.tablet,vendor:"Apple",model:"iPad"}}},{test:[/kftt build/i],describe:function(){return{type:o.PLATFORMS_MAP.tablet,vendor:"Amazon",model:"Kindle Fire HD 7"}}},{test:[/silk/i],describe:function(){return{type:o.PLATFORMS_MAP.tablet,vendor:"Amazon"}}},{test:[/tablet(?! pc)/i],describe:function(){return{type:o.PLATFORMS_MAP.tablet}}},{test:function(a){var c=a.test(/ipod|iphone/i),l=a.test(/like (ipod|iphone)/i);return c&&!l},describe:function(a){var c=i.default.getFirstMatch(/(ipod|iphone)/i,a);return{type:o.PLATFORMS_MAP.mobile,vendor:"Apple",model:c}}},{test:[/nexus\s*[0-6].*/i,/galaxy nexus/i],describe:function(){return{type:o.PLATFORMS_MAP.mobile,vendor:"Nexus"}}},{test:[/[^-]mobi/i],describe:function(){return{type:o.PLATFORMS_MAP.mobile}}},{test:function(a){return a.getBrowserName(!0)==="blackberry"},describe:function(){return{type:o.PLATFORMS_MAP.mobile,vendor:"BlackBerry"}}},{test:function(a){return a.getBrowserName(!0)==="bada"},describe:function(){return{type:o.PLATFORMS_MAP.mobile}}},{test:function(a){return a.getBrowserName()==="windows phone"},describe:function(){return{type:o.PLATFORMS_MAP.mobile,vendor:"Microsoft"}}},{test:function(a){var c=Number(String(a.getOSVersion()).split(".")[0]);return a.getOSName(!0)==="android"&&c>=3},describe:function(){return{type:o.PLATFORMS_MAP.tablet}}},{test:function(a){return a.getOSName(!0)==="android"},describe:function(){return{type:o.PLATFORMS_MAP.mobile}}},{test:function(a){return a.getOSName(!0)==="macos"},describe:function(){return{type:o.PLATFORMS_MAP.desktop,vendor:"Apple"}}},{test:function(a){return a.getOSName(!0)==="windows"},describe:function(){return{type:o.PLATFORMS_MAP.desktop}}},{test:function(a){return a.getOSName(!0)==="linux"},describe:function(){return{type:o.PLATFORMS_MAP.desktop}}},{test:function(a){return a.getOSName(!0)==="playstation 4"},describe:function(){return{type:o.PLATFORMS_MAP.tv}}},{test:function(a){return a.getOSName(!0)==="roku"},describe:function(){return{type:o.PLATFORMS_MAP.tv}}}];e.default=s,t.exports=e.default},95:function(t,e,n){e.__esModule=!0,e.default=void 0;var r,i=(r=n(17))&&r.__esModule?r:{default:r},o=n(18),s=[{test:function(a){return a.getBrowserName(!0)==="microsoft edge"},describe:function(a){if(/\sedg\//i.test(a))return{name:o.ENGINE_MAP.Blink};var c=i.default.getFirstMatch(/edge\/(\d+(\.?_?\d+)+)/i,a);return{name:o.ENGINE_MAP.EdgeHTML,version:c}}},{test:[/trident/i],describe:function(a){var c={name:o.ENGINE_MAP.Trident},l=i.default.getFirstMatch(/trident\/(\d+(\.?_?\d+)+)/i,a);return l&&(c.version=l),c}},{test:function(a){return a.test(/presto/i)},describe:function(a){var c={name:o.ENGINE_MAP.Presto},l=i.default.getFirstMatch(/presto\/(\d+(\.?_?\d+)+)/i,a);return l&&(c.version=l),c}},{test:function(a){var c=a.test(/gecko/i),l=a.test(/like gecko/i);return c&&!l},describe:function(a){var c={name:o.ENGINE_MAP.Gecko},l=i.default.getFirstMatch(/gecko\/(\d+(\.?_?\d+)+)/i,a);return l&&(c.version=l),c}},{test:[/(apple)?webkit\/537\.36/i],describe:function(){return{name:o.ENGINE_MAP.Blink}}},{test:[/(apple)?webkit/i],describe:function(a){var c={name:o.ENGINE_MAP.WebKit},l=i.default.getFirstMatch(/webkit\/(\d+(\.?_?\d+)+)/i,a);return l&&(c.version=l),c}}];e.default=s,t.exports=e.default}});var MU=M2(TU.exports);const gi={Initialized:"initialized",DisplayURI:"display_uri",ProviderUpdate:"provider_update",ConnectWithResponse:"connectWithResponse",ConnectionStatus:"connection_status",ServiceStatus:"service_status"};class ds{constructor({shouldSetOnWindow:e,connectionStream:n,shouldSendMetadata:r=!1,shouldShimWeb3:i,sdkInstance:o}){const s=new Zhe({connectionStream:n,shouldSendMetadata:r,shouldSetOnWindow:e,shouldShimWeb3:i,autoRequestAccounts:!1}),a=new Proxy(s,{deleteProperty:()=>!0});if(this.provider=a,this.sdkInstance=o,e&&typeof window<"u")try{c=s,window.ethereum=c,window.dispatchEvent(new Event("ethereum#initialized"))}catch(l){ve("[Ethereum] Unable to set global provider - window.ethereum may be read-only",l)}var c;if(i&&typeof window<"u")try{(function(l,u=console){let d=!1,f=!1;if(!window.web3){const h="__isMetaMaskShim__";let g={currentProvider:l};Object.defineProperty(g,h,{value:!0,enumerable:!0,configurable:!1,writable:!1}),g=new Proxy(g,{get:(p,S,...y)=>(S!=="currentProvider"||d?S==="currentProvider"||S===h||f||(f=!0,u.error("MetaMask no longer injects web3. For details, see: https://docs.metamask.io/guide/provider-migration.html#replacing-window-web3"),l.request({method:"metamask_logWeb3ShimUsage"}).catch(b=>{u.debug("MetaMask: Failed to log web3 shim usage.",b)})):(d=!0,u.warn("You are accessing the MetaMask window.web3.currentProvider shim. This property is deprecated; use window.ethereum instead. For details, see: https://docs.metamask.io/guide/provider-migration.html#replacing-window-web3")),Reflect.get(p,S,...y)),set:(...p)=>(u.warn("You are accessing the MetaMask window.web3 shim. This object is deprecated; use window.ethereum instead. For details, see: https://docs.metamask.io/guide/provider-migration.html#replacing-window-web3"),Reflect.set(...p))}),Object.defineProperty(window,"web3",{value:g,enumerable:!1,configurable:!0,writable:!0})}})(this.provider)}catch(l){ve("[Ethereum] Unable to shim web3 - window.web3 may be read-only",l)}this.provider.on("display_uri",l=>{this.sdkInstance.emit(gi.DisplayURI,l)}),this.provider.on("_initialized",()=>{const l={chainId:this.provider.getChainId(),isConnected:this.provider.isConnected(),isMetaMask:this.provider.isMetaMask,selectedAddress:this.provider.getSelectedAddress(),networkVersion:this.provider.getNetworkVersion()};this.sdkInstance.emit(gi.Initialized,l),ve("[Ethereum: constructor()] provider initialized",l)})}static init(e){var n;return ve("[Ethereum: init()] Initializing Ethereum service"),this.instance=new ds(e),(n=this.instance)===null||n===void 0?void 0:n.provider}static destroy(){}static getInstance(){var e;if(!(!((e=this.instance)===null||e===void 0)&&e.provider))throw new Error("Ethereum instance not intiialized - call Ethereum.factory first.");return this.instance}static getProvider(){var e;if(!(!((e=this.instance)===null||e===void 0)&&e.provider))throw new Error("Ethereum instance not intiialized - call Ethereum.factory first.");return this.instance.provider}}class Zg{constructor({useDeepLink:e,preferredOpenLink:n,debug:r=!1}){this.state={platformType:void 0,useDeeplink:!1,preferredOpenLink:void 0,debug:!1},this.state.platformType=this.getPlatformType(),this.state.useDeeplink=e,this.state.preferredOpenLink=n,this.state.debug=r}openDeeplink(e,n,r){return function(i,o,s,a){const{state:c}=i;ve(`[PlatfformManager: openDeeplink()] universalLink --> ${o}`),ve(`[PlatfformManager: openDeeplink()] deepLink --> ${s}`);try{if(c.preferredOpenLink)return void c.preferredOpenLink(c.useDeeplink?s:o,a);if(ve(`[PlatfformManager: openDeeplink()] open link now useDeepLink=${c.useDeeplink} link=${c.useDeeplink?s:o}`),c.useDeeplink)typeof window<"u"&&(window.location.href=s);else if(typeof document<"u"){const l=document.createElement("a");l.href=o,l.target="_self",l.rel="noreferrer noopener",l.click()}}catch(l){console.log("[PlatfformManager: openDeeplink()] can't open link",l)}}(this,e,n,r)}isReactNative(){var e;return this.isNotBrowser()&&typeof window<"u"&&(window==null?void 0:window.navigator)&&((e=window.navigator)===null||e===void 0?void 0:e.product)==="ReactNative"}isMetaMaskInstalled(){return function(){const e=ds.getProvider()||(window==null?void 0:window.ethereum);return ve(`[PlatfformManager: isMetaMaskInstalled()] isMetaMask=${e==null?void 0:e.isMetaMask} isConnected=${e==null?void 0:e.isConnected()}`),(e==null?void 0:e.isMetaMask)&&(e==null?void 0:e.isConnected())}()}isDesktopWeb(){return this.isBrowser()&&!this.isMobileWeb()}isMobile(){var e,n;const r=MU.parse(window.navigator.userAgent);return((e=r==null?void 0:r.platform)===null||e===void 0?void 0:e.type)==="mobile"||((n=r==null?void 0:r.platform)===null||n===void 0?void 0:n.type)==="tablet"}isSecure(){return this.isReactNative()||this.isMobileWeb()}isMetaMaskMobileWebView(){return typeof window<"u"&&!!window.ReactNativeWebView&&!!navigator.userAgent.endsWith("MetaMaskMobile")}isMobileWeb(){return this.state.platformType===Nr.MobileWeb}static isNotBrowser(){var e;return typeof window>"u"||!(window!=null&&window.navigator)||Yr!==void 0&&((e=Yr==null?void 0:Yr.navigator)===null||e===void 0?void 0:e.product)==="ReactNative"||(navigator==null?void 0:navigator.product)==="ReactNative"}isNotBrowser(){return Zg.isNotBrowser()}static isBrowser(){return!this.isNotBrowser()}isBrowser(){return Zg.isBrowser()}isNodeJS(){return this.isNotBrowser()&&!this.isReactNative()}isUseDeepLink(){return this.state.useDeeplink}getPlatformType(){return function(e){const{state:n}=e;return n.platformType?n.platformType:e.isReactNative()?Nr.ReactNative:e.isNotBrowser()?Nr.NonBrowser:e.isMetaMaskMobileWebView()?Nr.MetaMaskMobileWebview:e.isMobile()?Nr.MobileWeb:Nr.DesktopWeb}(this)}}const NU=t=>xe(void 0,void 0,void 0,function*(){if(Zg.isBrowser()){const{StorageManagerWeb:n}=yield Promise.resolve().then(function(){return A0e});return new n(t)}const e={persistChannelConfig:()=>xe(void 0,void 0,void 0,function*(){}),getPersistedChannelConfig:()=>xe(void 0,void 0,void 0,function*(){}),persistAccounts:()=>xe(void 0,void 0,void 0,function*(){}),getCachedAccounts:()=>xe(void 0,void 0,void 0,function*(){return[]}),persistChainId:()=>xe(void 0,void 0,void 0,function*(){}),getCachedChainId:()=>xe(void 0,void 0,void 0,function*(){}),terminate:()=>xe(void 0,void 0,void 0,function*(){})};return Promise.resolve(e)});class Zhe extends Ghe{constructor({connectionStream:e,shouldSendMetadata:n,autoRequestAccounts:r=!1}){super(e,{logger:console,maxEventListeners:100,shouldSendMetadata:n}),this.state={accounts:null,autoRequestAccounts:!1,providerStateRequested:!1,chainId:"",networkVersion:""},ve(`[SDKProvider: constructor()] autoRequestAccounts=${r}`),this.state.autoRequestAccounts=r}forceInitializeState(){return xe(this,void 0,void 0,function*(){return ve(`[SDKProvider: forceInitializeState()] autoRequestAccounts=${this.state.autoRequestAccounts}`),this._initializeStateAsync()})}_setConnected(){ve("[SDKProvider: _setConnected()] Setting connected state"),this._state.isConnected=!0}getState(){return this._state}getSDKProviderState(){return this.state}getSelectedAddress(){var e;const{accounts:n}=this._state;return n&&n.length!==0?((e=n[0])===null||e===void 0?void 0:e.toLowerCase())||"":(ve("[SDKProvider: getSelectedAddress] No accounts found"),null)}getChainId(){return this.state.chainId}getNetworkVersion(){return this.state.networkVersion}setSDKProviderState(e){this.state=Object.assign(Object.assign({},this.state),e)}handleAccountsChanged(e,n){return this._handleAccountsChanged(e,n)}handleDisconnect({terminate:e=!1}){(function({terminate:n=!1,instance:r}){const{state:i}=r;ve(`[SDKProvider: handleDisconnect()] cleaning up provider state terminate=${n}`,r),n&&(r._state.accounts=null,r._state.isUnlocked=!1,r._state.isPermanentlyDisconnected=!0,r._state.initialized=!1),r._handleAccountsChanged([]),r._state.isConnected=!1,r.emit("disconnect",IU.ethErrors.provider.disconnected()),i.providerStateRequested=!1})({terminate:e,instance:this})}_initializeStateAsync(){return xe(this,void 0,void 0,function*(){return function(e){var n,r;return xe(this,void 0,void 0,function*(){e.state===void 0&&(e.state={accounts:null,autoRequestAccounts:!1,providerStateRequested:!1,chainId:""});const{state:i}=e;let o;if(i.providerStateRequested)ve("[SDKProvider: initializeStateAsync()] initialization already in progress");else{let s;i.providerStateRequested=!0;let a=null,c=!1,l=!1;const u=yield NU({enabled:!0});if(u){const d=yield u.getPersistedChannelConfig({});c=(n=d==null?void 0:d.relayPersistence)!==null&&n!==void 0&&n,s=yield u.getCachedChainId();const f=yield u.getCachedAccounts();f.length>0&&(a=f[0])}if(ve(`[SDKProvider: initializeStateAsync()] relayPersistence=${c}`,{relayPersistence:c,cachedChainId:s,cachedSelectedAddress:a}),c)if(s&&a)o={accounts:[a],chainId:s,isUnlocked:!1},l=!0;else try{o=yield e.request({method:"metamask_getProviderState"})}catch(d){return e._log.error("MetaMask: Failed to get initial state. Please report this bug.",d),void(i.providerStateRequested=!1)}if(((r=o==null?void 0:o.accounts)===null||r===void 0?void 0:r.length)===0)if(e.getSelectedAddress())o.accounts=[e.getSelectedAddress()];else{ve("[SDKProvider: initializeStateAsync()] Fetch accounts remotely.");const d=yield e.request({method:"eth_requestAccounts",params:[]});o.accounts=d}e._initializeState(o),i.providerStateRequested=!1,l&&(e._state.isConnected=!0,e.emit("connect",{chainId:o==null?void 0:o.chainId}))}})}(this)})}_initializeState(e){return ve("[SDKProvider: _initializeState()]",e),function(n,r,i){return ve("[SDKProvider: initializeState()] set state._initialized to false"),n._state.initialized=!1,r(i)}(this,super._initializeState.bind(this),e)}_handleChainChanged({chainId:e,networkVersion:n}={}){this.state.chainId=e,this.state.networkVersion=n,function({instance:r,chainId:i,networkVersion:o,superHandleChainChanged:s}){ve(`[SDKProvider: handleChainChanged()] chainId=${i} networkVersion=${o}`);let a=o;o||(ve("[SDKProvider: handleChainChanged()] forced network version to prevent provider error"),a="1"),i!==kT&&(On.analytics.track("sdk_used_chain",{caip_chain_id:`eip155:${parseInt(i??"0x1",16)}`}),kT=i),r._state.isConnected=!0,r.emit("connect",{chainId:i}),s({chainId:i,networkVersion:a})}({instance:this,chainId:e,networkVersion:n,superHandleChainChanged:super._handleChainChanged.bind(this)})}}var Qg,Xd={name:"@metamask/sdk",version:"0.33.1",description:"",homepage:"https://github.com/MetaMask/metamask-sdk#readme",bugs:{url:"https://github.com/MetaMask/metamask-sdk/issues"},repository:{type:"git",url:"https://github.com/MetaMask/metamask-sdk",directory:"packages/sdk"},main:"dist/node/cjs/metamask-sdk.js",module:"dist/browser/es/metamask-sdk.js",browser:"dist/browser/es/metamask-sdk.js",unpkg:"dist/browser/umd/metamask-sdk.js","react-native":"dist/react-native/es/metamask-sdk.js",types:"dist/types/src/index.d.ts",sideEffects:!1,files:["/dist"],scripts:{"build:types":"tsc --project tsconfig.build.json --emitDeclarationOnly --outDir dist/types",build:"yarn build:types && rollup -c --bundleConfigAsCjs","build:clean":"yarn clean && yarn build","build:post-tsc":"echo 'N/A'","build:pre-tsc":"echo 'N/A'",typecheck:"tsc --noEmit",clean:"rimraf ./dist",size:"node bundle-size && size-limit",lint:"yarn lint:eslint && yarn lint:misc --check","lint:changelog":"../../scripts/validate-changelog.sh @metamask/sdk","lint:eslint":"eslint . --cache --ext js,ts","lint:fix":"yarn lint:eslint --fix && yarn lint:misc --write","lint:misc":"prettier '**/*.json' '**/*.md' '!CHANGELOG.md' --ignore-path ../../.gitignore",prepack:"../../scripts/prepack.sh","publish:preview":"yarn npm publish --tag preview",reset:"yarn clean && rimraf ./node_modules/",test:'jest --testPathIgnorePatterns "/e2e/"',"test:coverage":'jest --coverage --testPathIgnorePatterns "/e2e/"',"test:e2e":'jest --testPathPattern "/e2e/"',"test:ci":'jest --coverage --passWithNoTests --setupFilesAfterEnv ./jest-preload.js --testPathIgnorePatterns "/e2e/"',"test:dev":'jest -c ./jest.config.ts --detectOpenHandles  --testPathIgnorePatterns "/e2e/"',watch:"rollup -c -w",dev:'concurrently "tsc --watch" "rollup -c -w --bundleConfigAsCjs"',"build:dev":"yarn build:types && NODE_ENV=dev rollup -c --bundleConfigAsCjs"},dependencies:{"@babel/runtime":"^7.26.0","@metamask/onboarding":"^1.0.1","@metamask/providers":"16.1.0","@metamask/sdk-analytics":"workspace:*","@metamask/sdk-communication-layer":"workspace:*","@metamask/sdk-install-modal-web":"workspace:*","@paulmillr/qr":"^0.2.1",bowser:"^2.9.0","cross-fetch":"^4.0.0",debug:"4.3.4",eciesjs:"^0.4.11","eth-rpc-errors":"^4.0.3",eventemitter2:"^6.4.9","obj-multiplex":"^1.0.0",pump:"^3.0.0","readable-stream":"^3.6.2","socket.io-client":"^4.5.1",tslib:"^2.6.0",util:"^0.12.4",uuid:"^8.3.2"},devDependencies:{"@jest/globals":"^29.3.1","@lavamoat/allow-scripts":"^2.3.1","@metamask/auto-changelog":"3.1.0","@metamask/eslint-config":"^6.0.0","@metamask/eslint-config-nodejs":"^6.0.0","@metamask/eslint-config-typescript":"^6.0.0","@react-native-async-storage/async-storage":"^1.19.6","@rollup/plugin-alias":"^5.1.1","@rollup/plugin-commonjs":"^25.0.7","@rollup/plugin-json":"^6.0.0","@rollup/plugin-node-resolve":"^15.0.2","@rollup/plugin-replace":"^6.0.1","@rollup/plugin-terser":"^0.4.1","@size-limit/preset-big-lib":"^11.0.2","@types/dom-screen-wake-lock":"^1.0.2","@types/node":"^20.1.3","@types/pump":"^1.1.1","@types/qrcode-terminal":"^0.12.0","@types/uuid":"^10.0.0","@typescript-eslint/eslint-plugin":"^4.26.0","@typescript-eslint/parser":"^4.26.0","browserify-zlib":"^0.2.0",buffer:"^6.0.3",concurrently:"^9.1.2","crypto-browserify":"^3.12.0",eslint:"^7.30.0","eslint-config-prettier":"^8.3.0","eslint-plugin-import":"^2.23.4","eslint-plugin-jest":"^24.4.0","eslint-plugin-jsdoc":"^36.1.0","eslint-plugin-node":"^11.1.0","eslint-plugin-prettier":"^3.4.0","https-browserify":"^1.0.0",jest:"^29.3.1","jest-environment-jsdom":"^29.3.1",prettier:"^2.3.0",process:"^0.11.10",rimraf:"^4.4.0",rollup:"^4.26.0","rollup-plugin-analyzer":"^4.0.0","rollup-plugin-jscc":"^2.0.0","rollup-plugin-natives":"^0.7.5","rollup-plugin-node-builtins":"^2.1.2","rollup-plugin-polyfill-node":"^0.13.0","rollup-plugin-sizes":"^1.0.6","rollup-plugin-typescript2":"^0.31.2","rollup-plugin-visualizer":"^5.12.0","size-limit":"^11.0.2","stream-browserify":"^3.0.0","stream-http":"^3.2.0","ts-jest":"^29.0.3","ts-node":"^10.9.1",typescript:"^4.3.2",url:"^0.11.0",webpack:"^5.0.0"},publishConfig:{access:"public",registry:"https://registry.npmjs.org/"},lavamoat:{allowScripts:{"eciesjs>secp256k1":!1,"socket.io-client>engine.io-client>ws>bufferutil":!1,"socket.io-client>engine.io-client>ws>utf-8-validate":!1,"@metamask/sdk-communication-layer>bufferutil":!1,"@metamask/sdk-communication-layer>eciesjs>secp256k1":!1,"@metamask/sdk-communication-layer>utf-8-validate":!1}}};(function(t){t.INPAGE="metamask-inpage",t.CONTENT_SCRIPT="metamask-contentscript",t.PROVIDER="metamask-provider"})(Qg||(Qg={}));const PT="direct",Xg="https://metamask.app.link/connect",em="metamask://connect",OT={NAME:"MetaMask",RDNS:["io.metamask","io.metamask.flask"]},Qhe=/(?:^[a-f0-9]{8}-[a-f0-9]{4}-4[a-f0-9]{3}-[a-f0-9]{4}-[a-f0-9]{12}$)|(?:^0{8}-0{4}-0{4}-0{4}-0{12}$)/u,st={METAMASK_GETPROVIDERSTATE:"metamask_getProviderState",METAMASK_CONNECTSIGN:"metamask_connectSign",METAMASK_CONNECTWITH:"metamask_connectWith",METAMASK_OPEN:"metamask_open",METAMASK_BATCH:"metamask_batch",PERSONAL_SIGN:"personal_sign",WALLET_REQUESTPERMISSIONS:"wallet_requestPermissions",WALLET_REVOKEPERMISSIONS:"wallet_revokePermissions",WALLET_GETPERMISSIONS:"wallet_getPermissions",WALLET_WATCHASSET:"wallet_watchAsset",WALLET_ADDETHEREUMCHAIN:"wallet_addEthereumChain",WALLET_SWITCHETHETHEREUMCHAIN:"wallet_switchEthereumChain",ETH_REQUESTACCOUNTS:"eth_requestAccounts",ETH_ACCOUNTS:"eth_accounts",ETH_CHAINID:"eth_chainId",ETH_SENDTRANSACTION:"eth_sendTransaction",ETH_SIGNTYPEDDATA:"eth_signTypedData",ETH_SIGNTYPEDDATA_V3:"eth_signTypedData_v3",ETH_SIGNTYPEDDATA_V4:"eth_signTypedData_v4",ETH_SIGNTRANSACTION:"eth_signTransaction",ETH_SIGN:"eth_sign",PERSONAL_EC_RECOVER:"personal_ecRecover"},tm={[st.ETH_REQUESTACCOUNTS]:!0,[st.ETH_SENDTRANSACTION]:!0,[st.ETH_SIGNTRANSACTION]:!0,[st.ETH_SIGN]:!0,[st.PERSONAL_SIGN]:!0,[st.ETH_ACCOUNTS]:!1,[st.ETH_CHAINID]:!1,[st.PERSONAL_SIGN]:!0,[st.ETH_SIGNTYPEDDATA]:!0,[st.ETH_SIGNTYPEDDATA_V3]:!0,[st.ETH_SIGNTYPEDDATA_V4]:!0,[st.WALLET_REQUESTPERMISSIONS]:!0,[st.WALLET_GETPERMISSIONS]:!0,[st.WALLET_WATCHASSET]:!0,[st.WALLET_ADDETHEREUMCHAIN]:!0,[st.WALLET_SWITCHETHETHEREUMCHAIN]:!0,[st.METAMASK_CONNECTSIGN]:!0,[st.METAMASK_CONNECTWITH]:!0,[st.PERSONAL_EC_RECOVER]:!0,[st.METAMASK_BATCH]:!0,[st.METAMASK_OPEN]:!0},Xhe=Object.keys(tm).filter(t=>tm[t]===!0).map(t=>t.toLowerCase()),RU=["eth_signTypedData","eth_signTypedData_v3","eth_signTypedData_v4","eth_sign"].map(t=>t.toLowerCase()),N6=".sdk-comm",Jw="providerType",$S=".MMSDK_cached_address",BS=".MMSDK_cached_chainId",ks={CHAIN_CHANGED:"chainChanged",ACCOUNTS_CHANGED:"accountsChanged",DISCONNECT:"disconnect",CONNECT:"connect",CONNECTED:"connected"},e0e=1e6;var sa;(function(t){t.TERMINATE="terminate",t.EXTENSION="extension",t.INITIALIZED="initialized"})(sa||(sa={}));const t0e=typeof window<"u"&&window.localStorage;function n0e({instance:t,msg:e}){return xe(this,void 0,void 0,function*(){if(t._initialized||(ve("[MetaMaskSDK: connectAndSign()] provider not ready -- wait for init()"),yield t.init()),ve(`[MetaMaskSDK: connectAndSign()] activeProvider=${t.activeProvider}`),!t.activeProvider)throw new Error("SDK state invalid -- undefined provider");const n=/^0x([0-9A-Fa-f]{2})*$/u.test(e)?e:function(r){let i;if(Se!==void 0)i=Se.from(r,"utf8").toString("hex");else if(typeof TextEncoder<"u"){const o=new TextEncoder().encode(r);i=Array.from(o).map(s=>s.toString(16).padStart(2,"0")).join("")}else{if(typeof Yr!="object"||!("Buffer"in Yr))throw new Error("Unable to convert string to hex: No available method.");i=Yr.Buffer.from(r,"utf8").toString("hex")}return`0x${i}`}(e);return t.activeProvider.request({method:st.METAMASK_CONNECTWITH,params:[{method:st.PERSONAL_SIGN,params:[n]}]})})}function TT(t){var e,n;return xe(this,void 0,void 0,function*(){ve("[MetaMaskSDK: connectWithExtensionProvider()] ",t),t.sdkProvider=t.activeProvider,t.activeProvider=window.extension,window.ethereum=window.extension;try{const r=yield(e=window.extension)===null||e===void 0?void 0:e.request({method:"eth_requestAccounts"});ve(`[MetaMaskSDK: connectWithExtensionProvider()] accounts=${r}`)}catch(r){return void console.warn("[MetaMaskSDK: connectWithExtensionProvider()] can't request accounts error",r)}localStorage.setItem(Jw,"extension"),t.extensionActive=!0,t.emit(gi.ProviderUpdate,sa.EXTENSION),t.options.enableAnalytics&&((n=t.analytics)===null||n===void 0||n.send({event:Nn.SDK_USE_EXTENSION}))})}function Zw(t){let e;if(Se!==void 0)e=Se.from(t,"utf8").toString("base64");else if(typeof btoa=="function")e=btoa(encodeURIComponent(t).replace(/%([0-9A-F]{2})/gu,(n,r)=>String.fromCharCode(parseInt(r,16))));else{if(typeof Yr!="object"||!("Buffer"in Yr))throw new Error("Unable to base64 encode: No available method.");e=Yr.Buffer.from(t,"utf8").toString("base64")}return e}function r0e(t,e,n,r){var i,o,s,a,c,l,u,d,f,h,g,p,S,y,b,_,N,O,$,j;return xe(this,void 0,void 0,function*(){const k=(i=t.state.remote)===null||i===void 0?void 0:i.isReady(),T=(o=t.state.remote)===null||o===void 0?void 0:o.isConnected(),L=(s=t.state.remote)===null||s===void 0?void 0:s.isPaused(),P=ds.getProvider(),m=(a=t.state.remote)===null||a===void 0?void 0:a.getChannelId(),w=(c=t.state.remote)===null||c===void 0?void 0:c.isAuthorized(),{deeplinkProtocol:A}=t.state,{method:v,data:I,triggeredInstaller:M}=(R=>{var D,B,z,H;let W;Se.isBuffer(R)?(W=R.toJSON(),W._isBuffer=!0):W=R;const G=(D=W==null?void 0:W.data)===null||D===void 0?void 0:D.method;let V=!1;return typeof((B=W==null?void 0:W.data)===null||B===void 0?void 0:B.params)=="object"&&((H=(z=W==null?void 0:W.data)===null||z===void 0?void 0:z.params)===null||H===void 0?void 0:H.__triggeredInstaller)===!0&&(V=!0,W.data.params=W.data.params.wrappedParams),{method:G,data:W,triggeredInstaller:V}})(e);if(ve(`[RCPMS: write()] method='${v}' isRemoteReady=${k} channelId=${m} isSocketConnected=${T} isRemotePaused=${L} providerConnected=${P.isConnected()}`,e),!m)return v!==st.METAMASK_GETPROVIDERSTATE&&ve(`[RCPMS: write()] ${v} --> channelId is undefined`),r(new Error("disconnected"));ve(`[RCPMS: write()] remote.isPaused()=${(l=t.state.remote)===null||l===void 0?void 0:l.isPaused()} authorized=${w} ready=${k} socketConnected=${T}`,e);const E=(u=t.state.platformManager)===null||u===void 0?void 0:u.isSecure(),C=(f=(d=t.state.platformManager)===null||d===void 0?void 0:d.isMobileWeb())!==null&&f!==void 0&&f,x=(g=(h=t.state.remote)===null||h===void 0?void 0:h.hasDeeplinkProtocol())!==null&&g!==void 0&&g&&C&&w;try{if(!M){const B=JSON.stringify(I==null?void 0:I.data);if(B.length>e0e)return r(new Error(`Message size ${B.length} exceeds maximum allowed size of 1000000 bytes`));(p=t.state.remote)===null||p===void 0||p.sendMessage(I==null?void 0:I.data).then(()=>{ve(`[RCPMS: _write()] ${v} sent successfully`)}).catch(z=>{ve("[RCPMS: _write()] error sending message",z)})}if(!E)return ve(`[RCPMS: _write()] unsecure platform for method ${v} -- return callback`),r();if(M)return ve("[RCPMS: _write()] prevent deeplink -- installation completed separately."),r();const R=(b=(y=(S=t.state.remote)===null||S===void 0?void 0:S.getKeyInfo())===null||y===void 0?void 0:y.ecies.public)!==null&&b!==void 0?b:"";let D=encodeURI(`channelId=${m}&pubkey=${R}&comm=socket&t=d&v=2`);if(x){const B=JSON.stringify(I==null?void 0:I.data),z=(_=t.state.remote)===null||_===void 0?void 0:_.encrypt(B);if(!z)return ve("[RCPMS: _write()] error encrypting message"),r(new Error("RemoteCommunicationPostMessageStream - disconnected"));D+=`&scheme=${A}&rpc=${Zw(z)}`}if(!(!((N=t.state.platformManager)===null||N===void 0)&&N.isMetaMaskInstalled()))return ve("[RCPMS: _write()] prevent deeplink until installation is completed."),r();tm[v]?(ve(`[RCPMS: _write()] redirect link for '${v}' socketConnected=${T} connect?${D}`),(O=t.state.platformManager)===null||O===void 0||O.openDeeplink(`${Xg}?${D}`,`${em}?${D}`,"_self")):!(($=t.state.remote)===null||$===void 0)&&$.isPaused()?(ve(`[RCPMS: _write()] MM is PAUSED! deeplink with connect! targetMethod=${v}`),(j=t.state.platformManager)===null||j===void 0||j.openDeeplink(`${Xg}?redirect=true&${D}`,`${em}?redirect=true&${D}`,"_self")):ve(`[RCPMS: _write()] method ${v} doesn't need redirect.`)}catch(R){return ve("[RCPMS: _write()] error sending message",R),r(new Error("RemoteCommunicationPostMessageStream - disconnected"))}return r()})}class i0e extends s0.Duplex{constructor({name:e,remote:n,deeplinkProtocol:r,platformManager:i}){super({objectMode:!0}),this.state={_name:null,remote:null,deeplinkProtocol:!1,platformManager:null},this.state._name=e,this.state.remote=n,this.state.deeplinkProtocol=r,this.state.platformManager=i,this._onMessage=this._onMessage.bind(this),this.state.remote.on(Pe.MESSAGE,this._onMessage)}_write(e,n,r){return xe(this,void 0,void 0,function*(){return r0e(this,e,0,r)})}_read(){}_onMessage(e){return function(n,r){try{if(ve("[RCPMS: onMessage()] message",r),!r||typeof r!="object"||typeof(r==null?void 0:r.data)!="object")return;if(!(r!=null&&r.name))return void ve("[RCPMS: onMessage()] ignore message without name",r);if((r==null?void 0:r.name)!==Qg.PROVIDER)return void ve(`[RCPMS: onMessage()] ignore message with wrong name message=${r}`);if(Se.isBuffer(r)){const i=Se.from(r);n.push(i)}else n.push(r)}catch(i){ve(`[RCPMS: onMessage()] ignore message error err=${i}`)}}(this,e)}start(){}}let MT=1;const LU=t=>new Promise(e=>{setTimeout(()=>{e(!0)},t)}),o0e=({checkInstallationOnAllCalls:t=!1,communicationLayerPreference:e,injectProvider:n,shouldShimWeb3:r,platformManager:i,installer:o,sdk:s,remoteConnection:a,debug:c})=>xe(void 0,void 0,void 0,function*(){var l,u;const d=(({name:L,remoteConnection:P})=>{if(!P||!(P!=null&&P.getConnector()))throw new Error("Missing remote connection parameter");return new i0e({name:L,remote:P==null?void 0:P.getConnector(),deeplinkProtocol:P==null?void 0:P.state.deeplinkProtocol,platformManager:P==null?void 0:P.getPlatformManager()})})({name:Qg.INPAGE,target:Qg.CONTENT_SCRIPT,remoteConnection:a}),f=i.getPlatformType(),h=s.options.dappMetadata,g=`Sdk/Javascript SdkVersion/${Xd.version} Platform/${f} dApp/${(l=h.url)!==null&&l!==void 0?l:h.name} dAppTitle/${h.name}`;let p=null,S=null;const y=(u=s.options.storage)===null||u===void 0?void 0:u.storageManager;if(y){try{const L=yield y.getCachedAccounts();L.length>0&&(p=L[0])}catch(L){console.error(`[initializeMobileProvider] failed to get cached addresses: ${L}`)}try{const L=yield y.getCachedChainId();L&&(S=L)}catch(L){console.error(`[initializeMobileProvider] failed to parse cached chainId: ${L}`)}}ve(`[initializeMobileProvider] cachedAccountAddress: ${p}, cachedChainId: ${S}`);const b=!(!n||f===Nr.NonBrowser||f===Nr.ReactNative),_=ds.init({shouldSetOnWindow:b,connectionStream:d,shouldShimWeb3:r,sdkInstance:s});let N=!1;const O=L=>{N=L},$=()=>N,j=(L,P,m,w)=>xe(void 0,void 0,void 0,function*(){var A,v,I,M,E,C,x,R,D;const B=ds.getProvider();if(N){B.emit("display_uri",(a==null?void 0:a.state.qrcodeLink)||""),a==null||a.showActiveModal();let ne=$();for(;ne;){const K=$(),Q=a==null?void 0:a.isAuthorized();ne=K&&!Q,ve(`[initializeMobileProvider: sendRequest()] waiting for initialization to complete - initializing: ${K} authorized: ${Q}`),yield LU(1e3)}return ve("[initializeMobileProvider: sendRequest()] initial method completed -- prevent installation and call provider"),m(...P)}const z=i.isMetaMaskInstalled(),H=a==null?void 0:a.isConnected();let W=null,G=null,V=null;if(W=(A=B.getSelectedAddress())!==null&&A!==void 0?A:p,V=B.getChainId()||S,W&&y&&W!==p&&y.persistAccounts([W]).catch(ne=>{console.error(`[initializeMobileProvider] failed to persist account: ${ne}`)}),V&&(S=V,y&&y.persistChainId(V).catch(ne=>{console.error(`[initializeMobileProvider] failed to persist chainId: ${ne}`)})),ve("[initializeMobileProvider: sendRequest()]",{selectedAddress:W,chainId:V}),w&&ve(`[initializeMobileProvider: sendRequest()] method=${L} ongoing=${N} selectedAddress=${W} isInstalled=${z} checkInstallationOnAllCalls=${t} socketConnected=${H}`),W&&L.toLowerCase()===st.ETH_ACCOUNTS.toLowerCase())return[W];if(V&&L.toLowerCase()===st.ETH_CHAINID.toLowerCase())return V;const J=[st.ETH_REQUESTACCOUNTS,st.WALLET_REQUESTPERMISSIONS,st.METAMASK_CONNECTSIGN,st.METAMASK_CONNECTWITH],Y=!tm[L],ee=(v=s.options.readonlyRPCMap)===null||v===void 0?void 0:v[V];if(ee&&Y)try{const ne=(I=P==null?void 0:P[0])===null||I===void 0?void 0:I.params,K=yield(({rpcEndpoint:Q,method:ie,sdkInfo:ce,params:he})=>xe(void 0,void 0,void 0,function*(){const pe=JSON.stringify({jsonrpc:"2.0",method:ie,params:he,id:(MT+=1,MT)}),Ee={Accept:"application/json","Content-Type":"application/json"};let Le;Q.includes("infura")&&(Ee["Metamask-Sdk-Info"]=ce);try{Le=yield X7(Q,{method:"POST",headers:Ee,body:pe})}catch(De){throw De instanceof Error?new Error(`Failed to fetch from RPC: ${De.message}`):new Error(`Failed to fetch from RPC: ${De}`)}if(!Le.ok)throw new Error(`Server responded with a status of ${Le.status}`);return(yield Le.json()).result}))({rpcEndpoint:ee,sdkInfo:g,method:L,params:ne||[]});return w&&ve(`initializeProvider::ReadOnlyRPCResponse ${K}`),K}catch(ne){console.warn(`[initializeMobileProvider: sendRequest()] method=${L} readOnlyRPCRequest failed:`,ne)}if((!z||z&&!H)&&L!==st.METAMASK_GETPROVIDERSTATE){const ne=((M=P==null?void 0:P[0])===null||M===void 0?void 0:M.params)||[];if(J.indexOf(L)!==-1||t){O(!0);const K=L===st.METAMASK_CONNECTWITH,Q=`${Date.now()}`;try{yield o.start({wait:!1,connectWith:K?{method:L,id:Q,params:ne}:void 0}),yield new Promise((ie,ce)=>{a!=null&&a.isAuthorized()&&(ve("[initializeMobileProvider: sendRequest()] already authorized"),ie(!0)),a==null||a.getConnector().once(Pe.AUTHORIZED,()=>{ie(!0)}),s.once(Pe.PROVIDER_UPDATE,he=>{ve(`[initializeMobileProvider: sendRequest()] PROVIDER_UPDATE --- remote provider request interupted type=${he}`),he===sa.EXTENSION?ce(Pe.PROVIDER_UPDATE):ce(new Error("Connection Terminated"))})})}catch(ie){if(sa.EXTENSION===ie){if(ve(`[initializeMobileProvider: sendRequest()] extension provider detect: re-create ${L} on the active provider`),L.toLowerCase()===st.METAMASK_CONNECTSIGN.toLowerCase()){const ce=yield(E=s.getProvider())===null||E===void 0?void 0:E.request({method:st.ETH_REQUESTACCOUNTS,params:[]});if(!ce.length)throw new Error("SDK state invalid -- undefined accounts");const he=yield(C=s.getProvider())===null||C===void 0?void 0:C.request({method:st.PERSONAL_SIGN,params:[ne[0],ce[0]]});return s.emit(gi.ConnectWithResponse,he),he}if(L.toLowerCase()===st.METAMASK_CONNECTWITH.toLowerCase()){const[ce]=ne,he=yield(({method:pe,sdk:Ee,params:Le})=>xe(void 0,void 0,void 0,function*(){var De,we,Je,He;if(!Ee.isExtensionActive())throw new Error("SDK state invalid -- extension is not active");ve("[MetaMaskProvider: extensionConnectWithOverwrite()] Overwriting request method",pe,Le);const Xe=yield(De=Ee.getProvider())===null||De===void 0?void 0:De.request({method:st.ETH_REQUESTACCOUNTS,params:[]});if(!Xe.length)throw new Error("SDK state invalid -- undefined accounts");if((pe==null?void 0:pe.toLowerCase())===st.PERSONAL_SIGN.toLowerCase()){const ze={method:pe,params:[Le[0],Xe[0]]};return yield(we=Ee.getProvider())===null||we===void 0?void 0:we.request(ze)}if((pe==null?void 0:pe.toLowerCase())===st.ETH_SENDTRANSACTION.toLowerCase()){const ze={method:pe,params:[Object.assign(Object.assign({},Le[0]),{from:Xe[0]})]};return yield(Je=Ee.getProvider())===null||Je===void 0?void 0:Je.request(ze)}return RU.includes(pe.toLowerCase())?(console.warn(`MetaMaskSDK connectWith method=${pe} -- not handled by the extension -- call separately`),Xe):yield(He=Ee.getProvider())===null||He===void 0?void 0:He.request({method:pe,params:Le})}))({method:ce.method,sdk:s,params:ce.params});return s.emit(gi.ConnectWithResponse,he),he}return ve(`[initializeMobileProvider: sendRequest()] sending '${L}' on active provider`,ne),yield(x=s.getProvider())===null||x===void 0?void 0:x.request({method:L,params:ne})}throw ie===Pe.REJECTED?(a==null||a.closeModal(),(R=s.getProvider())===null||R===void 0||R.handleDisconnect({terminate:!1}),Object.assign(new Error("User rejected connection"),{code:4001})):(ve(`[initializeMobileProvider: sendRequest()] failed to start installer: ${ie}`),ie)}finally{O(!1)}if(L===st.ETH_REQUESTACCOUNTS)return G=yield new Promise(ie=>{const ce=setInterval(()=>{const{accounts:he}=B.getState();he&&(clearInterval(ce),ie(he))},100)}),ve(`[initializeMobileProvider: sendRequest()] selectedAddress: ${W} --- SKIP rpc call`),G;if(L===st.METAMASK_CONNECTWITH)try{let ie=0;const ce=5,he=({resolve:De,reject:we})=>{ie+=1;const Je=a==null?void 0:a.getConnector().getRPCMethodTracker(),He=Je==null?void 0:Je[Q];return ve(`TRACKER: update method ${Q}`,He),He!=null&&He.result?(ve("[initializeMobileProvider: sendRequest()] found result",He.result),s.emit(gi.ConnectWithResponse,He.result),void De(He.result)):He!=null&&He.error?(ve("[initializeMobileProvider: sendRequest()] found error",He.error),void we(He.error)):ie>=ce?(ve("[initializeMobileProvider: sendRequest()] max message count reached without result"),void we(new Error("Max message count reached without result"))):void ve("[initializeMobileProvider: sendRequest()] not found yet, need to wait for next update")};let pe,Ee;const Le=yield new Promise((De,we)=>{const Je=a==null?void 0:a.getConnector().getRPCMethodTracker();ve(`TRACKER: method ${Q}`,Je),Je!=null&&Je[Q].result?(ve("[initializeMobileProvider: sendRequest()] found result",Je==null?void 0:Je[Q].result),De(Je==null?void 0:Je[Q].result)):Je!=null&&Je[Q].error&&(ve("[initializeMobileProvider: sendRequest()] found error",Je==null?void 0:Je[Q].error),we(Je==null?void 0:Je[Q].error)),Ee=()=>he({resolve:De,reject:we}),pe=a==null?void 0:a.getConnector().on(Pe.RPC_UPDATE,Ee)});return Ee&&(pe==null||pe.off(Pe.RPC_UPDATE,Ee)),ve("TRACKER: result",Le),Le}catch(ie){throw ve("[initializeMobileProvider: sendRequest()] error:",ie),ie}return P[0]&&typeof P[0]=="object"&&(P[0].params={__triggeredInstaller:!0,wrappedParams:P[0].params}),m(...P)}if(i.isSecure()&&tm[L])return m(...P);if(s.isExtensionActive())return ve(`[initializeMobileProvider: sendRequest()] EXTENSION active - redirect request '${L}' to it`,P,ne),yield(D=s.getProvider())===null||D===void 0?void 0:D.request({method:L,params:ne});throw ve(`[initializeMobileProvider: sendRequest()] method=${L} --- skip --- not connected/installed`),new Error("MetaMask is not connected/installed, please call eth_requestAccounts to connect first.")}try{const ne=yield m(...P);if(ve(`[initializeMobileProvider: sendRequest()] method=${L} rpcResponse`,ne),L===st.WALLET_REQUESTPERMISSIONS){const K=ne.reduce((Q,ie)=>{var ce;if(ie.parentCapability==="eth_accounts"){const he=(ce=ie.caveats.find(pe=>pe.type==="restrictReturnedAccounts"))===null||ce===void 0?void 0:ce.value;he&&Q.push(...he)}return Q},[]);ve("[initializeMobileProvider: sendRequest()] accountsToPersist:",K),K.length>0&&(B.handleAccountsChanged(K,!1),y==null||y.persistAccounts(K))}return ne}catch(ne){throw console.error("[initializeMobileProvider: sendRequest()] error:",ne),ne}}),{request:k}=_;_.request=(...L)=>xe(void 0,void 0,void 0,function*(){return j(L==null?void 0:L[0].method,L,k,c)});const{send:T}=_;return _.send=(...L)=>xe(void 0,void 0,void 0,function*(){return j(L==null?void 0:L[0],L,T,c)}),ve("[initializeMobileProvider: sendRequest()] metamaskStream.start()"),d.start(),_});function s0e(t){var e,n,r,i;return xe(this,void 0,void 0,function*(){const{options:o}=t,s={communicationLayerPreference:(e=o.communicationLayerPreference)!==null&&e!==void 0?e:Md.SOCKET,platformManager:t.platformManager,sdk:t,checkInstallationOnAllCalls:o.checkInstallationOnAllCalls,injectProvider:(n=o.injectProvider)===null||n===void 0||n,shouldShimWeb3:(r=o.shouldShimWeb3)===null||r===void 0||r,extensionOnly:(i=o.extensionOnly)===null||i===void 0||i,installer:t.installer,remoteConnection:t.remoteConnection,debug:t.debug},a=yield o0e(s);t.activeProvider=a,function(c){var l,u,d,f;(u=(l=c.remoteConnection)===null||l===void 0?void 0:l.getConnector())===null||u===void 0||u.on(gi.ConnectionStatus,h=>{c.emit(gi.ConnectionStatus,h)}),(f=(d=c.remoteConnection)===null||d===void 0?void 0:d.getConnector())===null||f===void 0||f.on(gi.ServiceStatus,h=>{c.emit(gi.ServiceStatus,h)})}(t)})}const a0e="sdk";class c0e{constructor({serverUrl:e,enabled:n,originatorInfo:r}){this.serverURL=r0,this.serverURL=e,this.originatorInfo=r,this.enabled=n==null||n}send({event:e,params:n}){if(!this.enabled)return;const r=Object.assign(Object.assign({id:a0e,event:e,sdkVersion:Xd.version},this.originatorInfo),{params:n});ve(`[Analytics: send()] event: ${e}`,r),Cc(r,this.serverURL).catch(i=>{ve(`[Analytics: send()] error: ${i}`)})}}const l0e=()=>{if(typeof document>"u")return;let t;const e=document.getElementsByTagName("link");for(let n=0;n<e.length;n++)e[n].getAttribute("rel")!=="icon"&&e[n].getAttribute("rel")!=="shortcut icon"||(t=e[n].getAttribute("href"));return t},u0e=163400;function NT(t){var e,n,r;const{dappMetadata:i}=t,o=function({url:u,name:d}){var f;const h=u+d,g=Zw(h);if(!localStorage)return"";let p=(f=localStorage.getItem(g))!==null&&f!==void 0?f:"";if(!p){p=_l();try{localStorage.setItem(g,p)}catch{return""}}return p}({url:(e=i==null?void 0:i.url)!==null&&e!==void 0?e:"no_url",name:(n=i==null?void 0:i.name)!==null&&n!==void 0?n:"no_name"}),s=(r=t.platformManager)===null||r===void 0?void 0:r.getPlatformType(),a=s===Nr.DesktopWeb,c=s===Nr.MetaMaskMobileWebview;let l="N/A";return a?l="extension":c&&(l="mobile"),{id:o,from:l}}const A1=(t,e,n)=>{if(Xm(t))if(n||e&&typeof e=="object"&&e!==null&&"error"in e){const r=n||(e==null?void 0:e.error);r&&r.code===4001?On.analytics.track("sdk_action_rejected",{action:t}):On.analytics.track("sdk_action_failed",{action:t})}else On.analytics.track("sdk_action_succeeded",{action:t})},$U=({provider:t,sdkInstance:e})=>{if("state"in t)throw new Error("INVALID EXTENSION PROVIDER");return new Proxy(t,{get:(n,r)=>r==="request"?function(i){var o,s;return xe(this,void 0,void 0,function*(){ve("[wrapExtensionProvider()] Overwriting request method",i);const{method:a,params:c}=i,l=Xhe.includes(a.toLowerCase()),{id:u,from:d}=NT(e);if(l&&((o=e.analytics)===null||o===void 0||o.send({event:Nn.SDK_RPC_REQUEST,params:{method:a,from:d,id:u}})),Xm(a)&&On.analytics.track("sdk_action_requested",{action:a}),a===st.METAMASK_BATCH&&Array.isArray(c))return(({target:g,args:p,trackEvent:S,sdkInstance:y})=>xe(void 0,void 0,void 0,function*(){var b,_;if(p.method!=="metamask_batch")throw new Error("Invalid usage");const N=[],O=(b=p==null?void 0:p.params)!==null&&b!==void 0?b:[];for(const k of O){const T=yield g==null?void 0:g.request({method:k.method,params:k.params});N.push(T)}const{id:$,from:j}=NT(y);S&&((_=y.analytics)===null||_===void 0||_.send({event:Nn.SDK_RPC_REQUEST_DONE,params:{method:p.method,from:j,id:$}}));for(const k of N)A1(p.method,k,null);return N}))({target:n,args:i,trackEvent:l,sdkInstance:e});if(a.toLowerCase()===st.METAMASK_CONNECTSIGN.toLowerCase()&&Array.isArray(c))return(({target:g,params:p})=>xe(void 0,void 0,void 0,function*(){let S,y=null;try{const b=yield g.request({method:st.ETH_REQUESTACCOUNTS,params:[]});if(!b.length)throw new Error("SDK state invalid -- undefined accounts");return S=yield g.request({method:st.PERSONAL_SIGN,params:[p[0],b[0]]}),S}catch(b){throw y=b,b}finally{A1(st.PERSONAL_SIGN,S,y)}}))({target:n,params:c});if(a.toLowerCase()===st.METAMASK_CONNECTWITH.toLowerCase()&&Array.isArray(c))return(({target:g,params:p})=>xe(void 0,void 0,void 0,function*(){const[S]=p,y=S.method,b=S.params;let _,N=null;try{const O=yield g.request({method:st.ETH_REQUESTACCOUNTS,params:[]});if(!Array.isArray(O)||!O.length)throw new Error("SDK state invalid -- undefined accounts");return(y==null?void 0:y.toLowerCase())===st.PERSONAL_SIGN.toLowerCase()?(_=yield g.request({method:y,params:[b[0],O[0]]}),_):(y==null?void 0:y.toLowerCase())===st.ETH_SENDTRANSACTION.toLowerCase()?(_=yield g.request({method:y,params:[Object.assign(Object.assign({},b[0]),{from:O[0]})]}),_):RU.includes(y.toLowerCase())?(console.warn(`MetaMaskSDK connectWith method=${y} -- not handled by the extension -- call separately`),_=O,_):(_=yield g.request({method:y,params:b}),_)}catch(O){throw N=O,O}finally{A1(y,_,N)}}))({target:n,params:c});let f,h=null;try{return f=yield n.request(i),f}catch(g){throw h=g,g}finally{l&&((s=e.analytics)===null||s===void 0||s.send({event:Nn.SDK_RPC_REQUEST_DONE,params:{method:a,from:d,id:u}})),A1(a,f,h)}})}:r==="getChainId"?function(){return t.chainId}:r==="getNetworkVersion"?function(){return t.networkVersion}:r==="getSelectedAddress"?function(){return t.selectedAddress}:r==="isConnected"?function(){return t._state.isConnected}:n[r]})};var Qw;function d0e({mustBeMetaMask:t,sdkInstance:e}){return xe(this,void 0,void 0,function*(){if(typeof window>"u")throw new Error("window not available");try{const n=yield new Promise((r,i)=>{const o=setTimeout(()=>{i(new Error("eip6963RequestProvider timed out"))},500);window.addEventListener(Qw.Announce,s=>{const a=s,{detail:{info:c,provider:l}={}}=a,{name:u,rdns:d,uuid:f}=c??{};Qhe.test(f)&&u.startsWith(OT.NAME)&&OT.RDNS.includes(d)&&(clearTimeout(o),r(l))}),window.dispatchEvent(new Event(Qw.Request))});return $U({provider:n,sdkInstance:e})}catch{throw new Error("Provider not found")}})}(function(t){t.Announce="eip6963:announceProvider",t.Request="eip6963:requestProvider"})(Qw||(Qw={}));const f0e=t=>xe(void 0,void 0,void 0,function*(){const{options:e}=t,{infuraAPIKey:n}=e;if(!n)return;const r={"0x1":`https://mainnet.infura.io/v3/${n}`,"0x5":`https://goerli.infura.io/v3/${n}`,"0xaa36a7":`https://sepolia.infura.io/v3/${n}`,"0xe708":`https://linea-mainnet.infura.io/v3/${n}`,"0xe704":`https://linea-goerli.infura.io/v3/${n}`,"0x89":`https://polygon-mainnet.infura.io/v3/${n}`,"0x13881":`https://polygon-mumbai.infura.io/v3/${n}`,"0x45":`https://optimism-mainnet.infura.io/v3/${n}`,"0x1a4":`https://optimism-goerli.infura.io/v3/${n}`,"0xa4b1":`https://arbitrum-mainnet.infura.io/v3/${n}`,"0x66eed":`https://arbitrum-goerli.infura.io/v3/${n}`,"0x2a15c308d":`https://palm-mainnet.infura.io/v3/${n}`,"0x2a15c3083":`https://palm-testnet.infura.io/v3/${n}`,"0xa86a":`https://avalanche-mainnet.infura.io/v3/${n}`,"0xa869":`https://avalanche-fuji.infura.io/v3/${n}`,"0x4e454152":`https://aurora-mainnet.infura.io/v3/${n}`,"0x4e454153":`https://aurora-testnet.infura.io/v3/${n}`,"0x534e5f4d41494e":`https://starknet-mainnet.infura.io/v3/${n}`,"0x534e5f474f45524c49":`https://starknet-goerli.infura.io/v3/${n}`,"0x534e5f474f45524c4932":`https://starknet-goerli2.infura.io/v3/${n}`,"0xa4ec":`https://celo-mainnet.infura.io/v3/${n}`,"0xaef3":`https://celo-alfajores.infura.io/v3/${n}`};t.options.readonlyRPCMap?t.options.readonlyRPCMap=Object.assign(Object.assign({},t.options.readonlyRPCMap),r):t.options.readonlyRPCMap=r}),h0e=t=>xe(void 0,void 0,void 0,function*(){const{options:e}=t,{readonlyRPCMap:n}=e;if(n)try{ve("[MetaMaskSDK: setupReadOnlyRPCProviders()] Setting up Readonly RPC Providers",n),t.setReadOnlyRPCCalls(!0)}catch{throw new Error("Invalid Infura Settings")}});function p0e(t,e,n,r){return new(n||(n=Promise))(function(i,o){function s(l){try{c(r.next(l))}catch(u){o(u)}}function a(l){try{c(r.throw(l))}catch(u){o(u)}}function c(l){var u;l.done?i(l.value):(u=l.value,u instanceof n?u:new n(function(d){d(u)})).then(s,a)}c((r=r.apply(t,[])).next())})}function g0e(t,e){var n,r,i,o,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function a(c){return function(l){return function(u){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(i=2&u[0]?r.return:u[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,u[1])).done)return i;switch(r=0,i&&(u=[2&u[0],i.value]),u[0]){case 0:case 1:i=u;break;case 4:return s.label++,{value:u[1],done:!1};case 5:s.label++,r=u[1],u=[0];continue;case 7:u=s.ops.pop(),s.trys.pop();continue;default:if(i=s.trys,!((i=i.length>0&&i[i.length-1])||u[0]!==6&&u[0]!==2)){s=0;continue}if(u[0]===3&&(!i||u[1]>i[0]&&u[1]<i[3])){s.label=u[1];break}if(u[0]===6&&s.label<i[1]){s.label=i[1],i=u;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(u);break}i[2]&&s.ops.pop(),s.trys.pop();continue}u=e.call(t,s)}catch(d){u=[6,d],r=0}finally{n=i=0}if(5&u[0])throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}([c,l])}}}var RT="INSTALLED",LT="NOT_INSTALLED",$T="REGISTERED",BT="REGISTERING",DT="RELOADING",jT={CHROME:"https://chrome.google.com/webstore/detail/metamask/nkbihfbeogaeaoehlefnkodbefgpgknn",FIREFOX:"https://addons.mozilla.org/firefox/addon/ether-metamask/",DEFAULT:"https://metamask.io"},I1="REGISTRATION_IN_PROGRESS",FT="FORWARDER_ID",m0e=function(){function t(e){var n=e===void 0?{}:e,r=n.forwarderOrigin,i=r===void 0?"https://fwd.metamask.io":r,o=n.forwarderMode,s=o===void 0?t.FORWARDER_MODE.INJECT:o;this.forwarderOrigin=i,this.forwarderMode=s,this.state=t.isMetaMaskInstalled()?RT:LT;var a=t._detectBrowser();this.downloadUrl=a?jT[a]:jT.DEFAULT,this._onMessage=this._onMessage.bind(this),this._onMessageFromForwarder=this._onMessageFromForwarder.bind(this),this._openForwarder=this._openForwarder.bind(this),this._openDownloadPage=this._openDownloadPage.bind(this),this.startOnboarding=this.startOnboarding.bind(this),this.stopOnboarding=this.stopOnboarding.bind(this),window.addEventListener("message",this._onMessage),s===t.FORWARDER_MODE.INJECT&&sessionStorage.getItem(I1)==="true"&&t._injectForwarder(this.forwarderOrigin)}return t.prototype._onMessage=function(e){if(e.origin===this.forwarderOrigin)return e.data.type==="metamask:reload"?this._onMessageFromForwarder(e):void console.debug("Unknown message from '"+e.origin+"' with data "+JSON.stringify(e.data))},t.prototype._onMessageUnknownStateError=function(e){throw new Error("Unknown state: '"+e+"'")},t.prototype._onMessageFromForwarder=function(e){return p0e(this,0,void 0,function(){return g0e(this,function(n){switch(n.label){case 0:switch(this.state){case DT:return[3,1];case LT:return[3,2];case RT:return[3,3];case BT:return[3,5];case $T:return[3,6]}return[3,7];case 1:return console.debug("Ignoring message while reloading"),[3,8];case 2:return console.debug("Reloading now to register with MetaMask"),this.state=DT,location.reload(),[3,8];case 3:return console.debug("Registering with MetaMask"),this.state=BT,[4,t._register()];case 4:return n.sent(),this.state=$T,e.source.postMessage({type:"metamask:registrationCompleted"},e.origin),this.stopOnboarding(),[3,8];case 5:return console.debug("Already registering - ignoring reload message"),[3,8];case 6:return console.debug("Already registered - ignoring reload message"),[3,8];case 7:this._onMessageUnknownStateError(this.state),n.label=8;case 8:return[2]}})})},t.prototype.startOnboarding=function(){sessionStorage.setItem(I1,"true"),this._openDownloadPage(),this._openForwarder()},t.prototype.stopOnboarding=function(){sessionStorage.getItem(I1)==="true"&&(this.forwarderMode===t.FORWARDER_MODE.INJECT&&(console.debug("Removing forwarder"),t._removeForwarder()),sessionStorage.setItem(I1,"false"))},t.prototype._openForwarder=function(){this.forwarderMode===t.FORWARDER_MODE.OPEN_TAB?window.open(this.forwarderOrigin,"_blank"):t._injectForwarder(this.forwarderOrigin)},t.prototype._openDownloadPage=function(){window.open(this.downloadUrl,"_blank")},t.isMetaMaskInstalled=function(){return!!(window.ethereum&&window.ethereum.isMetaMask)},t._register=function(){return window.ethereum.request({method:"wallet_registerOnboarding"})},t._injectForwarder=function(e){var n=document.body,r=document.createElement("iframe");r.setAttribute("height","0"),r.setAttribute("width","0"),r.setAttribute("style","display: none;"),r.setAttribute("src",e),r.setAttribute("id",FT),n.insertBefore(r,n.children[0])},t._removeForwarder=function(){var e;(e=document.getElementById(FT))===null||e===void 0||e.remove()},t._detectBrowser=function(){var e=MU.parse(window.navigator.userAgent);return e.browser.name==="Firefox"?"FIREFOX":["Chrome","Chromium"].includes(e.browser.name||"")?"CHROME":null},t.FORWARDER_MODE={INJECT:"INJECT",OPEN_TAB:"OPEN_TAB"},t}();function y0e(t,{wait:e=!1}){return xe(this,void 0,void 0,function*(){return ve(`[MetamaskInstaller: startInstaller()] wait=${e}`),e&&(yield LU(1e3)),yield t.checkInstallation()})}class v0e{constructor({remote:e,preferDesktop:n,platformManager:r,debug:i=!1}){this.state={isInstalling:!1,hasInstalled:!1,resendRequest:null,preferDesktop:!1,platformManager:null,remote:null,debug:!1,connectWith:void 0},this.state.remote=e,this.state.preferDesktop=n,this.state.platformManager=r,this.state.debug=i}startDesktopOnboarding(){return function(){return xe(this,void 0,void 0,function*(){ve("[MetamaskInstaller: startDesktopOnboarding() starting desktop onboarding"),window.ethereum&&(window.ethereum=void 0),new m0e().startOnboarding()})}()}redirectToProperInstall(){return xe(this,void 0,void 0,function*(){return function(e){var n,r;return xe(this,void 0,void 0,function*(){const{state:i}=e,o=(n=i.platformManager)===null||n===void 0?void 0:n.getPlatformType();if(ve(`[MetamaskInstaller: redirectToProperInstall()] platform=${o}`),o===Nr.MetaMaskMobileWebview)return!1;i.isInstalling=!0;try{yield(r=i.remote)===null||r===void 0?void 0:r.startConnection({connectWith:i.connectWith}),i.isInstalling=!1,i.hasInstalled=!0}catch(s){throw i.isInstalling=!1,s}return!0})}(this)})}checkInstallation(){return xe(this,void 0,void 0,function*(){return function(e){var n;return xe(this,void 0,void 0,function*(){const{state:r}=e,i=(n=r.platformManager)===null||n===void 0?void 0:n.isMetaMaskInstalled();return ve(`[MetamaskInstaller: checkInstallation()] isInstalled=${i}`),!!i||(yield e.redirectToProperInstall())})}(this)})}start({wait:e=!1,connectWith:n}){return xe(this,void 0,void 0,function*(){this.state.connectWith=n,ve(`[MetaMaskInstaller: start()] wait=${e}`,n),yield y0e(this,{wait:e})})}}class BU{constructor({debug:e,sdkVersion:n}){this.containers={install:void 0,pending:void 0,select:void 0},this.defined={install:!1,pending:!1,select:!1},this.debug=e!=null&&e,this.sdkVersion=n}loadComponent(e){return xe(this,void 0,void 0,function*(){if(!this.defined[e]){this.defined[e]=!0;try{const n=yield Promise.resolve().then(function(){return Q0e});console.log("loader",n),n.defineCustomElements()}catch(n){console.error(`Failed to load ${e} modal:`,n)}}})}renderInstallModal(e){var n;return xe(this,void 0,void 0,function*(){this.debug&&console.debug("ModalLoader: renderInstallModal",e),this.containers.install=e.parentElement,yield this.loadComponent("install");const r=document.createElement("mm-install-modal");r.link=e.link,r.preferDesktop=e.preferDesktop,r.sdkVersion=(n=e.sdkVersion)!==null&&n!==void 0?n:this.sdkVersion,r.addEventListener("close",({detail:{shouldTerminate:i}})=>e.onClose(i)),r.addEventListener("startDesktopOnboarding",e.metaMaskInstaller.startDesktopOnboarding),r.addEventListener("trackAnalytics",i=>{var o;return(o=e.onAnalyticsEvent)===null||o===void 0?void 0:o.call(e,i.detail)}),e.parentElement.appendChild(r)})}renderSelectModal(e){var n;return xe(this,void 0,void 0,function*(){this.containers.select=e.parentElement,yield this.loadComponent("select");const r=document.createElement("mm-select-modal");r.link=e.link,r.sdkVersion=(n=e.sdkVersion)!==null&&n!==void 0?n:this.sdkVersion,r.preferDesktop=e.preferDesktop,r.addEventListener("close",({detail:{shouldTerminate:i}})=>e.onClose(i)),r.addEventListener("connectWithExtension",e.connectWithExtension),e.parentElement.appendChild(r),setTimeout(()=>this.updateQRCode(e.link),100)})}renderPendingModal(e){var n;return xe(this,void 0,void 0,function*(){this.containers.pending=e.parentElement,yield this.loadComponent("pending");const r=document.createElement("mm-pending-modal");r.sdkVersion=(n=e.sdkVersion)!==null&&n!==void 0?n:this.sdkVersion,r.displayOTP=e.displayOTP,r.addEventListener("close",e.onClose),r.addEventListener("updateOTPValue",({detail:{otpValue:i}})=>e.updateOTPValue(i)),e.onDisconnect&&r.addEventListener("disconnect",e.onDisconnect),e.parentElement.appendChild(r)})}updateOTPValue(e){const n=()=>{var r;const i=(r=this.containers.pending)===null||r===void 0?void 0:r.querySelector("mm-pending-modal");return!!i&&(i.otpCode=e,!0)};setTimeout(()=>{n()},800)}updateQRCode(e){var n,r;const i=(n=this.containers.install)===null||n===void 0?void 0:n.querySelector("mm-install-modal");if(i)i.link=e;else{const o=(r=this.containers.select)===null||r===void 0?void 0:r.querySelector("mm-select-modal");o&&(o.link=e)}}unmount(){Object.entries(this.containers).forEach(([e,n])=>{var r;(r=n==null?void 0:n.parentNode)===null||r===void 0||r.removeChild(n),this.containers[e]=void 0})}}const w0e=({link:t,debug:e,installer:n,terminate:r,connectWithExtension:i,preferDesktop:o,onAnalyticsEvent:s})=>{let a=null,c=null;ve("[UI: InstallModal-web: sdkWebInstallModal()] ################## Installing Modal #################"),ve(`[UI: InstallModal-web: sdkWebInstallModal()] link=${t}`),ve(`[UI: InstallModal-web: sdkWebInstallModal()] npx uri-scheme open "${t}" --ios`),ve(`[UI: InstallModal-web: sdkWebInstallModal()] npx uri-scheme open "${t}" --android`),ve(`[UI: InstallModal-web: sdkWebInstallModal()] adb shell am start -a android.intent.action.VIEW -d "${t}"`);const l=u=>{var d;ve("[UI: InstallModal-web: sdkWebInstallModal()] installModal-web unmounting install modal -- shouldTerminate:",u,c),c!=null&&c.parentNode&&((d=c.parentNode)===null||d===void 0||d.removeChild(c)),c=null,a=null,u===!0&&(r==null||r())};return{mount:u=>{if(ve("[UI: InstallModal-web: sdkWebInstallModal()] installModal-web mounting install modal",c),c)return c.style.display="block",void(a==null||a.updateQRCode(u));a=new BU({debug:e,sdkVersion:Xd.version}),c=document.createElement("div"),document.body.appendChild(c),window.extension?a.renderSelectModal({parentElement:c,connectWithExtension:()=>{l(),i==null||i()},onClose:l,link:t,preferDesktop:o!=null&&o}).catch(d=>{console.error(d)}):a.renderInstallModal({parentElement:c,preferDesktop:o!=null&&o,link:t,metaMaskInstaller:n,onClose:l,onAnalyticsEvent:s}).catch(d=>{console.error("[UI: InstallModal-web: sdkWebInstallModal()]",d)})},unmount:l}},b0e=({onDisconnect:t,debug:e})=>{let n=null,r=null;const i=()=>{ve("[UI: pendingModal-web: sdkWebPendingModal()] pendingModal-web unmount",n),n!=null&&n.parentNode&&n.parentNode.removeChild(n),n=null,r=null},o=a=>{ve("[UI: pendingModal-web: sdkWebPendingModal()] pendingModal-web updateOTPValue",a),r&&r.updateOTPValue(a)},s=({displayOTP:a}={displayOTP:!0})=>{ve("[UI: pendingModal-web: sdkWebPendingModal()] pendingModal-web mount",n),n?n.style.display="block":(r=new BU({debug:e,sdkVersion:Xd.version}),n=document.createElement("div"),document.body.appendChild(n),r.renderPendingModal({parentElement:n,onClose:i,onDisconnect:t,updateOTPValue:o,displayOTP:a}).catch(c=>{console.error("[UI: pendingModal-web: sdkWebPendingModal()]",c)}))};return s(),{mount:s,unmount:i,updateOTPValue:o}};function DU(t,e){var n,r,i,o;t.connector||(ve("[RemoteConnection: initializeConnector()] initialize connector"),t.connector=new xfe({anonId:e.anonId,platformType:e.platformManager.getPlatformType(),communicationLayerPreference:e.communicationLayerPreference,transports:e.transports,dappMetadata:Object.assign(Object.assign({},e.dappMetadata),{source:e._source}),analytics:e.enableAnalytics,communicationServerUrl:e.communicationServerUrl,sdkVersion:Xd.version,context:"dapp",ecies:e.ecies,storage:e.storage,logging:e.logging}),e.timer&&(ve("[RemoteConnection: initializeConnector()] reset background timer",e.timer),(r=(n=e.timer)===null||n===void 0?void 0:n.stopBackgroundTimer)===null||r===void 0||r.call(n),(o=(i=e.timer)===null||i===void 0?void 0:i.runBackgroundTimer)===null||o===void 0||o.call(i,()=>!1,1e4)))}function DS(t){t.listeners.forEach(({event:e,handler:n})=>{var r;(r=t.connector)===null||r===void 0||r.off(e,n)}),t.listeners=[]}function E0e(t,e,n){return xe(this,void 0,void 0,function*(){const r=setTimeout(()=>{On.analytics.track("sdk_connection_failed",{transport_type:"websocket"})},6e4);return new Promise((i,o)=>{if(!t.connector)return void o(new Error("No connector available"));ve("[RemoteConnection: connectWithModalInstaller()]",{state:t,options:e,linkParams:n});const s=`${t.useDeeplink?em:Xg}?${n}`;(function(a,c,l){var u,d,f,h;a.installModal=(d=(u=c.modals).install)===null||d===void 0?void 0:d.call(u,{link:l,preferDesktop:a.preferDesktop,installer:c.getMetaMaskInstaller(),terminate:()=>{ve("[RemoteConnection: showInstallModal() => terminate()] terminate connection"),c.sdk.terminate().catch(g=>{console.warn("[MMSDK] failed to terminate connection",g)})},debug:a.developerMode,connectWithExtension:()=>{var g;return(g=c.connectWithExtensionProvider)===null||g===void 0||g.call(c),!1},onAnalyticsEvent:({event:g,params:p})=>{var S,y,b;const _=Object.assign(Object.assign({},p),{sdkVersion:c.sdk.getVersion(),dappId:(S=c.dappMetadata)===null||S===void 0?void 0:S.name,source:c._source,url:(y=c.dappMetadata)===null||y===void 0?void 0:y.url});(b=a.analytics)===null||b===void 0||b.send({event:g,params:_})}}),(h=(f=a.installModal)===null||f===void 0?void 0:f.mount)===null||h===void 0||h.call(f,l)})(t,e,s),e.sdk.once(Pe.PROVIDER_UPDATE,a=>xe(this,void 0,void 0,function*(){if(ve("[RemoteConnection: connectWithModalInstaller()] once provider_update -- resolving startConnection promise"),a===sa.TERMINATE){const c={code:4001,message:"User rejected the request."};return clearTimeout(r),void o(c)}o(a)})),t.connector.once(Pe.AUTHORIZED,()=>{clearTimeout(r),i()}),t.connector.once(Pe.REJECTED,()=>{clearTimeout(r),o(Pe.REJECTED)}),t.connector.once(Pe.CLIENTS_READY,()=>xe(this,void 0,void 0,function*(){ve("[RemoteConnection: connectWithModalInstaller()] once clients_ready -- resolving startConnection promise"),clearTimeout(r),i()}))})})}function jU(t,e){function n(r,i){var o;(o=t.connector)===null||o===void 0||o.on(r,i),t.listeners.push({event:r,handler:i})}t.connector&&(DS(t),n(Pe.WALLET_INIT,({accounts:r,chainId:i})=>xe(this,void 0,void 0,function*(){ve(`[RemoteConnection: setupListeners() => EventType.WALLET_INIT] 'wallet_init' accounts=${r} chainId=${i}`);const o=ds.getProvider();o._setConnected();const s={accounts:r,chainId:i,isUnlocked:!1};o._initializeState(s),o.emit("chainChanged",i),o.emit("accountsChanged",r)})),n(Pe.AUTHORIZED,()=>xe(this,void 0,void 0,function*(){var r,i,o,s;try{ve("[RemoteConnection: setupListeners() => EventType.AUTHORIZED] 'authorized' closing modals",t.pendingModal,t.installModal);const a=ds.getProvider();a._setConnected(),(i=(r=t.pendingModal)===null||r===void 0?void 0:r.unmount)===null||i===void 0||i.call(r),(s=(o=t.installModal)===null||o===void 0?void 0:o.unmount)===null||s===void 0||s.call(o,!1),t.otpAnswer=void 0,t.authorized=!0,ve("[RemoteConnection: setupListeners() => EventType.AUTHORIZED] 'authorized' provider.state",a.getState()),yield a.forceInitializeState()}catch{}})),n(Pe.TERMINATE,()=>{var r,i,o,s,a;(i=(r=t.pendingModal)===null||r===void 0?void 0:r.unmount)===null||i===void 0||i.call(r),(s=(o=t.installModal)===null||o===void 0?void 0:o.unmount)===null||s===void 0||s.call(o,!0),t.pendingModal=void 0,t.installModal=void 0,t.otpAnswer=void 0,(a=t.connector)===null||a===void 0||a.disconnect({terminate:!0}),t.authorized=!1,ds.getProvider().handleDisconnect({terminate:!0}),DS(t),ve("[RemoteConnection: setupListeners()] All listeners cleaned up")}))}function x0e(t,e,{initialCheck:n,connectWith:r}={}){var i,o,s,a,c,l,u,d,f,h,g,p,S,y,b,_,N,O,$;return xe(this,void 0,void 0,function*(){try{if(DU(t,e),!t.connector)throw new Error("no connector defined");jU(t);const j=ds.getProvider();t.authorized=!1,j.emit("connecting");const k=yield(i=t.connector)===null||i===void 0?void 0:i.originatorSessionConnect();ve(`[RemoteConnection: startConnection()] after originatorSessionConnect initialCheck=${n}`,k);let T=(o=k==null?void 0:k.channelId)!==null&&o!==void 0?o:"",L=(a=(s=t.connector.getKeyInfo())===null||s===void 0?void 0:s.ecies.public)!==null&&a!==void 0?a:"",P=(l=(c=t.connector.getKeyInfo())===null||c===void 0?void 0:c.ecies.private)!==null&&l!==void 0?l:"";if(n&&!k)return Promise.resolve();if(!k&&!n){const H=yield t.connector.generateChannelIdConnect();T=(u=H.channelId)!==null&&u!==void 0?u:"",L=(d=H.pubKey)!==null&&d!==void 0?d:"",P=(f=H.privKey)!==null&&f!==void 0?f:"";const W=Date.now();(h=t.connector.state.storageManager)===null||h===void 0||h.persistChannelConfig({channelId:T,localKey:P,lastActive:W,validUntil:W+i0})}if(n&&(k!=null&&k.channelId))return!((g=t.connector)===null||g===void 0)&&g.isConnected()||(ve(`[RemoteConnection: startConnection()] reconnecting to channel initialCheck=${n}`,k),yield(p=t.connector)===null||p===void 0?void 0:p.connectToChannel({channelId:T})),Promise.resolve();k&&!(!((S=t.connector)===null||S===void 0)&&S.isConnected())&&(ve("[RemoteConnection: startConnection()] reconnecting to channel",k),yield(y=t.connector)===null||y===void 0?void 0:y.connectToChannel({channelId:T}));const m=!((b=t.platformManager)===null||b===void 0)&&b.isSecure()?"":"&t=q",w=Xd.version,{iconUrl:A,name:v,url:I,scheme:M}=e.dappMetadata||{},E=(_=t.platformManager)===null||_===void 0?void 0:_.getPlatformType();let C="N/A";typeof window<"u"&&window.location&&window.location.hostname?C=window.location.hostname:v!==void 0?C=v:I!==void 0&&(C=I);const x={url:I??"",title:v??"",icon:A,scheme:M??"",apiVersion:w,dappId:C||I||"N/A",anonId:e.anonId,platform:E??"",source:(N=e._source)!==null&&N!==void 0?N:""},R=Zw(JSON.stringify(x));let D=`channelId=${T}&v=2&comm=${(O=t.communicationLayerPreference)!==null&&O!==void 0?O:""}&pubkey=${L}${m}&originatorInfo=${R}`;if(r){D+=`&rpc=${Zw(JSON.stringify(r))}`;const H=t.connector.getRPCMethodTracker();H&&(H[`${r.id}`]=Object.assign(Object.assign({},r),{id:`${r.id}`,timestamp:Date.now()}))}const B=encodeURI(D),z=`${t.useDeeplink?em:Xg}?${D}`;if(t.qrcodeLink=z,t.developerMode&&ve(`[RemoteConnection: startConnection()] qrcodeLink=${B}`),j.emit("display_uri",z),On.analytics.track("sdk_connection_initiated",{transport_type:"websocket"}),($=t.platformManager)===null||$===void 0?void 0:$.isSecure()){const H=setTimeout(()=>{On.analytics.track("sdk_connection_failed",{transport_type:"websocket"})},6e4);return yield function(W,G){var V,J;return xe(this,void 0,void 0,function*(){const Y=`${Xg}?${G}`,ee=`${em}?${G}`;(J=(V=W.platformManager)===null||V===void 0?void 0:V.openDeeplink)===null||J===void 0||J.call(V,Y,ee,"_self")})}(t,B),new Promise((W,G)=>{var V,J,Y;if(!((V=t.connector)===null||V===void 0)&&V.isAuthorized())return clearTimeout(H),void W();(J=t.connector)===null||J===void 0||J.once(Pe.AUTHORIZED,()=>{clearTimeout(H),W()}),(Y=t.connector)===null||Y===void 0||Y.once(Pe.REJECTED,()=>{clearTimeout(H),G(Pe.REJECTED)})})}return E0e(t,e,B)}catch(j){throw console.error("[startConnection] error",j),j}})}class S0e{constructor(e){var n,r,i;this.state={connector:void 0,qrcodeLink:void 0,analytics:void 0,developerMode:!1,authorized:!1,reconnection:!1,preferDesktop:!1,deeplinkProtocol:!1,listeners:[],communicationLayerPreference:void 0,platformManager:void 0,pendingModal:void 0,installModal:void 0,otpAnswer:void 0},this.options=e;const o=((n=e.logging)===null||n===void 0?void 0:n.developerMode)===!0||((r=e.logging)===null||r===void 0?void 0:r.sdk)===!0;this.state.developerMode=o,this.state.analytics=e.analytics,this.state.preferDesktop=(i=e.preferDesktop)!==null&&i!==void 0&&i,this.state.useDeeplink=e.sdk.options.useDeeplink,this.state.communicationLayerPreference=e.communicationLayerPreference,this.state.platformManager=e.platformManager,e.modals.install||(e.modals.install=w0e),e.modals.otp||(e.modals.otp=b0e)}startConnection(e){return xe(this,void 0,void 0,function*(){return x0e(this.state,this.options,e)})}initRemoteCommunication({sdkInstance:e}){var n,r,i;return xe(this,void 0,void 0,function*(){const o=yield(r=(n=e.options.storage)===null||n===void 0?void 0:n.storageManager)===null||r===void 0?void 0:r.getPersistedChannelConfig();if(!this.options.ecies){const s={privateKey:o==null?void 0:o.localKey};this.options.ecies=s}DU(this.state,this.options),yield(i=this.getConnector())===null||i===void 0?void 0:i.initFromDappStorage(),jU(this.state,this.options)})}showActiveModal(){return function(e){var n,r,i,o;e.authorized?ve("[RemoteConnection: showActiveModal()] already authorized"):e.pendingModal?(r=(n=e.pendingModal).mount)===null||r===void 0||r.call(n):e.installModal&&((o=(i=e.installModal).mount)===null||o===void 0||o.call(i,e.qrcodeLink||""))}(this.state)}closeModal(){var e,n,r,i;(n=(e=this.state.pendingModal)===null||e===void 0?void 0:e.unmount)===null||n===void 0||n.call(e),(i=(r=this.state.installModal)===null||r===void 0?void 0:r.unmount)===null||i===void 0||i.call(r,!1)}getUniversalLink(){if(!this.state.qrcodeLink)throw new Error("connection not started. run startConnection() first.");return this.state.qrcodeLink}getChannelConfig(){var e;return(e=this.state.connector)===null||e===void 0?void 0:e.getChannelConfig()}getKeyInfo(){var e;return(e=this.state.connector)===null||e===void 0?void 0:e.getKeyInfo()}getConnector(){if(!this.state.connector)throw new Error("invalid remote connector");return this.state.connector}getPlatformManager(){if(!this.state.platformManager)throw new Error("PlatformManager not available");return this.state.platformManager}isConnected(){var e;return((e=this.state.connector)===null||e===void 0?void 0:e.isReady())||!1}isAuthorized(){var e;return((e=this.state.connector)===null||e===void 0?void 0:e.isAuthorized())||!1}isPaused(){var e;return(e=this.state.connector)===null||e===void 0?void 0:e.isPaused()}disconnect(e){var n,r,i;ve("[RemoteConnection: disconnect()]",e),e!=null&&e.terminate&&(ds.getProvider().handleDisconnect({terminate:!0}),(r=(n=this.state.pendingModal)===null||n===void 0?void 0:n.unmount)===null||r===void 0||r.call(n),this.state.otpAnswer=void 0),(i=this.state.connector)===null||i===void 0||i.disconnect(e),function(o){ve("[RemoteConnection: cleanupConnector()] cleaning up connector"),o.connector&&(DS(o),o.connector.disconnect({terminate:!0}).catch(s=>{ve("[RemoteConnection: cleanupConnector()] error disconnecting connector",s)}))}(this.state)}}function _0e(t){var e,n,r,i,o,s,a,c,l,u,d;return xe(this,void 0,void 0,function*(){const{options:f}=t;if(f.logging=(e=f.logging)!==null&&e!==void 0?e:{},f.communicationLayerPreference=(n=f.communicationLayerPreference)!==null&&n!==void 0?n:Md.SOCKET,f.enableDebug!==void 0&&(Vr.enable("MM_SDK"),console.warn("enableDebug is removed. Please use enableAnalytics instead.")),f.enableAnalytics=(r=f.enableAnalytics)===null||r===void 0||r,f.injectProvider=(i=f.injectProvider)===null||i===void 0||i,f.shouldShimWeb3=(o=f.shouldShimWeb3)===null||o===void 0||o,f.extensionOnly=(s=f.extensionOnly)===null||s===void 0||s,f.useDeeplink=(a=f.useDeeplink)===null||a===void 0||a,f.storage=(c=f.storage)!==null&&c!==void 0?c:{enabled:!0},f.headless){Vr("[MetaMaskSDK: performSDKInitialization()] headless mode enabled");const b=()=>{},_={install:()=>({mount:b,unmount:b})},N={installer:b};f.modals=_,f.ui=N}const h=((l=f.logging)===null||l===void 0?void 0:l.developerMode)===!0;t.debug=((u=f.logging)===null||u===void 0?void 0:u.sdk)||h,ve("[MetaMaskSDK: performSDKInitialization()] options",t.options);const g=Object.assign({},f.logging);h&&(g.sdk=!0,g.eciesLayer=!0,g.keyExchangeLayer=!0,g.remoteLayer=!0,g.serviceLayer=!0,g.plaintext=!0),yield function(b){var _;return xe(this,void 0,void 0,function*(){const{options:N}=b;b.platformManager=new Zg({useDeepLink:(_=N.useDeeplink)!==null&&_!==void 0&&_,preferredOpenLink:N.openDeeplink,debug:b.debug})})}(t),yield function(b){var _,N,O,$,j;return xe(this,void 0,void 0,function*(){const{options:k}=b,T=(_=b.platformManager)===null||_===void 0?void 0:_.getPlatformType();b.analytics=new c0e({serverUrl:(N=k.communicationServerUrl)!==null&&N!==void 0?N:r0,enabled:k.enableAnalytics,originatorInfo:{url:(O=k.dappMetadata.url)!==null&&O!==void 0?O:"",title:($=k.dappMetadata.name)!==null&&$!==void 0?$:"",dappId:b.getDappId(),platform:T??"",source:(j=k._source)!==null&&j!==void 0?j:"",anonId:""}})})}(t),yield function(b){var _,N,O;return xe(this,void 0,void 0,function*(){if(!b.options.enableAnalytics||!(!((_=b.platformManager)===null||_===void 0)&&_.isBrowser())&&!(!((N=b.platformManager)===null||N===void 0)&&N.isReactNative()))return;const $=b.getVersion(),j=b.getDappId(),k=yield b.getAnonId(),T=(O=b.platformManager)===null||O===void 0?void 0:O.getPlatformType(),L=b.options._source;On.analytics.setGlobalProperty("sdk_version",$),On.analytics.setGlobalProperty("dapp_id",j),On.analytics.setGlobalProperty("anon_id",k),On.analytics.setGlobalProperty("platform",T),On.analytics.setGlobalProperty("integration_type",L),On.analytics.enable(),On.analytics.track("sdk_initialized",{})})}(t),yield function(b){var _;return xe(this,void 0,void 0,function*(){const{options:N}=b;((_=N.storage)===null||_===void 0?void 0:_.enabled)!==!0||N.storage.storageManager||(N.storage.storageManager=yield NU(N.storage))})}(t),yield function(b){return xe(this,void 0,void 0,function*(){const{options:_}=b,N=/^(http|https):\/\/[^\s]*$/;if(_.dappMetadata){_.dappMetadata.iconUrl&&!N.test(_.dappMetadata.iconUrl)&&(console.warn("Invalid dappMetadata.iconUrl: URL must start with http:// or https://"),_.dappMetadata.iconUrl=void 0),_.dappMetadata.base64Icon&&_.dappMetadata.base64Icon.length>u0e&&(console.warn("Invalid dappMetadata.base64Icon: Base64-encoded icon string length must be less than 163400 characters"),_.dappMetadata.base64Icon=void 0),_.dappMetadata.url&&!N.test(_.dappMetadata.url)&&console.warn("Invalid dappMetadata.url: URL must start with http:// or https://");const O=l0e();if(O&&!_.dappMetadata.iconUrl&&!_.dappMetadata.base64Icon){const $=`${window.location.protocol}//${window.location.host}${O}`;_.dappMetadata.iconUrl=$}}b.dappMetadata=_.dappMetadata})}(t),yield f0e(t),yield h0e(t);const{metamaskBrowserExtension:p,preferExtension:S,shouldReturn:y}=yield function(b){var _,N,O,$;return xe(this,void 0,void 0,function*(){const{options:j}=b;let k,T=!1,L=!1;if(typeof window<"u"&&window.ethereum&&!(!((_=b.platformManager)===null||_===void 0)&&_.isMetaMaskMobileWebView())){T=localStorage.getItem(Jw)==="extension";try{k=yield d0e({mustBeMetaMask:!0,sdkInstance:b}),window.extension=k,k.on(ks.CHAIN_CHANGED,P=>{ve(`[MetaMaskSDK: setupExtensionPreferences()] PROPAGATE chainChanged chainId=${P}`),b.sdkProvider&&b.getMobileProvider().emit(ks.CHAIN_CHANGED,P)}),k.on(ks.ACCOUNTS_CHANGED,P=>xe(this,void 0,void 0,function*(){var m;ve(`[MetaMaskSDK: setupExtensionPreferences()] PROPAGATE accountsChanged accounts=${P}`);const w=!!b.sdkProvider,A=!!b.extensionActive;if(w&&b.getMobileProvider().emit(ks.ACCOUNTS_CHANGED,P),A&&(P==null?void 0:P.length)===0&&(yield(m=b.getProvider())===null||m===void 0?void 0:m.request({method:st.WALLET_GETPERMISSIONS,params:[]})).length===0)try{yield b.terminate()}catch(v){ve("[MetaMaskSDK: setupExtensionPreferences()] error terminating on permissions revoked",v)}})),k.on(ks.DISCONNECT,P=>{ve(`[MetaMaskSDK: setupExtensionPreferences()] PROPAGATE disconnect error=${P}`),b.sdkProvider&&b.getMobileProvider().emit(ks.DISCONNECT,P)}),k.on(ks.CONNECT,P=>{ve(`[MetaMaskSDK: setupExtensionPreferences()] PROPAGATE connect args=${P}`),b.sdkProvider&&b.getMobileProvider().emit(ks.CONNECT,P)}),k.on(ks.CONNECTED,P=>{ve("[MetaMaskSDK: setupExtensionPreferences()] PROPAGATE connected",P),b.sdkProvider&&b.getMobileProvider().emit(ks.CONNECTED,P)})}catch{window.extension=void 0}}else!((N=b.platformManager)===null||N===void 0)&&N.isMetaMaskMobileWebView()&&((O=b.analytics)===null||O===void 0||O.send({event:Nn.SDK_USE_INAPP_BROWSER}),b.activeProvider=$U({provider:window.ethereum,sdkInstance:b}),b._initialized=!0,L=!0);return k&&j.extensionOnly&&(ve("[MetaMaskSDK: setupExtensionPreferences()] EXTENSION ONLY --- prevent sdk initialization"),($=b.analytics)===null||$===void 0||$.send({event:Nn.SDK_USE_EXTENSION}),b.activeProvider=k,b.extensionActive=!0,b.extension=k,b._initialized=!0,L=!0),{preferExtension:T,shouldReturn:L,metamaskBrowserExtension:k}})}(t);if(y)ve("[MetaMaskSDK: performSDKInitialization()] shouldReturn=true --- prevent sdk initialization");else{yield function(b,_){var N,O,$,j,k;return xe(this,void 0,void 0,function*(){const{options:T}=b,L=Object.assign({},T.logging);b.remoteConnection=new S0e({anonId:yield b.getAnonId(),preferDesktop:(N=T.preferDesktop)!==null&&N!==void 0&&N,communicationLayerPreference:(O=T.communicationLayerPreference)!==null&&O!==void 0?O:Md.SOCKET,analytics:b.analytics,dappMetadata:T.dappMetadata,_source:T._source,enableAnalytics:($=T.enableAnalytics)===null||$===void 0||$,timer:T.timer,sdk:b,platformManager:b.platformManager,transports:T.transports,communicationServerUrl:T.communicationServerUrl,storage:(j=T.storage)!==null&&j!==void 0?j:{enabled:!0},getMetaMaskInstaller:()=>{if(!b.installer)throw new Error("Invalid SDK status -- installer not initialized");return b.installer},logging:L,connectWithExtensionProvider:_===void 0?void 0:()=>TT(b),modals:Object.assign(Object.assign({},T.modals),{onPendingModalDisconnect:b.terminate.bind(b)})}),yield b.remoteConnection.initRemoteCommunication({sdkInstance:b}),b.installer=new v0e({remote:b.remoteConnection,preferDesktop:(k=T.preferDesktop)!==null&&k!==void 0&&k,platformManager:b.platformManager,debug:b.debug})})}(t,p),yield s0e(t),yield function(b,_){var N,O;return xe(this,void 0,void 0,function*(){const{options:$}=b;_?(ve("[MetaMaskSDK: handleAutoAndExtensionConnections()] preferExtension is detected -- connect with it."),(N=b.analytics)===null||N===void 0||N.send({event:Nn.SDK_EXTENSION_UTILIZED}),TT(b).catch(j=>{console.warn("Can't connect with MetaMask extension...",j),localStorage.removeItem(Jw)})):$.checkInstallationImmediately&&(!((O=b.platformManager)===null||O===void 0)&&O.isDesktopWeb()?(ve("[MetaMaskSDK: handleAutoAndExtensionConnections()] checkInstallationImmediately"),b.connect().catch(j=>{ve(`[MetaMaskSDK: handleAutoAndExtensionConnections()] checkInstallationImmediately --- IGNORED --- error on autoconnect _err=${j}`)})):console.warn("[handleAutoAndExtensionConnections()] checkInstallationImmediately --- IGNORED --- only for web desktop")),b._initialized=!0})}(t,S);try{yield(d=t.remoteConnection)===null||d===void 0?void 0:d.startConnection({initialCheck:!0})}catch(b){console.error("[MetaMaskSDK: setupRemoteConnectionAndInstaller()] Error while checking installation",b)}t.emit(gi.ProviderUpdate,sa.INITIALIZED)}})}class C0e extends tde{constructor(e={storage:{enabled:!0},injectProvider:!0,forceInjectProvider:!1,enableAnalytics:!0,shouldShimWeb3:!0,useDeeplink:!0,extensionOnly:!0,headless:!1,dappMetadata:{name:"",url:"",iconUrl:""},_source:PT,i18nOptions:{enabled:!1}}){var n,r,i;super(),this.extensionActive=!1,this._initialized=!1,this.sdkInitPromise=void 0,this.debug=!1,this.readonlyRPCCalls=!1,this.availableLanguages=["en"],this.ANON_ID_STORAGE_KEY="mm-sdk-anon-id",Vr.disable();const o=((n=e.logging)===null||n===void 0?void 0:n.developerMode)===!0;if((!((r=e.logging)===null||r===void 0)&&r.sdk||o)&&Vr.enable("MM_SDK"),ve("[MetaMaskSDK: constructor()]: begin."),this.setMaxListeners(50),!(!((i=e.dappMetadata)===null||i===void 0)&&i.url)){if(typeof window>"u"||typeof document>"u")throw new Error("You must provide dAppMetadata url");e.dappMetadata=Object.assign(Object.assign({},e.dappMetadata),{url:`${window.location.protocol}//${window.location.host}`})}this.options=e,this.options._source||(e._source=PT),this.init().then(()=>{ve("[MetaMaskSDK: constructor()]: initialized successfully."),typeof window<"u"&&(window.mmsdk=this)}).catch(s=>{console.error("[MetaMaskSDK: constructor()] error during initialization",s)})}init(){return xe(this,void 0,void 0,function*(){return function(e){var n;return xe(this,void 0,void 0,function*(){if(typeof window<"u"&&(!((n=window.mmsdk)===null||n===void 0)&&n.isInitialized()))return ve("[MetaMaskSDK: initializeMetaMaskSDK()] already initialized"),Promise.resolve(window.mmsdk);if(e._initialized)return ve("[MetaMaskSDK: initializeMetaMaskSDK()] already initialized"),e.sdkInitPromise;if(e.sdkInitPromise)return ve("[MetaMaskSDK: initializeMetaMaskSDK()] already initializing"),e.sdkInitPromise;try{e.sdkInitPromise=_0e(e),yield e.sdkInitPromise}catch(r){throw console.error(r),r}return e.sdkInitPromise})}(this)})}isExtensionActive(){return this.extensionActive}checkExtensionAvailability(){var e;return typeof window<"u"&&!!(!((e=window.ethereum)===null||e===void 0)&&e.isMetaMask)}connect(){return xe(this,void 0,void 0,function*(){return function(e){return xe(this,void 0,void 0,function*(){if(e._initialized||(ve("[MetaMaskSDK: connect()] provider not ready -- wait for init()"),yield e.init()),ve(`[MetaMaskSDK: connect()] isExtensionActive=${e.isExtensionActive()} activeProvider`,e.activeProvider),!e.activeProvider)throw new Error("SDK state invalid -- undefined provider");const n=e.activeProvider.getSelectedAddress();return n?[n]:e.activeProvider.request({method:st.ETH_REQUESTACCOUNTS,params:[]})})}(this)})}connectAndSign({msg:e}){return xe(this,void 0,void 0,function*(){return n0e({instance:this,msg:e})})}connectWith(e){return xe(this,void 0,void 0,function*(){return function({instance:n,rpc:r}){return xe(this,void 0,void 0,function*(){if(n._initialized||(ve("[MetaMaskSDK: connectWith()] provider not ready -- wait for init()"),yield n.init()),ve(`[MetaMaskSDK: connectWith()] method: ${r.method} rpc=${r}`),!n.activeProvider)throw new Error("SDK state invalid -- undefined provider");return n.activeProvider.request({method:st.METAMASK_CONNECTWITH,params:[r]})})}({instance:this,rpc:e})})}resume(){return function(e){var n,r,i;return xe(this,void 0,void 0,function*(){if(!(!((r=(n=e.remoteConnection)===null||n===void 0?void 0:n.getConnector())===null||r===void 0)&&r.isReady()))return ve("[MetaMaskSDK: resume()] channel is not ready -- starting connection"),void((i=e.remoteConnection)===null||i===void 0||i.startConnection());ve("[MetaMaskSDK: resume()] channel is ready")})}(this)}disconnect(){return console.warn("MetaMaskSDK.disconnect() is deprecated, use terminate()"),this.terminate()}isAuthorized(){var e;(e=this.remoteConnection)===null||e===void 0||e.isAuthorized()}terminate(){return function(e){var n,r,i;return xe(this,void 0,void 0,function*(){if(!(!((n=e.platformManager)===null||n===void 0)&&n.isMetaMaskMobileWebView())){if(t0e&&(window.localStorage.removeItem(Jw),window.localStorage.removeItem(BS),window.localStorage.removeItem($S)),e.extensionActive){try{yield(r=e.activeProvider)===null||r===void 0?void 0:r.request({method:st.WALLET_REVOKEPERMISSIONS,params:[{eth_accounts:{}}]})}catch(o){ve("[MetaMaskSDK: terminate()] error revoking permissions",o)}return e.options.extensionOnly?(e.emit(gi.ProviderUpdate,sa.TERMINATE),void ve("[MetaMaskSDK: terminate()] extensionOnly --- prevent switching providers")):(e.activeProvider=e.sdkProvider,window.ethereum=e.activeProvider,e.extensionActive=!1,void e.emit(gi.ProviderUpdate,sa.TERMINATE))}e.emit(gi.ProviderUpdate,sa.TERMINATE),ve(`[MetaMaskSDK: terminate()] remoteConnection=${e.remoteConnection}`),(i=e.remoteConnection)===null||i===void 0||i.disconnect({terminate:!0,sendMessage:!0})}})}(this)}isInitialized(){return this._initialized}setReadOnlyRPCCalls(e){this.readonlyRPCCalls=e}hasReadOnlyRPCCalls(){return this.readonlyRPCCalls}getProvider(){if(this.activeProvider)return this.activeProvider;console.warn("MetaMaskSDK: No active provider found")}getMobileProvider(){if(!this.sdkProvider)throw new Error("SDK state invalid -- undefined mobile provider");return this.sdkProvider}getUniversalLink(){var e;const n=(e=this.remoteConnection)===null||e===void 0?void 0:e.getUniversalLink();if(!n)throw new Error("No Universal Link available, please call eth_requestAccounts first.");return n}getChannelId(){var e,n;return(n=(e=this.remoteConnection)===null||e===void 0?void 0:e.getChannelConfig())===null||n===void 0?void 0:n.channelId}getRPCHistory(){var e,n;return(n=(e=this.remoteConnection)===null||e===void 0?void 0:e.getConnector())===null||n===void 0?void 0:n.getRPCMethodTracker()}getVersion(){return Xd.version}getDappId(){var e,n,r,i;return typeof window>"u"||window.location===void 0?(i=(n=(e=this.options.dappMetadata)===null||e===void 0?void 0:e.name)!==null&&n!==void 0?n:(r=this.options.dappMetadata)===null||r===void 0?void 0:r.url)!==null&&i!==void 0?i:"N/A":window.location.hostname}getAnonId(){var e,n;return xe(this,void 0,void 0,function*(){if(this._anonId)return this._anonId;let r;return r=!((e=this.platformManager)===null||e===void 0)&&e.isBrowser()?this.getBrowserAnonId():!((n=this.platformManager)===null||n===void 0)&&n.isReactNative()?yield this.getReactNativeAnonId():_l(),this._anonId=r,r})}getBrowserAnonId(){const e=this.ANON_ID_STORAGE_KEY;try{const n=localStorage.getItem(e);if(n)return n;const r=_l();return localStorage.setItem(e,r),r}catch(n){return console.error("[MetaMaskSDK: getBrowserAnonId()] LocalStorage access error:",n),_l()}}getReactNativeAnonId(){return xe(this,void 0,void 0,function*(){const e=this.ANON_ID_STORAGE_KEY;try{const n=require("@react-native-async-storage/async-storage").default,r=yield n.getItem(e);if(r)return r;const i=_l();return yield n.setItem(e,i),i}catch(n){return console.error("[MetaMaskSDK: getReactNativeAnonId()] Error accessing AsyncStorage:",n),_l()}})}getWalletStatus(){var e,n;return(n=(e=this.remoteConnection)===null||e===void 0?void 0:e.getConnector())===null||n===void 0?void 0:n.getConnectionStatus()}_getChannelConfig(){var e;return(e=this.remoteConnection)===null||e===void 0?void 0:e.getChannelConfig()}_ping(){var e,n;(n=(e=this.remoteConnection)===null||e===void 0?void 0:e.getConnector())===null||n===void 0||n.ping()}_keyCheck(){var e,n;(n=(e=this.remoteConnection)===null||e===void 0?void 0:e.getConnector())===null||n===void 0||n.keyCheck()}_getServiceStatus(){var e,n;return(n=(e=this.remoteConnection)===null||e===void 0?void 0:e.getConnector())===null||n===void 0?void 0:n.getServiceStatus()}_getRemoteConnection(){return this.remoteConnection}_getDappMetadata(){return this.dappMetadata}_getKeyInfo(){var e;return(e=this.remoteConnection)===null||e===void 0?void 0:e.getKeyInfo()}_resetKeys(){var e,n;(n=(e=this.remoteConnection)===null||e===void 0?void 0:e.getConnector())===null||n===void 0||n.resetKeys()}_getConnection(){return this.remoteConnection}emit(e,n){return super.emit(e,n)}on(e,n){return super.on(e,n)}}var A0e=Object.freeze({__proto__:null,StorageManagerWeb:class{constructor({enabled:t}={enabled:!1}){this.enabled=!1,this.enabled=t}persistChannelConfig(t){return xe(this,void 0,void 0,function*(){const e=JSON.stringify(t);ve(`[StorageManagerWeb: persistChannelConfig()] enabled=${this.enabled}`,t),localStorage.setItem(N6,e)})}getPersistedChannelConfig(){return xe(this,void 0,void 0,function*(){let t;try{if(ve(`[StorageManagerWeb: getPersistedChannelConfig()] enabled=${this.enabled}`),t=localStorage.getItem(N6),ve("[StorageManagerWeb: getPersistedChannelConfig()]",t),!t)return;const e=JSON.parse(t);return ve("[StorageManagerWeb: getPersistedChannelConfig()] channelConfig",e),e}catch(e){return void console.error("[StorageManagerWeb: getPersistedChannelConfig()] Can't find existing channel config",e)}})}persistAccounts(t){return xe(this,void 0,void 0,function*(){ve(`[StorageManagerWeb: persistAccounts()] enabled=${this.enabled}`,t);const e=JSON.stringify(t);localStorage.setItem($S,e)})}getCachedAccounts(){return xe(this,void 0,void 0,function*(){try{const t=localStorage.getItem($S);return t?JSON.parse(t):[]}catch(t){throw console.error("[StorageManagerWeb: getCachedAccounts()] Error reading cached accounts",t),t}})}persistChainId(t){return xe(this,void 0,void 0,function*(){ve(`[StorageManagerWeb: persistChainId()] enabled=${this.enabled}`,t),localStorage.setItem(BS,t)})}getCachedChainId(){return xe(this,void 0,void 0,function*(){try{const t=localStorage.getItem(BS);return t??void 0}catch(t){throw console.error("[StorageManagerWeb: getCachedChainId()] Error reading cached chainId",t),t}})}terminate(){return xe(this,void 0,void 0,function*(){ve(`[StorageManagerWeb: terminate()] enabled=${this.enabled}`),localStorage.removeItem(N6)})}}});const I0e="hydrated",k0e=!1,P0e=!0;var O0e=Object.defineProperty,HA=new WeakMap,Fl=t=>HA.get(t),WA=(t,e)=>HA.set(e.$lazyInstance$=t,e),UT=(t,e)=>e in t,yd=(t,e)=>(0,console.error)(t,e),R6=new Map,Tv=new Map,FU="slot-fb{display:contents}slot-fb[hidden]{display:none}",D2=typeof window<"u"?window:{},Ys=D2.document||{head:{}},pr={$flags$:0,$resourcesUrl$:"",jmp:t=>t(),raf:t=>requestAnimationFrame(t),ael:(t,e,n,r)=>t.addEventListener(e,n,r),rel:(t,e,n,r)=>t.removeEventListener(e,n,r),ce:(t,e)=>new CustomEvent(t,e)},UU=(()=>{try{return new CSSStyleSheet,typeof new CSSStyleSheet().replaceSync=="function"}catch{}return!1})(),jS=!1,zT=[],zU=[],T0e=(t,e)=>n=>{t.push(n),jS||(jS=!0,4&pr.$flags$?KA(FS):pr.raf(FS))},HT=t=>{for(let e=0;e<t.length;e++)try{t[e](performance.now())}catch(n){yd(n)}t.length=0},FS=()=>{HT(zT),HT(zU),(jS=zT.length>0)&&pr.raf(FS)},KA=t=>(e=>Promise.resolve(e))().then(t),M0e=T0e(zU),WT={},qA=t=>(t=typeof t)=="object"||t==="function";function HU(t){var e,n,r;return(r=(n=(e=t.head)==null?void 0:e.querySelector('meta[name="csp-nonce"]'))==null?void 0:n.getAttribute("content"))!=null?r:void 0}((t,e)=>{for(var n in e)O0e(t,n,{get:e[n],enumerable:!0})})({},{err:()=>WU,map:()=>N0e,ok:()=>US,unwrap:()=>R0e,unwrapErr:()=>L0e});var US=t=>({isOk:!0,isErr:!1,value:t}),WU=t=>({isOk:!1,isErr:!0,value:t});function N0e(t,e){if(t.isOk){const n=e(t.value);return n instanceof Promise?n.then(r=>US(r)):US(n)}if(t.isErr){const n=t.value;return WU(n)}throw"should never get here"}var VA,R0e=t=>{if(t.isOk)return t.value;throw t.value},L0e=t=>{if(t.isErr)return t.value;throw t.value},be=(t,e,...n)=>{let r=null,i=!1,o=!1;const s=[],a=l=>{for(let u=0;u<l.length;u++)r=l[u],Array.isArray(r)?a(r):r!=null&&typeof r!="boolean"&&((i=typeof t!="function"&&!qA(r))&&(r=String(r)),i&&o?s[s.length-1].$text$+=r:s.push(i?Xw(null,r):r),o=i)};if(a(n),e){const l=e.className||e.class;l&&(e.class=typeof l!="object"?l:Object.keys(l).filter(u=>l[u]).join(" "))}if(typeof t=="function")return t(e===null?{}:e,s,B0e);const c=Xw(t,null);return c.$attrs$=e,s.length>0&&(c.$children$=s),c},Xw=(t,e)=>({$flags$:0,$tag$:t,$text$:e,$elm$:null,$children$:null,$attrs$:null}),$0e={},B0e={forEach:(t,e)=>t.map(KT).forEach(e),map:(t,e)=>t.map(KT).map(e).map(D0e)},KT=t=>({vattrs:t.$attrs$,vchildren:t.$children$,vkey:t.$key$,vname:t.$name$,vtag:t.$tag$,vtext:t.$text$}),D0e=t=>{if(typeof t.vtag=="function"){const n={...t.vattrs};return t.vkey&&(n.key=t.vkey),t.vname&&(n.name=t.vname),be(t.vtag,n,...t.vchildren||[])}const e=Xw(t.vtag,t.vtext);return e.$attrs$=t.vattrs,e.$children$=t.vchildren,e.$key$=t.vkey,e.$name$=t.vname,e},j2=t=>Fl(t).$hostElement$,Xl=(t,e,n)=>{const r=j2(t);return{emit:i=>KU(r,e,{bubbles:!0,composed:!0,cancelable:!0,detail:i})}},KU=(t,e,n)=>{const r=pr.ce(e,n);return t.dispatchEvent(r),r},qT=new WeakMap,j0e=t=>{const e=t.$cmpMeta$,n=t.$hostElement$,r=e.$flags$;e.$tagName$;const i=((o,s,a)=>{var c;const l=qU(s),u=Tv.get(l);if(o=o.nodeType===11?o:Ys,u)if(typeof u=="string"){o=o.head||o;let d,f=qT.get(o);if(f||qT.set(o,f=new Set),!f.has(l)){{d=Ys.createElement("style"),d.innerHTML=u;const h=(c=pr.$nonce$)!=null?c:HU(Ys);if(h!=null&&d.setAttribute("nonce",h),!(1&s.$flags$))if(o.nodeName==="HEAD"){const g=o.querySelectorAll("link[rel=preconnect]"),p=g.length>0?g[g.length-1].nextSibling:o.querySelector("style");o.insertBefore(d,p)}else if("host"in o)if(UU){const g=new CSSStyleSheet;g.replaceSync(u),o.adoptedStyleSheets=[g,...o.adoptedStyleSheets]}else{const g=o.querySelector("style");g?g.innerHTML=u+g.innerHTML:o.prepend(d)}else o.append(d);1&s.$flags$&&o.nodeName!=="HEAD"&&o.insertBefore(d,null)}4&s.$flags$&&(d.innerHTML+=FU),f&&f.add(l)}}else o.adoptedStyleSheets.includes(u)||(o.adoptedStyleSheets=[...o.adoptedStyleSheets,u]);return l})(n.shadowRoot?n.shadowRoot:n.getRootNode(),e);10&r&&2&r&&(n["s-sc"]=i,n.classList.add(i+"-h"))},qU=(t,e)=>"sc-"+t.$tagName$,VT=(t,e,n,r,i,o)=>{if(n!==r){let s=UT(t,e),a=e.toLowerCase();if(e==="class"){const c=t.classList,l=GT(n),u=GT(r);c.remove(...l.filter(d=>d&&!u.includes(d))),c.add(...u.filter(d=>d&&!l.includes(d)))}else if(e==="style"){for(const c in n)r&&r[c]!=null||(c.includes("-")?t.style.removeProperty(c):t.style[c]="");for(const c in r)n&&r[c]===n[c]||(c.includes("-")?t.style.setProperty(c,r[c]):t.style[c]=r[c])}else if(s||e[0]!=="o"||e[1]!=="n"){const c=qA(r);if((s||c&&r!==null)&&!i)try{if(t.tagName.includes("-"))t[e]=r;else{const l=r??"";e==="list"?s=!1:n!=null&&t[e]==l||(typeof t.__lookupSetter__(e)=="function"?t[e]=l:t.setAttribute(e,l))}}catch{}r==null||r===!1?r===!1&&t.getAttribute(e)!==""||t.removeAttribute(e):(!s||4&o||i)&&!c&&(r=r===!0?"":r,t.setAttribute(e,r))}else if(e=e[2]==="-"?e.slice(3):UT(D2,a)?a.slice(2):a[2]+e.slice(3),n||r){const c=e.endsWith(VU);e=e.replace(U0e,""),n&&pr.rel(t,e,n,c),r&&pr.ael(t,e,r,c)}}},F0e=/\s/,GT=t=>t?t.split(F0e):[],VU="Capture",U0e=new RegExp(VU+"$"),GU=(t,e,n)=>{const r=e.$elm$.nodeType===11&&e.$elm$.host?e.$elm$.host:e.$elm$,i=t&&t.$attrs$||WT,o=e.$attrs$||WT;for(const s of YT(Object.keys(i)))s in o||VT(r,s,i[s],void 0,n,e.$flags$);for(const s of YT(Object.keys(o)))VT(r,s,i[s],o[s],n,e.$flags$)};function YT(t){return t.includes("ref")?[...t.filter(e=>e!=="ref"),"ref"]:t}var xo=!1,GA=(t,e,n,r)=>{const i=e.$children$[n];let o,s,a=0;if(i.$text$!==null)o=i.$elm$=Ys.createTextNode(i.$text$);else{if(xo||(xo=i.$tag$==="svg"),o=i.$elm$=Ys.createElementNS(xo?"http://www.w3.org/2000/svg":"http://www.w3.org/1999/xhtml",i.$tag$),xo&&i.$tag$==="foreignObject"&&(xo=!1),GU(null,i,xo),o.getRootNode().querySelector("body"),i.$children$)for(a=0;a<i.$children$.length;++a)s=GA(t,i,a),s&&o.appendChild(s);i.$tag$==="svg"?xo=!1:o.tagName==="foreignObject"&&(xo=!0)}return o["s-hn"]=VA,o},JT=(t,e,n,r,i,o)=>{let s,a=t;for(a.shadowRoot&&a.tagName===VA&&(a=a.shadowRoot);i<=o;++i)r[i]&&(s=GA(null,n,i),s&&(r[i].$elm$=s,Mv(a,s,e)))},ZT=(t,e,n)=>{for(let r=e;r<=n;++r){const i=t[r];if(i){const o=i.$elm$;o&&o.remove()}}},k1=(t,e,n=!1)=>t.$tag$===e.$tag$,Fp=(t,e,n=!1)=>{const r=e.$elm$=t.$elm$,i=t.$children$,o=e.$children$,s=e.$tag$,a=e.$text$;a===null?(GU(t,e,xo=s==="svg"||s!=="foreignObject"&&xo),i!==null&&o!==null?((c,l,u,d,f=!1)=>{let h,g=0,p=0,S=l.length-1,y=l[0],b=l[S],_=d.length-1,N=d[0],O=d[_];for(;g<=S&&p<=_;)y==null?y=l[++g]:b==null?b=l[--S]:N==null?N=d[++p]:O==null?O=d[--_]:k1(y,N,f)?(Fp(y,N,f),y=l[++g],N=d[++p]):k1(b,O,f)?(Fp(b,O,f),b=l[--S],O=d[--_]):k1(y,O,f)?(Fp(y,O,f),Mv(c,y.$elm$,b.$elm$.nextSibling),y=l[++g],O=d[--_]):k1(b,N,f)?(Fp(b,N,f),Mv(c,b.$elm$,y.$elm$),b=l[--S],N=d[++p]):(h=GA(l&&l[p],u,p),N=d[++p],h&&Mv(y.$elm$.parentNode,h,y.$elm$));g>S?JT(c,d[_+1]==null?null:d[_+1].$elm$,u,d,p,_):p>_&&ZT(l,g,S)})(r,i,e,o,n):o!==null?(t.$text$!==null&&(r.textContent=""),JT(r,null,e,o,0,o.length-1)):!n&&P0e&&i!==null&&ZT(i,0,i.length-1),xo&&s==="svg"&&(xo=!1)):t.$text$!==a&&(r.data=a)},Mv=(t,e,n)=>t==null?void 0:t.insertBefore(e,n),z0e=(t,e,n=!1)=>{const r=t.$hostElement$,i=t.$cmpMeta$,o=t.$vnode$||Xw(null,null),s=(a=e)&&a.$tag$===$0e?e:be(null,null,e);var a;if(VA=r.tagName,n&&s.$attrs$)for(const c of Object.keys(s.$attrs$))r.hasAttribute(c)&&!["key","ref","style","class"].includes(c)&&(s.$attrs$[c]=r[c]);s.$tag$=null,s.$flags$|=4,t.$vnode$=s,s.$elm$=o.$elm$=r.shadowRoot||r,r["s-sc"],1&i.$flags$,Fp(o,s,n)},YU=(t,e)=>{e&&!t.$onRenderResolve$&&e["s-p"]&&e["s-p"].push(new Promise(n=>t.$onRenderResolve$=n))},YA=(t,e)=>(t.$flags$|=16,4&t.$flags$?void(t.$flags$|=512):(YU(t,t.$ancestorComponent$),M0e(()=>H0e(t,e)))),H0e=(t,e)=>{const n=t.$hostElement$;t.$cmpMeta$.$tagName$;const r=t.$lazyInstance$;if(!r)throw new Error(`Can't render component <${n.tagName.toLowerCase()} /> with invalid Stencil runtime! Make sure this imported component is compiled with a \`externalRuntime: true\` flag. For more information, please refer to https://stenciljs.com/docs/custom-elements#externalruntime`);return W0e(void 0,()=>q0e(t,r,e))},W0e=(t,e)=>K0e(t)?t.then(e).catch(n=>{console.error(n),e()}):e(),K0e=t=>t instanceof Promise||t&&t.then&&typeof t.then=="function",q0e=async(t,e,n)=>{var r;const i=t.$hostElement$;t.$cmpMeta$.$tagName$;const o=i["s-rc"];n&&j0e(t),t.$cmpMeta$.$tagName$,V0e(t,e,i,n),o&&(o.map(s=>s()),i["s-rc"]=void 0);{const s=(r=i["s-p"])!=null?r:[],a=()=>G0e(t);s.length===0?a():(Promise.all(s).then(a),t.$flags$|=4,s.length=0)}},V0e=(t,e,n,r)=>{try{e=e.render(),t.$flags$&=-17,t.$flags$|=2,z0e(t,e,r)}catch(i){yd(i,t.$hostElement$)}return null},G0e=t=>{t.$cmpMeta$.$tagName$;const e=t.$hostElement$,n=()=>{},r=t.$lazyInstance$,i=t.$ancestorComponent$;64&t.$flags$?n():(t.$flags$|=64,ZU(e),JA(r,"componentDidLoad"),t.$onReadyResolve$(e),i||JU()),t.$onRenderResolve$&&(t.$onRenderResolve$(),t.$onRenderResolve$=void 0),512&t.$flags$&&KA(()=>YA(t,!1)),t.$flags$&=-517},JU=t=>{ZU(Ys.documentElement),KA(()=>KU(D2,"appload",{detail:{namespace:"sdk-install-modal-web"}}))},JA=(t,e,n)=>{if(t&&t[e])try{return t[e](n)}catch(r){yd(r)}},ZU=t=>{var e;return t.classList.add((e=I0e)!=null?e:"hydrated")},Y0e=(t,e,n,r)=>{const i=Fl(t);if(!i)throw new Error(`Couldn't find host element for "${r.$tagName$}" as it is unknown to this Stencil runtime. This usually happens when integrating a 3rd party Stencil component with another Stencil component or application. Please reach out to the maintainers of the 3rd party Stencil component or report this on the Stencil Discord server (https://chat.stenciljs.com) or comment on this similar [GitHub issue](https://github.com/ionic-team/stencil/issues/5457).`);const o=i.$hostElement$,s=i.$instanceValues$.get(e),a=i.$flags$,c=i.$lazyInstance$;var l,u;l=n,u=r.$members$[e][0],n=l==null||qA(l)?l:4&u?l!=="false"&&(l===""||!!l):1&u?String(l):l;const d=Number.isNaN(s)&&Number.isNaN(n);if((!(8&a)||s===void 0)&&n!==s&&!d&&(i.$instanceValues$.set(e,n),c)){if(r.$watchers$&&128&a){const f=r.$watchers$[e];f&&f.map(h=>{try{c[h](n,s,e)}catch(g){yd(g,o)}})}(18&a)==2&&YA(i,!1)}},QU=(t,e,n)=>{var r,i;const o=t.prototype;if(e.$members$||e.$watchers$||t.watchers){t.watchers&&!e.$watchers$&&(e.$watchers$=t.watchers);const s=Object.entries((r=e.$members$)!=null?r:{});if(s.map(([a,[c]])=>{(31&c||2&n&&32&c)&&Object.defineProperty(o,a,{get(){return l=a,Fl(this).$instanceValues$.get(l);var l},set(l){Y0e(this,a,l,e)},configurable:!0,enumerable:!0})}),1&n){const a=new Map;o.attributeChangedCallback=function(c,l,u){pr.jmp(()=>{var d;const f=a.get(c);if(this.hasOwnProperty(f))u=this[f],delete this[f];else{if(o.hasOwnProperty(f)&&typeof this[f]=="number"&&this[f]==u)return;if(f==null){const h=Fl(this),g=h==null?void 0:h.$flags$;if(g&&!(8&g)&&128&g&&u!==l){const p=h.$lazyInstance$,S=(d=e.$watchers$)==null?void 0:d[c];S==null||S.forEach(y=>{p[y]!=null&&p[y].call(p,u,l,c)})}return}}this[f]=(u!==null||typeof this[f]!="boolean")&&u})},t.observedAttributes=Array.from(new Set([...Object.keys((i=e.$watchers$)!=null?i:{}),...s.filter(([c,l])=>15&l[0]).map(([c,l])=>{const u=l[1]||c;return a.set(u,c),u})]))}}return t},J0e=async(t,e,n,r)=>{let i;if(!(32&e.$flags$)){if(e.$flags$|=32,n.$lazyBundleId$){const a=((c,l,u)=>{const d=c.$tagName$.replace(/-/g,"_"),f=c.$lazyBundleId$;if(!f)return;const h=R6.get(f);if(h)return h[d];{const g=p=>(R6.set(f,p),p[d]);if(f==="mm-install-modal_3")return Promise.resolve().then(function(){return dpe}).then(g,yd)}return Lt(()=>import(`./${f}.entry.js`),[]).then(g=>(R6.set(f,g),g[d]),yd)})(n);if(a&&"then"in a?i=await a:i=a,!i)throw new Error(`Constructor for "${n.$tagName$}#${e.$modeName$}" was not found`);i.isProxied||(n.$watchers$=i.watchers,QU(i,n,2),i.isProxied=!0),n.$tagName$,e.$flags$|=8;try{new i(e)}catch(c){yd(c)}e.$flags$&=-9,e.$flags$|=128,zS(e.$lazyInstance$)}else{i=t.constructor;const a=t.localName;customElements.whenDefined(a).then(()=>e.$flags$|=128)}if(i&&i.style){let a;typeof i.style=="string"&&(a=i.style);const c=qU(n);Tv.has(c)||(n.$tagName$,((l,u,d)=>{let f=Tv.get(l);UU&&d?(f=f||new CSSStyleSheet,typeof f=="string"?f=u:f.replaceSync(u)):f=u,Tv.set(l,f)})(c,a,!!(1&n.$flags$)))}}const o=e.$ancestorComponent$,s=()=>YA(e,!0);o&&o["s-rc"]?o["s-rc"].push(s):s()},zS=t=>{JA(t,"connectedCallback")},QT=t=>{JA(t,"disconnectedCallback")},Z0e=(t,e={})=>{var n;const r=[],i=e.exclude||[],o=D2.customElements,s=Ys.head,a=s.querySelector("meta[charset]"),c=Ys.createElement("style"),l=[];let u,d=!0;Object.assign(pr,e),pr.$resourcesUrl$=new URL(e.resourcesUrl||"./",Ys.baseURI).href;let f=!1;if(t.map(h=>{h[1].map(g=>{var p;const S={$flags$:g[0],$tagName$:g[1],$members$:g[2],$listeners$:g[3]};4&S.$flags$&&(f=!0),S.$members$=g[2],S.$watchers$=(p=g[4])!=null?p:{};const y=S.$tagName$,b=class extends HTMLElement{constructor(_){if(super(_),this.hasRegisteredEventListeners=!1,((N,O)=>{const $={$flags$:0,$hostElement$:N,$cmpMeta$:O,$instanceValues$:new Map};$.$onReadyPromise$=new Promise(j=>$.$onReadyResolve$=j),N["s-p"]=[],N["s-rc"]=[],HA.set(N,$)})(_=this,S),1&S.$flags$)if(_.shadowRoot){if(_.shadowRoot.mode!=="open")throw new Error(`Unable to re-use existing shadow root for ${S.$tagName$}! Mode is set to ${_.shadowRoot.mode} but Stencil only supports open shadow roots.`)}else _.attachShadow({mode:"open"})}connectedCallback(){Fl(this),this.hasRegisteredEventListeners||(this.hasRegisteredEventListeners=!0),u&&(clearTimeout(u),u=null),d?l.push(this):pr.jmp(()=>(_=>{if(!(1&pr.$flags$)){const N=Fl(_),O=N.$cmpMeta$;if(O.$tagName$,1&N.$flags$)N!=null&&N.$lazyInstance$?zS(N.$lazyInstance$):N!=null&&N.$onReadyPromise$&&N.$onReadyPromise$.then(()=>zS(N.$lazyInstance$));else{N.$flags$|=1;{let $=_;for(;$=$.parentNode||$.host;)if($["s-p"]){YU(N,N.$ancestorComponent$=$);break}}O.$members$&&Object.entries(O.$members$).map(([$,[j]])=>{if(31&j&&_.hasOwnProperty($)){const k=_[$];delete _[$],_[$]=k}}),J0e(_,N,O)}}})(this))}disconnectedCallback(){pr.jmp(()=>(async _=>{if(!(1&pr.$flags$)){const N=Fl(_);N!=null&&N.$lazyInstance$?QT(N.$lazyInstance$):N!=null&&N.$onReadyPromise$&&N.$onReadyPromise$.then(()=>QT(N.$lazyInstance$))}})(this))}componentOnReady(){return Fl(this).$onReadyPromise$}};S.$lazyBundleId$=h[0],i.includes(y)||o.get(y)||(r.push(y),o.define(y,QU(b,S,1)))})}),r.length>0&&(f&&(c.textContent+=FU),c.textContent+=r.sort()+"{visibility:hidden}.hydrated{visibility:inherit}",c.innerHTML.length)){c.setAttribute("data-styles","");const h=(n=pr.$nonce$)!=null?n:HU(Ys);h!=null&&c.setAttribute("nonce",h),s.insertBefore(c,a?a.nextSibling:s.firstChild)}d=!1,l.length?l.map(h=>h.connectedCallback()):pr.jmp(()=>u=setTimeout(JU,30))};(function(){if(typeof window<"u"&&window.Reflect!==void 0&&window.customElements!==void 0){var t=HTMLElement;window.HTMLElement=function(){return Reflect.construct(t,[],this.constructor)},HTMLElement.prototype=t.prototype,HTMLElement.prototype.constructor=HTMLElement,Object.setPrototypeOf(HTMLElement,t)}})();var Q0e=Object.freeze({__proto__:null,defineCustomElements:async(t,e)=>{if(typeof window<"u")return await void 0,Z0e([["mm-install-modal_3",[[1,"mm-install-modal",{link:[1],sdkVersion:[1,"sdk-version"],preferDesktop:[4,"prefer-desktop"],tab:[32],isDefaultTab:[32],translationsLoaded:[32]},null,{preferDesktop:["updatePreferDesktop"]}],[1,"mm-pending-modal",{displayOTP:[4,"display-o-t-p"],sdkVersion:[1,"sdk-version"],otpCode:[1,"otp-code"],translationsLoaded:[32]}],[1,"mm-select-modal",{link:[1],sdkVersion:[1,"sdk-version"],preferDesktop:[4,"prefer-desktop"],tab:[32],isDefaultTab:[32],translationsLoaded:[32]},null,{preferDesktop:["updatePreferDesktop"]}]]]],e)},setNonce:t=>pr.$nonce$=t});const X0e={fontFamily:"Roboto, sans-serif"},ZA=({className:t},e)=>be("div",{style:X0e,class:t},e),L6=({Icon:t,text:e})=>be("div",{class:"flexContainer",style:{padding:"6",flexDirection:"row"}},be("div",{class:"flexItem1"},be(t,null)),be("div",{class:"flexItem11"},be("span",{style:{lineHeight:"2",color:"black"}},e))),epe=()=>be("svg",{width:"20",height:"18",viewBox:"0 0 20 18",fill:"none",xmlns:"http://www.w3.org/2000/svg"},be("path",{d:"M20.0002 7.9702V10.0302C20.0002 10.5802 19.5602 11.0302 19.0002 11.0502H17.0402C15.9602 11.0502 14.9702 10.2602 14.8802 9.1802C14.8202 8.5502 15.0602 7.9602 15.4802 7.5502C15.8502 7.1702 16.3602 6.9502 16.9202 6.9502H19.0002C19.5602 6.9702 20.0002 7.4202 20.0002 7.9702Z",fill:"#037DD6"}),be("path",{d:"M18.47 12.55H17.04C15.14 12.55 13.54 11.12 13.38 9.3C13.29 8.26 13.67 7.22 14.43 6.48C15.07 5.82 15.96 5.45 16.92 5.45H18.47C18.76 5.45 19 5.21 18.97 4.92C18.75 2.49 17.14 0.83 14.75 0.55C14.51 0.51 14.26 0.5 14 0.5H5C4.72 0.5 4.45 0.52 4.19 0.56C1.64 0.88 0 2.78 0 5.5V12.5C0 15.26 2.24 17.5 5 17.5H14C16.8 17.5 18.73 15.75 18.97 13.08C19 12.79 18.76 12.55 18.47 12.55ZM11 6.75H5C4.59 6.75 4.25 6.41 4.25 6C4.25 5.59 4.59 5.25 5 5.25H11C11.41 5.25 11.75 5.59 11.75 6C11.75 6.41 11.41 6.75 11 6.75Z",fill:"#037DD6"})),tpe=()=>be("svg",{width:"20",height:"18",viewBox:"0 0 20 18",fill:"none",xmlns:"http://www.w3.org/2000/svg"},be("path",{d:"M14.44 0.0999756C12.63 0.0999756 11.01 0.979976 10 2.32998C8.99 0.979976 7.37 0.0999756 5.56 0.0999756C2.49 0.0999756 0 2.59998 0 5.68998C0 6.87998 0.19 7.97998 0.52 8.99998C2.1 14 6.97 16.99 9.38 17.81C9.72 17.93 10.28 17.93 10.62 17.81C13.03 16.99 17.9 14 19.48 8.99998C19.81 7.97998 20 6.87998 20 5.68998C20 2.59998 17.51 0.0999756 14.44 0.0999756Z",fill:"#037DD6"})),npe=()=>be("svg",{width:"20",height:"20",viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg"},be("path",{d:"M16.28 7.53V6.28C16.28 3.58 15.63 0 10 0C4.37 0 3.72 3.58 3.72 6.28V7.53C0.92 7.88 0 9.3 0 12.79V14.65C0 18.75 1.25 20 5.35 20H14.65C18.75 20 20 18.75 20 14.65V12.79C20 9.3 19.08 7.88 16.28 7.53ZM10 16.74C8.33 16.74 6.98 15.38 6.98 13.72C6.98 12.05 8.34 10.7 10 10.7C11.66 10.7 13.02 12.06 13.02 13.72C13.02 15.39 11.67 16.74 10 16.74ZM5.35 7.44C5.27 7.44 5.2 7.44 5.12 7.44V6.28C5.12 3.35 5.95 1.4 10 1.4C14.05 1.4 14.88 3.35 14.88 6.28V7.45C14.8 7.45 14.73 7.45 14.65 7.45H5.35V7.44Z",fill:"#037DD6"})),rpe=()=>be("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},be("path",{d:"M16.4405 8.8999C20.0405 9.2099 21.5105 11.0599 21.5105 15.1099V15.2399C21.5105 19.7099 19.7205 21.4999 15.2505 21.4999H8.74047C4.27047 21.4999 2.48047 19.7099 2.48047 15.2399V15.1099C2.48047 11.0899 3.93047 9.2399 7.47047 8.9099",stroke:"white","stroke-width":"1.5","stroke-linecap":"round","stroke-linejoin":"round"}),be("path",{d:"M12 2V14.88",stroke:"white","stroke-width":"1.5","stroke-linecap":"round","stroke-linejoin":"round"}),be("path",{d:"M15.3504 12.6499L12.0004 15.9999L8.65039 12.6499",stroke:"white","stroke-width":"1.5","stroke-linecap":"round","stroke-linejoin":"round"}));function QA({version:t}){return be("div",{style:{textAlign:"center",color:"#BBC0C5",fontSize:"12"}},"SDK Version ",t?`v${t}`:"unknown")}const XA=()=>be("svg",{width:"14",height:"14",viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg"},be("rect",{width:"16",height:"16",fill:"white"}),be("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M2.40554 2.40554C2.94627 1.86482 3.82296 1.86482 4.36369 2.40554L8 6.04186L11.6363 2.40554C12.177 1.86482 13.0537 1.86482 13.5945 2.40554C14.1352 2.94627 14.1352 3.82296 13.5945 4.36369L9.95814 8L13.5945 11.6363C14.1352 12.177 14.1352 13.0537 13.5945 13.5945C13.0537 14.1352 12.177 14.1352 11.6363 13.5945L8 9.95814L4.36369 13.5945C3.82296 14.1352 2.94627 14.1352 2.40554 13.5945C1.86482 13.0537 1.86482 12.177 2.40554 11.6363L6.04186 8L2.40554 4.36369C1.86482 3.82296 1.86482 2.94627 2.40554 2.40554Z",fill:"#BBC0C5"})),e8=()=>be("svg",{width:"120",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 127 63"},be("path",{fill:"currentColor",d:"M71.554 48.607v13.81h-7.072v-9.568l-8.059.945c-1.77.205-2.548.79-2.548 1.864 0 1.575 1.478 2.239 4.648 2.239 1.932 0 4.073-.29 5.963-.79l-3.66 5.225c-1.479.332-2.92.496-4.44.496-6.414 0-10.074-2.57-10.074-7.132 0-4.023 2.877-6.136 9.416-6.884l8.638-1.012c-.467-2.532-2.362-3.633-6.13-3.633-3.537 0-7.443.912-10.937 2.613l1.111-6.18c3.248-1.369 6.95-2.074 10.69-2.074 8.226 0 12.461 3.444 12.461 10.075l-.008.005ZM7.938 31.315.208 62.416h7.73l3.836-15.628 6.65 8.039h8.06l6.65-8.039 3.836 15.628h7.73l-7.73-31.105-14.518 17.388L7.934 31.311l.004.004ZM36.97.21 22.452 17.598 7.938.21.208 31.315h7.73l3.836-15.628 6.65 8.039h8.06l6.65-8.039 3.836 15.628h7.73L36.97.21Zm53.17 48.107-6.25-.912c-1.562-.247-2.178-.747-2.178-1.617 0-1.41 1.52-2.032 4.647-2.032 3.62 0 6.868.747 10.283 2.364l-.862-6.094c-2.757-.995-5.922-1.491-9.212-1.491-7.688 0-11.886 2.696-11.886 7.547 0 3.776 2.303 5.889 7.196 6.636l6.335.954c1.603.248 2.261.87 2.261 1.865 0 1.41-1.478 2.074-4.481 2.074-3.948 0-8.225-.953-11.72-2.654l.7 6.094c3.003 1.122 6.91 1.785 10.57 1.785 7.896 0 12.007-2.78 12.007-7.715 0-3.94-2.303-6.057-7.4-6.8l-.01-.004ZM100.3 34.09v28.325h7.071V34.091H100.3Zm15.334 15.595 9.833-10.744h-8.8l-9.296 11.114 9.912 12.356h8.925l-10.574-12.73v.004Zm-16.321-25.09c0 4.56 3.66 7.13 10.074 7.13 1.52 0 2.961-.167 4.44-.495l3.66-5.225c-1.89.496-4.031.79-5.963.79-3.166 0-4.648-.664-4.648-2.239 0-1.079.783-1.659 2.549-1.864l8.058-.945v9.567h7.072v-13.81c0-6.635-4.236-10.075-12.461-10.075-3.744 0-7.442.705-10.691 2.075l-1.112 6.178c3.495-1.701 7.401-2.613 10.937-2.613 3.769 0 5.664 1.1 6.13 3.633l-8.637 1.013c-6.539.747-9.417 2.86-9.417 6.883l.009-.004Zm-19.779-1.492c0 5.725 3.29 8.627 9.787 8.627 2.59 0 4.732-.416 6.785-1.37l.903-6.261c-1.974 1.2-3.99 1.822-6.005 1.822-3.044 0-4.402-1.243-4.402-4.023v-8.295h10.732V7.84H86.601V2.948l-13.448 7.174v3.482h6.372V23.1l.008.004Zm-6.95-2.612v1.411H53.47c.862 2.873 3.423 4.187 7.97 4.187 3.62 0 6.993-.747 9.992-2.196l-.862 6.056c-2.757 1.16-6.251 1.785-9.829 1.785-9.5 0-14.68-4.23-14.68-12.066 0-7.838 5.264-12.235 13.406-12.235s13.119 4.771 13.119 13.062l-.005-.004ZM53.378 17.09h12.086c-.637-2.751-2.732-4.188-6.08-4.188-3.349 0-5.335 1.399-6.006 4.188Z"}));function Ou(t,e){return t.toString(2).padStart(e,"0")}function XT(t,e){const n=t%e;return n>=0?n:e+n}function ji(t,e){return new Array(t).fill(e)}function eM(...t){let e=0;for(const r of t)e=Math.max(e,r.length);const n=[];for(let r=0;r<e;r++)for(const i of t)r>=i.length||n.push(i[r]);return new Uint8Array(n)}function tM(t,e,n){if(n<0||n+e.length>t.length)return!1;for(let r=0;r<e.length;r++)if(e[r]!==t[n+r])return!1;return!0}function nM(t){return{has:e=>t.includes(e),decode:e=>{if(!Array.isArray(e)||e.length&&typeof e[0]!="string")throw new Error("alphabet.decode input should be array of strings");return e.map(n=>{if(typeof n!="string")throw new Error(`alphabet.decode: not string element=${n}`);const r=t.indexOf(n);if(r===-1)throw new Error(`Unknown letter: "${n}". Allowed: ${t}`);return r})},encode:e=>{if(!Array.isArray(e)||e.length&&typeof e[0]!="number")throw new Error("alphabet.encode input should be an array of numbers");return e.map(n=>{if(function(r){if(!Number.isSafeInteger(r))throw new Error(`Wrong integer: ${r}`)}(n),n<0||n>=t.length)throw new Error(`Digit index outside alphabet: ${n} (alphabet: ${t.length})`);return t[n]})}}}class Li{static size(e,n){if(typeof e=="number"&&(e={height:e,width:e}),!Number.isSafeInteger(e.height)&&e.height!==1/0)throw new Error(`Bitmap: wrong height=${e.height} (${typeof e.height})`);if(!Number.isSafeInteger(e.width)&&e.width!==1/0)throw new Error(`Bitmap: wrong width=${e.width} (${typeof e.width})`);return n!==void 0&&(e={width:Math.min(e.width,n.width),height:Math.min(e.height,n.height)}),e}static fromString(e){const n=(e=e.replace(/^\n+/g,"").replace(/\n+$/g,"")).split(`
`),r=n.length,i=new Array(r);let o;for(const s of n){const a=s.split("").map(c=>{if(c==="X")return!0;if(c===" ")return!1;if(c!=="?")throw new Error(`Bitmap.fromString: unknown symbol=${c}`)});if(o&&a.length!==o)throw new Error(`Bitmap.fromString different row sizes: width=${o} cur=${a.length}`);o=a.length,i.push(a)}return o||(o=0),new Li({height:r,width:o},i)}constructor(e,n){const{height:r,width:i}=Li.size(e);this.data=n||Array.from({length:r},()=>ji(i,void 0)),this.height=r,this.width=i}point(e){return this.data[e.y][e.x]}isInside(e){return 0<=e.x&&e.x<this.width&&0<=e.y&&e.y<this.height}size(e){if(!e)return{height:this.height,width:this.width};const{x:n,y:r}=this.xy(e);return{height:this.height-r,width:this.width-n}}xy(e){if(typeof e=="number"&&(e={x:e,y:e}),!Number.isSafeInteger(e.x))throw new Error(`Bitmap: wrong x=${e.x}`);if(!Number.isSafeInteger(e.y))throw new Error(`Bitmap: wrong y=${e.y}`);return e.x=XT(e.x,this.width),e.y=XT(e.y,this.height),e}rect(e,n,r){const{x:i,y:o}=this.xy(e),{height:s,width:a}=Li.size(n,this.size({x:i,y:o}));for(let c=0;c<s;c++)for(let l=0;l<a;l++)this.data[o+c][i+l]=typeof r=="function"?r({x:l,y:c},this.data[o+c][i+l]):r;return this}rectRead(e,n,r){return this.rect(e,n,(i,o)=>(r(i,o),o))}hLine(e,n,r){return this.rect(e,{width:n,height:1},r)}vLine(e,n,r){return this.rect(e,{width:1,height:n},r)}border(e=2,n){const r=this.height+2*e,i=this.width+2*e,o=ji(e,n),s=Array.from({length:e},()=>ji(i,n));return new Li({height:r,width:i},[...s,...this.data.map(a=>[...o,...a,...o]),...s])}embed(e,n){return this.rect(e,n.size(),({x:r,y:i})=>n.data[i][r])}rectSlice(e,n=this.size()){const r=new Li(Li.size(n,this.size(this.xy(e))));return this.rect(e,n,({x:i,y:o},s)=>r.data[o][i]=s),r}inverse(){const{height:e,width:n}=this;return new Li({height:n,width:e}).rect({x:0,y:0},1/0,({x:r,y:i})=>this.data[r][i])}scale(e){if(!Number.isSafeInteger(e)||e>1024)throw new Error(`Wrong scale factor: ${e}`);const{height:n,width:r}=this;return new Li({height:e*n,width:e*r}).rect({x:0,y:0},1/0,({x:i,y:o})=>this.data[Math.floor(o/e)][Math.floor(i/e)])}clone(){return new Li(this.size()).rect({x:0,y:0},this.size(),({x:e,y:n})=>this.data[n][e])}assertDrawn(){this.rectRead(0,1/0,(e,n)=>{if(typeof n!="boolean")throw new Error("Invalid color type="+typeof n)})}toString(){return this.data.map(e=>e.map(n=>n===void 0?"?":n?"X":" ").join("")).join(`
`)}toASCII(){const{height:e,width:n,data:r}=this;let i="";for(let o=0;o<e;o+=2){for(let s=0;s<n;s++){const a=r[o][s],c=o+1>=e||r[o+1][s];a||c?!a&&c?i+="▀":a&&!c?i+="▄":a&&c&&(i+=" "):i+="█"}i+=`
`}return i}toTerm(){const e="\x1B[0m",n=`\x1B[1;47m  ${e}`,r=`\x1B[40m  ${e}`;return this.data.map(i=>i.map(o=>o?r:n).join("")).join(`
`)}toSVG(){let e=`<svg xmlns:svg="http://www.w3.org/2000/svg" viewBox="0 0 ${this.width} ${this.height}" version="1.1" xmlns="http://www.w3.org/2000/svg">`;return this.rectRead(0,1/0,({x:n,y:r},i)=>{i&&(e+=`<rect x="${n}" y="${r}" width="1" height="1" />`)}),e+="</svg>",e}toGIF(){const e=a=>[255&a,a>>>8&255],n=[...e(this.width),...e(this.height)],r=[];this.rectRead(0,1/0,(a,c)=>r.push(+(c===!0)));const i=126,o=[71,73,70,56,55,97,...n,246,0,0,255,255,255,...ji(381,0),44,0,0,0,0,...n,0,7],s=Math.floor(r.length/i);for(let a=0;a<s;a++)o.push(127,128,...r.slice(i*a,i*(a+1)).map(c=>+c));return o.push(r.length%i+1,128,...r.slice(s*i).map(a=>+a)),o.push(1,129,0,59),new Uint8Array(o)}toImage(e=!1){const{height:n,width:r}=this.size(),i=new Uint8Array(n*r*(e?3:4));let o=0;for(let s=0;s<n;s++)for(let a=0;a<r;a++){const c=this.data[s][a]?0:255;i[o++]=c,i[o++]=c,i[o++]=c,e||(i[o++]=255)}return{height:n,width:r,data:i}}}const rM=["low","medium","quartile","high"],iM=["numeric","alphanumeric","byte","kanji","eci"],ipe=[26,44,70,100,134,172,196,242,292,346,404,466,532,581,655,733,815,901,991,1085,1156,1258,1364,1474,1588,1706,1828,1921,2051,2185,2323,2465,2611,2761,2876,3034,3196,3362,3532,3706],ope={low:[7,10,15,20,26,18,20,24,30,18,20,24,26,30,22,24,28,30,28,28,28,28,30,30,26,28,30,30,30,30,30,30,30,30,30,30,30,30,30,30],medium:[10,16,26,18,24,16,18,22,22,26,30,22,22,24,24,28,28,26,26,26,26,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28],quartile:[13,22,18,26,18,24,18,22,20,24,28,26,24,20,30,24,28,28,26,30,28,30,30,30,30,28,30,30,30,30,30,30,30,30,30,30,30,30,30,30],high:[17,28,22,16,22,28,26,26,24,28,24,28,22,24,24,30,28,28,26,28,30,24,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30]},spe={low:[1,1,1,1,1,2,2,2,2,4,4,4,4,4,6,6,6,6,7,8,8,9,9,10,12,12,12,13,14,15,16,17,18,19,19,20,21,22,24,25],medium:[1,1,1,2,2,4,4,4,5,5,5,8,9,9,10,10,11,13,14,16,17,17,18,20,21,23,25,26,28,29,31,33,35,37,38,40,43,45,47,49],quartile:[1,1,2,2,4,4,6,6,8,8,8,10,12,16,12,17,16,18,21,20,23,23,25,27,29,34,34,35,38,40,43,45,48,51,53,56,59,62,65,68],high:[1,1,2,4,4,4,5,6,8,8,11,11,16,16,18,16,19,21,25,25,25,34,30,32,35,37,40,42,45,48,51,54,57,60,63,66,70,74,77,81]},Rr={size:{encode:t=>21+4*(t-1),decode:t=>(t-17)/4},sizeType:t=>Math.floor((t+7)/17),alignmentPatterns(t){if(t===1)return[];const e=Rr.size.encode(t)-6-1,n=e-6,r=Math.ceil(n/28);let i=Math.floor(n/r);i%2?i+=1:n%r*2>=r&&(i+=2);const o=[6];for(let s=1;s<r;s++)o.push(e-(r-s)*i);return o.push(e),o},ECCode:{low:1,medium:0,quartile:3,high:2},formatMask:21522,formatBits(t,e){const n=Rr.ECCode[t]<<3|e;let r=n;for(let i=0;i<10;i++)r=r<<1^1335*(r>>9);return(n<<10|r)^Rr.formatMask},versionBits(t){let e=t;for(let n=0;n<12;n++)e=e<<1^7973*(e>>11);return t<<12|e},alphabet:{numeric:nM("0123456789"),alphanumerc:nM("0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ $%*+-./:")},lengthBits:(t,e)=>({numeric:[10,12,14],alphanumeric:[9,11,13],byte:[8,16,16],kanji:[8,10,12],eci:[0,0,0]})[e][Rr.sizeType(t)],modeBits:{numeric:"0001",alphanumeric:"0010",byte:"0100",kanji:"1000",eci:"0111"},capacity(t,e){const n=ipe[t-1],r=ope[e][t-1],i=spe[e][t-1],o=Math.floor(n/i)-r,s=i-n%i;return{words:r,numBlocks:i,shortBlocks:s,blockLen:o,capacity:8*(n-r*i),total:(r+o)*i+i-s}}},HS=[(t,e)=>(t+e)%2==0,(t,e)=>e%2==0,(t,e)=>t%3==0,(t,e)=>(t+e)%3==0,(t,e)=>(Math.floor(e/2)+Math.floor(t/3))%2==0,(t,e)=>t*e%2+t*e%3==0,(t,e)=>(t*e%2+t*e%3)%2==0,(t,e)=>((t+e)%2+t*e%3)%2==0],We={tables:(t=>{const e=ji(256,0),n=ji(256,0);for(let r=0,i=1;r<256;r++)e[r]=i,n[i]=r,i<<=1,256&i&&(i^=285);return{exp:e,log:n}})(),exp:t=>We.tables.exp[t],log(t){if(t===0)throw new Error(`GF.log: wrong arg=${t}`);return We.tables.log[t]%255},mul:(t,e)=>t===0||e===0?0:We.tables.exp[(We.tables.log[t]+We.tables.log[e])%255],add:(t,e)=>t^e,pow:(t,e)=>We.tables.exp[We.tables.log[t]*e%255],inv(t){if(t===0)throw new Error(`GF.inverse: wrong arg=${t}`);return We.tables.exp[255-We.tables.log[t]]},polynomial(t){if(t.length==0)throw new Error("GF.polymomial: wrong length");if(t[0]!==0)return t;let e=0;for(;e<t.length-1&&t[e]==0;e++);return t.slice(e)},monomial(t,e){if(t<0)throw new Error(`GF.monomial: wrong degree=${t}`);if(e==0)return[0];let n=ji(t+1,0);return n[0]=e,We.polynomial(n)},degree:t=>t.length-1,coefficient:(t,e)=>t[We.degree(t)-e],mulPoly(t,e){if(t[0]===0||e[0]===0)return[0];const n=ji(t.length+e.length-1,0);for(let r=0;r<t.length;r++)for(let i=0;i<e.length;i++)n[r+i]=We.add(n[r+i],We.mul(t[r],e[i]));return We.polynomial(n)},mulPolyScalar(t,e){if(e==0)return[0];if(e==1)return t;const n=ji(t.length,0);for(let r=0;r<t.length;r++)n[r]=We.mul(t[r],e);return We.polynomial(n)},mulPolyMonomial(t,e,n){if(e<0)throw new Error("GF.mulPolyMonomial: wrong degree");if(n==0)return[0];const r=ji(t.length+e,0);for(let i=0;i<t.length;i++)r[i]=We.mul(t[i],n);return We.polynomial(r)},addPoly(t,e){if(t[0]===0)return e;if(e[0]===0)return t;let n=t,r=e;n.length>r.length&&([n,r]=[r,n]);let i=ji(r.length,0),o=r.length-n.length,s=r.slice(0,o);for(let a=0;a<s.length;a++)i[a]=s[a];for(let a=o;a<r.length;a++)i[a]=We.add(n[a-o],r[a]);return We.polynomial(i)},remainderPoly(t,e){const n=Array.from(t);for(let r=0;r<t.length-e.length+1;r++){const i=n[r];if(i!==0)for(let o=1;o<e.length;o++)e[o]!==0&&(n[r+o]=We.add(n[r+o],We.mul(e[o],i)))}return n.slice(t.length-e.length+1,n.length)},divisorPoly(t){let e=[1];for(let n=0;n<t;n++)e=We.mulPoly(e,[1,We.pow(2,n)]);return e},evalPoly(t,e){if(e==0)return We.coefficient(t,0);let n=t[0];for(let r=1;r<t.length;r++)n=We.add(We.mul(e,n),t[r]);return n},euclidian(t,e,n){We.degree(t)<We.degree(e)&&([t,e]=[e,t]);let r=t,i=e,o=[0],s=[1];for(;2*We.degree(i)>=n;){let l=r,u=o;if(r=i,o=s,r[0]===0)throw new Error("rLast[0] === 0");i=l;let d=[0];const f=We.inv(r[0]);for(;We.degree(i)>=We.degree(r)&&i[0]!==0;){const h=We.degree(i)-We.degree(r),g=We.mul(i[0],f);d=We.addPoly(d,We.monomial(h,g)),i=We.addPoly(i,We.mulPolyMonomial(r,h,g))}if(d=We.mulPoly(d,o),s=We.addPoly(d,u),We.degree(i)>=We.degree(r))throw new Error(`Division failed r: ${i}, rLast: ${r}`)}const a=We.coefficient(s,0);if(a==0)throw new Error("sigmaTilde(0) was zero");const c=We.inv(a);return[We.mulPolyScalar(s,c),We.mulPolyScalar(i,c)]}};function ape(t,e){const{words:n,shortBlocks:r,numBlocks:i,blockLen:o,total:s}=Rr.capacity(t,e),a=(c=n,{encode(l){const u=We.divisorPoly(c),d=Array.from(l);return d.push(...u.slice(0,-1).fill(0)),Uint8Array.from(We.remainderPoly(d,u))},decode(l){const u=l.slice(),d=We.polynomial(Array.from(l));let f=ji(c,0),h=!1;for(let _=0;_<c;_++){const N=We.evalPoly(d,We.exp(_));f[f.length-1-_]=N,N!==0&&(h=!0)}if(!h)return u;f=We.polynomial(f);const g=We.monomial(c,1),[p,S]=We.euclidian(g,f,c),y=ji(We.degree(p),0);let b=0;for(let _=1;_<256&&b<y.length;_++)We.evalPoly(p,_)===0&&(y[b++]=We.inv(_));if(b!==y.length)throw new Error("RS.decode: wrong errors number");for(let _=0;_<y.length;_++){const N=u.length-1-We.log(y[_]);if(N<0)throw new Error("RS.decode: wrong error location");const O=We.inv(y[_]);let $=1;for(let j=0;j<y.length;j++)_!==j&&($=We.mul($,We.add(1,We.mul(y[j],O))));u[N]=We.add(u[N],We.mul(We.evalPoly(S,O),We.inv($)))}return u}});var c;return{encode(l){const u=[],d=[];for(let p=0;p<i;p++){const S=o+(p<r?0:1);u.push(l.subarray(0,S)),d.push(a.encode(l.subarray(0,S))),l=l.subarray(S)}const f=eM(...u),h=eM(...d),g=new Uint8Array(f.length+h.length);return g.set(f),g.set(h,f.length),g},decode(l){if(l.length!==s)throw new Error(`interleave.decode: len(data)=${l.length}, total=${s}`);const u=[];for(let h=0;h<i;h++){const g=h<r;u.push(new Uint8Array(n+o+(g?0:1)))}let d=0;for(let h=0;h<o;h++)for(let g=0;g<i;g++)u[g][h]=l[d++];for(let h=r;h<i;h++)u[h][o]=l[d++];for(let h=o;h<o+n;h++)for(let g=0;g<i;g++){const p=g<r;u[g][h+(p?0:1)]=l[d++]}const f=[];for(const h of u)f.push(...Array.from(a.decode(h)).slice(0,-n));return Uint8Array.from(f)}}}function oM(t,e,n,r){let i="",o=n.length;if(r==="numeric"){const d=Rr.alphabet.numeric.decode(n.split("")),f=d.length;for(let h=0;h<f-2;h+=3)i+=Ou(100*d[h]+10*d[h+1]+d[h+2],10);f%3==1?i+=Ou(d[f-1],4):f%3==2&&(i+=Ou(10*d[f-2]+d[f-1],7))}else if(r==="alphanumeric"){const d=Rr.alphabet.alphanumerc.decode(n.split("")),f=d.length;for(let h=0;h<f-1;h+=2)i+=Ou(45*d[h]+d[h+1],11);f%2==1&&(i+=Ou(d[f-1],6))}else{if(r!=="byte")throw new Error("encode: unsupported type");{const d=function(f){if(typeof f!="string")throw new Error("utf8ToBytes expected string, got "+typeof f);return new Uint8Array(new TextEncoder().encode(f))}(n);o=d.length,i=Array.from(d).map(f=>Ou(f,8)).join("")}}const{capacity:s}=Rr.capacity(t,e),a=Ou(o,Rr.lengthBits(t,r));let c=Rr.modeBits[r]+a+i;if(c.length>s)throw new Error("Capacity overflow");c+="0".repeat(Math.min(4,Math.max(0,s-c.length))),c.length%8&&(c+="0".repeat(8-c.length%8));const l="1110110000010001";for(let d=0;c.length!==s;d++)c+=l[d%16];const u=Uint8Array.from(c.match(/(.{8})/g).map(d=>+`0b${d}`));return ape(t,e).encode(u)}function sM(t,e,n,r,i=!1){const o=function(c,l,u,d=!1){const f=Rr.size.encode(c);let h=new Li(f+2);const g=new Li(3).rect(0,3,!0).border(1,!1).border(1,!0).border(1,!1);h=h.embed(0,g).embed({x:-g.width,y:0},g).embed({x:0,y:-g.height},g),h=h.rectSlice(1,f);const p=new Li(1).rect(0,1,!0).border(1,!1).border(1,!0),S=Rr.alignmentPatterns(c);for(const y of S)for(const b of S)h.data[y][b]===void 0&&h.embed({x:b-2,y:y-2},p);h=h.hLine({x:0,y:6},1/0,({x:y},b)=>b===void 0?y%2==0:b).vLine({x:6,y:0},1/0,({y},b)=>b===void 0?y%2==0:b);{const y=Rr.formatBits(l,u),b=_=>!d&&(y>>_&1)==1;for(let _=0;_<6;_++)h.data[_][8]=b(_);for(let _=6;_<8;_++)h.data[_+1][8]=b(_);for(let _=8;_<15;_++)h.data[f-15+_][8]=b(_);for(let _=0;_<8;_++)h.data[8][f-_-1]=b(_);for(let _=8;_<9;_++)h.data[8][15-_-1+1]=b(_);for(let _=9;_<15;_++)h.data[8][15-_-1]=b(_);h.data[f-8][8]=!d}if(c>=7){const y=Rr.versionBits(c);for(let b=0;b<18;b+=1){const _=!d&&(y>>b&1)==1,N=Math.floor(b/3),O=b%3+f-8-3;h.data[N][O]=_,h.data[O][N]=_}}return h}(t,e,r,i);let s=0;const a=8*n.length;if(function(c,l,u){const d=c.height,f=HS[l];let h=-1,g=d-1;for(let p=d-1;p>0;p-=2){for(p==6&&(p=5);;g+=h){for(let S=0;S<2;S+=1){const y=p-S;c.data[g][y]===void 0&&u(y,g,f(y,g))}if(g+h<0||g+h>=d)break}h=-h}}(o,r,(c,l,u)=>{let d=!1;s<a&&(d=(n[s>>>3]>>(7-s&7)&1)!=0,s++),o.data[l][c]=d!==u}),s!==a)throw new Error("QR: bytes left after draw");return o}function cpe(t){const e=t.inverse(),n=h=>{let g=0;for(let p,S=0,y=1;S<h.length;S++)p===h[S]&&(y++,S!==h.length-1)||(y>=5&&(g+=y-5+3),p=h[S],y=1);return g};let r=0;t.data.forEach(h=>r+=n(h)),e.data.forEach(h=>r+=n(h));let i=0,o=t.data;const s=t.width-1,a=t.height-1;for(let h=0;h<s;h++)for(let g=0;g<a;g++){const p=h+1,S=g+1;o[h][g]===o[p][g]&&o[p][g]===o[h][S]&&o[p][g]===o[p][S]&&(i+=3)}const c=h=>{const g=[!0,!1,!0,!0,!0,!1,!0],p=[!1,!1,!1,!1],S=[...g,...p],y=[...p,...g];let b=0;for(let _=0;_<h.length;_++)tM(h,S,_)&&(b+=40),tM(h,y,_)&&(b+=40);return b};let l=0;for(const h of t.data)l+=c(h);for(const h of e.data)l+=c(h);let u=0;t.rectRead(0,1/0,(h,g)=>u+=g?1:0);const d=u/(t.height*t.width)*100,f=10*Math.floor(Math.abs(d-50)/5);return r+i+l+f}function XU(t,e="raw",n={}){const r=n.ecc!==void 0?n.ecc:"medium";(function(u){if(!rM.includes(u))throw new Error(`Invalid error correction mode=${u}. Expected: ${rM}`)})(r);const i=n.encoding!==void 0?n.encoding:function(u){let d="numeric";for(let f of u)if(!Rr.alphabet.numeric.has(f)&&(d="alphanumeric",!Rr.alphabet.alphanumerc.has(f)))return"byte";return d}(t);(function(u){if(!iM.includes(u))throw new Error(`Encoding: invalid mode=${u}. Expected: ${iM}`);if(u==="kanji"||u==="eci")throw new Error(`Encoding: ${u} is not supported (yet?).`)})(i),n.mask!==void 0&&function(u){if(![0,1,2,3,4,5,6,7].includes(u)||!HS[u])throw new Error(`Invalid mask=${u}. Expected number [0..7]`)}(n.mask);let o,s=n.version,a=new Error("Unknown error");if(s!==void 0)(function(u){if(!Number.isSafeInteger(u)||u<1||u>40)throw new Error(`Invalid version=${u}. Expected number [1..40]`)})(s),o=oM(s,r,t,i);else for(let u=1;u<=40;u++)try{o=oM(u,r,t,i),s=u;break}catch(d){a=d}if(!s||!o)throw a;let c=function(u,d,f,h){if(h===void 0){const g=function(){let p,S=1/0;return{add(y,b){y>=S||(p=b,S=y)},get:()=>p,score:()=>S}}();for(let p=0;p<HS.length;p++)g.add(cpe(sM(u,d,f,p,!0)),p);h=g.get()}if(h===void 0)throw new Error("Cannot find mask");return sM(u,d,f,h)}(s,r,o,n.mask);c.assertDrawn();const l=n.border===void 0?2:n.border;if(!Number.isSafeInteger(l))throw new Error("Wrong border type="+typeof l);if(c=c.border(l,!1),n.scale!==void 0&&(c=c.scale(n.scale)),e==="raw")return c.data;if(e==="ascii")return c.toASCII();if(e==="svg")return c.toSVG();if(e==="gif")return c.toGIF();if(e==="term")return c.toTerm();throw new Error(`Unknown output: ${e}`)}const $6={DESKTOP:"Desktop",MOBILE:"Mobile",META_MASK_MOBILE_APP:"MetaMask mobile app",SCAN_TO_CONNECT:"Scan to connect and sign with",CONNECT_WITH_EXTENSION:"Connect With MetaMask Extension",INSTALL_MODAL:{TRUSTED_BY_USERS:"Trusted by over 30 million users to buy, store, send and swap crypto securely",LEADING_CRYPTO_WALLET:"The leading crypto wallet & gateway to blockchain apps built on Ethereum Mainnet, Polygon, Optimism, and many other networks",CONTROL_DIGITAL_INTERACTIONS:"Puts you in control of your digital interactions by making power of cryptography more accessible",INSTALL_META_MASK_EXTENSION:"Install MetaMask Extension"},PENDING_MODAL:{OPEN_META_MASK_SELECT_CODE:"Please open the MetaMask wallet app and select the code on the screen OR disconnect",OPEN_META_MASK_CONTINUE:"Open the MetaMask app to continue with your session.",NUMBER_AFTER_OPEN_NOTICE:"If a number doesn't appear after opening MetaMask, please click disconnect and re-scan the QRCode.",DISCONNECT:"Disconnect"},SELECT_MODAL:{CRYPTO_TAKE_CONTROL_TEXT:"Take control of your crypto and explore the blockchain with the wallet trusted by over 30 million people worldwide"},META_MASK_MODAL:{ADDRESS_COPIED:"Address copied to clipboard!",DISCONNECT:"Disconnect",ACTIVE_NETWORK:"Active Network"}};class t8{constructor(e){var n;this.translations=$6,this.supportedLocales=["es","fr","he","it","pt","tr"],this.baseUrl=(n=e==null?void 0:e.baseUrl)!==null&&n!==void 0?n:"https://raw.githubusercontent.com/MetaMask/metamask-sdk/refs/heads/gh-pages/locales"}getBrowserLanguage(){if((navigator.languages||[navigator.language]).some(n=>n.toLowerCase().startsWith("en")))return"en";const e=navigator.language.toLowerCase().split("-")[0];return this.supportedLocales.includes(e)?e:"en"}async init(e){const n=this.getBrowserLanguage()||e.fallbackLng;await this.loadTranslations(n)}async loadTranslations(e){const n=e.split("-")[0];if(n!=="en"&&this.supportedLocales.includes(n))try{const r=`${this.baseUrl}/${n}.json`,i=await fetch(r);if(!i.ok)throw new Error(`HTTP error! status: ${i.status}`);this.translations=await i.json()}catch(r){console.warn(`❌ Failed to load ${n} translations, falling back to English:`,r),this.translations=$6}else this.translations=$6}t(e){return this.getNestedTranslation(e,this.translations)||e}getNestedTranslation(e,n){const r=e.split(".");let i=n;for(const o of r){if(typeof i!="object")return"";i=i[o]}return typeof i=="string"?i:""}}var ug;(function(t){t.SDK_MODAL_VIEWED="sdk_modal_viewed",t.SDK_MODAL_BUTTON_CLICKED="sdk_modal_button_clicked",t.SDK_MODAL_TOGGLE_CHANGED="sdk_modal_toggle_changed"})(ug||(ug={}));const ez=class{constructor(t){WA(this,t),this.close=Xl(this,"close"),this.startDesktopOnboarding=Xl(this,"startDesktopOnboarding"),this.trackAnalytics=Xl(this,"trackAnalytics"),this.link=void 0,this.sdkVersion=void 0,this.preferDesktop=void 0,this.tab=1,this.isDefaultTab=!0,this.translationsLoaded=!1,this.onClose=this.onClose.bind(this),this.onStartDesktopOnboardingHandler=this.onStartDesktopOnboardingHandler.bind(this),this.setTab=this.setTab.bind(this),this.render=this.render.bind(this),this.setTab(this.preferDesktop?1:2),this.i18nInstance=new t8}componentDidLoad(){this.trackAnalytics.emit({event:ug.SDK_MODAL_VIEWED,params:{extensionInstalled:!1,tab:this.tab===1?"desktop":"mobile"}})}async connectedCallback(){await this.i18nInstance.init({fallbackLng:"en"}),this.translationsLoaded=!0}updatePreferDesktop(t){t?this.setTab(1):this.setTab(2)}onClose(t=!1){this.close.emit({shouldTerminate:t})}onStartDesktopOnboardingHandler(){this.trackAnalytics.emit({event:ug.SDK_MODAL_BUTTON_CLICKED,params:{button_type:"install_extension",tab:"desktop"}}),this.startDesktopOnboarding.emit()}setTab(t,e=!1){e&&this.trackAnalytics.emit({event:ug.SDK_MODAL_TOGGLE_CHANGED,params:{toggle:this.tab===1?"desktop_to_mobile":"mobile_to_desktop"}}),this.tab=t,this.isDefaultTab=!1}render(){if(!this.translationsLoaded)return null;const t=r=>this.i18nInstance.t(r),e=this.isDefaultTab?this.preferDesktop?1:2:this.tab,n=XU(this.link,"svg",{ecc:"medium",scale:2});return be(ZA,{className:"install-model"},be("div",{class:"backdrop",onClick:()=>this.onClose(!0)}),be("div",{class:"modal"},be("div",{class:"closeButtonContainer"},be("div",{class:"right"},be("span",{class:"closeButton",onClick:()=>this.onClose(!0)},be(XA,null)))),be("div",{class:"logoContainer"},be(e8,null)),be("div",null,be("div",{class:"tabcontainer"},be("div",{class:"flexContainer"},be("div",{onClick:()=>this.setTab(1,!0),class:"tab flexItem "+(e===1?"tabactive":"")},t("DESKTOP")),be("div",{onClick:()=>this.setTab(2,!0),class:"tab flexItem "+(e===2?"tabactive":"")},t("MOBILE")))),be("div",{style:{display:e===1?"none":"block"}},be("div",{class:"flexContainer"},be("div",{class:"flexItem",style:{textAlign:"center",marginTop:"4"}},n&&be("div",{id:"sdk-mm-qrcode",class:"center",innerHTML:n}),be("div",{class:"connectMobileText"},t("SCAN_TO_CONNECT")," ",be("br",null),be("span",{class:"blue"},be("b",null,t("META_MASK_MOBILE_APP"))))))),be("div",{style:{display:e===2?"none":"block"}},be("div",{class:"item"},be(L6,{Icon:tpe,text:t("INSTALL_MODAL.TRUSTED_BY_USERS")})),be("div",{class:"item"},be(L6,{Icon:epe,text:t("INSTALL_MODAL.LEADING_CRYPTO_WALLET")})),be("div",{class:"item"},be(L6,{Icon:npe,text:t("INSTALL_MODAL.CONTROL_DIGITAL_INTERACTIONS")})),be("button",{class:"button",onClick:()=>this.onStartDesktopOnboardingHandler()},be(rpe,null),be("span",{class:"installExtensionText"},t("INSTALL_MODAL.INSTALL_META_MASK_EXTENSION"))))),be(QA,{version:this.sdkVersion})))}get el(){return j2(this)}static get watchers(){return{preferDesktop:["updatePreferDesktop"]}}};ez.style=`.flexContainer {
    display: flex;
    justify-content: center;
    align-items: center;
    flex-direction: row;
}

.flexItem {
    flex: 1;
    justify-content: center;
    align-items: center;
}

.flexItem11 {
    flex: 11;
    justify-content: center;
    align-items: center;
}

.flexItem1 {
    flex: 1;
    justify-content: center;
    align-items: center;
}

.tab {
    padding: 8px;
    cursor: pointer;
    background-color: #F2F4F6;
    font-size: 12px;
    text-align: center;
    color: #24292E;
}

.tabcontainer {
    padding: 4px;
    background-color: #F2F4F6;
    border-radius: 8px;
    margin-bottom: 30px;
    margin-top: 30px;
}

.tabactive {
    background-color: white;
    -webkit-transition: background-color 300ms linear;
    -ms-transition: background-color 300ms linear;
    transition: background-color 300ms linear;
    border-radius: 8px;
}

.item {
    font-size: 12px;
    margin-bottom: 16px;
    border-radius: 8px;
    padding: 10px;
    border: 2px #F2F4F6 solid;
    color: #24292E;
}

.extensionLabel {
    font-style: normal;
    font-weight: bold;
    font-size: 14px;
    text-align: cetner;
    color: #24272A;
}

.notice {
    font-size: 12px;
    margin-left: 10px;
    margin-right: 10px;
    color: grey;
}

.button {
    margin-top: 41.5px;
    margin-bottom: 20px;
    width: 100%;
    display: flex;
    flex-direction: row;
    justify-content: center;
    align-items: center;
    padding: 12px 20px;
    background: #037DD6;
    border-radius: 32px;
    color: white;
    border: 0;
    font-size: 14px;
    cursor: pointer;
}

.backdrop {
    visibility: visible;
    position: fixed;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    width: 100%;
    z-index: 99998;
    background: rgba(0, 0, 0, 0.87);
    opacity: 0.3;
}

.modal {
    visibility: visible;
    position: fixed;
    left: 50%;
    transform: translate(-50%, -50%);
    z-index: 99999;
    background: white;
    padding: 20px;
    border-radius: 8px;
    top: 50%;
    max-width: 100%;
    width: 460px;
    min-width: 300px;
    box-shadow: rgba(0, 0, 0, 0.2) 0px 11px 15px -7px, rgba(0, 0, 0, 0.14) 0px 24px 38px 3px, rgba(0, 0, 0, 0.12) 0px 9px 46px 8px;
    -webkit-font-smoothing: antialiased;
}

.closeButton {
    color: #BBC0C5;
    cursor: pointer;
}

.logoContainer {
    margin-left: 24px;
    margin-right: 24px;
    margin-top: 24px;
    display: flex;
    align-items: center;
    justify-content: center;
}

.connectMobileText {
    font-size: 14px;
    color: black;
    margin-top: 28px;
    margin-bottom: 28px;
    line-height: 2;
}

.blue {
    color: #037DD6;
    font-weight: 700;
}

.installExtensionText {
    margin-left: 10px;
}

.center {
    display: flex;
    justify-content: center;
    align-items: center;
}

.right {
    display: flex;
    align-items: center;
    justify-content: right;
}

#sdk-mm-qrcode {
    svg {
        width: 50%;
    }
}`;const tz=class{constructor(t){WA(this,t),this.close=Xl(this,"close"),this.disconnect=Xl(this,"disconnect"),this.updateOTPValue=Xl(this,"updateOTPValue"),this.displayOTP=void 0,this.sdkVersion=void 0,this.otpCode=void 0,this.translationsLoaded=!1,this.i18nInstance=new t8}async connectedCallback(){await this.i18nInstance.init({fallbackLng:"en"}),this.translationsLoaded=!0}onClose(){this.close.emit()}onDisconnect(){this.disconnect.emit()}onUpdateOTPValueHandler(t){this.updateOTPValue.emit({otpValue:t})}disconnectedCallback(){this.onClose()}render(){var t;if(!this.translationsLoaded)return null;const e=(t=this.displayOTP)===null||t===void 0||t,n=this.sdkVersion,r=i=>this.i18nInstance.t(i);return be(ZA,{className:"pending-modal"},be("div",{class:"backdrop",onClick:()=>this.onClose()}),be("div",{class:"modal"},be("div",{class:"closeButtonContainer"},be("div",{class:"right"},be("span",{class:"closeButton",onClick:()=>this.onClose()},be(XA,null)))),be("div",{class:"logoContainer"},be(e8,null)),be("div",null,be("div",{class:"flexContainer",style:{flexDirection:"column",color:"black"}},be("div",{class:"flexItem",style:{textAlign:"center",marginTop:"30px",marginBottom:"30px",fontSize:"16px"}},r(e?"PENDING_MODAL.OPEN_META_MASK_SELECT_CODE":"PENDING_MODAL.OPEN_META_MASK_CONTINUE")),be("div",{id:"sdk-mm-otp-value",style:{padding:"10px",fontSize:"32px",display:this.otpCode?"block":"none"}},this.otpCode),e&&be("div",{class:"notice"},"* ",r("PENDING_MODAL.NUMBER_AFTER_OPEN_NOTICE"))),be("div",{style:{marginTop:"20px"}},be("button",{class:"button blue",style:{marginTop:"5px",color:"#0376C9",borderColor:"#0376C9",borderWidth:"1px",borderStyle:"solid",backgroundColor:"white"},onClick:()=>this.onDisconnect()},r("PENDING_MODAL.DISCONNECT")))),be(QA,{version:n})))}get el(){return j2(this)}};tz.style=`.flexContainer {
    display: flex;
    justify-content: center;
    align-items: center;
    flex-direction: row;
}

.flexItem {
    flex: 1;
    justify-content: center;
    align-items: center;
}

.flexItem11 {
    flex: 11;
    justify-content: center;
    align-items: center;
}

.flexItem1 {
    flex: 1;
    justify-content: center;
    align-items: center;
}

.tab {
    padding: 8px;
    cursor: pointer;
    background-color: #F2F4F6;
    font-size: 12px;
    text-align: center;
    color: #24292E;
}

.tabcontainer {
    padding: 4px;
    background-color: #F2F4F6;
    border-radius: 8px;
    margin-bottom: 30px;
    margin-top: 30px;
}

.tabactive {
    background-color: white;
    -webkit-transition: background-color 300ms linear;
    -ms-transition: background-color 300ms linear;
    transition: background-color 300ms linear;
    border-radius: 8px;
}

.item {
    font-size: 12px;
    margin-bottom: 16px;
    border-radius: 8px;
    padding: 10px;
    border: 2px #F2F4F6 solid;
    color: #24292E;
}

.extensionLabel {
    font-style: normal;
    font-weight: bold;
    font-size: 14px;
    text-align: cetner;
    color: #24272A;
}

.notice {
    font-size: 12px;
    margin-left: 10px;
    margin-right: 10px;
    color: grey;
}

.button {
    margin-top: 41.5px;
    margin-bottom: 20px;
    width: 100%;
    display: flex;
    flex-direction: row;
    justify-content: center;
    align-items: center;
    padding: 12px 20px;
    background: #037DD6;
    border-radius: 32px;
    color: white;
    border: 0;
    font-size: 14px;
    cursor: pointer;
}

.backdrop {
    visibility: visible;
    position: fixed;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    width: 100%;
    z-index: 99998;
    background: rgba(0, 0, 0, 0.87);
    opacity: 0.3;
}

.modal {
    visibility: visible;
    position: fixed;
    left: 50%;
    transform: translate(-50%, -50%);
    z-index: 99999;
    background: white;
    padding: 20px;
    border-radius: 8px;
    top: 50%;
    max-width: 100%;
    width: 460px;
    min-width: 300px;
    box-shadow: rgba(0, 0, 0, 0.2) 0px 11px 15px -7px, rgba(0, 0, 0, 0.14) 0px 24px 38px 3px, rgba(0, 0, 0, 0.12) 0px 9px 46px 8px;
    -webkit-font-smoothing: antialiased;
}

.closeButton {
    color: #BBC0C5;
    cursor: pointer;
}

.logoContainer {
    margin-left: 24px;
    margin-right: 24px;
    margin-top: 24px;
    display: flex;
    align-items: center;
    justify-content: center;
}

.connectMobileText {
    font-size: 14px;
    color: black;
    margin-top: 28px;
    margin-bottom: 28px;
    line-height: 2;
}

.blue {
    color: #037DD6;
    font-weight: 700;
}

.installExtensionText {
    margin-left: 10px;
}

.center {
    display: flex;
    justify-content: center;
    align-items: center;
}

.right {
    display: flex;
    align-items: center;
    justify-content: right;
}

#sdk-mm-qrcode {
    svg {
        width: 50%;
    }
}`;const lpe=()=>be("svg",{width:"21",height:"15",viewBox:"0 0 21 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},be("path",{d:"M14.1364 14.9851C13.5909 14.9851 13.2273 14.5851 13.2273 13.9851C13.2273 13.3851 13.5909 12.9851 14.1364 12.9851C16.6818 12.9851 18.6818 10.7851 18.6818 7.98508C18.6818 5.18508 16.6818 2.98508 14.1364 2.98508C11.5909 2.98508 9.59091 5.18508 9.59091 7.98508C9.59091 8.58508 9.22727 8.98508 8.68182 8.98508C8.13636 8.98508 7.77273 8.58508 7.77273 7.98508C7.77273 4.08508 10.5909 0.985077 14.1364 0.985077C17.6818 0.985077 20.5 4.08508 20.5 7.98508C20.5 11.8851 17.6818 14.9851 14.1364 14.9851ZM6.68182 14.7851C3.22727 14.7851 0.5 11.6851 0.5 7.98508C0.5 4.28508 3.22727 1.18508 6.68182 1.18508C7.22727 1.18508 7.59091 1.58508 7.59091 2.18508C7.59091 2.78508 7.22727 3.18508 6.68182 3.18508C4.22727 3.18508 2.31818 5.38508 2.31818 7.98508C2.31818 10.5851 4.22727 12.7851 6.68182 12.7851C9.13636 12.7851 11.0455 10.6851 11.0455 7.98508C11.0455 7.38508 11.4091 6.98508 11.9545 6.98508C12.5 6.98508 12.8636 7.38508 12.8636 7.98508C12.7727 11.6851 10.0455 14.7851 6.68182 14.7851Z",fill:"white"})),upe=()=>be("svg",{width:"400",height:"300",viewBox:"0 0 400 300",fill:"none",xmlns:"http://www.w3.org/2000/svg"},be("rect",{width:"400",height:"300",fill:"white"}),be("path",{d:"M300.116 242.46L250.485 227.681L213.057 250.055L186.944 250.045L149.493 227.681L99.8843 242.46L84.7939 191.518L99.8843 134.979L84.7939 87.1777L99.8843 27.9336L177.402 74.2466H222.598L300.116 27.9336L315.206 87.1777L300.116 134.979L315.206 191.518L300.116 242.46Z",fill:"#FF5C16"}),be("path",{d:"M99.8955 27.9336L177.414 74.2792L174.331 106.085L99.8955 27.9336Z",fill:"#FF5C16"}),be("path",{d:"M149.505 191.539L183.612 217.521L149.505 227.681V191.539Z",fill:"#FF5C16"}),be("path",{d:"M180.886 148.585L174.33 106.107L132.369 134.991L132.348 134.98V135.001L132.477 164.732L149.493 148.585H149.504H180.886Z",fill:"#FF5C16"}),be("path",{d:"M300.116 27.9336L222.598 74.2792L225.67 106.085L300.116 27.9336Z",fill:"#FF5C16"}),be("path",{d:"M250.508 191.539L216.4 217.521L250.508 227.681V191.539Z",fill:"#FF5C16"}),be("path",{d:"M267.652 135.001H267.663H267.652V134.98L267.641 134.991L225.68 106.107L219.125 148.585H250.507L267.533 164.732L267.652 135.001Z",fill:"#FF5C16"}),be("path",{d:"M149.493 227.681L99.8843 242.46L84.7939 191.54H149.493V227.681Z",fill:"#E34807"}),be("path",{d:"M180.875 148.574L190.351 209.98L177.219 175.838L132.456 164.732L149.483 148.574H180.864H180.875Z",fill:"#E34807"}),be("path",{d:"M250.507 227.681L300.116 242.46L315.206 191.54H250.507V227.681Z",fill:"#E34807"}),be("path",{d:"M219.126 148.574L209.649 209.98L222.782 175.838L267.545 164.732L250.507 148.574H219.126Z",fill:"#E34807"}),be("path",{d:"M84.7939 191.517L99.8843 134.979H132.337L132.456 164.721L177.219 175.826L190.351 209.969L183.601 217.488L149.493 191.506H84.7939V191.517Z",fill:"#FF8D5D"}),be("path",{d:"M315.206 191.517L300.116 134.979H267.664L267.545 164.721L222.782 175.826L209.649 209.969L216.4 217.488L250.507 191.506H315.206V191.517Z",fill:"#FF8D5D"}),be("path",{d:"M222.598 74.2466H200H177.402L174.33 106.053L190.351 209.936H209.649L225.681 106.053L222.598 74.2466Z",fill:"#FF8D5D"}),be("path",{d:"M99.8843 27.9336L84.7939 87.1777L99.8843 134.979H132.337L174.319 106.085L99.8843 27.9336Z",fill:"#661800"}),be("path",{d:"M171.496 160.906H156.795L148.79 168.752L177.229 175.804L171.496 160.896V160.906Z",fill:"#661800"}),be("path",{d:"M300.116 27.9336L315.206 87.1777L300.116 134.979H267.663L225.681 106.085L300.116 27.9336Z",fill:"#661800"}),be("path",{d:"M228.525 160.906H243.248L251.253 168.763L222.781 175.826L228.525 160.896V160.906Z",fill:"#661800"}),be("path",{d:"M213.046 229.789L216.399 217.51L209.649 209.991H190.34L183.59 217.51L186.943 229.789",fill:"#661800"}),be("path",{d:"M213.047 229.789V250.066H186.944V229.789H213.047Z",fill:"#C0C4CD"}),be("path",{d:"M149.504 227.66L186.965 250.056V229.779L183.611 217.5L149.504 227.66Z",fill:"#E7EBF6"}),be("path",{d:"M250.506 227.66L213.045 250.056V229.779L216.398 217.5L250.506 227.66Z",fill:"#E7EBF6"})),nz=class{constructor(t){WA(this,t),this.close=Xl(this,"close"),this.connectWithExtension=Xl(this,"connectWithExtension"),this.link=void 0,this.sdkVersion=void 0,this.preferDesktop=void 0,this.tab=1,this.isDefaultTab=!0,this.translationsLoaded=!1,this.i18nInstance=new t8,this.setTab(this.preferDesktop?1:2)}async connectedCallback(){await this.i18nInstance.init({fallbackLng:"en"}),this.translationsLoaded=!0}onClose(t=!1){this.close.emit({shouldTerminate:t})}connectWithExtensionHandler(){this.connectWithExtension.emit()}setTab(t){this.tab=t,this.isDefaultTab=!1}disconnectedCallback(){this.onClose()}updatePreferDesktop(t){t?this.setTab(1):this.setTab(2)}render(){if(!this.translationsLoaded)return null;const t=i=>this.i18nInstance.t(i),e=this.sdkVersion,n=this.isDefaultTab?this.preferDesktop?1:2:this.tab,r=XU(this.link,"svg",{ecc:"medium",scale:2});return be(ZA,{className:"select-modal"},be("div",{class:"backdrop",onClick:()=>this.onClose(!0)}),be("div",{class:"modal"},be("div",{class:"closeButtonContainer"},be("div",{class:"right"},be("span",{class:"closeButton",onClick:()=>this.onClose(!0)},be(XA,null)))),be("div",{class:"logoContainer"},be(e8,null)),be("div",null,be("div",{class:"tabcontainer"},be("div",{class:"flexContainer"},be("div",{onClick:()=>this.setTab(1),class:"tab flexItem "+(n===1?"tabactive":"")},t("DESKTOP")),be("div",{onClick:()=>this.setTab(2),class:"tab flexItem "+(n===2?"tabactive":"")},t("MOBILE")))),be("div",{style:{display:n===1?"none":"block"}},be("div",{class:"flexContainer"},be("div",{class:"flexItem",style:{textAlign:"center",marginTop:"4"}},be("div",{class:"center",id:"sdk-mm-qrcode",innerHTML:r}),be("div",{class:"connectMobileText"},t("SCAN_TO_CONNECT"),be("br",null),be("span",{class:"blue"},be("b",null,t("META_MASK_MOBILE_APP"))))))),be("div",{style:{display:n===2?"none":"block"}},be("div",{style:{display:"flex",justifyContent:"center",height:"300",marginTop:"-20"}},be(upe,null)),be("div",{class:"extensionLabel"},t("SELECT_MODAL.CRYPTO_TAKE_CONTROL_TEXT")),be("button",{class:"button",onClick:()=>this.connectWithExtensionHandler()},be(lpe,null),be("span",{class:"installExtensionText"},t("CONNECT_WITH_EXTENSION"))))),be(QA,{version:e})))}get el(){return j2(this)}static get watchers(){return{preferDesktop:["updatePreferDesktop"]}}};nz.style=`.flexContainer {
    display: flex;
    justify-content: center;
    align-items: center;
    flex-direction: row;
}

.flexItem {
    flex: 1;
    justify-content: center;
    align-items: center;
}

.flexItem11 {
    flex: 11;
    justify-content: center;
    align-items: center;
}

.flexItem1 {
    flex: 1;
    justify-content: center;
    align-items: center;
}

.tab {
    padding: 8px;
    cursor: pointer;
    background-color: #F2F4F6;
    font-size: 12px;
    text-align: center;
    color: #24292E;
}

.tabcontainer {
    padding: 4px;
    background-color: #F2F4F6;
    border-radius: 8px;
    margin-bottom: 30px;
    margin-top: 30px;
}

.tabactive {
    background-color: white;
    -webkit-transition: background-color 300ms linear;
    -ms-transition: background-color 300ms linear;
    transition: background-color 300ms linear;
    border-radius: 8px;
}

.item {
    font-size: 12px;
    margin-bottom: 16px;
    border-radius: 8px;
    padding: 10px;
    border: 2px #F2F4F6 solid;
    color: #24292E;
}

.extensionLabel {
    font-style: normal;
    font-weight: bold;
    font-size: 14px;
    text-align: cetner;
    color: #24272A;
}

.notice {
    font-size: 12px;
    margin-left: 10px;
    margin-right: 10px;
    color: grey;
}

.button {
    margin-top: 41.5px;
    margin-bottom: 20px;
    width: 100%;
    display: flex;
    flex-direction: row;
    justify-content: center;
    align-items: center;
    padding: 12px 20px;
    background: #037DD6;
    border-radius: 32px;
    color: white;
    border: 0;
    font-size: 14px;
    cursor: pointer;
}

.backdrop {
    visibility: visible;
    position: fixed;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    width: 100%;
    z-index: 99998;
    background: rgba(0, 0, 0, 0.87);
    opacity: 0.3;
}

.modal {
    visibility: visible;
    position: fixed;
    left: 50%;
    transform: translate(-50%, -50%);
    z-index: 99999;
    background: white;
    padding: 20px;
    border-radius: 8px;
    top: 50%;
    max-width: 100%;
    width: 460px;
    min-width: 300px;
    box-shadow: rgba(0, 0, 0, 0.2) 0px 11px 15px -7px, rgba(0, 0, 0, 0.14) 0px 24px 38px 3px, rgba(0, 0, 0, 0.12) 0px 9px 46px 8px;
    -webkit-font-smoothing: antialiased;
}

.closeButton {
    color: #BBC0C5;
    cursor: pointer;
}

.logoContainer {
    margin-left: 24px;
    margin-right: 24px;
    margin-top: 24px;
    display: flex;
    align-items: center;
    justify-content: center;
}

.connectMobileText {
    font-size: 14px;
    color: black;
    margin-top: 28px;
    margin-bottom: 28px;
    line-height: 2;
}

.blue {
    color: #037DD6;
    font-weight: 700;
}

.installExtensionText {
    margin-left: 10px;
}

.center {
    display: flex;
    justify-content: center;
    align-items: center;
}

.right {
    display: flex;
    align-items: center;
    justify-content: right;
}

#sdk-mm-qrcode {
    svg {
        width: 50%;
    }
}`;var dpe=Object.freeze({__proto__:null,mm_install_modal:ez,mm_pending_modal:tz,mm_select_modal:nz});const fxe={GET_ACCOUNTS:"getAccounts",SOLANA_REQUEST_ACCOUNTS:"solana_requestAccounts",SEND_TRANSACTION:"solana_sendTransaction",SIGN_TRANSACTION:"solana_signTransaction",SIGN_ALL_TRANSACTIONS:"solana_signAllTransactions",SIGN_MESSAGE:"solana_signMessage",SOLANA_PRIVATE_KEY:"solana_privateKey",PRIVATE_KEY:"private_key",SOLANA_PUBLIC_KEY:"solana_publicKey",PUBLIC_KEY:"public_key"},hxe={SOLANA_MAINNET:"0x65",SOLANA_TESTNET:"0x66",SOLANA_DEVNET:"0x67"},aM={GET_ACCOUNTS:"eth_accounts",ETH_TRANSACTION:"eth_sendTransaction",ETH_ESTIMATE_AA_TRANSACTION_GAS:"eth_estimateAATransactionGas",ETH_REQUEST_ACCOUNTS:"eth_requestAccounts",ETH_SEND_RAW_TRANSACTION:"eth_sendRawTransaction",ETH_SIGN:"eth_sign",ETH_SIGN_TYPED_DATA_V4:"eth_signTypedData_v4",PERSONAL_SIGN:"personal_sign",ETH_GET_TRANSACTION_COUNT:"eth_getTransactionCount",ETH_GET_TRANSACTION_BY_HASH:"eth_getTransactionByHash",ETH_GET_TRANSACTION_RECEIPT:"eth_getTransactionReceipt",WATCH_ASSET:"wallet_watchAsset",ETH_GET_BLOCK_BY_HASH:"eth_getBlockByHash",ETH_GET_CODE:"eth_getCode",ETH_GET_GAS_PRICE:"eth_gasPrice",ETH_PRIVATE_KEY:"eth_privateKey",PRIVATE_KEY:"private_key",ETH_PUBLIC_KEY:"eth_publicKey",PUBLIC_KEY:"public_key",SWITCH_CHAIN:"wallet_switchEthereumChain",ADD_CHAIN:"wallet_addEthereumChain"};function nm(t){let e=!1,n=0,r;try{r=window[t],e=!0,n=r.length;const i="__storage_test__";return r.setItem(i,i),r.removeItem(i),!0}catch(i){const o=i;return!!(o&&(o.code===22||o.code===1014||o.name==="QuotaExceededError"||o.name==="NS_ERROR_DOM_QUOTA_REACHED")&&e&&n!==0)}}const fpe=t=>{const e=Dse(t);return!e.exp||e.exp<Math.floor(Date.now()/1e3)},hpe=(t,e)=>nm("localStorage")?localStorage.getItem(`${t.toLowerCase()}_${e}`):null,ppe=(t,e,n)=>nm("localStorage")?localStorage.setItem(`${t.toLowerCase()}_${e}`,n):null,gpe=(t,e)=>nm("localStorage")?localStorage.removeItem(`${t.toLowerCase()}_${e}`):null;class mpe extends Q7{async init(e){}async getIdentityToken(){if(!this.provider||this.status!==Ue.CONNECTED)throw ot.notConnectedError();if(!this.coreOptions)throw Fe.invalidParams("Please initialize Web3Auth with valid options");const e=await this.provider.request({method:aM.GET_ACCOUNTS});if(e&&e.length>0){const n=hpe(e[0],this.name);if(n&&!fpe(n))return{idToken:n};const r=await this.provider.request({method:"eth_chainId"}),i=this.coreOptions.chains.find(d=>d.chainId===r);if(!i)throw Fe.invalidParams("chainConfig is required before authentication");const{chainNamespace:o}=i,s={domain:window.location.origin,uri:window.location.href,address:e[0],chainId:parseInt(r,16),version:"1",nonce:Math.random().toString(36).slice(2),issuedAt:new Date().toISOString()},a=await jse(s,o),c=`0x${Buffer.from(a,"utf8").toString("hex")}`,l=await this.provider.request({method:aM.PERSONAL_SIGN,params:[c,e[0]]}),u=await Fse(o,l,a,this.name,this.coreOptions.sessionTime,this.coreOptions.clientId,this.coreOptions.web3AuthNetwork);return ppe(e[0],this.name,u),{idToken:u}}throw ot.notConnectedError("Not connected with wallet, Please login/connect first")}async disconnectSession(){super.checkDisconnectionRequirements();const e=await this.provider.request({method:"eth_accounts"});e&&e.length>0&&gpe(e[0],this.name)}async disconnect(){this.rehydrated=!1,this.emit(qe.DISCONNECTED)}}class ype extends mpe{constructor(e){super(e),ue(this,"connectorNamespace",Zl.EIP155),ue(this,"currentChainNamespace",mt.EIP155),ue(this,"type",Ba.EXTERNAL),ue(this,"name",Ye.METAMASK),ue(this,"status",Ue.NOT_READY),ue(this,"metamaskProvider",null),ue(this,"metamaskSDK",null),ue(this,"metamaskOptions",void 0),ue(this,"analytics",void 0),this.metamaskOptions=e.connectorSettings,this.analytics=e.analytics}get provider(){return this.status!==Ue.NOT_READY&&this.metamaskProvider?this.metamaskProvider:null}set provider(e){throw new Error("Not implemented")}async init(e){var n;await super.init(e);const r=this.coreOptions.chains.find(c=>c.chainId===e.chainId);super.checkInitializationRequirements({chainConfig:r});const i=await yue(window),o={name:mue(window)||"web3auth",url:window.location.origin||"https://web3auth.io",iconUrl:i??void 0},s=ln(this.metamaskOptions||{},{dappMetadata:o});this.metamaskSDK=new C0e(ae(ae({},s),{},{_source:"web3auth",useDeeplink:(n=s.useDeeplink)!==null&&n!==void 0?n:!0}));const a=await this.metamaskSDK.init();a&&(this.metamaskSDK=a),this.isInjected=this.metamaskSDK.isExtensionActive(),this.status=Ue.READY,this.emit(qe.READY,Ye.METAMASK);try{if(e.autoConnect&&(this.rehydrated=!0,!await this.connect({chainId:e.chainId})))throw this.rehydrated=!1,ot.connectionError("Failed to rehydrate.")}catch(c){this.emit(qe.REHYDRATION_ERROR,c)}}async connect({chainId:e}){if(super.checkConnectionRequirements(),!this.metamaskSDK)throw ot.notConnectedError("Connector is not initialized");const n=this.coreOptions.chains.find(d=>d.chainId===e);if(!n)throw ot.connectionError("Chain config is not available");const r=!this.isInjected&&!this.rehydrated,i=Date.now(),o={connector:this.name,connector_type:this.type,is_injected:this.isInjected,chain_id:Vf(n),chain_name:n==null?void 0:n.displayName,chain_namespace:n==null?void 0:n.chainNamespace};try{if(this.status!==Ue.CONNECTING){var s;this.status=Ue.CONNECTING,this.emit(qe.CONNECTING,{connector:Ye.METAMASK}),!this.metamaskSDK.isExtensionActive()&&(s=this.metamaskOptions)!==null&&s!==void 0&&s.headless&&this.metamaskSDK.getProvider().on("display_uri",h=>{this.updateConnectorData({uri:h})}),await this.metamaskSDK.connect()}if(this.metamaskProvider=this.metamaskSDK.getProvider(),!this.metamaskProvider)throw ot.notConnectedError("Failed to connect with provider");await this.metamaskProvider.request({method:"eth_chainId"})!==n.chainId&&await this.switchChain(n,!0);const f=h=>{h.length===0&&this.disconnect()};if(this.metamaskProvider.on("accountsChanged",f),this.metamaskProvider.once("disconnect",()=>{this.disconnect()}),this.status=Ue.CONNECTED,r){var a,c;(a=this.analytics)===null||a===void 0||a.track(Wt.CONNECTION_STARTED,o),(c=this.analytics)===null||c===void 0||c.track(Wt.CONNECTION_COMPLETED,ae(ae({},o),{},{duration:Date.now()-i}))}return this.emit(qe.CONNECTED,{connector:Ye.METAMASK,reconnected:this.rehydrated,provider:this.metamaskProvider}),this.metamaskProvider}catch(d){if(this.status=Ue.READY,this.rehydrated||this.emit(qe.ERRORED,d),this.rehydrated=!1,r){var l,u;(l=this.analytics)===null||l===void 0||l.track(Wt.CONNECTION_STARTED,o),(u=this.analytics)===null||u===void 0||u.track(Wt.CONNECTION_FAILED,ae(ae(ae({},o),Ise(d)),{},{duration:Date.now()-i}))}throw d instanceof ko?d:ot.connectionError("Failed to login with MetaMask wallet",d)}}async disconnect(e={cleanup:!1}){if(!this.metamaskProvider)throw ot.connectionError("MetaMask provider is not available");await super.disconnectSession(),typeof this.metamaskProvider.removeAllListeners<"u"&&this.metamaskProvider.removeAllListeners(),await this.metamaskSDK.terminate(),e.cleanup?(this.status=Ue.NOT_READY,this.metamaskProvider=null):this.status=Ue.READY,await super.disconnect()}async getUserInfo(){if(this.status!==Ue.CONNECTED)throw ot.notConnectedError("Not connected with wallet, Please login/connect first");return{}}async switchChain(e,n=!1){super.checkSwitchChainRequirements(e,n);const r=()=>this.metamaskProvider.request({method:"wallet_switchEthereumChain",params:[{chainId:e.chainId}]});try{await r()}catch(i){if((i==null?void 0:i.code)===4902){const o=this.coreOptions.chains.find(s=>s.chainId===e.chainId&&[mt.EIP155,mt.SOLANA].includes(s.chainNamespace));await this.addChain(o),await r()}else throw i}}async enableMFA(){throw new Error("Method Not implemented")}async manageMFA(){throw new Error("Method Not implemented")}async addChain(e){if(!this.metamaskProvider)throw ot.connectionError("Injected provider is not available");await this.metamaskProvider.request({method:"wallet_addEthereumChain",params:[{chainId:e.chainId,chainName:e.displayName,rpcUrls:[e.rpcTarget],blockExplorerUrls:[e.blockExplorerUrl],nativeCurrency:{name:e.tickerName,symbol:e.ticker,decimals:e.decimals||18},iconUrls:[e.logo]}]})}}const vpe=t=>({coreOptions:e,analytics:n})=>new ype({connectorSettings:t,coreOptions:e,analytics:n}),rz=ae(ae({},mt),{},{MULTICHAIN:"multichain"}),Bs={READY:"ready",CONNECTING:"connecting",CONNECTED:"connected",DISCONNECTED:"disconnected",ERRORED:"errored"},is=ae({},Bs),eb={WALLET_SERVICES:"wallet-services",NFT_CHECKOUT:"nft-checkout"},wpe={SOLANA:"solana"};ae(ae({},eb),wpe);class Vt extends ko{constructor(e,n,r){super(e,n,r),Object.defineProperty(this,"name",{value:"WalletServicesPluginError"})}static fromCode(e,n="",r){return new Vt(e,`${Vt.messages[e]}${n}`,r)}static notInitialized(e="",n){return Vt.fromCode(5210,e,n)}static unsupportedConnector(e="",n){return Vt.fromCode(5211,e,n)}static providerRequired(e="",n){return Vt.fromCode(5212,e,n)}static web3authRequired(e="",n){return Vt.fromCode(5213,e,n)}static web3AuthNotConnected(e="",n){return Vt.fromCode(5214,e,n)}static alreadyInitialized(e="",n){return Vt.fromCode(5216,e,n)}static unsupportedChainNamespace(e="",n){return Vt.fromCode(5218,e,n)}static differentWeb3AuthNetwork(e="",n){return Vt.fromCode(5219,e,n)}static invalidParams(e="",n){return Vt.fromCode(5220,e,n)}static web3authNotInitialized(e="",n){return Vt.fromCode(5221,e,n)}static invalidSession(e="",n){return Vt.fromCode(5222,e,n)}static walletPluginNotConnected(e="",n){return Vt.fromCode(5223,e,n)}}ue(Vt,"messages",{5210:"Wallet Services Plugin is not initialized",5211:"Web3Auth is connected to unsupported connector. Wallet services connector plugin requires web3auth connected to auth connector.",5212:"Provider is required..",5213:"Web3Auth instance is required while initialization.",5214:"Web3Auth is not connected.",5216:"Plugin is already initialized",5218:"Unsupported chain namespace.",5219:"Plugin network different than web3auth instance network.",5221:"Web3Auth is not initialized",5222:"Invalid session inside wallet services. Please report this issue.",5223:"Wallet plugin is not connected Yet. Please wait for plugin to connect and listen via `connected` event on the plugin"});class Da extends ko{constructor(e,n,r){super(e,n,r),Object.defineProperty(this,"name",{value:"NFTCheckoutPluginError"})}static fromCode(e,n="",r){return new Da(e,`${Da.messages[e]}${n}`,r)}static notInitialized(e="",n){return Da.fromCode(6210,e,n)}static providerRequired(e="",n){return Da.fromCode(6212,e,n)}static web3authRequired(e="",n){return Da.fromCode(6213,e,n)}static web3AuthNotConnected(e="",n){return Da.fromCode(6214,e,n)}static pluginNotConnected(e="",n){return Da.fromCode(6223,e,n)}}ue(Da,"messages",{6210:"NFT Checkout Plugin is not initialized",6212:"Provider is required..",6213:"Web3Auth instance is required while initialization.",6214:"Web3Auth is not connected.",6223:"NFT Checkout plugin is not connected Yet. Please wait for plugin to connect and listen via `connected` event on the plugin"});class bpe extends bu{constructor(...e){super(...e),ue(this,"name",eb.WALLET_SERVICES),ue(this,"status",Bs.DISCONNECTED),ue(this,"SUPPORTED_CONNECTORS",[Ye.AUTH]),ue(this,"pluginNamespace",rz.MULTICHAIN),ue(this,"wsEmbedInstance",void 0),ue(this,"provider",null),ue(this,"web3auth",null),ue(this,"isInitialized",!1),ue(this,"analytics",void 0)}get proxyProvider(){var e;return(e=this.wsEmbedInstance)!==null&&e!==void 0&&e.provider?this.wsEmbedInstance.provider:null}async initWithWeb3Auth(e,n,r){if(this.isInitialized)return;if(!e)throw Vt.web3authRequired();if(e.provider&&!this.SUPPORTED_CONNECTORS.includes(e.connectedConnectorName))throw Vt.notInitialized();const i=e.currentChain;if(![mt.EIP155,mt.SOLANA].includes(i==null?void 0:i.chainNamespace))throw Vt.unsupportedChainNamespace();e.provider&&(this.provider=e.provider),this.web3auth=e,this.analytics=r;const o=e.getConnector(Ye.AUTH);if(!o||!o.wsEmbed)throw Vt.web3AuthNotConnected();this.wsEmbedInstance=o.wsEmbed,this.isInitialized=!0,this.status=Bs.READY,this.emit(is.READY)}initWithProvider(){throw new Error("Method not implemented.")}async connect(){if(!this.isInitialized)throw Vt.notInitialized();if(this.emit(is.CONNECTING),this.status=Bs.CONNECTING,!this.provider){var e;(e=this.web3auth)!==null&&e!==void 0&&e.provider&&(this.provider=this.web3auth.provider)}if(this.web3auth.status!==Ue.CONNECTED)throw Vt.web3AuthNotConnected();if(!this.web3auth.provider)throw Vt.providerRequired();try{this.emit(is.CONNECTED),this.status=Bs.CONNECTED}catch(n){$e.error(n),this.status=Bs.ERRORED,this.emit(is.ERRORED,{error:n.message||"Something went wrong"})}}async showWalletConnectScanner(e){var n,r;if(!((n=this.wsEmbedInstance)!==null&&n!==void 0&&n.isLoggedIn))throw Vt.walletPluginNotConnected();return(r=this.analytics)===null||r===void 0||r.track(Wt.WALLET_CONNECT_SCANNER_CLICKED,{is_visible:e==null?void 0:e.show}),this.wsEmbedInstance.showWalletConnectScanner(e)}async showCheckout(e){var n,r;if(!((n=this.wsEmbedInstance)!==null&&n!==void 0&&n.isLoggedIn))throw Vt.walletPluginNotConnected();return(r=this.analytics)===null||r===void 0||r.track(Wt.WALLET_CHECKOUT_CLICKED,{is_visible:e==null?void 0:e.show,receive_wallet_address_enabled:!!(e!=null&&e.receiveWalletAddress),token_list:e==null?void 0:e.tokenList,fiat_list:e==null?void 0:e.fiatList}),this.wsEmbedInstance.showCheckout(e)}async showWalletUi(e){var n,r;if(!((n=this.wsEmbedInstance)!==null&&n!==void 0&&n.isLoggedIn))throw Vt.walletPluginNotConnected();return(r=this.analytics)===null||r===void 0||r.track(Wt.WALLET_UI_CLICKED,{is_visible:e==null?void 0:e.show,path:e==null?void 0:e.path}),this.wsEmbedInstance.showWalletUi(e)}async showSwap(e){var n,r;if(!((n=this.wsEmbedInstance)!==null&&n!==void 0&&n.isLoggedIn))throw Vt.walletPluginNotConnected();return(r=this.analytics)===null||r===void 0||r.track(Wt.WALLET_SWAP_CLICKED,{is_visible:e==null?void 0:e.show,from_token:e==null?void 0:e.fromToken,to_token:e==null?void 0:e.toToken,from_value_enabled:!!(e!=null&&e.fromValue),to_address_enabled:!!(e!=null&&e.toAddress)}),this.wsEmbedInstance.showSwap(e)}async cleanup(){var e;return(e=this.wsEmbedInstance)===null||e===void 0?void 0:e.cleanUp()}async disconnect(){var e;if(this.status!==Bs.CONNECTED)throw Vt.invalidSession("Wallet Services plugin is not connected");(e=this.wsEmbedInstance)!==null&&e!==void 0&&e.isLoggedIn&&await this.wsEmbedInstance.logout(),this.emit(is.DISCONNECTED),this.status=Bs.DISCONNECTED}}const Epe=()=>()=>new bpe,xpe=["walletScope"];class Spe extends bu{constructor(e,n){if(super(),ue(this,"coreOptions",void 0),ue(this,"status",Ue.NOT_READY),ue(this,"aaProvider",null),ue(this,"connectors",[]),ue(this,"commonJRPCProvider",null),ue(this,"analytics",void 0),ue(this,"plugins",{}),ue(this,"storage",void 0),ue(this,"state",{connectedConnectorName:null,cachedConnector:null,currentChainId:null,idToken:null}),ue(this,"loginMode",jg.NO_MODAL),!e.clientId)throw Fe.invalidParams("Please provide a valid clientId in constructor");e.enableLogging?$e.enableAll():$e.setLevel("error"),e.storageType||(e.storageType="local"),this.coreOptions=e,this.storage=this.getStorageMethod(),this.analytics=new nue,this.analytics.setGlobalProperties({integration_type:K7.NATIVE_SDK}),this.loadState(n),this.state.idToken&&this.coreOptions.ssr&&(this.status=Ue.CONNECTED)}get currentChain(){var e;if(this.currentChainId)return(e=this.coreOptions.chains)===null||e===void 0?void 0:e.find(n=>n.chainId===this.currentChainId)}get connected(){return!!this.connectedConnector}get provider(){return this.status!==Ue.NOT_READY&&this.commonJRPCProvider?this.commonJRPCProvider:null}get connectedConnectorName(){return this.state.connectedConnectorName}get cachedConnector(){return this.state.cachedConnector}get currentChainId(){var e;return this.state.currentChainId||this.coreOptions.defaultChainId||((e=this.coreOptions.chains)===null||e===void 0||(e=e[0])===null||e===void 0?void 0:e.chainId)||null}get connectedConnector(){var e;return this.getConnector(this.connectedConnectorName,(e=this.currentChain)===null||e===void 0?void 0:e.chainNamespace)}get accountAbstractionProvider(){return this.aaProvider}set provider(e){throw new Error("Not implemented")}async init(e){const n=Date.now();this.analytics.init(),this.analytics.identify(this.coreOptions.clientId,{web3auth_client_id:this.coreOptions.clientId,web3auth_network:this.coreOptions.web3AuthNetwork}),this.analytics.setGlobalProperties({dapp_url:window.location.origin,sdk_name:q7.WEB_NO_MODAL,sdk_version:Y7,web3auth_client_id:this.coreOptions.clientId,web3auth_network:this.coreOptions.web3AuthNetwork});let r={};try{var i,o;const{signal:a}=e||{};let c;try{var s;c=await V7({clientId:this.coreOptions.clientId,web3AuthNetwork:this.coreOptions.web3AuthNetwork,aaProvider:(s=this.coreOptions.accountAbstractionConfig)===null||s===void 0?void 0:s.smartAccountType,authBuildEnv:this.coreOptions.authBuildEnv})}catch(u){const d=await vC(u);throw $e.error("Failed to fetch project configurations",d),Fe.notReady("failed to fetch project configurations",d)}this.initAccountAbstractionConfig(c),this.initChainsConfig(c),this.initCachedConnectorAndChainId(),this.initUIConfig(c),this.initWalletServicesConfig(c),this.analytics.setGlobalProperties({team_id:c.teamId}),r=this.getInitializationTrackData(),await Za(()=>this.setupCommonJRPCProvider(),a),this.on(qe.CONNECTORS_UPDATED,async({connectors:u})=>{await Za(()=>Promise.all(u.map(this.setupConnector.bind(this))),a,()=>{var f;((f=this.connectors)===null||f===void 0?void 0:f.length)>0&&this.cleanup()}),this.status===Ue.NOT_READY&&(this.status=Ue.READY,this.emit(qe.READY))}),await Za(()=>this.loadConnectors({projectConfig:c}),a),await Za(()=>this.initPlugins(),a);const l=this.getConnector(Ye.AUTH);r=ae(ae({},r),{},{connectors:this.connectors.map(u=>u.name),plugins:Object.keys(this.plugins),auth_ux_mode:(l==null||(i=l.authInstance)===null||i===void 0||(i=i.options)===null||i===void 0?void 0:i.uxMode)||((o=this.coreOptions.uiConfig)===null||o===void 0?void 0:o.uxMode)}),this.analytics.track(Wt.SDK_INITIALIZATION_COMPLETED,ae(ae({},r),{},{duration:Date.now()-n}))}catch(a){if(a instanceof DOMException&&a.name==="AbortError")return;throw this.analytics.track(Wt.SDK_INITIALIZATION_FAILED,ae(ae(ae({},r),Pf(a)),{},{duration:Date.now()-n})),$e.error("Failed to initialize modal",a),a}}getConnector(e,n){return this.connectors.find(r=>r.name!==e?!1:n?r.connectorNamespace===Zl.MULTICHAIN?!0:r.connectorNamespace===n:!0)||null}clearCache(){this.setState({connectedConnectorName:null,cachedConnector:null,currentChainId:null,idToken:null})}async cleanup(){for(const e of this.connectors)e.cleanup&&await e.cleanup()}async switchChain(e){var n;if(e.chainId===((n=this.currentChain)===null||n===void 0?void 0:n.chainId))return;if(!this.coreOptions.chains.find(i=>i.chainId===e.chainId))throw Fe.invalidParams("Invalid chainId");if(this.status===Ue.CONNECTED&&this.connectedConnector){await this.connectedConnector.switchChain(e);return}if(this.commonJRPCProvider){await this.commonJRPCProvider.switchChain(e);return}throw Fe.notReady("No wallet is ready")}async connectTo(e,n,r){this.loginMode=r||"no-modal";const i=this.getConnector(e,n==null?void 0:n.chainNamespace);if(!i||!this.commonJRPCProvider)throw Fe.notFound(`Please add wallet connector for ${e} wallet, before connecting`);const o=this.getInitialChainIdForConnector(i),s=ae(ae({},n),{},{chainId:o.chainId}),a=Date.now();let c;if(e===Ye.AUTH){var l;const u=n,d=i.getOAuthProviderConfig({authConnection:u.authConnection,authConnectionId:u.authConnectionId,groupedAuthConnectionId:u.groupedAuthConnectionId});c={connector:e,connector_type:i.type,chain_id:Vf(o),chain_name:o.displayName,chain_namespace:o.chainNamespace,auth_connection:u.authConnection,auth_connection_id:u.authConnectionId,group_auth_connection_id:u.groupedAuthConnectionId,mfa_level:u.mfaLevel,wallet_key_enabled:u.getWalletKey,extra_login_options_enabled:!!u.extraLoginOptions,dapp_share_enabled:!!u.dappShare,curve:u.curve,auth_dapp_url:u.dappUrl,is_sfa:!!u.idToken,is_default_auth_connection:d==null?void 0:d.isDefault,auth_ux_mode:(l=i.authInstance)===null||l===void 0||(l=l.options)===null||l===void 0?void 0:l.uxMode}}else c={connector:e,connector_type:i.type,is_injected:i.isInjected,chain_id:Vf(o),chain_name:o.displayName,chain_namespace:o.chainNamespace};return this.analytics.track(Wt.CONNECTION_STARTED,c),new Promise((u,d)=>{const f=()=>{this.off(qe.CONNECTED,h),this.off(qe.ERRORED,g)},h=async()=>{const p=await i.getUserInfo();this.analytics.track(Wt.CONNECTION_COMPLETED,ae(ae({},c),{},{is_mfa_enabled:p==null?void 0:p.isMfaEnabled,duration:Date.now()-a})),f(),u(this.provider)},g=async p=>{this.analytics.track(Wt.CONNECTION_FAILED,ae(ae(ae({},c),Pf(p)),{},{duration:Date.now()-a})),f(),d(p)};this.once(qe.CONNECTED,h),this.once(qe.ERRORED,g),i.connect(s),this.setCurrentChain(o.chainId)})}async logout(e={cleanup:!1}){if(this.status!==Ue.CONNECTED||!this.connectedConnector)throw ot.notConnectedError("No wallet is connected");await this.connectedConnector.disconnect(e)}async getUserInfo(){var e;if($e.debug("Getting user info",this.status,(e=this.connectedConnector)===null||e===void 0?void 0:e.name),this.status!==Ue.CONNECTED||!this.connectedConnector)throw ot.notConnectedError("No wallet is connected");return this.connectedConnector.getUserInfo()}async enableMFA(e){var n;if(this.status!==Ue.CONNECTED||!this.connectedConnector)throw ot.notConnectedError("No wallet is connected");if(this.connectedConnector.name!==Ye.AUTH)throw ot.unsupportedOperation("EnableMFA is not supported for this connector.");const r=this.connectedConnector,i={connector:this.connectedConnector.name,auth_ux_mode:(n=r.authInstance)===null||n===void 0||(n=n.options)===null||n===void 0?void 0:n.uxMode};try{this.analytics.track(Wt.MFA_ENABLEMENT_STARTED,i),await this.connectedConnector.enableMFA(e)}catch(o){throw this.analytics.track(Wt.MFA_ENABLEMENT_FAILED,ae(ae({},i),Pf(o))),o}}async manageMFA(e){var n;if(this.status!==Ue.CONNECTED||!this.connectedConnector)throw ot.notConnectedError("No wallet is connected");if(this.connectedConnector.name!==Ye.AUTH)throw ot.unsupportedOperation("ManageMFA is not supported for this connector.");const r=this.connectedConnector,i={connector:this.connectedConnector.name,auth_ux_mode:(n=r.authInstance)===null||n===void 0||(n=n.options)===null||n===void 0?void 0:n.uxMode};try{this.analytics.track(Wt.MFA_MANAGEMENT_SELECTED,i),await this.connectedConnector.manageMFA(e)}catch(o){throw this.analytics.track(Wt.MFA_MANAGEMENT_FAILED,ae(ae({},i),Pf(o))),o}}async getIdentityToken(){if(this.status!==Ue.CONNECTED||!this.connectedConnector)throw ot.notConnectedError("No wallet is connected");const e={connector:this.connectedConnector.name};try{this.analytics.track(Wt.IDENTITY_TOKEN_STARTED,e);const n=await this.connectedConnector.getIdentityToken();return this.analytics.track(Wt.IDENTITY_TOKEN_COMPLETED,e),n}catch(n){throw this.analytics.track(Wt.IDENTITY_TOKEN_FAILED,ae(ae({},e),Pf(n))),n}}getPlugin(e){return this.plugins[e]||null}setAnalyticsProperties(e){this.analytics.setGlobalProperties(e)}initChainsConfig(e){const n=new Map,r=[...e.chains||[],...this.coreOptions.chains||[]];for(const s of r){const a=n.get(s.chainId);a?n.set(s.chainId,ae(ae({},a),s)):n.set(s.chainId,s)}if(this.coreOptions.chains=Array.from(n.values()),this.coreOptions.chains.length===0)throw $e.error("chain info not found. Please configure chains on dashboard at https://dashboard.web3auth.io"),Fe.invalidParams("Please configure chains on dashboard at https://dashboard.web3auth.io");const i=new Set(Object.values(mt));for(const s of this.coreOptions.chains){if(!s.chainNamespace||!i.has(s.chainNamespace))throw $e.error(`Please provide a valid chainNamespace in chains for chain ${s.chainId}`),Fe.invalidParams(`Please provide a valid chainNamespace in chains for chain ${s.chainId}`);if(s.chainNamespace!==mt.OTHER&&!VE(s.chainId))throw $e.error(`Please provide a valid chainId in chains for chain ${s.chainId}`),Fe.invalidParams(`Please provide a valid chainId as hex string in chains for chain ${s.chainId}`);if(s.chainNamespace!==mt.OTHER)try{new URL(s.rpcTarget)}catch(a){throw $e.error(`Please provide a valid rpcTarget in chains for chain ${s.chainId}`,a),Fe.invalidParams(`Please provide a valid rpcTarget in chains for chain ${s.chainId}`)}}if(this.coreOptions.accountAbstractionConfig){if(this.coreOptions.accountAbstractionConfig.chains.length===0)throw $e.error("Please configure chains for smart accounts on dashboard at https://dashboard.web3auth.io"),Fe.invalidParams("Please configure chains for smart accounts on dashboard at https://dashboard.web3auth.io");for(const s of this.coreOptions.accountAbstractionConfig.chains){if(!VE(s.chainId))throw $e.error(`Please provide a valid chainId in accountAbstractionConfig.chains for chain ${s.chainId}`),Fe.invalidParams(`Please provide a valid chainId in accountAbstractionConfig.chains for chain ${s.chainId}`);try{var o;new URL((o=s.bundlerConfig)===null||o===void 0?void 0:o.url)}catch(a){throw $e.error(`Please provide a valid bundlerConfig.url in accountAbstractionConfig.chains for chain ${s.chainId}`,a),Fe.invalidParams(`Please provide a valid bundlerConfig.url in accountAbstractionConfig.chains for chain ${s.chainId}`)}if(!n.has(s.chainId))throw $e.error(`Please provide chain config for AA chain in accountAbstractionConfig.chains for chain ${s.chainId}`),Fe.invalidParams(`Please provide chain config for AA chain in accountAbstractionConfig.chains for chain ${s.chainId}`)}}}initAccountAbstractionConfig(e){var n;if(!!!(this.coreOptions.accountAbstractionConfig||e!=null&&e.smartAccounts))return;const i=(e==null?void 0:e.smartAccounts)||{},{walletScope:o}=i,s=Lb(i,xpe),a=new Map,c=[...(s==null?void 0:s.chains)||[],...((n=this.coreOptions.accountAbstractionConfig)===null||n===void 0?void 0:n.chains)||[]];for(const l of c){const u=a.get(l.chainId);u?a.set(l.chainId,ae(ae({},u),l)):a.set(l.chainId,l)}this.coreOptions.accountAbstractionConfig=ae(ae({},ln(s||{},this.coreOptions.accountAbstractionConfig||{})),{},{chains:Array.from(a.values())}),this.coreOptions.useAAWithExternalWallet===void 0&&(this.coreOptions.useAAWithExternalWallet=o===Use.ALL)}initUIConfig(e){this.coreOptions.uiConfig=ln.all([{mode:"light",uxMode:Pr.POPUP},Zee(e.whitelabel||{}),this.coreOptions.uiConfig||{}])}initCachedConnectorAndChainId(){const e=this.state.currentChainId,n=e&&this.coreOptions.chains.some(i=>i.chainId===e);if(this.coreOptions.defaultChainId&&!VE(this.coreOptions.defaultChainId))throw Fe.invalidParams("Please provide a valid defaultChainId in constructor");const r=n?e:this.coreOptions.defaultChainId||this.coreOptions.chains[0].chainId;this.setState({currentChainId:r})}initWalletServicesConfig(e){var n,r,i,o,s,a;const{enableKeyExport:c,walletUi:l}=e,{enablePortfolioWidget:u=!1,enableTokenDisplay:d=!0,enableNftDisplay:f=!0,enableWalletConnect:h=!0,enableBuyButton:g=!0,enableSendButton:p=!0,enableSwapButton:S=!0,enableReceiveButton:y=!0,enableShowAllTokensButton:b=!0,enableConfirmationModal:_=!1,portfolioWidgetPosition:N=Sse.BOTTOM_LEFT,defaultPortfolio:O="token"}=l||{},$={showWidgetButton:u,hideNftDisplay:!f,hideTokenDisplay:!d,hideTransfers:!p,hideTopup:!g,hideReceive:!y,hideSwap:!S,hideShowAllTokens:!b,hideWalletConnect:!h,buttonPosition:N,defaultPortfolio:O},j=ln.all([$,((n=this.coreOptions.walletServicesConfig)===null||n===void 0?void 0:n.whiteLabel)||{}]),k=(r=(i=this.coreOptions.walletServicesConfig)===null||i===void 0?void 0:i.confirmationStrategy)!==null&&r!==void 0?r:_?CP.MODAL:CP.AUTO_APPROVE,T=(o=(s=(a=this.coreOptions.walletServicesConfig)===null||a===void 0?void 0:a.enableKeyExport)!==null&&s!==void 0?s:c)!==null&&o!==void 0?o:!0;this.coreOptions.walletServicesConfig=ae(ae({},this.coreOptions.walletServicesConfig),{},{confirmationStrategy:k,whiteLabel:j,enableKeyExport:T})}getInitializationTrackData(){try{var e,n,r,i,o;const s=(e=this.coreOptions.chains)===null||e===void 0?void 0:e.find(c=>c.chainId===this.coreOptions.defaultChainId),a=Array.from(new Set((n=this.coreOptions.chains)===null||n===void 0?void 0:n.map(c=>oS(c.rpcTarget)))).filter(Boolean);return ae(ae(ae({chain_ids:(r=this.coreOptions.chains)===null||r===void 0?void 0:r.map(c=>Vf(c)),chain_names:(i=this.coreOptions.chains)===null||i===void 0?void 0:i.map(c=>c.displayName),chain_rpc_targets:a,default_chain_id:s?Vf(s):void 0,default_chain_name:s==null?void 0:s.displayName,logging_enabled:this.coreOptions.enableLogging,storage_type:this.coreOptions.storageType,session_time:this.coreOptions.sessionTime,sfa_key_enabled:this.coreOptions.useSFAKey,mipd_enabled:this.coreOptions.multiInjectedProviderDiscovery,private_key_provider_enabled:!!this.coreOptions.privateKeyProvider,ssr_enabled:this.coreOptions.ssr,auth_build_env:this.coreOptions.authBuildEnv,auth_ux_mode:(o=this.coreOptions.uiConfig)===null||o===void 0?void 0:o.uxMode,auth_mfa_level:this.coreOptions.mfaLevel,auth_mfa_settings:Object.keys(this.coreOptions.mfaSettings||{}),aa_enabled_for_external_wallets:this.coreOptions.accountAbstractionConfig?this.coreOptions.useAAWithExternalWallet:void 0},G7(this.coreOptions.uiConfig)),sue(this.coreOptions.accountAbstractionConfig)),aue(this.coreOptions.walletServicesConfig))}catch(s){return $e.error("Failed to get initialization track data",s),{}}}async setupCommonJRPCProvider(){this.commonJRPCProvider=await hA.getProviderInstance({chain:this.currentChain,chains:this.coreOptions.chains}),this.commonJRPCProvider.on("chainChanged",e=>this.setCurrentChain(e))}async setupConnector(e){this.subscribeToConnectorEvents(e);try{const n=this.getInitialChainIdForConnector(e),r=this.checkIfAutoConnect(e);await e.init({autoConnect:r,chainId:n.chainId})}catch(n){$e.error(n,e.name)}}async loadConnectors({projectConfig:e,modalMode:n}){var r;const i=[...this.coreOptions.connectors||[],Eue()],o={projectConfig:e,coreOptions:this.coreOptions,analytics:this.analytics},s=!!e.externalWalletAuth,a=s&&((r=this.coreOptions.multiInjectedProviderDiscovery)!==null&&r!==void 0?r:!0),c=new Set(this.coreOptions.chains.map(u=>u.chainNamespace));if(a&&GE()){if(c.has(mt.SOLANA)){const{createSolanaMipd:u,hasSolanaWalletStandardFeatures:d,walletStandardConnector:f}=await Lt(async()=>{const{createSolanaMipd:g,hasSolanaWalletStandardFeatures:p,walletStandardConnector:S}=await import("./index-CF_u2lKC.js");return{createSolanaMipd:g,hasSolanaWalletStandardFeatures:p,walletStandardConnector:S}},__vite__mapDeps([3,4])),h=u();h.on("register",async(...g)=>{const p=g.filter(d).map(S=>f(S)(o));this.setConnectors(p)}),i.push(...h.get().filter(g=>d(g)).map(f))}if(c.has(mt.EIP155)){const{createMipd:u,injectedEvmConnector:d}=await Lt(async()=>{const{createMipd:h,injectedEvmConnector:g}=await import("./index-BImE9P9o.js");return{createMipd:h,injectedEvmConnector:g}},[]),f=u();f.subscribe(h=>{const g=h.map(p=>d(p)(o));this.setConnectors(g)}),i.push(...f.getProviders().map(d))}}if(GE()&&(c.has(mt.EIP155)||c.has(mt.SOLANA))&&i.push(vpe(n?{headless:!0}:void 0)),GE()&&s&&(c.has(mt.SOLANA)||c.has(mt.EIP155))){const{walletConnectV2Connector:u}=await Lt(async()=>{const{walletConnectV2Connector:d}=await import("./index-BbW0vY6A.js");return{walletConnectV2Connector:d}},__vite__mapDeps([5,4]));i.push(u())}const l=i.map(u=>u(o));this.setConnectors(l)}async initPlugins(){const{chains:e,plugins:n}=this.coreOptions,r=n||[];e.some(o=>o.chainNamespace===mt.EIP155||o.chainNamespace===mt.SOLANA)&&r.push(Epe());for(const o of r){const s=o();this.plugins[s.name]||(this.plugins[s.name]=s)}}setConnectors(e){const n=o=>`${o.connectorNamespace}-${o.name}`,r=new Set(this.connectors.map(n)),i=e.map(o=>{const s=n(o);return r.has(s)?null:(r.add(s),o)}).filter(o=>o!==null);i.length>0&&(this.connectors=[...this.connectors,...i],this.emit(qe.CONNECTORS_UPDATED,{connectors:i}))}subscribeToConnectorEvents(e){e.on(qe.CONNECTED,async n=>{var r,i;if(!this.commonJRPCProvider)throw Fe.notFound("CommonJrpcProvider not found");const{provider:o}=n;if(this.coreOptions.ssr)try{const u=await e.getIdentityToken();if(!u.idToken)throw ot.connectionError("No idToken found");this.setState({idToken:u.idToken})}catch(u){$e.error(u),this.status=Ue.ERRORED,this.emit(qe.ERRORED,u,this.loginMode);return}let s=o.provider||o;const{accountAbstractionConfig:a}=this.coreOptions;if(((r=this.currentChain)===null||r===void 0?void 0:r.chainNamespace)===mt.EIP155&&(a==null||(i=a.chains)===null||i===void 0?void 0:i.some(u=>{var d;return u.chainId===((d=this.currentChain)===null||d===void 0?void 0:d.chainId)}))&&(n.connector===Ye.AUTH||this.coreOptions.useAAWithExternalWallet)){var l;const{accountAbstractionProvider:u,toEoaProvider:d}=await Lt(async()=>{const{accountAbstractionProvider:p,toEoaProvider:S}=await import("./index-C8U3JKw_.js");return{accountAbstractionProvider:p,toEoaProvider:S}},[]),f=n.connector===Ye.AUTH?await d(o):o,h=new Set((a==null||(l=a.chains)===null||l===void 0?void 0:l.map(p=>p.chainId))||[]),g=await u({accountAbstractionConfig:a,provider:f,chain:this.currentChain,chains:this.coreOptions.chains.filter(p=>h.has(p.chainId)),useProviderAsTransport:n.connector===Ye.AUTH});this.aaProvider=g,n.connector!==Ye.AUTH&&this.coreOptions.useAAWithExternalWallet&&(s=this.aaProvider)}this.commonJRPCProvider.updateProviderEngineProxy(s),this.setState({connectedConnectorName:n.connector}),this.cacheWallet(n.connector),this.status=Ue.CONNECTED,$e.debug("connected",this.status,this.connectedConnectorName),this.connectToPlugins(n),this.emit(qe.CONNECTED,ae(ae({},n),{},{loginMode:this.loginMode}))}),e.on(qe.DISCONNECTED,async()=>{this.commonJRPCProvider.removeAllListeners(),this.setupCommonJRPCProvider(),this.status=Ue.READY;const n=this.state.cachedConnector;this.connectedConnectorName===n&&this.clearCache(),$e.debug("disconnected",this.status,this.connectedConnectorName),await Promise.all(Object.values(this.plugins).map(async r=>{if(r.SUPPORTED_CONNECTORS.includes(e.name)&&r.status===Bs.CONNECTED)return r.disconnect().catch(i=>{i.code!==5211&&$e.error(i)})})),this.setState({connectedConnectorName:null}),this.emit(qe.DISCONNECTED)}),e.on(qe.CONNECTING,n=>{this.status=Ue.CONNECTING,this.emit(qe.CONNECTING,n),$e.debug("connecting",this.status,this.connectedConnectorName)}),e.on(qe.ERRORED,n=>{this.status=Ue.ERRORED,this.clearCache(),this.emit(qe.ERRORED,n,this.loginMode),$e.debug("errored",this.status,this.connectedConnectorName)}),e.on(qe.REHYDRATION_ERROR,n=>{this.status=Ue.READY,this.clearCache(),this.emit(qe.REHYDRATION_ERROR,n)}),e.on(qe.CONNECTOR_DATA_UPDATED,n=>{$e.debug("connector data updated",n),this.emit(qe.CONNECTOR_DATA_UPDATED,n)}),e.on(qe.CACHE_CLEAR,n=>{$e.debug("connector cache clear",n),this.clearCache()}),e.on(qe.MFA_ENABLED,n=>{var r;$e.debug("mfa enabled",n);const i=this.connectedConnector;this.analytics.track(Wt.MFA_ENABLEMENT_COMPLETED,{connector:this.connectedConnector.name,auth_ux_mode:(r=i.authInstance)===null||r===void 0||(r=r.options)===null||r===void 0?void 0:r.uxMode,is_mfa_enabled:n}),this.emit(qe.MFA_ENABLED,n)})}checkInitRequirements(){if(this.status===Ue.READY)throw Fe.notReady("Connector is already initialized")}checkIfAutoConnect(e){var n;let r=this.cachedConnector===e.name;return r&&(n=this.currentChain)!==null&&n!==void 0&&n.chainNamespace&&(e.connectorNamespace===Zl.MULTICHAIN?r=!0:r=e.connectorNamespace===this.currentChain.chainNamespace),r}getInitialChainIdForConnector(e){var n;let r=this.currentChain;if(((n=r)===null||n===void 0?void 0:n.chainNamespace)!==e.connectorNamespace&&e.connectorNamespace!==Zl.MULTICHAIN&&(r=this.coreOptions.chains.find(i=>i.chainNamespace===e.connectorNamespace),!r))throw Fe.invalidParams(`No chain found for ${e.connectorNamespace}`);return r}cacheWallet(e){this.setState({cachedConnector:e})}setCurrentChain(e){if(e===this.currentChainId)return;if(!this.coreOptions.chains.find(r=>r.chainId===e))throw Fe.invalidParams(`Invalid chainId: ${e}`);this.setState({currentChainId:e})}connectToPlugins(e){Object.values(this.plugins).map(async n=>{try{var r;if(!n.SUPPORTED_CONNECTORS.includes(e.connector)||n.pluginNamespace!==rz.MULTICHAIN&&n.pluginNamespace!==((r=this.currentChain)===null||r===void 0?void 0:r.chainNamespace)||n.status===Bs.CONNECTED)return;await n.initWithWeb3Auth(this,this.coreOptions.uiConfig,this.analytics),await n.connect()}catch(i){if(i.code===5211)return;$e.error(i)}})}setState(e){this.state=ae(ae({},this.state),e),this.storage.setItem(PP,JSON.stringify(this.state))}loadState(e){if(e){this.state=e;return}const n=this.storage.getItem(PP);n&&(this.state=Hse(n))}getStorageMethod(){return this.coreOptions.ssr||this.coreOptions.storageType==="cookies"?Wse({expiry:this.coreOptions.sessionTime}):this.coreOptions.storageType==="session"&&nm("sessionStorage")?window.sessionStorage:this.coreOptions.storageType==="local"&&nm("localStorage")?window.localStorage:new tD}}function _pe(t){if(typeof window>"u")return;const e=n=>t(n.detail);return window.addEventListener("eip6963:announceProvider",e),window.dispatchEvent(new CustomEvent("eip6963:requestProvider")),()=>window.removeEventListener("eip6963:announceProvider",e)}function Cpe(){const t=new Set;let e=[];const n=()=>_pe(i=>{e.some(({info:o})=>o.uuid===i.info.uuid)||(e=[...e,i],t.forEach(o=>o(e,{added:[i]})))});let r=n();return{_listeners(){return t},clear(){t.forEach(i=>i([],{removed:[...e]})),e=[]},destroy(){this.clear(),t.clear(),r==null||r()},findProvider({rdns:i}){return e.find(o=>o.info.rdns===i)},getProviders(){return e},reset(){this.clear(),r==null||r(),r=n()},subscribe(i,{emitImmediately:o}={}){return t.add(i),o&&i(e,{added:e}),()=>t.delete(i)}}}var iz={exports:{}};(function(t){var e=Object.prototype.hasOwnProperty,n="~";function r(){}Object.create&&(r.prototype=Object.create(null),new r().__proto__||(n=!1));function i(c,l,u){this.fn=c,this.context=l,this.once=u||!1}function o(c,l,u,d,f){if(typeof u!="function")throw new TypeError("The listener must be a function");var h=new i(u,d||c,f),g=n?n+l:l;return c._events[g]?c._events[g].fn?c._events[g]=[c._events[g],h]:c._events[g].push(h):(c._events[g]=h,c._eventsCount++),c}function s(c,l){--c._eventsCount===0?c._events=new r:delete c._events[l]}function a(){this._events=new r,this._eventsCount=0}a.prototype.eventNames=function(){var l=[],u,d;if(this._eventsCount===0)return l;for(d in u=this._events)e.call(u,d)&&l.push(n?d.slice(1):d);return Object.getOwnPropertySymbols?l.concat(Object.getOwnPropertySymbols(u)):l},a.prototype.listeners=function(l){var u=n?n+l:l,d=this._events[u];if(!d)return[];if(d.fn)return[d.fn];for(var f=0,h=d.length,g=new Array(h);f<h;f++)g[f]=d[f].fn;return g},a.prototype.listenerCount=function(l){var u=n?n+l:l,d=this._events[u];return d?d.fn?1:d.length:0},a.prototype.emit=function(l,u,d,f,h,g){var p=n?n+l:l;if(!this._events[p])return!1;var S=this._events[p],y=arguments.length,b,_;if(S.fn){switch(S.once&&this.removeListener(l,S.fn,void 0,!0),y){case 1:return S.fn.call(S.context),!0;case 2:return S.fn.call(S.context,u),!0;case 3:return S.fn.call(S.context,u,d),!0;case 4:return S.fn.call(S.context,u,d,f),!0;case 5:return S.fn.call(S.context,u,d,f,h),!0;case 6:return S.fn.call(S.context,u,d,f,h,g),!0}for(_=1,b=new Array(y-1);_<y;_++)b[_-1]=arguments[_];S.fn.apply(S.context,b)}else{var N=S.length,O;for(_=0;_<N;_++)switch(S[_].once&&this.removeListener(l,S[_].fn,void 0,!0),y){case 1:S[_].fn.call(S[_].context);break;case 2:S[_].fn.call(S[_].context,u);break;case 3:S[_].fn.call(S[_].context,u,d);break;case 4:S[_].fn.call(S[_].context,u,d,f);break;default:if(!b)for(O=1,b=new Array(y-1);O<y;O++)b[O-1]=arguments[O];S[_].fn.apply(S[_].context,b)}}return!0},a.prototype.on=function(l,u,d){return o(this,l,u,d,!1)},a.prototype.once=function(l,u,d){return o(this,l,u,d,!0)},a.prototype.removeListener=function(l,u,d,f){var h=n?n+l:l;if(!this._events[h])return this;if(!u)return s(this,h),this;var g=this._events[h];if(g.fn)g.fn===u&&(!f||g.once)&&(!d||g.context===d)&&s(this,h);else{for(var p=0,S=[],y=g.length;p<y;p++)(g[p].fn!==u||f&&!g[p].once||d&&g[p].context!==d)&&S.push(g[p]);S.length?this._events[h]=S.length===1?S[0]:S:s(this,h)}return this},a.prototype.removeAllListeners=function(l){var u;return l?(u=n?n+l:l,this._events[u]&&s(this,u)):(this._events=new r,this._eventsCount=0),this},a.prototype.off=a.prototype.removeListener,a.prototype.addListener=a.prototype.on,a.prefixed=n,a.EventEmitter=a,t.exports=a})(iz);var Ape=iz.exports;const Ipe=Bo(Ape),kpe="1.1.0";let ki=class WS extends Error{constructor(e,n={}){var s;const r=n.cause instanceof WS?n.cause.details:(s=n.cause)!=null&&s.message?n.cause.message:n.details,i=n.cause instanceof WS&&n.cause.docsPath||n.docsPath,o=[e||"An error occurred.","",...n.metaMessages?[...n.metaMessages,""]:[],...i?[`Docs: https://abitype.dev${i}`]:[],...r?[`Details: ${r}`]:[],`Version: abitype@${kpe}`].join(`
`);super(o),Object.defineProperty(this,"details",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"docsPath",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"metaMessages",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"shortMessage",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiTypeError"}),n.cause&&(this.cause=n.cause),this.details=r,this.docsPath=i,this.metaMessages=n.metaMessages,this.shortMessage=e}};function Bc(t,e){const n=t.exec(e);return n==null?void 0:n.groups}const oz=/^bytes([1-9]|1[0-9]|2[0-9]|3[0-2])?$/,sz=/^u?int(8|16|24|32|40|48|56|64|72|80|88|96|104|112|120|128|136|144|152|160|168|176|184|192|200|208|216|224|232|240|248|256)?$/,az=/^\(.+?\).*?$/,cM=/^tuple(?<array>(\[(\d*)\])*)$/;function KS(t){let e=t.type;if(cM.test(t.type)&&"components"in t){e="(";const n=t.components.length;for(let i=0;i<n;i++){const o=t.components[i];e+=KS(o),i<n-1&&(e+=", ")}const r=Bc(cM,t.type);return e+=`)${(r==null?void 0:r.array)??""}`,KS({...t,type:e})}return"indexed"in t&&t.indexed&&(e=`${e} indexed`),t.name?`${e} ${t.name}`:e}function Mf(t){let e="";const n=t.length;for(let r=0;r<n;r++){const i=t[r];e+=KS(i),r!==n-1&&(e+=", ")}return e}function tb(t){var e;return t.type==="function"?`function ${t.name}(${Mf(t.inputs)})${t.stateMutability&&t.stateMutability!=="nonpayable"?` ${t.stateMutability}`:""}${(e=t.outputs)!=null&&e.length?` returns (${Mf(t.outputs)})`:""}`:t.type==="event"?`event ${t.name}(${Mf(t.inputs)})`:t.type==="error"?`error ${t.name}(${Mf(t.inputs)})`:t.type==="constructor"?`constructor(${Mf(t.inputs)})${t.stateMutability==="payable"?" payable":""}`:t.type==="fallback"?`fallback() external${t.stateMutability==="payable"?" payable":""}`:"receive() external payable"}const cz=/^error (?<name>[a-zA-Z$_][a-zA-Z0-9$_]*)\((?<parameters>.*?)\)$/;function Ppe(t){return cz.test(t)}function Ope(t){return Bc(cz,t)}const lz=/^event (?<name>[a-zA-Z$_][a-zA-Z0-9$_]*)\((?<parameters>.*?)\)$/;function Tpe(t){return lz.test(t)}function Mpe(t){return Bc(lz,t)}const uz=/^function (?<name>[a-zA-Z$_][a-zA-Z0-9$_]*)\((?<parameters>.*?)\)(?: (?<scope>external|public{1}))?(?: (?<stateMutability>pure|view|nonpayable|payable{1}))?(?: returns\s?\((?<returns>.*?)\))?$/;function Npe(t){return uz.test(t)}function Rpe(t){return Bc(uz,t)}const dz=/^struct (?<name>[a-zA-Z$_][a-zA-Z0-9$_]*) \{(?<properties>.*?)\}$/;function F2(t){return dz.test(t)}function Lpe(t){return Bc(dz,t)}const fz=/^constructor\((?<parameters>.*?)\)(?:\s(?<stateMutability>payable{1}))?$/;function $pe(t){return fz.test(t)}function Bpe(t){return Bc(fz,t)}const hz=/^fallback\(\) external(?:\s(?<stateMutability>payable{1}))?$/;function Dpe(t){return hz.test(t)}function jpe(t){return Bc(hz,t)}const Fpe=/^receive\(\) external payable$/;function Upe(t){return Fpe.test(t)}const lM=new Set(["memory","indexed","storage","calldata"]),zpe=new Set(["indexed"]),qS=new Set(["calldata","memory","storage"]);class Hpe extends ki{constructor({signature:e}){super("Failed to parse ABI item.",{details:`parseAbiItem(${JSON.stringify(e,null,2)})`,docsPath:"/api/human#parseabiitem-1"}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidAbiItemError"})}}class Wpe extends ki{constructor({type:e}){super("Unknown type.",{metaMessages:[`Type "${e}" is not a valid ABI type. Perhaps you forgot to include a struct signature?`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"UnknownTypeError"})}}class Kpe extends ki{constructor({type:e}){super("Unknown type.",{metaMessages:[`Type "${e}" is not a valid ABI type.`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"UnknownSolidityTypeError"})}}class qpe extends ki{constructor({params:e}){super("Failed to parse ABI parameters.",{details:`parseAbiParameters(${JSON.stringify(e,null,2)})`,docsPath:"/api/human#parseabiparameters-1"}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidAbiParametersError"})}}class Vpe extends ki{constructor({param:e}){super("Invalid ABI parameter.",{details:e}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidParameterError"})}}class Gpe extends ki{constructor({param:e,name:n}){super("Invalid ABI parameter.",{details:e,metaMessages:[`"${n}" is a protected Solidity keyword. More info: https://docs.soliditylang.org/en/latest/cheatsheet.html`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"SolidityProtectedKeywordError"})}}class Ype extends ki{constructor({param:e,type:n,modifier:r}){super("Invalid ABI parameter.",{details:e,metaMessages:[`Modifier "${r}" not allowed${n?` in "${n}" type`:""}.`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidModifierError"})}}class Jpe extends ki{constructor({param:e,type:n,modifier:r}){super("Invalid ABI parameter.",{details:e,metaMessages:[`Modifier "${r}" not allowed${n?` in "${n}" type`:""}.`,`Data location can only be specified for array, struct, or mapping types, but "${r}" was given.`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidFunctionModifierError"})}}class Zpe extends ki{constructor({abiParameter:e}){super("Invalid ABI parameter.",{details:JSON.stringify(e,null,2),metaMessages:["ABI parameter type is invalid."]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidAbiTypeParameterError"})}}class M0 extends ki{constructor({signature:e,type:n}){super(`Invalid ${n} signature.`,{details:e}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidSignatureError"})}}class Qpe extends ki{constructor({signature:e}){super("Unknown signature.",{details:e}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"UnknownSignatureError"})}}class Xpe extends ki{constructor({signature:e}){super("Invalid struct signature.",{details:e,metaMessages:["No properties exist."]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidStructSignatureError"})}}class ege extends ki{constructor({type:e}){super("Circular reference detected.",{metaMessages:[`Struct "${e}" is a circular reference.`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"CircularReferenceError"})}}class tge extends ki{constructor({current:e,depth:n}){super("Unbalanced parentheses.",{metaMessages:[`"${e.trim()}" has too many ${n>0?"opening":"closing"} parentheses.`],details:`Depth "${n}"`}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidParenthesisError"})}}function nge(t,e,n){let r="";if(n)for(const i of Object.entries(n)){if(!i)continue;let o="";for(const s of i[1])o+=`[${s.type}${s.name?`:${s.name}`:""}]`;r+=`(${i[0]}{${o}})`}return e?`${e}:${t}${r}`:t}const B6=new Map([["address",{type:"address"}],["bool",{type:"bool"}],["bytes",{type:"bytes"}],["bytes32",{type:"bytes32"}],["int",{type:"int256"}],["int256",{type:"int256"}],["string",{type:"string"}],["uint",{type:"uint256"}],["uint8",{type:"uint8"}],["uint16",{type:"uint16"}],["uint24",{type:"uint24"}],["uint32",{type:"uint32"}],["uint64",{type:"uint64"}],["uint96",{type:"uint96"}],["uint112",{type:"uint112"}],["uint160",{type:"uint160"}],["uint192",{type:"uint192"}],["uint256",{type:"uint256"}],["address owner",{type:"address",name:"owner"}],["address to",{type:"address",name:"to"}],["bool approved",{type:"bool",name:"approved"}],["bytes _data",{type:"bytes",name:"_data"}],["bytes data",{type:"bytes",name:"data"}],["bytes signature",{type:"bytes",name:"signature"}],["bytes32 hash",{type:"bytes32",name:"hash"}],["bytes32 r",{type:"bytes32",name:"r"}],["bytes32 root",{type:"bytes32",name:"root"}],["bytes32 s",{type:"bytes32",name:"s"}],["string name",{type:"string",name:"name"}],["string symbol",{type:"string",name:"symbol"}],["string tokenURI",{type:"string",name:"tokenURI"}],["uint tokenId",{type:"uint256",name:"tokenId"}],["uint8 v",{type:"uint8",name:"v"}],["uint256 balance",{type:"uint256",name:"balance"}],["uint256 tokenId",{type:"uint256",name:"tokenId"}],["uint256 value",{type:"uint256",name:"value"}],["event:address indexed from",{type:"address",name:"from",indexed:!0}],["event:address indexed to",{type:"address",name:"to",indexed:!0}],["event:uint indexed tokenId",{type:"uint256",name:"tokenId",indexed:!0}],["event:uint256 indexed tokenId",{type:"uint256",name:"tokenId",indexed:!0}]]);function VS(t,e={}){if(Npe(t))return rge(t,e);if(Tpe(t))return ige(t,e);if(Ppe(t))return oge(t,e);if($pe(t))return sge(t,e);if(Dpe(t))return age(t);if(Upe(t))return{type:"receive",stateMutability:"payable"};throw new Qpe({signature:t})}function rge(t,e={}){const n=Rpe(t);if(!n)throw new M0({signature:t,type:"function"});const r=Fi(n.parameters),i=[],o=r.length;for(let a=0;a<o;a++)i.push(Ac(r[a],{modifiers:qS,structs:e,type:"function"}));const s=[];if(n.returns){const a=Fi(n.returns),c=a.length;for(let l=0;l<c;l++)s.push(Ac(a[l],{modifiers:qS,structs:e,type:"function"}))}return{name:n.name,type:"function",stateMutability:n.stateMutability??"nonpayable",inputs:i,outputs:s}}function ige(t,e={}){const n=Mpe(t);if(!n)throw new M0({signature:t,type:"event"});const r=Fi(n.parameters),i=[],o=r.length;for(let s=0;s<o;s++)i.push(Ac(r[s],{modifiers:zpe,structs:e,type:"event"}));return{name:n.name,type:"event",inputs:i}}function oge(t,e={}){const n=Ope(t);if(!n)throw new M0({signature:t,type:"error"});const r=Fi(n.parameters),i=[],o=r.length;for(let s=0;s<o;s++)i.push(Ac(r[s],{structs:e,type:"error"}));return{name:n.name,type:"error",inputs:i}}function sge(t,e={}){const n=Bpe(t);if(!n)throw new M0({signature:t,type:"constructor"});const r=Fi(n.parameters),i=[],o=r.length;for(let s=0;s<o;s++)i.push(Ac(r[s],{structs:e,type:"constructor"}));return{type:"constructor",stateMutability:n.stateMutability??"nonpayable",inputs:i}}function age(t){const e=jpe(t);if(!e)throw new M0({signature:t,type:"fallback"});return{type:"fallback",stateMutability:e.stateMutability??"nonpayable"}}const cge=/^(?<type>[a-zA-Z$_][a-zA-Z0-9$_]*(?:\spayable)?)(?<array>(?:\[\d*?\])+?)?(?:\s(?<modifier>calldata|indexed|memory|storage{1}))?(?:\s(?<name>[a-zA-Z$_][a-zA-Z0-9$_]*))?$/,lge=/^\((?<type>.+?)\)(?<array>(?:\[\d*?\])+?)?(?:\s(?<modifier>calldata|indexed|memory|storage{1}))?(?:\s(?<name>[a-zA-Z$_][a-zA-Z0-9$_]*))?$/,uge=/^u?int$/;function Ac(t,e){var d,f;const n=nge(t,e==null?void 0:e.type,e==null?void 0:e.structs);if(B6.has(n))return B6.get(n);const r=az.test(t),i=Bc(r?lge:cge,t);if(!i)throw new Vpe({param:t});if(i.name&&fge(i.name))throw new Gpe({param:t,name:i.name});const o=i.name?{name:i.name}:{},s=i.modifier==="indexed"?{indexed:!0}:{},a=(e==null?void 0:e.structs)??{};let c,l={};if(r){c="tuple";const h=Fi(i.type),g=[],p=h.length;for(let S=0;S<p;S++)g.push(Ac(h[S],{structs:a}));l={components:g}}else if(i.type in a)c="tuple",l={components:a[i.type]};else if(uge.test(i.type))c=`${i.type}256`;else if(i.type==="address payable")c="address";else if(c=i.type,(e==null?void 0:e.type)!=="struct"&&!pz(c))throw new Kpe({type:c});if(i.modifier){if(!((f=(d=e==null?void 0:e.modifiers)==null?void 0:d.has)!=null&&f.call(d,i.modifier)))throw new Ype({param:t,type:e==null?void 0:e.type,modifier:i.modifier});if(qS.has(i.modifier)&&!hge(c,!!i.array))throw new Jpe({param:t,type:e==null?void 0:e.type,modifier:i.modifier})}const u={type:`${c}${i.array??""}`,...o,...s,...l};return B6.set(n,u),u}function Fi(t,e=[],n="",r=0){const i=t.trim().length;for(let o=0;o<i;o++){const s=t[o],a=t.slice(o+1);switch(s){case",":return r===0?Fi(a,[...e,n.trim()]):Fi(a,e,`${n}${s}`,r);case"(":return Fi(a,e,`${n}${s}`,r+1);case")":return Fi(a,e,`${n}${s}`,r-1);default:return Fi(a,e,`${n}${s}`,r)}}if(n==="")return e;if(r!==0)throw new tge({current:n,depth:r});return e.push(n.trim()),e}function pz(t){return t==="address"||t==="bool"||t==="function"||t==="string"||oz.test(t)||sz.test(t)}const dge=/^(?:after|alias|anonymous|apply|auto|byte|calldata|case|catch|constant|copyof|default|defined|error|event|external|false|final|function|immutable|implements|in|indexed|inline|internal|let|mapping|match|memory|mutable|null|of|override|partial|private|promise|public|pure|reference|relocatable|return|returns|sizeof|static|storage|struct|super|supports|switch|this|true|try|typedef|typeof|var|view|virtual)$/;function fge(t){return t==="address"||t==="bool"||t==="function"||t==="string"||t==="tuple"||oz.test(t)||sz.test(t)||dge.test(t)}function hge(t,e){return e||t==="bytes"||t==="string"||t==="tuple"}function n8(t){const e={},n=t.length;for(let s=0;s<n;s++){const a=t[s];if(!F2(a))continue;const c=Lpe(a);if(!c)throw new M0({signature:a,type:"struct"});const l=c.properties.split(";"),u=[],d=l.length;for(let f=0;f<d;f++){const g=l[f].trim();if(!g)continue;const p=Ac(g,{type:"struct"});u.push(p)}if(!u.length)throw new Xpe({signature:a});e[c.name]=u}const r={},i=Object.entries(e),o=i.length;for(let s=0;s<o;s++){const[a,c]=i[s];r[a]=gz(c,e)}return r}const pge=/^(?<type>[a-zA-Z$_][a-zA-Z0-9$_]*)(?<array>(?:\[\d*?\])+?)?$/;function gz(t,e,n=new Set){const r=[],i=t.length;for(let o=0;o<i;o++){const s=t[o];if(az.test(s.type))r.push(s);else{const c=Bc(pge,s.type);if(!(c!=null&&c.type))throw new Zpe({abiParameter:s});const{array:l,type:u}=c;if(u in e){if(n.has(u))throw new ege({type:u});r.push({...s,type:`tuple${l??""}`,components:gz(e[u]??[],e,new Set([...n,u]))})}else if(pz(u))r.push(s);else throw new Wpe({type:u})}}return r}function mz(t){const e=n8(t),n=[],r=t.length;for(let i=0;i<r;i++){const o=t[i];F2(o)||n.push(VS(o,e))}return n}function uM(t){let e;if(typeof t=="string")e=VS(t);else{const n=n8(t),r=t.length;for(let i=0;i<r;i++){const o=t[i];if(!F2(o)){e=VS(o,n);break}}}if(!e)throw new Hpe({signature:t});return e}function dM(t){const e=[];if(typeof t=="string"){const n=Fi(t),r=n.length;for(let i=0;i<r;i++)e.push(Ac(n[i],{modifiers:lM}))}else{const n=n8(t),r=t.length;for(let i=0;i<r;i++){const o=t[i];if(F2(o))continue;const s=Fi(o),a=s.length;for(let c=0;c<a;c++)e.push(Ac(s[c],{modifiers:lM,structs:n}))}}if(e.length===0)throw new qpe({params:t});return e}function rt(t,e,n){const r=t[e.name];if(typeof r=="function")return r;const i=t[n];return typeof i=="function"?i:o=>e(t,o)}function ms(t,{includeName:e=!1}={}){if(t.type!=="function"&&t.type!=="event"&&t.type!=="error")throw new Ige(t.type);return`${t.name}(${U2(t.inputs,{includeName:e})})`}function U2(t,{includeName:e=!1}={}){return t?t.map(n=>gge(n,{includeName:e})).join(e?", ":","):""}function gge(t,{includeName:e}){return t.type.startsWith("tuple")?`(${U2(t.components,{includeName:e})})${t.type.slice(5)}`:t.type+(e&&t.name?` ${t.name}`:"")}function pa(t,{strict:e=!0}={}){return!t||typeof t!="string"?!1:e?/^0x[0-9a-fA-F]*$/.test(t):t.startsWith("0x")}function kn(t){return pa(t,{strict:!1})?Math.ceil((t.length-2)/2):t.length}const yz="2.37.12";let Cp={getDocsUrl:({docsBaseUrl:t,docsPath:e="",docsSlug:n})=>e?`${t??"https://viem.sh"}${e}${n?`#${n}`:""}`:void 0,version:`viem@${yz}`},Ae=class GS extends Error{constructor(e,n={}){var a;const r=(()=>{var c;return n.cause instanceof GS?n.cause.details:(c=n.cause)!=null&&c.message?n.cause.message:n.details})(),i=n.cause instanceof GS&&n.cause.docsPath||n.docsPath,o=(a=Cp.getDocsUrl)==null?void 0:a.call(Cp,{...n,docsPath:i}),s=[e||"An error occurred.","",...n.metaMessages?[...n.metaMessages,""]:[],...o?[`Docs: ${o}`]:[],...r?[`Details: ${r}`]:[],...Cp.version?[`Version: ${Cp.version}`]:[]].join(`
`);super(s,n.cause?{cause:n.cause}:void 0),Object.defineProperty(this,"details",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"docsPath",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"metaMessages",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"shortMessage",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"version",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"BaseError"}),this.details=r,this.docsPath=i,this.metaMessages=n.metaMessages,this.name=n.name??this.name,this.shortMessage=e,this.version=yz}walk(e){return vz(this,e)}};function vz(t,e){return e!=null&&e(t)?t:t&&typeof t=="object"&&"cause"in t&&t.cause!==void 0?vz(t.cause,e):e?null:t}class mge extends Ae{constructor({docsPath:e}){super(["A constructor was not found on the ABI.","Make sure you are using the correct ABI and that the constructor exists on it."].join(`
`),{docsPath:e,name:"AbiConstructorNotFoundError"})}}class fM extends Ae{constructor({docsPath:e}){super(["Constructor arguments were provided (`args`), but a constructor parameters (`inputs`) were not found on the ABI.","Make sure you are using the correct ABI, and that the `inputs` attribute on the constructor exists."].join(`
`),{docsPath:e,name:"AbiConstructorParamsNotFoundError"})}}class wz extends Ae{constructor({data:e,params:n,size:r}){super([`Data size of ${r} bytes is too small for given parameters.`].join(`
`),{metaMessages:[`Params: (${U2(n,{includeName:!0})})`,`Data:   ${e} (${r} bytes)`],name:"AbiDecodingDataSizeTooSmallError"}),Object.defineProperty(this,"data",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"params",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"size",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.data=e,this.params=n,this.size=r}}class ny extends Ae{constructor(){super('Cannot decode zero data ("0x") with ABI parameters.',{name:"AbiDecodingZeroDataError"})}}class yge extends Ae{constructor({expectedLength:e,givenLength:n,type:r}){super([`ABI encoding array length mismatch for type ${r}.`,`Expected length: ${e}`,`Given length: ${n}`].join(`
`),{name:"AbiEncodingArrayLengthMismatchError"})}}class vge extends Ae{constructor({expectedSize:e,value:n}){super(`Size of bytes "${n}" (bytes${kn(n)}) does not match expected size (bytes${e}).`,{name:"AbiEncodingBytesSizeMismatchError"})}}class wge extends Ae{constructor({expectedLength:e,givenLength:n}){super(["ABI encoding params/values length mismatch.",`Expected length (params): ${e}`,`Given length (values): ${n}`].join(`
`),{name:"AbiEncodingLengthMismatchError"})}}class bge extends Ae{constructor(e,{docsPath:n}){super([`Arguments (\`args\`) were provided to "${e}", but "${e}" on the ABI does not contain any parameters (\`inputs\`).`,"Cannot encode error result without knowing what the parameter types are.","Make sure you are using the correct ABI and that the inputs exist on it."].join(`
`),{docsPath:n,name:"AbiErrorInputsNotFoundError"})}}class hM extends Ae{constructor(e,{docsPath:n}={}){super([`Error ${e?`"${e}" `:""}not found on ABI.`,"Make sure you are using the correct ABI and that the error exists on it."].join(`
`),{docsPath:n,name:"AbiErrorNotFoundError"})}}class bz extends Ae{constructor(e,{docsPath:n}){super([`Encoded error signature "${e}" not found on ABI.`,"Make sure you are using the correct ABI and that the error exists on it.",`You can look up the decoded signature here: https://openchain.xyz/signatures?query=${e}.`].join(`
`),{docsPath:n,name:"AbiErrorSignatureNotFoundError"}),Object.defineProperty(this,"signature",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.signature=e}}class Ege extends Ae{constructor({docsPath:e}){super("Cannot extract event signature from empty topics.",{docsPath:e,name:"AbiEventSignatureEmptyTopicsError"})}}class Ez extends Ae{constructor(e,{docsPath:n}){super([`Encoded event signature "${e}" not found on ABI.`,"Make sure you are using the correct ABI and that the event exists on it.",`You can look up the signature here: https://openchain.xyz/signatures?query=${e}.`].join(`
`),{docsPath:n,name:"AbiEventSignatureNotFoundError"})}}class pM extends Ae{constructor(e,{docsPath:n}={}){super([`Event ${e?`"${e}" `:""}not found on ABI.`,"Make sure you are using the correct ABI and that the event exists on it."].join(`
`),{docsPath:n,name:"AbiEventNotFoundError"})}}class a0 extends Ae{constructor(e,{docsPath:n}={}){super([`Function ${e?`"${e}" `:""}not found on ABI.`,"Make sure you are using the correct ABI and that the function exists on it."].join(`
`),{docsPath:n,name:"AbiFunctionNotFoundError"})}}class xz extends Ae{constructor(e,{docsPath:n}){super([`Function "${e}" does not contain any \`outputs\` on ABI.`,"Cannot decode function result without knowing what the parameter types are.","Make sure you are using the correct ABI and that the function exists on it."].join(`
`),{docsPath:n,name:"AbiFunctionOutputsNotFoundError"})}}class xge extends Ae{constructor(e,{docsPath:n}){super([`Encoded function signature "${e}" not found on ABI.`,"Make sure you are using the correct ABI and that the function exists on it.",`You can look up the signature here: https://openchain.xyz/signatures?query=${e}.`].join(`
`),{docsPath:n,name:"AbiFunctionSignatureNotFoundError"})}}class Sge extends Ae{constructor(e,n){super("Found ambiguous types in overloaded ABI items.",{metaMessages:[`\`${e.type}\` in \`${ms(e.abiItem)}\`, and`,`\`${n.type}\` in \`${ms(n.abiItem)}\``,"","These types encode differently and cannot be distinguished at runtime.","Remove one of the ambiguous items in the ABI."],name:"AbiItemAmbiguityError"})}}let _ge=class extends Ae{constructor({expectedSize:e,givenSize:n}){super(`Expected bytes${e}, got bytes${n}.`,{name:"BytesSizeMismatchError"})}};class rm extends Ae{constructor({abiItem:e,data:n,params:r,size:i}){super([`Data size of ${i} bytes is too small for non-indexed event parameters.`].join(`
`),{metaMessages:[`Params: (${U2(r,{includeName:!0})})`,`Data:   ${n} (${i} bytes)`],name:"DecodeLogDataMismatch"}),Object.defineProperty(this,"abiItem",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"data",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"params",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"size",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.abiItem=e,this.data=n,this.params=r,this.size=i}}class z2 extends Ae{constructor({abiItem:e,param:n}){super([`Expected a topic for indexed event parameter${n.name?` "${n.name}"`:""} on event "${ms(e,{includeName:!0})}".`].join(`
`),{name:"DecodeLogTopicsMismatch"}),Object.defineProperty(this,"abiItem",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.abiItem=e}}class Cge extends Ae{constructor(e,{docsPath:n}){super([`Type "${e}" is not a valid encoding type.`,"Please provide a valid ABI type."].join(`
`),{docsPath:n,name:"InvalidAbiEncodingType"})}}class Age extends Ae{constructor(e,{docsPath:n}){super([`Type "${e}" is not a valid decoding type.`,"Please provide a valid ABI type."].join(`
`),{docsPath:n,name:"InvalidAbiDecodingType"})}}let Sz=class extends Ae{constructor(e){super([`Value "${e}" is not a valid array.`].join(`
`),{name:"InvalidArrayError"})}};class Ige extends Ae{constructor(e){super([`"${e}" is not a valid definition type.`,'Valid types: "function", "event", "error"'].join(`
`),{name:"InvalidDefinitionTypeError"})}}class mxe extends Ae{constructor(e){super(`Type "${e}" is not supported for packed encoding.`,{name:"UnsupportedPackedAbiType"})}}class kge extends Ae{constructor(e){super(`Filter type "${e}" is not supported.`,{name:"FilterTypeNotSupportedError"})}}let _z=class extends Ae{constructor({offset:e,position:n,size:r}){super(`Slice ${n==="start"?"starting":"ending"} at offset "${e}" is out-of-bounds (size: ${r}).`,{name:"SliceOffsetOutOfBoundsError"})}},Cz=class extends Ae{constructor({size:e,targetSize:n,type:r}){super(`${r.charAt(0).toUpperCase()}${r.slice(1).toLowerCase()} size (${e}) exceeds padding size (${n}).`,{name:"SizeExceedsPaddingSizeError"})}};class gM extends Ae{constructor({size:e,targetSize:n,type:r}){super(`${r.charAt(0).toUpperCase()}${r.slice(1).toLowerCase()} is expected to be ${n} ${r} long, but is ${e} ${r} long.`,{name:"InvalidBytesLengthError"})}}function N0(t,{dir:e,size:n=32}={}){return typeof t=="string"?eu(t,{dir:e,size:n}):Pge(t,{dir:e,size:n})}function eu(t,{dir:e,size:n=32}={}){if(n===null)return t;const r=t.replace("0x","");if(r.length>n*2)throw new Cz({size:Math.ceil(r.length/2),targetSize:n,type:"hex"});return`0x${r[e==="right"?"padEnd":"padStart"](n*2,"0")}`}function Pge(t,{dir:e,size:n=32}={}){if(n===null)return t;if(t.length>n)throw new Cz({size:t.length,targetSize:n,type:"bytes"});const r=new Uint8Array(n);for(let i=0;i<n;i++){const o=e==="right";r[o?i:n-i-1]=t[o?i:t.length-i-1]}return r}let Az=class extends Ae{constructor({max:e,min:n,signed:r,size:i,value:o}){super(`Number "${o}" is not in safe ${i?`${i*8}-bit ${r?"signed":"unsigned"} `:""}integer range ${e?`(${n} to ${e})`:`(above ${n})`}`,{name:"IntegerOutOfRangeError"})}},Oge=class extends Ae{constructor(e){super(`Bytes value "${e}" is not a valid boolean. The bytes array must contain a single byte of either a 0 or 1 value.`,{name:"InvalidBytesBooleanError"})}};class Tge extends Ae{constructor(e){super(`Hex value "${e}" is not a valid boolean. The hex value must be "0x0" (false) or "0x1" (true).`,{name:"InvalidHexBooleanError"})}}let Mge=class extends Ae{constructor({givenSize:e,maxSize:n}){super(`Size cannot exceed ${n} bytes. Given size: ${e} bytes.`,{name:"SizeOverflowError"})}};function tu(t,{dir:e="left"}={}){let n=typeof t=="string"?t.replace("0x",""):t,r=0;for(let i=0;i<n.length-1&&n[e==="left"?i:n.length-i-1].toString()==="0";i++)r++;return n=e==="left"?n.slice(r):n.slice(0,n.length-r),typeof t=="string"?(n.length===1&&e==="right"&&(n=`${n}0`),`0x${n.length%2===1?`0${n}`:n}`):n}function Ss(t,{size:e}){if(kn(t)>e)throw new Mge({givenSize:kn(t),maxSize:e})}function Ki(t,e={}){const{signed:n}=e;e.size&&Ss(t,{size:e.size});const r=BigInt(t);if(!n)return r;const i=(t.length-2)/2,o=(1n<<BigInt(i)*8n-1n)-1n;return r<=o?r:r-BigInt(`0x${"f".padStart(i*2,"f")}`)-1n}function Nge(t,e={}){let n=t;if(e.size&&(Ss(n,{size:e.size}),n=tu(n)),tu(n)==="0x00")return!1;if(tu(n)==="0x01")return!0;throw new Tge(n)}function ys(t,e={}){return Number(Ki(t,e))}const Rge=Array.from({length:256},(t,e)=>e.toString(16).padStart(2,"0"));function Ic(t,e={}){return typeof t=="number"||typeof t=="bigint"?et(t,e):typeof t=="string"?c0(t,e):typeof t=="boolean"?Iz(t,e):Hn(t,e)}function Iz(t,e={}){const n=`0x${Number(t)}`;return typeof e.size=="number"?(Ss(n,{size:e.size}),N0(n,{size:e.size})):n}function Hn(t,e={}){let n="";for(let i=0;i<t.length;i++)n+=Rge[t[i]];const r=`0x${n}`;return typeof e.size=="number"?(Ss(r,{size:e.size}),N0(r,{dir:"right",size:e.size})):r}function et(t,e={}){const{signed:n,size:r}=e,i=BigInt(t);let o;r?n?o=(1n<<BigInt(r)*8n-1n)-1n:o=2n**(BigInt(r)*8n)-1n:typeof t=="number"&&(o=BigInt(Number.MAX_SAFE_INTEGER));const s=typeof o=="bigint"&&n?-o-1n:0;if(o&&i>o||i<s){const c=typeof t=="bigint"?"n":"";throw new Az({max:o?`${o}${c}`:void 0,min:`${s}${c}`,signed:n,size:r,value:`${t}${c}`})}const a=`0x${(n&&i<0?(1n<<BigInt(r*8))+BigInt(i):i).toString(16)}`;return r?N0(a,{size:r}):a}const Lge=new TextEncoder;function c0(t,e={}){const n=Lge.encode(t);return Hn(n,e)}const $ge=new TextEncoder;function R0(t,e={}){return typeof t=="number"||typeof t=="bigint"?Dge(t,e):typeof t=="boolean"?Bge(t,e):pa(t)?ga(t,e):vd(t,e)}function Bge(t,e={}){const n=new Uint8Array(1);return n[0]=Number(t),typeof e.size=="number"?(Ss(n,{size:e.size}),N0(n,{size:e.size})):n}const Ta={zero:48,nine:57,A:65,F:70,a:97,f:102};function mM(t){if(t>=Ta.zero&&t<=Ta.nine)return t-Ta.zero;if(t>=Ta.A&&t<=Ta.F)return t-(Ta.A-10);if(t>=Ta.a&&t<=Ta.f)return t-(Ta.a-10)}function ga(t,e={}){let n=t;e.size&&(Ss(n,{size:e.size}),n=N0(n,{dir:"right",size:e.size}));let r=n.slice(2);r.length%2&&(r=`0${r}`);const i=r.length/2,o=new Uint8Array(i);for(let s=0,a=0;s<i;s++){const c=mM(r.charCodeAt(a++)),l=mM(r.charCodeAt(a++));if(c===void 0||l===void 0)throw new Ae(`Invalid byte sequence ("${r[a-2]}${r[a-1]}" in "${r}").`);o[s]=c*16+l}return o}function Dge(t,e){const n=et(t,e);return ga(n)}function vd(t,e={}){const n=$ge.encode(t);return typeof e.size=="number"?(Ss(n,{size:e.size}),N0(n,{dir:"right",size:e.size})):n}function yr(t,e){const n=e||"hex",r=yw(pa(t,{strict:!1})?R0(t):t);return n==="bytes"?r:Ic(r)}const jge=t=>yr(R0(t));function Fge(t){return jge(t)}function Uge(t){let e=!0,n="",r=0,i="",o=!1;for(let s=0;s<t.length;s++){const a=t[s];if(["(",")",","].includes(a)&&(e=!0),a==="("&&r++,a===")"&&r--,!!e){if(r===0){if(a===" "&&["event","function",""].includes(i))i="";else if(i+=a,a===")"){o=!0;break}continue}if(a===" "){t[s-1]!==","&&n!==","&&n!==",("&&(n="",e=!1);continue}i+=a,n+=a}}if(!o)throw new Ae("Unable to normalize signature.");return i}const zge=t=>{const e=typeof t=="string"?t:tb(t);return Uge(e)};function kz(t){return Fge(zge(t))}const H2=kz;let fu=class extends Ae{constructor({address:e}){super(`Address "${e}" is invalid.`,{metaMessages:["- Address must be a hex value of 20 bytes (40 hex characters).","- Address must match its checksum counterpart."],name:"InvalidAddressError"})}},W2=class extends Map{constructor(e){super(),Object.defineProperty(this,"maxSize",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.maxSize=e}get(e){const n=super.get(e);return super.has(e)&&n!==void 0&&(this.delete(e),super.set(e,n)),n}set(e,n){if(super.set(e,n),this.maxSize&&this.size>this.maxSize){const r=this.keys().next().value;r&&this.delete(r)}return this}};const D6=new W2(8192);function ry(t,e){if(D6.has(`${t}.${e}`))return D6.get(`${t}.${e}`);const n=t.substring(2).toLowerCase(),r=yr(vd(n),"bytes"),i=n.split("");for(let s=0;s<40;s+=2)r[s>>1]>>4>=8&&i[s]&&(i[s]=i[s].toUpperCase()),(r[s>>1]&15)>=8&&i[s+1]&&(i[s+1]=i[s+1].toUpperCase());const o=`0x${i.join("")}`;return D6.set(`${t}.${e}`,o),o}function Xu(t,e){if(!Lo(t,{strict:!1}))throw new fu({address:t});return ry(t,e)}const Hge=/^0x[a-fA-F0-9]{40}$/,j6=new W2(8192);function Lo(t,e){const{strict:n=!0}=e??{},r=`${t}.${n}`;if(j6.has(r))return j6.get(r);const i=Hge.test(t)?t.toLowerCase()===t?!0:n?ry(t)===t:!0:!1;return j6.set(r,i),i}function $o(t){return typeof t[0]=="string"?L0(t):Wge(t)}function Wge(t){let e=0;for(const i of t)e+=i.length;const n=new Uint8Array(e);let r=0;for(const i of t)n.set(i,r),r+=i.length;return n}function L0(t){return`0x${t.reduce((e,n)=>e+n.replace("0x",""),"")}`}function l0(t,e,n,{strict:r}={}){return pa(t,{strict:!1})?YS(t,e,n,{strict:r}):Tz(t,e,n,{strict:r})}function Pz(t,e){if(typeof e=="number"&&e>0&&e>kn(t)-1)throw new _z({offset:e,position:"start",size:kn(t)})}function Oz(t,e,n){if(typeof e=="number"&&typeof n=="number"&&kn(t)!==n-e)throw new _z({offset:n,position:"end",size:kn(t)})}function Tz(t,e,n,{strict:r}={}){Pz(t,e);const i=t.slice(e,n);return r&&Oz(i,e,n),i}function YS(t,e,n,{strict:r}={}){Pz(t,e);const i=`0x${t.replace("0x","").slice((e??0)*2,(n??t.length)*2)}`;return r&&Oz(i,e,n),i}const _xe=/^(.*)\[([0-9]*)\]$/,Kge=/^bytes([1-9]|1[0-9]|2[0-9]|3[0-2])?$/,Mz=/^(u?int)(8|16|24|32|40|48|56|64|72|80|88|96|104|112|120|128|136|144|152|160|168|176|184|192|200|208|216|224|232|240|248|256)?$/;function ef(t,e){if(t.length!==e.length)throw new wge({expectedLength:t.length,givenLength:e.length});const n=qge({params:t,values:e}),r=i8(n);return r.length===0?"0x":r}function qge({params:t,values:e}){const n=[];for(let r=0;r<t.length;r++)n.push(r8({param:t[r],value:e[r]}));return n}function r8({param:t,value:e}){const n=o8(t.type);if(n){const[r,i]=n;return Gge(e,{length:r,param:{...t,type:i}})}if(t.type==="tuple")return Xge(e,{param:t});if(t.type==="address")return Vge(e);if(t.type==="bool")return Jge(e);if(t.type.startsWith("uint")||t.type.startsWith("int")){const r=t.type.startsWith("int"),[,,i="256"]=Mz.exec(t.type)??[];return Zge(e,{signed:r,size:Number(i)})}if(t.type.startsWith("bytes"))return Yge(e,{param:t});if(t.type==="string")return Qge(e);throw new Cge(t.type,{docsPath:"/docs/contract/encodeAbiParameters"})}function i8(t){let e=0;for(let o=0;o<t.length;o++){const{dynamic:s,encoded:a}=t[o];s?e+=32:e+=kn(a)}const n=[],r=[];let i=0;for(let o=0;o<t.length;o++){const{dynamic:s,encoded:a}=t[o];s?(n.push(et(e+i,{size:32})),r.push(a),i+=kn(a)):n.push(a)}return $o([...n,...r])}function Vge(t){if(!Lo(t))throw new fu({address:t});return{dynamic:!1,encoded:eu(t.toLowerCase())}}function Gge(t,{length:e,param:n}){const r=e===null;if(!Array.isArray(t))throw new Sz(t);if(!r&&t.length!==e)throw new yge({expectedLength:e,givenLength:t.length,type:`${n.type}[${e}]`});let i=!1;const o=[];for(let s=0;s<t.length;s++){const a=r8({param:n,value:t[s]});a.dynamic&&(i=!0),o.push(a)}if(r||i){const s=i8(o);if(r){const a=et(o.length,{size:32});return{dynamic:!0,encoded:o.length>0?$o([a,s]):a}}if(i)return{dynamic:!0,encoded:s}}return{dynamic:!1,encoded:$o(o.map(({encoded:s})=>s))}}function Yge(t,{param:e}){const[,n]=e.type.split("bytes"),r=kn(t);if(!n){let i=t;return r%32!==0&&(i=eu(i,{dir:"right",size:Math.ceil((t.length-2)/2/32)*32})),{dynamic:!0,encoded:$o([eu(et(r,{size:32})),i])}}if(r!==Number.parseInt(n,10))throw new vge({expectedSize:Number.parseInt(n,10),value:t});return{dynamic:!1,encoded:eu(t,{dir:"right"})}}function Jge(t){if(typeof t!="boolean")throw new Ae(`Invalid boolean value: "${t}" (type: ${typeof t}). Expected: \`true\` or \`false\`.`);return{dynamic:!1,encoded:eu(Iz(t))}}function Zge(t,{signed:e,size:n=256}){if(typeof n=="number"){const r=2n**(BigInt(n)-(e?1n:0n))-1n,i=e?-r-1n:0n;if(t>r||t<i)throw new Az({max:r.toString(),min:i.toString(),signed:e,size:n/8,value:t.toString()})}return{dynamic:!1,encoded:et(t,{size:32,signed:e})}}function Qge(t){const e=c0(t),n=Math.ceil(kn(e)/32),r=[];for(let i=0;i<n;i++)r.push(eu(l0(e,i*32,(i+1)*32),{dir:"right"}));return{dynamic:!0,encoded:$o([eu(et(kn(e),{size:32})),...r])}}function Xge(t,{param:e}){let n=!1;const r=[];for(let i=0;i<e.components.length;i++){const o=e.components[i],s=Array.isArray(t)?i:o.name,a=r8({param:o,value:t[s]});r.push(a),a.dynamic&&(n=!0)}return{dynamic:n,encoded:n?i8(r):$o(r.map(({encoded:i})=>i))}}function o8(t){const e=t.match(/^(.*)\[(\d+)?\]$/);return e?[e[2]?Number(e[2]):null,e[1]]:void 0}const iy=t=>l0(kz(t),0,4);function tf(t){const{abi:e,args:n=[],name:r}=t,i=pa(r,{strict:!1}),o=e.filter(a=>i?a.type==="function"?iy(a)===r:a.type==="event"?H2(a)===r:!1:"name"in a&&a.name===r);if(o.length===0)return;if(o.length===1)return o[0];let s;for(const a of o){if(!("inputs"in a))continue;if(!n||n.length===0){if(!a.inputs||a.inputs.length===0)return a;continue}if(!a.inputs||a.inputs.length===0||a.inputs.length!==n.length)continue;if(n.every((l,u)=>{const d="inputs"in a&&a.inputs[u];return d?JS(l,d):!1})){if(s&&"inputs"in s&&s.inputs){const l=Nz(a.inputs,s.inputs,n);if(l)throw new Sge({abiItem:a,type:l[0]},{abiItem:s,type:l[1]})}s=a}}return s||o[0]}function JS(t,e){const n=typeof t,r=e.type;switch(r){case"address":return Lo(t,{strict:!1});case"bool":return n==="boolean";case"function":return n==="string";case"string":return n==="string";default:return r==="tuple"&&"components"in e?Object.values(e.components).every((i,o)=>JS(Object.values(t)[o],i)):/^u?int(8|16|24|32|40|48|56|64|72|80|88|96|104|112|120|128|136|144|152|160|168|176|184|192|200|208|216|224|232|240|248|256)?$/.test(r)?n==="number"||n==="bigint":/^bytes([1-9]|1[0-9]|2[0-9]|3[0-2])?$/.test(r)?n==="string"||t instanceof Uint8Array:/[a-z]+[1-9]{0,3}(\[[0-9]{0,}\])+$/.test(r)?Array.isArray(t)&&t.every(i=>JS(i,{...e,type:r.replace(/(\[[0-9]{0,}\])$/,"")})):!1}}function Nz(t,e,n){for(const r in t){const i=t[r],o=e[r];if(i.type==="tuple"&&o.type==="tuple"&&"components"in i&&"components"in o)return Nz(i.components,o.components,n[r]);const s=[i.type,o.type];if(s.includes("address")&&s.includes("bytes20")?!0:s.includes("address")&&s.includes("string")?Lo(n[r],{strict:!1}):s.includes("address")&&s.includes("bytes")?Lo(n[r],{strict:!1}):!1)return s}}const yM="/docs/contract/encodeEventTopics";function oy(t){var c;const{abi:e,eventName:n,args:r}=t;let i=e[0];if(n){const l=tf({abi:e,name:n});if(!l)throw new pM(n,{docsPath:yM});i=l}if(i.type!=="event")throw new pM(void 0,{docsPath:yM});const o=ms(i),s=H2(o);let a=[];if(r&&"inputs"in i){const l=(c=i.inputs)==null?void 0:c.filter(d=>"indexed"in d&&d.indexed),u=Array.isArray(r)?r:Object.values(r).length>0?(l==null?void 0:l.map(d=>r[d.name]))??[]:[];u.length>0&&(a=(l==null?void 0:l.map((d,f)=>Array.isArray(u[f])?u[f].map((h,g)=>vM({param:d,value:u[f][g]})):typeof u[f]<"u"&&u[f]!==null?vM({param:d,value:u[f]}):null))??[])}return[s,...a]}function vM({param:t,value:e}){if(t.type==="string"||t.type==="bytes")return yr(R0(e));if(t.type==="tuple"||t.type.match(/^(.*)\[(\d+)?\]$/))throw new kge(t.type);return ef([t],[e])}function K2(t,{method:e}){var r,i;const n={};return t.transport.type==="fallback"&&((i=(r=t.transport).onResponse)==null||i.call(r,({method:o,response:s,status:a,transport:c})=>{a==="success"&&e===o&&(n[s]=c.request)})),o=>n[o]||t.request}async function Rz(t,e){const{address:n,abi:r,args:i,eventName:o,fromBlock:s,strict:a,toBlock:c}=e,l=K2(t,{method:"eth_newFilter"}),u=o?oy({abi:r,args:i,eventName:o}):void 0,d=await t.request({method:"eth_newFilter",params:[{address:n,fromBlock:typeof s=="bigint"?et(s):s,toBlock:typeof c=="bigint"?et(c):c,topics:u}]});return{abi:r,args:i,eventName:o,id:d,request:l(d),strict:!!a,type:"event"}}function Rn(t){return typeof t=="string"?{address:t,type:"json-rpc"}:t}const wM="/docs/contract/encodeFunctionData";function eme(t){const{abi:e,args:n,functionName:r}=t;let i=e[0];if(r){const o=tf({abi:e,args:n,name:r});if(!o)throw new a0(r,{docsPath:wM});i=o}if(i.type!=="function")throw new a0(void 0,{docsPath:wM});return{abi:[i],functionName:iy(ms(i))}}function Qi(t){const{args:e}=t,{abi:n,functionName:r}=(()=>{var a;return t.abi.length===1&&((a=t.functionName)!=null&&a.startsWith("0x"))?t:eme(t)})(),i=n[0],o=r,s="inputs"in i&&i.inputs?ef(i.inputs,e??[]):void 0;return L0([o,s??"0x"])}const tme={1:"An `assert` condition failed.",17:"Arithmetic operation resulted in underflow or overflow.",18:"Division or modulo by zero (e.g. `5 / 0` or `23 % 0`).",33:"Attempted to convert to an invalid type.",34:"Attempted to access a storage byte array that is incorrectly encoded.",49:"Performed `.pop()` on an empty array",50:"Array index is out of bounds.",65:"Allocated too much memory or created an array which is too large.",81:"Attempted to call a zero-initialized variable of internal function type."},Lz={inputs:[{name:"message",type:"string"}],name:"Error",type:"error"},nme={inputs:[{name:"reason",type:"uint256"}],name:"Panic",type:"error"};let bM=class extends Ae{constructor({offset:e}){super(`Offset \`${e}\` cannot be negative.`,{name:"NegativeOffsetError"})}},$z=class extends Ae{constructor({length:e,position:n}){super(`Position \`${n}\` is out of bounds (\`0 < position < ${e}\`).`,{name:"PositionOutOfBoundsError"})}},rme=class extends Ae{constructor({count:e,limit:n}){super(`Recursive read limit of \`${n}\` exceeded (recursive read count: \`${e}\`).`,{name:"RecursiveReadLimitExceededError"})}};const ime={bytes:new Uint8Array,dataView:new DataView(new ArrayBuffer(0)),position:0,positionReadCount:new Map,recursiveReadCount:0,recursiveReadLimit:Number.POSITIVE_INFINITY,assertReadLimit(){if(this.recursiveReadCount>=this.recursiveReadLimit)throw new rme({count:this.recursiveReadCount+1,limit:this.recursiveReadLimit})},assertPosition(t){if(t<0||t>this.bytes.length-1)throw new $z({length:this.bytes.length,position:t})},decrementPosition(t){if(t<0)throw new bM({offset:t});const e=this.position-t;this.assertPosition(e),this.position=e},getReadCount(t){return this.positionReadCount.get(t||this.position)||0},incrementPosition(t){if(t<0)throw new bM({offset:t});const e=this.position+t;this.assertPosition(e),this.position=e},inspectByte(t){const e=t??this.position;return this.assertPosition(e),this.bytes[e]},inspectBytes(t,e){const n=e??this.position;return this.assertPosition(n+t-1),this.bytes.subarray(n,n+t)},inspectUint8(t){const e=t??this.position;return this.assertPosition(e),this.bytes[e]},inspectUint16(t){const e=t??this.position;return this.assertPosition(e+1),this.dataView.getUint16(e)},inspectUint24(t){const e=t??this.position;return this.assertPosition(e+2),(this.dataView.getUint16(e)<<8)+this.dataView.getUint8(e+2)},inspectUint32(t){const e=t??this.position;return this.assertPosition(e+3),this.dataView.getUint32(e)},pushByte(t){this.assertPosition(this.position),this.bytes[this.position]=t,this.position++},pushBytes(t){this.assertPosition(this.position+t.length-1),this.bytes.set(t,this.position),this.position+=t.length},pushUint8(t){this.assertPosition(this.position),this.bytes[this.position]=t,this.position++},pushUint16(t){this.assertPosition(this.position+1),this.dataView.setUint16(this.position,t),this.position+=2},pushUint24(t){this.assertPosition(this.position+2),this.dataView.setUint16(this.position,t>>8),this.dataView.setUint8(this.position+2,t&255),this.position+=3},pushUint32(t){this.assertPosition(this.position+3),this.dataView.setUint32(this.position,t),this.position+=4},readByte(){this.assertReadLimit(),this._touch();const t=this.inspectByte();return this.position++,t},readBytes(t,e){this.assertReadLimit(),this._touch();const n=this.inspectBytes(t);return this.position+=e??t,n},readUint8(){this.assertReadLimit(),this._touch();const t=this.inspectUint8();return this.position+=1,t},readUint16(){this.assertReadLimit(),this._touch();const t=this.inspectUint16();return this.position+=2,t},readUint24(){this.assertReadLimit(),this._touch();const t=this.inspectUint24();return this.position+=3,t},readUint32(){this.assertReadLimit(),this._touch();const t=this.inspectUint32();return this.position+=4,t},get remaining(){return this.bytes.length-this.position},setPosition(t){const e=this.position;return this.assertPosition(t),this.position=t,()=>this.position=e},_touch(){if(this.recursiveReadLimit===Number.POSITIVE_INFINITY)return;const t=this.getReadCount();this.positionReadCount.set(this.position,t+1),t>0&&this.recursiveReadCount++}};function s8(t,{recursiveReadLimit:e=8192}={}){const n=Object.create(ime);return n.bytes=t,n.dataView=new DataView(t.buffer,t.byteOffset,t.byteLength),n.positionReadCount=new Map,n.recursiveReadLimit=e,n}function ome(t,e={}){typeof e.size<"u"&&Ss(t,{size:e.size});const n=Hn(t,e);return Ki(n,e)}function sme(t,e={}){let n=t;if(typeof e.size<"u"&&(Ss(n,{size:e.size}),n=tu(n)),n.length>1||n[0]>1)throw new Oge(n);return!!n[0]}function fc(t,e={}){typeof e.size<"u"&&Ss(t,{size:e.size});const n=Hn(t,e);return ys(n,e)}function ame(t,e={}){let n=t;return typeof e.size<"u"&&(Ss(n,{size:e.size}),n=tu(n,{dir:"right"})),new TextDecoder().decode(n)}function sy(t,e){const n=typeof e=="string"?ga(e):e,r=s8(n);if(kn(n)===0&&t.length>0)throw new ny;if(kn(e)&&kn(e)<32)throw new wz({data:typeof e=="string"?e:Hn(e),params:t,size:kn(e)});let i=0;const o=[];for(let s=0;s<t.length;++s){const a=t[s];r.setPosition(i);const[c,l]=_h(r,a,{staticPosition:0});i+=l,o.push(c)}return o}function _h(t,e,{staticPosition:n}){const r=o8(e.type);if(r){const[i,o]=r;return lme(t,{...e,type:o},{length:i,staticPosition:n})}if(e.type==="tuple")return hme(t,e,{staticPosition:n});if(e.type==="address")return cme(t);if(e.type==="bool")return ume(t);if(e.type.startsWith("bytes"))return dme(t,e,{staticPosition:n});if(e.type.startsWith("uint")||e.type.startsWith("int"))return fme(t,e);if(e.type==="string")return pme(t,{staticPosition:n});throw new Age(e.type,{docsPath:"/docs/contract/decodeAbiParameters"})}const EM=32,ZS=32;function cme(t){const e=t.readBytes(32);return[ry(Hn(Tz(e,-20))),32]}function lme(t,e,{length:n,staticPosition:r}){if(!n){const s=fc(t.readBytes(ZS)),a=r+s,c=a+EM;t.setPosition(a);const l=fc(t.readBytes(EM)),u=im(e);let d=0;const f=[];for(let h=0;h<l;++h){t.setPosition(c+(u?h*32:d));const[g,p]=_h(t,e,{staticPosition:c});d+=p,f.push(g)}return t.setPosition(r+32),[f,32]}if(im(e)){const s=fc(t.readBytes(ZS)),a=r+s,c=[];for(let l=0;l<n;++l){t.setPosition(a+l*32);const[u]=_h(t,e,{staticPosition:a});c.push(u)}return t.setPosition(r+32),[c,32]}let i=0;const o=[];for(let s=0;s<n;++s){const[a,c]=_h(t,e,{staticPosition:r+i});i+=c,o.push(a)}return[o,i]}function ume(t){return[sme(t.readBytes(32),{size:32}),32]}function dme(t,e,{staticPosition:n}){const[r,i]=e.type.split("bytes");if(!i){const s=fc(t.readBytes(32));t.setPosition(n+s);const a=fc(t.readBytes(32));if(a===0)return t.setPosition(n+32),["0x",32];const c=t.readBytes(a);return t.setPosition(n+32),[Hn(c),32]}return[Hn(t.readBytes(Number.parseInt(i,10),32)),32]}function fme(t,e){const n=e.type.startsWith("int"),r=Number.parseInt(e.type.split("int")[1]||"256",10),i=t.readBytes(32);return[r>48?ome(i,{signed:n}):fc(i,{signed:n}),32]}function hme(t,e,{staticPosition:n}){const r=e.components.length===0||e.components.some(({name:s})=>!s),i=r?[]:{};let o=0;if(im(e)){const s=fc(t.readBytes(ZS)),a=n+s;for(let c=0;c<e.components.length;++c){const l=e.components[c];t.setPosition(a+o);const[u,d]=_h(t,l,{staticPosition:a});o+=d,i[r?c:l==null?void 0:l.name]=u}return t.setPosition(n+32),[i,32]}for(let s=0;s<e.components.length;++s){const a=e.components[s],[c,l]=_h(t,a,{staticPosition:n});i[r?s:a==null?void 0:a.name]=c,o+=l}return[i,o]}function pme(t,{staticPosition:e}){const n=fc(t.readBytes(32)),r=e+n;t.setPosition(r);const i=fc(t.readBytes(32));if(i===0)return t.setPosition(e+32),["",32];const o=t.readBytes(i,32),s=ame(tu(o));return t.setPosition(e+32),[s,32]}function im(t){var r;const{type:e}=t;if(e==="string"||e==="bytes"||e.endsWith("[]"))return!0;if(e==="tuple")return(r=t.components)==null?void 0:r.some(im);const n=o8(t.type);return!!(n&&im({...t,type:n[1]}))}function gme(t){const{abi:e,data:n}=t,r=l0(n,0,4);if(r==="0x")throw new ny;const o=[...e||[],Lz,nme].find(s=>s.type==="error"&&r===iy(ms(s)));if(!o)throw new bz(r,{docsPath:"/docs/contract/decodeErrorResult"});return{abiItem:o,args:"inputs"in o&&o.inputs&&o.inputs.length>0?sy(o.inputs,l0(n,4)):void 0,errorName:o.name}}const Dn=(t,e,n)=>JSON.stringify(t,(r,i)=>typeof i=="bigint"?i.toString():i,n);function Bz({abiItem:t,args:e,includeFunctionName:n=!0,includeName:r=!1}){if("name"in t&&"inputs"in t&&t.inputs)return`${n?t.name:""}(${t.inputs.map((i,o)=>`${r&&i.name?`${i.name}: `:""}${typeof e[o]=="object"?Dn(e[o]):e[o]}`).join(", ")})`}const mme={gwei:9,wei:18},yme={ether:-9,wei:9};function Dz(t,e){let n=t.toString();const r=n.startsWith("-");r&&(n=n.slice(1)),n=n.padStart(e,"0");let[i,o]=[n.slice(0,n.length-e),n.slice(n.length-e)];return o=o.replace(/(0+)$/,""),`${r?"-":""}${i||"0"}${o?`.${o}`:""}`}function a8(t,e="wei"){return Dz(t,mme[e])}function Ei(t,e="wei"){return Dz(t,yme[e])}class vme extends Ae{constructor({address:e}){super(`State for account "${e}" is set multiple times.`,{name:"AccountStateConflictError"})}}class wme extends Ae{constructor(){super("state and stateDiff are set on the same account.",{name:"StateAssignmentConflictError"})}}function xM(t){return t.reduce((e,{slot:n,value:r})=>`${e}        ${n}: ${r}
`,"")}function bme(t){return t.reduce((e,{address:n,...r})=>{let i=`${e}    ${n}:
`;return r.nonce&&(i+=`      nonce: ${r.nonce}
`),r.balance&&(i+=`      balance: ${r.balance}
`),r.code&&(i+=`      code: ${r.code}
`),r.state&&(i+=`      state:
`,i+=xM(r.state)),r.stateDiff&&(i+=`      stateDiff:
`,i+=xM(r.stateDiff)),i},`  State Override:
`).slice(0,-1)}function ay(t){const e=Object.entries(t).map(([r,i])=>i===void 0||i===!1?null:[r,i]).filter(Boolean),n=e.reduce((r,[i])=>Math.max(r,i.length),0);return e.map(([r,i])=>`  ${`${r}:`.padEnd(n+1)}  ${i}`).join(`
`)}class Eme extends Ae{constructor(){super(["Cannot specify both a `gasPrice` and a `maxFeePerGas`/`maxPriorityFeePerGas`.","Use `maxFeePerGas`/`maxPriorityFeePerGas` for EIP-1559 compatible networks, and `gasPrice` for others."].join(`
`),{name:"FeeConflictError"})}}class xme extends Ae{constructor({transaction:e}){super("Cannot infer a transaction type from provided transaction.",{metaMessages:["Provided Transaction:","{",ay(e),"}","","To infer the type, either provide:","- a `type` to the Transaction, or","- an EIP-1559 Transaction with `maxFeePerGas`, or","- an EIP-2930 Transaction with `gasPrice` & `accessList`, or","- an EIP-4844 Transaction with `blobs`, `blobVersionedHashes`, `sidecars`, or","- an EIP-7702 Transaction with `authorizationList`, or","- a Legacy Transaction with `gasPrice`"],name:"InvalidSerializableTransactionError"})}}class Sme extends Ae{constructor(e,{account:n,docsPath:r,chain:i,data:o,gas:s,gasPrice:a,maxFeePerGas:c,maxPriorityFeePerGas:l,nonce:u,to:d,value:f}){var g;const h=ay({chain:i&&`${i==null?void 0:i.name} (id: ${i==null?void 0:i.id})`,from:n==null?void 0:n.address,to:d,value:typeof f<"u"&&`${a8(f)} ${((g=i==null?void 0:i.nativeCurrency)==null?void 0:g.symbol)||"ETH"}`,data:o,gas:s,gasPrice:typeof a<"u"&&`${Ei(a)} gwei`,maxFeePerGas:typeof c<"u"&&`${Ei(c)} gwei`,maxPriorityFeePerGas:typeof l<"u"&&`${Ei(l)} gwei`,nonce:u});super(e.shortMessage,{cause:e,docsPath:r,metaMessages:[...e.metaMessages?[...e.metaMessages," "]:[],"Request Arguments:",h].filter(Boolean),name:"TransactionExecutionError"}),Object.defineProperty(this,"cause",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.cause=e}}class jz extends Ae{constructor({blockHash:e,blockNumber:n,blockTag:r,hash:i,index:o}){let s="Transaction";r&&o!==void 0&&(s=`Transaction at block time "${r}" at index "${o}"`),e&&o!==void 0&&(s=`Transaction at block hash "${e}" at index "${o}"`),n&&o!==void 0&&(s=`Transaction at block number "${n}" at index "${o}"`),i&&(s=`Transaction with hash "${i}"`),super(`${s} could not be found.`,{name:"TransactionNotFoundError"})}}class Fz extends Ae{constructor({hash:e}){super(`Transaction receipt with hash "${e}" could not be found. The Transaction may not be processed on a block yet.`,{name:"TransactionReceiptNotFoundError"})}}class _me extends Ae{constructor({hash:e}){super(`Timed out while waiting for transaction with hash "${e}" to be confirmed.`,{name:"WaitForTransactionReceiptTimeoutError"})}}const Cme=t=>t,cy=t=>t;class Uz extends Ae{constructor(e,{account:n,docsPath:r,chain:i,data:o,gas:s,gasPrice:a,maxFeePerGas:c,maxPriorityFeePerGas:l,nonce:u,to:d,value:f,stateOverride:h}){var S;const g=n?Rn(n):void 0;let p=ay({from:g==null?void 0:g.address,to:d,value:typeof f<"u"&&`${a8(f)} ${((S=i==null?void 0:i.nativeCurrency)==null?void 0:S.symbol)||"ETH"}`,data:o,gas:s,gasPrice:typeof a<"u"&&`${Ei(a)} gwei`,maxFeePerGas:typeof c<"u"&&`${Ei(c)} gwei`,maxPriorityFeePerGas:typeof l<"u"&&`${Ei(l)} gwei`,nonce:u});h&&(p+=`
${bme(h)}`),super(e.shortMessage,{cause:e,docsPath:r,metaMessages:[...e.metaMessages?[...e.metaMessages," "]:[],"Raw Call Arguments:",p].filter(Boolean),name:"CallExecutionError"}),Object.defineProperty(this,"cause",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.cause=e}}class zz extends Ae{constructor(e,{abi:n,args:r,contractAddress:i,docsPath:o,functionName:s,sender:a}){const c=tf({abi:n,args:r,name:s}),l=c?Bz({abiItem:c,args:r,includeFunctionName:!1,includeName:!1}):void 0,u=c?ms(c,{includeName:!0}):void 0,d=ay({address:i&&Cme(i),function:u,args:l&&l!=="()"&&`${[...Array((s==null?void 0:s.length)??0).keys()].map(()=>" ").join("")}${l}`,sender:a});super(e.shortMessage||`An unknown error occurred while executing the contract function "${s}".`,{cause:e,docsPath:o,metaMessages:[...e.metaMessages?[...e.metaMessages," "]:[],d&&"Contract Call:",d].filter(Boolean),name:"ContractFunctionExecutionError"}),Object.defineProperty(this,"abi",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"args",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"cause",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"contractAddress",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"formattedArgs",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"functionName",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"sender",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.abi=n,this.args=r,this.cause=e,this.contractAddress=i,this.functionName=s,this.sender=a}}class QS extends Ae{constructor({abi:e,data:n,functionName:r,message:i}){let o,s,a,c;if(n&&n!=="0x")try{s=gme({abi:e,data:n});const{abiItem:u,errorName:d,args:f}=s;if(d==="Error")c=f[0];else if(d==="Panic"){const[h]=f;c=tme[h]}else{const h=u?ms(u,{includeName:!0}):void 0,g=u&&f?Bz({abiItem:u,args:f,includeFunctionName:!1,includeName:!1}):void 0;a=[h?`Error: ${h}`:"",g&&g!=="()"?`       ${[...Array((d==null?void 0:d.length)??0).keys()].map(()=>" ").join("")}${g}`:""]}}catch(u){o=u}else i&&(c=i);let l;o instanceof bz&&(l=o.signature,a=[`Unable to decode signature "${l}" as it was not found on the provided ABI.`,"Make sure you are using the correct ABI and that the error exists on it.",`You can look up the decoded signature here: https://openchain.xyz/signatures?query=${l}.`]),super(c&&c!=="execution reverted"||l?[`The contract function "${r}" reverted with the following ${l?"signature":"reason"}:`,c||l].join(`
`):`The contract function "${r}" reverted.`,{cause:o,metaMessages:a,name:"ContractFunctionRevertedError"}),Object.defineProperty(this,"data",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"raw",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"reason",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"signature",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.data=s,this.raw=n,this.reason=c,this.signature=l}}class Ame extends Ae{constructor({functionName:e}){super(`The contract function "${e}" returned no data ("0x").`,{metaMessages:["This could be due to any of the following:",`  - The contract does not have the function "${e}",`,"  - The parameters passed to the contract function may be invalid, or","  - The address is not a contract."],name:"ContractFunctionZeroDataError"})}}class Ime extends Ae{constructor({factory:e}){super(`Deployment for counterfactual contract call failed${e?` for factory "${e}".`:""}`,{metaMessages:["Please ensure:","- The `factory` is a valid contract deployment factory (ie. Create2 Factory, ERC-4337 Factory, etc).","- The `factoryData` is a valid encoded function call for contract deployment function on the factory."],name:"CounterfactualDeploymentFailedError"})}}class q2 extends Ae{constructor({data:e,message:n}){super(n||"",{name:"RawContractError"}),Object.defineProperty(this,"code",{enumerable:!0,configurable:!0,writable:!0,value:3}),Object.defineProperty(this,"data",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.data=e}}class dg extends Ae{constructor({body:e,cause:n,details:r,headers:i,status:o,url:s}){super("HTTP request failed.",{cause:n,details:r,metaMessages:[o&&`Status: ${o}`,`URL: ${cy(s)}`,e&&`Request body: ${Dn(e)}`].filter(Boolean),name:"HttpRequestError"}),Object.defineProperty(this,"body",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"headers",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"status",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"url",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.body=e,this.headers=i,this.status=o,this.url=s}}class SM extends Ae{constructor({body:e,cause:n,details:r,url:i}){super("WebSocket request failed.",{cause:n,details:r,metaMessages:[`URL: ${cy(i)}`,e&&`Request body: ${Dn(e)}`].filter(Boolean),name:"WebSocketRequestError"})}}class V2 extends Ae{constructor({body:e,error:n,url:r}){super("RPC Request failed.",{cause:n,details:n.message,metaMessages:[`URL: ${cy(r)}`,`Request body: ${Dn(e)}`],name:"RpcRequestError"}),Object.defineProperty(this,"code",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"data",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.code=n.code,this.data=n.data}}class nb extends Ae{constructor({url:e}={}){super("The socket has been closed.",{metaMessages:[e&&`URL: ${cy(e)}`].filter(Boolean),name:"SocketClosedError"})}}class XS extends Ae{constructor({body:e,url:n}){super("The request took too long to respond.",{details:"The request timed out.",metaMessages:[`URL: ${cy(n)}`,`Request body: ${Dn(e)}`],name:"TimeoutError"})}}const kme=-1;class Pi extends Ae{constructor(e,{code:n,docsPath:r,metaMessages:i,name:o,shortMessage:s}){super(s,{cause:e,docsPath:r,metaMessages:i||(e==null?void 0:e.metaMessages),name:o||"RpcError"}),Object.defineProperty(this,"code",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.name=o||e.name,this.code=e instanceof V2?e.code:n??kme}}class Xi extends Pi{constructor(e,n){super(e,n),Object.defineProperty(this,"data",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.data=n.data}}class om extends Pi{constructor(e){super(e,{code:om.code,name:"ParseRpcError",shortMessage:"Invalid JSON was received by the server. An error occurred on the server while parsing the JSON text."})}}Object.defineProperty(om,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32700});class sm extends Pi{constructor(e){super(e,{code:sm.code,name:"InvalidRequestRpcError",shortMessage:"JSON is not a valid request object."})}}Object.defineProperty(sm,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32600});class am extends Pi{constructor(e,{method:n}={}){super(e,{code:am.code,name:"MethodNotFoundRpcError",shortMessage:`The method${n?` "${n}"`:""} does not exist / is not available.`})}}Object.defineProperty(am,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32601});class cm extends Pi{constructor(e){super(e,{code:cm.code,name:"InvalidParamsRpcError",shortMessage:["Invalid parameters were provided to the RPC method.","Double check you have provided the correct parameters."].join(`
`)})}}Object.defineProperty(cm,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32602});class Rd extends Pi{constructor(e){super(e,{code:Rd.code,name:"InternalRpcError",shortMessage:"An internal error was received."})}}Object.defineProperty(Rd,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32603});class Ld extends Pi{constructor(e){super(e,{code:Ld.code,name:"InvalidInputRpcError",shortMessage:["Missing or invalid parameters.","Double check you have provided the correct parameters."].join(`
`)})}}Object.defineProperty(Ld,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32e3});class lm extends Pi{constructor(e){super(e,{code:lm.code,name:"ResourceNotFoundRpcError",shortMessage:"Requested resource not found."}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ResourceNotFoundRpcError"})}}Object.defineProperty(lm,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32001});class nu extends Pi{constructor(e){super(e,{code:nu.code,name:"ResourceUnavailableRpcError",shortMessage:"Requested resource not available."})}}Object.defineProperty(nu,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32002});class um extends Pi{constructor(e){super(e,{code:um.code,name:"TransactionRejectedRpcError",shortMessage:"Transaction creation failed."})}}Object.defineProperty(um,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32003});class ed extends Pi{constructor(e,{method:n}={}){super(e,{code:ed.code,name:"MethodNotSupportedRpcError",shortMessage:`Method${n?` "${n}"`:""} is not supported.`})}}Object.defineProperty(ed,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32004});class u0 extends Pi{constructor(e){super(e,{code:u0.code,name:"LimitExceededRpcError",shortMessage:"Request exceeds defined limit."})}}Object.defineProperty(u0,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32005});class dm extends Pi{constructor(e){super(e,{code:dm.code,name:"JsonRpcVersionUnsupportedError",shortMessage:"Version of JSON-RPC protocol is not supported."})}}Object.defineProperty(dm,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32006});class Hr extends Xi{constructor(e){super(e,{code:Hr.code,name:"UserRejectedRequestError",shortMessage:"User rejected the request."})}}Object.defineProperty(Hr,"code",{enumerable:!0,configurable:!0,writable:!0,value:4001});class fm extends Xi{constructor(e){super(e,{code:fm.code,name:"UnauthorizedProviderError",shortMessage:"The requested method and/or account has not been authorized by the user."})}}Object.defineProperty(fm,"code",{enumerable:!0,configurable:!0,writable:!0,value:4100});class hm extends Xi{constructor(e,{method:n}={}){super(e,{code:hm.code,name:"UnsupportedProviderMethodError",shortMessage:`The Provider does not support the requested method${n?` " ${n}"`:""}.`})}}Object.defineProperty(hm,"code",{enumerable:!0,configurable:!0,writable:!0,value:4200});class pm extends Xi{constructor(e){super(e,{code:pm.code,name:"ProviderDisconnectedError",shortMessage:"The Provider is disconnected from all chains."})}}Object.defineProperty(pm,"code",{enumerable:!0,configurable:!0,writable:!0,value:4900});class gm extends Xi{constructor(e){super(e,{code:gm.code,name:"ChainDisconnectedError",shortMessage:"The Provider is not connected to the requested chain."})}}Object.defineProperty(gm,"code",{enumerable:!0,configurable:!0,writable:!0,value:4901});class $d extends Xi{constructor(e){super(e,{code:$d.code,name:"SwitchChainError",shortMessage:"An error occurred when attempting to switch chain."})}}Object.defineProperty($d,"code",{enumerable:!0,configurable:!0,writable:!0,value:4902});class d0 extends Xi{constructor(e){super(e,{code:d0.code,name:"UnsupportedNonOptionalCapabilityError",shortMessage:"This Wallet does not support a capability that was not marked as optional."})}}Object.defineProperty(d0,"code",{enumerable:!0,configurable:!0,writable:!0,value:5700});class mm extends Xi{constructor(e){super(e,{code:mm.code,name:"UnsupportedChainIdError",shortMessage:"This Wallet does not support the requested chain ID."})}}Object.defineProperty(mm,"code",{enumerable:!0,configurable:!0,writable:!0,value:5710});class ym extends Xi{constructor(e){super(e,{code:ym.code,name:"DuplicateIdError",shortMessage:"There is already a bundle submitted with this ID."})}}Object.defineProperty(ym,"code",{enumerable:!0,configurable:!0,writable:!0,value:5720});class vm extends Xi{constructor(e){super(e,{code:vm.code,name:"UnknownBundleIdError",shortMessage:"This bundle id is unknown / has not been submitted"})}}Object.defineProperty(vm,"code",{enumerable:!0,configurable:!0,writable:!0,value:5730});class wm extends Xi{constructor(e){super(e,{code:wm.code,name:"BundleTooLargeError",shortMessage:"The call bundle is too large for the Wallet to process."})}}Object.defineProperty(wm,"code",{enumerable:!0,configurable:!0,writable:!0,value:5740});class bm extends Xi{constructor(e){super(e,{code:bm.code,name:"AtomicReadyWalletRejectedUpgradeError",shortMessage:"The Wallet can support atomicity after an upgrade, but the user rejected the upgrade."})}}Object.defineProperty(bm,"code",{enumerable:!0,configurable:!0,writable:!0,value:5750});class f0 extends Xi{constructor(e){super(e,{code:f0.code,name:"AtomicityNotSupportedError",shortMessage:"The wallet does not support atomic execution but the request requires it."})}}Object.defineProperty(f0,"code",{enumerable:!0,configurable:!0,writable:!0,value:5760});class Pme extends Pi{constructor(e){super(e,{name:"UnknownRpcError",shortMessage:"An unknown RPC error occurred."})}}const Ome=3;function Bd(t,{abi:e,address:n,args:r,docsPath:i,functionName:o,sender:s}){const a=t instanceof q2?t:t instanceof Ae?t.walk(g=>"data"in g)||t.walk():{},{code:c,data:l,details:u,message:d,shortMessage:f}=a,h=t instanceof ny?new Ame({functionName:o}):[Ome,Rd.code].includes(c)&&(l||u||d||f)?new QS({abi:e,data:typeof l=="object"?l.data:l,functionName:o,message:a instanceof V2?u:f??d}):t;return new zz(h,{abi:e,args:r,contractAddress:n,docsPath:i,functionName:o,sender:s})}function Tme(t){const e=yr(`0x${t.substring(4)}`).substring(26);return ry(`0x${e}`)}async function Mme({hash:t,signature:e}){const n=pa(t)?t:Ic(t),{secp256k1:r}=await Lt(async()=>{const{secp256k1:s}=await Promise.resolve().then(()=>rwe);return{secp256k1:s}},void 0);return`0x${(()=>{if(typeof e=="object"&&"r"in e&&"s"in e){const{r:l,s:u,v:d,yParity:f}=e,h=Number(f??d),g=_M(h);return new r.Signature(Ki(l),Ki(u)).addRecoveryBit(g)}const s=pa(e)?e:Ic(e);if(kn(s)!==65)throw new Error("invalid signature length");const a=ys(`0x${s.slice(130)}`),c=_M(a);return r.Signature.fromCompact(s.substring(2,130)).addRecoveryBit(c)})().recoverPublicKey(n.substring(2)).toHex(!1)}`}function _M(t){if(t===0||t===1)return t;if(t===27)return 0;if(t===28)return 1;throw new Error("Invalid yParityOrV value")}async function Hz({hash:t,signature:e}){return Tme(await Mme({hash:t,signature:e}))}function Nme(t,e="hex"){const n=Wz(t),r=s8(new Uint8Array(n.length));return n.encode(r),e==="hex"?Hn(r.bytes):r.bytes}function Wz(t){return Array.isArray(t)?Rme(t.map(e=>Wz(e))):Lme(t)}function Rme(t){const e=t.reduce((i,o)=>i+o.length,0),n=Kz(e);return{length:e<=55?1+e:1+n+e,encode(i){e<=55?i.pushByte(192+e):(i.pushByte(247+n),n===1?i.pushUint8(e):n===2?i.pushUint16(e):n===3?i.pushUint24(e):i.pushUint32(e));for(const{encode:o}of t)o(i)}}}function Lme(t){const e=typeof t=="string"?ga(t):t,n=Kz(e.length);return{length:e.length===1&&e[0]<128?1:e.length<=55?1+e.length:1+n+e.length,encode(i){e.length===1&&e[0]<128?i.pushBytes(e):e.length<=55?(i.pushByte(128+e.length),i.pushBytes(e)):(i.pushByte(183+n),n===1?i.pushUint8(e.length):n===2?i.pushUint16(e.length):n===3?i.pushUint24(e.length):i.pushUint32(e.length),i.pushBytes(e))}}}function Kz(t){if(t<2**8)return 1;if(t<2**16)return 2;if(t<2**24)return 3;if(t<2**32)return 4;throw new Ae("Length is too large.")}function $me(t){const{chainId:e,nonce:n,to:r}=t,i=t.contractAddress??t.address,o=yr(L0(["0x05",Nme([e?et(e):"0x",i,n?et(n):"0x"])]));return r==="bytes"?ga(o):o}async function c8(t){const{authorization:e,signature:n}=t;return Hz({hash:$me(e),signature:n??e})}class Bme extends Ae{constructor(e,{account:n,docsPath:r,chain:i,data:o,gas:s,gasPrice:a,maxFeePerGas:c,maxPriorityFeePerGas:l,nonce:u,to:d,value:f}){var g;const h=ay({from:n==null?void 0:n.address,to:d,value:typeof f<"u"&&`${a8(f)} ${((g=i==null?void 0:i.nativeCurrency)==null?void 0:g.symbol)||"ETH"}`,data:o,gas:s,gasPrice:typeof a<"u"&&`${Ei(a)} gwei`,maxFeePerGas:typeof c<"u"&&`${Ei(c)} gwei`,maxPriorityFeePerGas:typeof l<"u"&&`${Ei(l)} gwei`,nonce:u});super(e.shortMessage,{cause:e,docsPath:r,metaMessages:[...e.metaMessages?[...e.metaMessages," "]:[],"Estimate Gas Arguments:",h].filter(Boolean),name:"EstimateGasExecutionError"}),Object.defineProperty(this,"cause",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.cause=e}}class th extends Ae{constructor({cause:e,message:n}={}){var i;const r=(i=n==null?void 0:n.replace("execution reverted: ",""))==null?void 0:i.replace("execution reverted","");super(`Execution reverted ${r?`with reason: ${r}`:"for an unknown reason"}.`,{cause:e,name:"ExecutionRevertedError"})}}Object.defineProperty(th,"code",{enumerable:!0,configurable:!0,writable:!0,value:3});Object.defineProperty(th,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/execution reverted/});class rb extends Ae{constructor({cause:e,maxFeePerGas:n}={}){super(`The fee cap (\`maxFeePerGas\`${n?` = ${Ei(n)} gwei`:""}) cannot be higher than the maximum allowed value (2^256-1).`,{cause:e,name:"FeeCapTooHighError"})}}Object.defineProperty(rb,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/max fee per gas higher than 2\^256-1|fee cap higher than 2\^256-1/});class e_ extends Ae{constructor({cause:e,maxFeePerGas:n}={}){super(`The fee cap (\`maxFeePerGas\`${n?` = ${Ei(n)}`:""} gwei) cannot be lower than the block base fee.`,{cause:e,name:"FeeCapTooLowError"})}}Object.defineProperty(e_,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/max fee per gas less than block base fee|fee cap less than block base fee|transaction is outdated/});class t_ extends Ae{constructor({cause:e,nonce:n}={}){super(`Nonce provided for the transaction ${n?`(${n}) `:""}is higher than the next one expected.`,{cause:e,name:"NonceTooHighError"})}}Object.defineProperty(t_,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/nonce too high/});class n_ extends Ae{constructor({cause:e,nonce:n}={}){super([`Nonce provided for the transaction ${n?`(${n}) `:""}is lower than the current nonce of the account.`,"Try increasing the nonce or find the latest nonce with `getTransactionCount`."].join(`
`),{cause:e,name:"NonceTooLowError"})}}Object.defineProperty(n_,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/nonce too low|transaction already imported|already known/});class r_ extends Ae{constructor({cause:e,nonce:n}={}){super(`Nonce provided for the transaction ${n?`(${n}) `:""}exceeds the maximum allowed nonce.`,{cause:e,name:"NonceMaxValueError"})}}Object.defineProperty(r_,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/nonce has max value/});class i_ extends Ae{constructor({cause:e}={}){super(["The total cost (gas * gas fee + value) of executing this transaction exceeds the balance of the account."].join(`
`),{cause:e,metaMessages:["This error could arise when the account does not have enough funds to:"," - pay for the total gas fee,"," - pay for the value to send."," ","The cost of the transaction is calculated as `gas * gas fee + value`, where:"," - `gas` is the amount of gas needed for transaction to execute,"," - `gas fee` is the gas fee,"," - `value` is the amount of ether to send to the recipient."],name:"InsufficientFundsError"})}}Object.defineProperty(i_,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/insufficient funds|exceeds transaction sender account balance/});class o_ extends Ae{constructor({cause:e,gas:n}={}){super(`The amount of gas ${n?`(${n}) `:""}provided for the transaction exceeds the limit allowed for the block.`,{cause:e,name:"IntrinsicGasTooHighError"})}}Object.defineProperty(o_,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/intrinsic gas too high|gas limit reached/});class s_ extends Ae{constructor({cause:e,gas:n}={}){super(`The amount of gas ${n?`(${n}) `:""}provided for the transaction is too low.`,{cause:e,name:"IntrinsicGasTooLowError"})}}Object.defineProperty(s_,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/intrinsic gas too low/});class a_ extends Ae{constructor({cause:e}){super("The transaction type is not supported for this chain.",{cause:e,name:"TransactionTypeNotSupportedError"})}}Object.defineProperty(a_,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/transaction type not valid/});class ib extends Ae{constructor({cause:e,maxPriorityFeePerGas:n,maxFeePerGas:r}={}){super([`The provided tip (\`maxPriorityFeePerGas\`${n?` = ${Ei(n)} gwei`:""}) cannot be higher than the fee cap (\`maxFeePerGas\`${r?` = ${Ei(r)} gwei`:""}).`].join(`
`),{cause:e,name:"TipAboveFeeCapError"})}}Object.defineProperty(ib,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/max priority fee per gas higher than max fee per gas|tip higher than fee cap/});class ly extends Ae{constructor({cause:e}){super(`An error occurred while executing: ${e==null?void 0:e.shortMessage}`,{cause:e,name:"UnknownNodeError"})}}function G2(t,e){const n=(t.details||"").toLowerCase(),r=t instanceof Ae?t.walk(i=>(i==null?void 0:i.code)===th.code):t;return r instanceof Ae?new th({cause:t,message:r.details}):th.nodeMessage.test(n)?new th({cause:t,message:t.details}):rb.nodeMessage.test(n)?new rb({cause:t,maxFeePerGas:e==null?void 0:e.maxFeePerGas}):e_.nodeMessage.test(n)?new e_({cause:t,maxFeePerGas:e==null?void 0:e.maxFeePerGas}):t_.nodeMessage.test(n)?new t_({cause:t,nonce:e==null?void 0:e.nonce}):n_.nodeMessage.test(n)?new n_({cause:t,nonce:e==null?void 0:e.nonce}):r_.nodeMessage.test(n)?new r_({cause:t,nonce:e==null?void 0:e.nonce}):i_.nodeMessage.test(n)?new i_({cause:t}):o_.nodeMessage.test(n)?new o_({cause:t,gas:e==null?void 0:e.gas}):s_.nodeMessage.test(n)?new s_({cause:t,gas:e==null?void 0:e.gas}):a_.nodeMessage.test(n)?new a_({cause:t}):ib.nodeMessage.test(n)?new ib({cause:t,maxFeePerGas:e==null?void 0:e.maxFeePerGas,maxPriorityFeePerGas:e==null?void 0:e.maxPriorityFeePerGas}):new ly({cause:t})}function Dme(t,{docsPath:e,...n}){const r=(()=>{const i=G2(t,n);return i instanceof ly?t:i})();return new Bme(r,{docsPath:e,...n})}function Y2(t,{format:e}){if(!e)return{};const n={};function r(o){const s=Object.keys(o);for(const a of s)a in t&&(n[a]=t[a]),o[a]&&typeof o[a]=="object"&&!Array.isArray(o[a])&&r(o[a])}const i=e(t||{});return r(i),n}const jme={legacy:"0x0",eip2930:"0x1",eip1559:"0x2",eip4844:"0x3",eip7702:"0x4"};function $0(t,e){const n={};return typeof t.authorizationList<"u"&&(n.authorizationList=Fme(t.authorizationList)),typeof t.accessList<"u"&&(n.accessList=t.accessList),typeof t.blobVersionedHashes<"u"&&(n.blobVersionedHashes=t.blobVersionedHashes),typeof t.blobs<"u"&&(typeof t.blobs[0]!="string"?n.blobs=t.blobs.map(r=>Hn(r)):n.blobs=t.blobs),typeof t.data<"u"&&(n.data=t.data),typeof t.from<"u"&&(n.from=t.from),typeof t.gas<"u"&&(n.gas=et(t.gas)),typeof t.gasPrice<"u"&&(n.gasPrice=et(t.gasPrice)),typeof t.maxFeePerBlobGas<"u"&&(n.maxFeePerBlobGas=et(t.maxFeePerBlobGas)),typeof t.maxFeePerGas<"u"&&(n.maxFeePerGas=et(t.maxFeePerGas)),typeof t.maxPriorityFeePerGas<"u"&&(n.maxPriorityFeePerGas=et(t.maxPriorityFeePerGas)),typeof t.nonce<"u"&&(n.nonce=et(t.nonce)),typeof t.to<"u"&&(n.to=t.to),typeof t.type<"u"&&(n.type=jme[t.type]),typeof t.value<"u"&&(n.value=et(t.value)),n}function Fme(t){return t.map(e=>({address:e.address,r:e.r?et(BigInt(e.r)):e.r,s:e.s?et(BigInt(e.s)):e.s,chainId:et(e.chainId),nonce:et(e.nonce),...typeof e.yParity<"u"?{yParity:et(e.yParity)}:{},...typeof e.v<"u"&&typeof e.yParity>"u"?{v:et(e.v)}:{}}))}function CM(t){if(!(!t||t.length===0))return t.reduce((e,{slot:n,value:r})=>{if(n.length!==66)throw new gM({size:n.length,targetSize:66,type:"hex"});if(r.length!==66)throw new gM({size:r.length,targetSize:66,type:"hex"});return e[n]=r,e},{})}function Ume(t){const{balance:e,nonce:n,state:r,stateDiff:i,code:o}=t,s={};if(o!==void 0&&(s.code=o),e!==void 0&&(s.balance=et(e)),n!==void 0&&(s.nonce=et(n)),r!==void 0&&(s.state=CM(r)),i!==void 0){if(s.state)throw new wme;s.stateDiff=CM(i)}return s}function l8(t){if(!t)return;const e={};for(const{address:n,...r}of t){if(!Lo(n,{strict:!1}))throw new fu({address:n});if(e[n])throw new vme({address:n});e[n]=Ume(r)}return e}const kxe=2n**16n-1n,zme=2n**256n-1n;function nf(t){const{account:e,gasPrice:n,maxFeePerGas:r,maxPriorityFeePerGas:i,to:o}=t,s=e?Rn(e):void 0;if(s&&!Lo(s.address))throw new fu({address:s.address});if(o&&!Lo(o))throw new fu({address:o});if(typeof n<"u"&&(typeof r<"u"||typeof i<"u"))throw new Eme;if(r&&r>zme)throw new rb({maxFeePerGas:r});if(i&&r&&i>r)throw new ib({maxFeePerGas:r,maxPriorityFeePerGas:i})}class Hme extends Ae{constructor(){super("`baseFeeMultiplier` must be greater than 1.",{name:"BaseFeeScalarError"})}}class u8 extends Ae{constructor(){super("Chain does not support EIP-1559 fees.",{name:"Eip1559FeesNotSupportedError"})}}class Wme extends Ae{constructor({maxPriorityFeePerGas:e}){super(`\`maxFeePerGas\` cannot be less than the \`maxPriorityFeePerGas\` (${Ei(e)} gwei).`,{name:"MaxFeePerGasTooLowError"})}}class qz extends Ae{constructor({blockHash:e,blockNumber:n}){let r="Block";e&&(r=`Block at hash "${e}"`),n&&(r=`Block at number "${n}"`),super(`${r} could not be found.`,{name:"BlockNotFoundError"})}}const Vz={"0x0":"legacy","0x1":"eip2930","0x2":"eip1559","0x3":"eip4844","0x4":"eip7702"};function Gz(t,e){const n={...t,blockHash:t.blockHash?t.blockHash:null,blockNumber:t.blockNumber?BigInt(t.blockNumber):null,chainId:t.chainId?ys(t.chainId):void 0,gas:t.gas?BigInt(t.gas):void 0,gasPrice:t.gasPrice?BigInt(t.gasPrice):void 0,maxFeePerBlobGas:t.maxFeePerBlobGas?BigInt(t.maxFeePerBlobGas):void 0,maxFeePerGas:t.maxFeePerGas?BigInt(t.maxFeePerGas):void 0,maxPriorityFeePerGas:t.maxPriorityFeePerGas?BigInt(t.maxPriorityFeePerGas):void 0,nonce:t.nonce?ys(t.nonce):void 0,to:t.to?t.to:null,transactionIndex:t.transactionIndex?Number(t.transactionIndex):null,type:t.type?Vz[t.type]:void 0,typeHex:t.type?t.type:void 0,value:t.value?BigInt(t.value):void 0,v:t.v?BigInt(t.v):void 0};return t.authorizationList&&(n.authorizationList=Kme(t.authorizationList)),n.yParity=(()=>{if(t.yParity)return Number(t.yParity);if(typeof n.v=="bigint"){if(n.v===0n||n.v===27n)return 0;if(n.v===1n||n.v===28n)return 1;if(n.v>=35n)return n.v%2n===0n?1:0}})(),n.type==="legacy"&&(delete n.accessList,delete n.maxFeePerBlobGas,delete n.maxFeePerGas,delete n.maxPriorityFeePerGas,delete n.yParity),n.type==="eip2930"&&(delete n.maxFeePerBlobGas,delete n.maxFeePerGas,delete n.maxPriorityFeePerGas),n.type==="eip1559"&&delete n.maxFeePerBlobGas,n}function Kme(t){return t.map(e=>({address:e.address,chainId:Number(e.chainId),nonce:Number(e.nonce),r:e.r,s:e.s,yParity:Number(e.yParity)}))}function Yz(t,e){const n=(t.transactions??[]).map(r=>typeof r=="string"?r:Gz(r));return{...t,baseFeePerGas:t.baseFeePerGas?BigInt(t.baseFeePerGas):null,blobGasUsed:t.blobGasUsed?BigInt(t.blobGasUsed):void 0,difficulty:t.difficulty?BigInt(t.difficulty):void 0,excessBlobGas:t.excessBlobGas?BigInt(t.excessBlobGas):void 0,gasLimit:t.gasLimit?BigInt(t.gasLimit):void 0,gasUsed:t.gasUsed?BigInt(t.gasUsed):void 0,hash:t.hash?t.hash:null,logsBloom:t.logsBloom?t.logsBloom:null,nonce:t.nonce?t.nonce:null,number:t.number?BigInt(t.number):null,size:t.size?BigInt(t.size):void 0,timestamp:t.timestamp?BigInt(t.timestamp):void 0,transactions:n,totalDifficulty:t.totalDifficulty?BigInt(t.totalDifficulty):null}}async function Js(t,{blockHash:e,blockNumber:n,blockTag:r=t.experimental_blockTag??"latest",includeTransactions:i}={}){var l,u,d;const o=i??!1,s=n!==void 0?et(n):void 0;let a=null;if(e?a=await t.request({method:"eth_getBlockByHash",params:[e,o]},{dedupe:!0}):a=await t.request({method:"eth_getBlockByNumber",params:[s||r,o]},{dedupe:!!s}),!a)throw new qz({blockHash:e,blockNumber:n});return(((d=(u=(l=t.chain)==null?void 0:l.formatters)==null?void 0:u.block)==null?void 0:d.format)||Yz)(a,"getBlock")}async function d8(t){const e=await t.request({method:"eth_gasPrice"});return BigInt(e)}async function qme(t,e){return Jz(t,e)}async function Jz(t,e){var o,s;const{block:n,chain:r=t.chain,request:i}=e||{};try{const a=((o=r==null?void 0:r.fees)==null?void 0:o.maxPriorityFeePerGas)??((s=r==null?void 0:r.fees)==null?void 0:s.defaultPriorityFee);if(typeof a=="function"){const l=n||await rt(t,Js,"getBlock")({}),u=await a({block:l,client:t,request:i});if(u===null)throw new Error;return u}if(typeof a<"u")return a;const c=await t.request({method:"eth_maxPriorityFeePerGas"});return Ki(c)}catch{const[a,c]=await Promise.all([n?Promise.resolve(n):rt(t,Js,"getBlock")({}),rt(t,d8,"getGasPrice")({})]);if(typeof a.baseFeePerGas!="bigint")throw new u8;const l=c-a.baseFeePerGas;return l<0n?0n:l}}async function Vme(t,e){return c_(t,e)}async function c_(t,e){var f,h;const{block:n,chain:r=t.chain,request:i,type:o="eip1559"}=e||{},s=await(async()=>{var g,p;return typeof((g=r==null?void 0:r.fees)==null?void 0:g.baseFeeMultiplier)=="function"?r.fees.baseFeeMultiplier({block:n,client:t,request:i}):((p=r==null?void 0:r.fees)==null?void 0:p.baseFeeMultiplier)??1.2})();if(s<1)throw new Hme;const c=10**(((f=s.toString().split(".")[1])==null?void 0:f.length)??0),l=g=>g*BigInt(Math.ceil(s*c))/BigInt(c),u=n||await rt(t,Js,"getBlock")({});if(typeof((h=r==null?void 0:r.fees)==null?void 0:h.estimateFeesPerGas)=="function"){const g=await r.fees.estimateFeesPerGas({block:n,client:t,multiply:l,request:i,type:o});if(g!==null)return g}if(o==="eip1559"){if(typeof u.baseFeePerGas!="bigint")throw new u8;const g=typeof(i==null?void 0:i.maxPriorityFeePerGas)=="bigint"?i.maxPriorityFeePerGas:await Jz(t,{block:u,chain:r,request:i}),p=l(u.baseFeePerGas);return{maxFeePerGas:(i==null?void 0:i.maxFeePerGas)??p+g,maxPriorityFeePerGas:g}}return{gasPrice:(i==null?void 0:i.gasPrice)??l(await rt(t,d8,"getGasPrice")({}))}}async function f8(t,{address:e,blockTag:n="latest",blockNumber:r}){const i=await t.request({method:"eth_getTransactionCount",params:[e,typeof r=="bigint"?et(r):n]},{dedupe:!!r});return ys(i)}function Zz(t){const{kzg:e}=t,n=t.to??(typeof t.blobs[0]=="string"?"hex":"bytes"),r=typeof t.blobs[0]=="string"?t.blobs.map(o=>ga(o)):t.blobs,i=[];for(const o of r)i.push(Uint8Array.from(e.blobToKzgCommitment(o)));return n==="bytes"?i:i.map(o=>Hn(o))}function Qz(t){const{kzg:e}=t,n=t.to??(typeof t.blobs[0]=="string"?"hex":"bytes"),r=typeof t.blobs[0]=="string"?t.blobs.map(s=>ga(s)):t.blobs,i=typeof t.commitments[0]=="string"?t.commitments.map(s=>ga(s)):t.commitments,o=[];for(let s=0;s<r.length;s++){const a=r[s],c=i[s];o.push(Uint8Array.from(e.computeBlobKzgProof(a,c)))}return n==="bytes"?o:o.map(s=>Hn(s))}function Gme(t,e){return yY(pa(t,{strict:!1})?R0(t):t)}function Yme(t){const{commitment:e,version:n=1}=t,r=t.to??(typeof e=="string"?"hex":"bytes"),i=Gme(e);return i.set([n],0),r==="bytes"?i:Hn(i)}function Jme(t){const{commitments:e,version:n}=t,r=t.to,i=[];for(const o of e)i.push(Yme({commitment:o,to:r,version:n}));return i}const AM=6,Xz=32,h8=4096,eH=Xz*h8,IM=eH*AM-1-1*h8*AM;class Zme extends Ae{constructor({maxSize:e,size:n}){super("Blob size is too large.",{metaMessages:[`Max: ${e} bytes`,`Given: ${n} bytes`],name:"BlobSizeTooLargeError"})}}class Qme extends Ae{constructor(){super("Blob data must not be empty.",{name:"EmptyBlobError"})}}function Xme(t){const e=typeof t.data=="string"?ga(t.data):t.data,n=kn(e);if(!n)throw new Qme;if(n>IM)throw new Zme({maxSize:IM,size:n});const r=[];let i=!0,o=0;for(;i;){const s=s8(new Uint8Array(eH));let a=0;for(;a<h8;){const c=e.slice(o,o+(Xz-1));if(s.pushByte(0),s.pushBytes(c),c.length<31){s.pushByte(128),i=!1;break}a++,o+=31}r.push(s)}return r.map(s=>Hn(s.bytes))}function eye(t){const{data:e,kzg:n,to:r}=t,i=t.blobs??Xme({data:e}),o=t.commitments??Zz({blobs:i,kzg:n,to:r}),s=t.proofs??Qz({blobs:i,commitments:o,kzg:n,to:r}),a=[];for(let c=0;c<i.length;c++)a.push({blob:i[c],commitment:o[c],proof:s[c]});return a}function tye(t){if(t.type)return t.type;if(typeof t.authorizationList<"u")return"eip7702";if(typeof t.blobs<"u"||typeof t.blobVersionedHashes<"u"||typeof t.maxFeePerBlobGas<"u"||typeof t.sidecars<"u")return"eip4844";if(typeof t.maxFeePerGas<"u"||typeof t.maxPriorityFeePerGas<"u")return"eip1559";if(typeof t.gasPrice<"u")return typeof t.accessList<"u"?"eip2930":"legacy";throw new xme({transaction:t})}async function B0(t){const e=await t.request({method:"eth_chainId"},{dedupe:!0});return ys(e)}const tH=["blobVersionedHashes","chainId","fees","gas","nonce","type"],kM=new Map;async function J2(t,e){const{account:n=t.account,blobs:r,chain:i,gas:o,kzg:s,nonce:a,nonceManager:c,parameters:l=tH,type:u}=e,d=n&&Rn(n),f={...e,...d?{from:d==null?void 0:d.address}:{}};let h;async function g(){return h||(h=await rt(t,Js,"getBlock")({blockTag:"latest"}),h)}let p;async function S(){return p||(i?i.id:typeof e.chainId<"u"?e.chainId:(p=await rt(t,B0,"getChainId")({}),p))}if(l.includes("nonce")&&typeof a>"u"&&d)if(c){const y=await S();f.nonce=await c.consume({address:d.address,chainId:y,client:t})}else f.nonce=await rt(t,f8,"getTransactionCount")({address:d.address,blockTag:"pending"});if((l.includes("blobVersionedHashes")||l.includes("sidecars"))&&r&&s){const y=Zz({blobs:r,kzg:s});if(l.includes("blobVersionedHashes")){const b=Jme({commitments:y,to:"hex"});f.blobVersionedHashes=b}if(l.includes("sidecars")){const b=Qz({blobs:r,commitments:y,kzg:s}),_=eye({blobs:r,commitments:y,proofs:b,to:"hex"});f.sidecars=_}}if(l.includes("chainId")&&(f.chainId=await S()),(l.includes("fees")||l.includes("type"))&&typeof u>"u")try{f.type=tye(f)}catch{let y=kM.get(t.uid);if(typeof y>"u"){const b=await g();y=typeof(b==null?void 0:b.baseFeePerGas)=="bigint",kM.set(t.uid,y)}f.type=y?"eip1559":"legacy"}if(l.includes("fees"))if(f.type!=="legacy"&&f.type!=="eip2930"){if(typeof f.maxFeePerGas>"u"||typeof f.maxPriorityFeePerGas>"u"){const y=await g(),{maxFeePerGas:b,maxPriorityFeePerGas:_}=await c_(t,{block:y,chain:i,request:f});if(typeof e.maxPriorityFeePerGas>"u"&&e.maxFeePerGas&&e.maxFeePerGas<_)throw new Wme({maxPriorityFeePerGas:_});f.maxPriorityFeePerGas=_,f.maxFeePerGas=b}}else{if(typeof e.maxFeePerGas<"u"||typeof e.maxPriorityFeePerGas<"u")throw new u8;if(typeof e.gasPrice>"u"){const y=await g(),{gasPrice:b}=await c_(t,{block:y,chain:i,request:f,type:"legacy"});f.gasPrice=b}}return l.includes("gas")&&typeof o>"u"&&(f.gas=await rt(t,p8,"estimateGas")({...f,account:d&&{address:d.address,type:"json-rpc"}})),nf(f),delete f.parameters,f}async function p8(t,e){var i,o,s;const{account:n=t.account}=e,r=n?Rn(n):void 0;try{const{accessList:a,authorizationList:c,blobs:l,blobVersionedHashes:u,blockNumber:d,blockTag:f,data:h,gas:g,gasPrice:p,maxFeePerBlobGas:S,maxFeePerGas:y,maxPriorityFeePerGas:b,nonce:_,value:N,stateOverride:O,...$}=await J2(t,{...e,parameters:(r==null?void 0:r.type)==="local"?void 0:["blobVersionedHashes"]}),k=(typeof d=="bigint"?et(d):void 0)||f,T=l8(O),L=await(async()=>{if($.to)return $.to;if(c&&c.length>0)return await c8({authorization:c[0]}).catch(()=>{throw new Ae("`to` is required. Could not infer from `authorizationList`")})})();nf(e);const P=(s=(o=(i=t.chain)==null?void 0:i.formatters)==null?void 0:o.transactionRequest)==null?void 0:s.format,w=(P||$0)({...Y2($,{format:P}),from:r==null?void 0:r.address,accessList:a,authorizationList:c,blobs:l,blobVersionedHashes:u,data:h,gas:g,gasPrice:p,maxFeePerBlobGas:S,maxFeePerGas:y,maxPriorityFeePerGas:b,nonce:_,to:L,value:N},"estimateGas");return BigInt(await t.request({method:"eth_estimateGas",params:T?[w,k??t.experimental_blockTag??"latest",T]:k?[w,k]:[w]}))}catch(a){throw Dme(a,{...e,account:r,chain:t.chain})}}async function nye(t,e){const{abi:n,address:r,args:i,functionName:o,dataSuffix:s,...a}=e,c=Qi({abi:n,args:i,functionName:o});try{return await rt(t,p8,"estimateGas")({data:`${c}${s?s.replace("0x",""):""}`,to:r,...a})}catch(l){const u=a.account?Rn(a.account):void 0;throw Bd(l,{abi:n,address:r,args:i,docsPath:"/docs/contract/estimateContractGas",functionName:o,sender:u==null?void 0:u.address})}}function uy(t,e){if(!Lo(t,{strict:!1}))throw new fu({address:t});if(!Lo(e,{strict:!1}))throw new fu({address:e});return t.toLowerCase()===e.toLowerCase()}const PM="/docs/contract/decodeEventLog";function g8(t){const{abi:e,data:n,strict:r,topics:i}=t,o=r??!0,[s,...a]=i;if(!s)throw new Ege({docsPath:PM});const c=e.find(p=>p.type==="event"&&s===H2(ms(p)));if(!(c&&"name"in c)||c.type!=="event")throw new Ez(s,{docsPath:PM});const{name:l,inputs:u}=c,d=u==null?void 0:u.some(p=>!("name"in p&&p.name)),f=d?[]:{},h=u.map((p,S)=>[p,S]).filter(([p])=>"indexed"in p&&p.indexed);for(let p=0;p<h.length;p++){const[S,y]=h[p],b=a[p];if(!b)throw new z2({abiItem:c,param:S});f[d?y:S.name||y]=rye({param:S,value:b})}const g=u.filter(p=>!("indexed"in p&&p.indexed));if(g.length>0){if(n&&n!=="0x")try{const p=sy(g,n);if(p)if(d)for(let S=0;S<u.length;S++)f[S]=f[S]??p.shift();else for(let S=0;S<g.length;S++)f[g[S].name]=p[S]}catch(p){if(o)throw p instanceof wz||p instanceof $z?new rm({abiItem:c,data:n,params:g,size:kn(n)}):p}else if(o)throw new rm({abiItem:c,data:"0x",params:g,size:0})}return{eventName:l,args:Object.values(f).length>0?f:void 0}}function rye({param:t,value:e}){return t.type==="string"||t.type==="bytes"||t.type==="tuple"||t.type.match(/^(.*)\[(\d+)?\]$/)?e:(sy([t],e)||[])[0]}function m8(t){const{abi:e,args:n,logs:r,strict:i=!0}=t,o=(()=>{if(t.eventName)return Array.isArray(t.eventName)?t.eventName:[t.eventName]})();return r.map(s=>{var a;try{const c=e.find(u=>u.type==="event"&&s.topics[0]===H2(u));if(!c)return null;const l=g8({...s,abi:[c],strict:i});return o&&!o.includes(l.eventName)||!iye({args:l.args,inputs:c.inputs,matchArgs:n})?null:{...l,...s}}catch(c){let l,u;if(c instanceof Ez)return null;if(c instanceof rm||c instanceof z2){if(i)return null;l=c.abiItem.name,u=(a=c.abiItem.inputs)==null?void 0:a.some(d=>!("name"in d&&d.name))}return{...s,args:u?[]:{},eventName:l}}}).filter(Boolean)}function iye(t){const{args:e,inputs:n,matchArgs:r}=t;if(!r)return!0;if(!e)return!1;function i(o,s,a){try{return o.type==="address"?uy(s,a):o.type==="string"||o.type==="bytes"?yr(R0(s))===a:s===a}catch{return!1}}return Array.isArray(e)&&Array.isArray(r)?r.every((o,s)=>{if(o==null)return!0;const a=n[s];return a?(Array.isArray(o)?o:[o]).some(l=>i(a,l,e[s])):!1}):typeof e=="object"&&!Array.isArray(e)&&typeof r=="object"&&!Array.isArray(r)?Object.entries(r).every(([o,s])=>{if(s==null)return!0;const a=n.find(l=>l.name===o);return a?(Array.isArray(s)?s:[s]).some(l=>i(a,l,e[o])):!1}):!1}function kc(t,{args:e,eventName:n}={}){return{...t,blockHash:t.blockHash?t.blockHash:null,blockNumber:t.blockNumber?BigInt(t.blockNumber):null,logIndex:t.logIndex?Number(t.logIndex):null,transactionHash:t.transactionHash?t.transactionHash:null,transactionIndex:t.transactionIndex?Number(t.transactionIndex):null,...n?{args:e,eventName:n}:{}}}async function y8(t,{address:e,blockHash:n,fromBlock:r,toBlock:i,event:o,events:s,args:a,strict:c}={}){const l=c??!1,u=s??(o?[o]:void 0);let d=[];u&&(d=[u.flatMap(p=>oy({abi:[p],eventName:p.name,args:s?void 0:a}))],o&&(d=d[0]));let f;n?f=await t.request({method:"eth_getLogs",params:[{address:e,topics:d,blockHash:n}]}):f=await t.request({method:"eth_getLogs",params:[{address:e,topics:d,fromBlock:typeof r=="bigint"?et(r):r,toBlock:typeof i=="bigint"?et(i):i}]});const h=f.map(g=>kc(g));return u?m8({abi:u,args:a,logs:h,strict:l}):h}async function nH(t,e){const{abi:n,address:r,args:i,blockHash:o,eventName:s,fromBlock:a,toBlock:c,strict:l}=e,u=s?tf({abi:n,name:s}):void 0,d=u?void 0:n.filter(f=>f.type==="event");return rt(t,y8,"getLogs")({address:r,args:i,blockHash:o,event:u,events:d,fromBlock:a,toBlock:c,strict:l})}const F6="/docs/contract/decodeFunctionResult";function rf(t){const{abi:e,args:n,functionName:r,data:i}=t;let o=e[0];if(r){const a=tf({abi:e,args:n,name:r});if(!a)throw new a0(r,{docsPath:F6});o=a}if(o.type!=="function")throw new a0(void 0,{docsPath:F6});if(!o.outputs)throw new xz(o.name,{docsPath:F6});const s=sy(o.outputs,i);if(s&&s.length>1)return s;if(s&&s.length===1)return s[0]}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const v8=BigInt(0),l_=BigInt(1);function dy(t){return t instanceof Uint8Array||ArrayBuffer.isView(t)&&t.constructor.name==="Uint8Array"}function w8(t){if(!dy(t))throw new Error("Uint8Array expected")}function Em(t,e){if(typeof e!="boolean")throw new Error(t+" boolean expected, got "+e)}function P1(t){const e=t.toString(16);return e.length&1?"0"+e:e}function rH(t){if(typeof t!="string")throw new Error("hex string expected, got "+typeof t);return t===""?v8:BigInt("0x"+t)}const iH=typeof Uint8Array.from([]).toHex=="function"&&typeof Uint8Array.fromHex=="function",oye=Array.from({length:256},(t,e)=>e.toString(16).padStart(2,"0"));function xm(t){if(w8(t),iH)return t.toHex();let e="";for(let n=0;n<t.length;n++)e+=oye[t[n]];return e}const Ma={_0:48,_9:57,A:65,F:70,a:97,f:102};function OM(t){if(t>=Ma._0&&t<=Ma._9)return t-Ma._0;if(t>=Ma.A&&t<=Ma.F)return t-(Ma.A-10);if(t>=Ma.a&&t<=Ma.f)return t-(Ma.a-10)}function ob(t){if(typeof t!="string")throw new Error("hex string expected, got "+typeof t);if(iH)return Uint8Array.fromHex(t);const e=t.length,n=e/2;if(e%2)throw new Error("hex string expected, got unpadded hex of length "+e);const r=new Uint8Array(n);for(let i=0,o=0;i<n;i++,o+=2){const s=OM(t.charCodeAt(o)),a=OM(t.charCodeAt(o+1));if(s===void 0||a===void 0){const c=t[o]+t[o+1];throw new Error('hex string expected, got non-hex character "'+c+'" at index '+o)}r[i]=s*16+a}return r}function wd(t){return rH(xm(t))}function oH(t){return w8(t),rH(xm(Uint8Array.from(t).reverse()))}function fy(t,e){return ob(t.toString(16).padStart(e*2,"0"))}function sH(t,e){return fy(t,e).reverse()}function vo(t,e,n){let r;if(typeof e=="string")try{r=ob(e)}catch(o){throw new Error(t+" must be hex string or Uint8Array, cause: "+o)}else if(dy(e))r=Uint8Array.from(e);else throw new Error(t+" must be hex string or Uint8Array");const i=r.length;if(typeof n=="number"&&i!==n)throw new Error(t+" of length "+n+" expected, got "+i);return r}function sb(...t){let e=0;for(let r=0;r<t.length;r++){const i=t[r];w8(i),e+=i.length}const n=new Uint8Array(e);for(let r=0,i=0;r<t.length;r++){const o=t[r];n.set(o,i),i+=o.length}return n}const U6=t=>typeof t=="bigint"&&v8<=t;function b8(t,e,n){return U6(t)&&U6(e)&&U6(n)&&e<=t&&t<n}function Ch(t,e,n,r){if(!b8(e,n,r))throw new Error("expected valid "+t+": "+n+" <= n < "+r+", got "+e)}function sye(t){let e;for(e=0;t>v8;t>>=l_,e+=1);return e}const Z2=t=>(l_<<BigInt(t))-l_,z6=t=>new Uint8Array(t),TM=t=>Uint8Array.from(t);function aye(t,e,n){if(typeof t!="number"||t<2)throw new Error("hashLen must be a number");if(typeof e!="number"||e<2)throw new Error("qByteLen must be a number");if(typeof n!="function")throw new Error("hmacFn must be a function");let r=z6(t),i=z6(t),o=0;const s=()=>{r.fill(1),i.fill(0),o=0},a=(...d)=>n(i,r,...d),c=(d=z6(0))=>{i=a(TM([0]),d),r=a(),d.length!==0&&(i=a(TM([1]),d),r=a())},l=()=>{if(o++>=1e3)throw new Error("drbg: tried 1000 values");let d=0;const f=[];for(;d<e;){r=a();const h=r.slice();f.push(h),d+=r.length}return sb(...f)};return(d,f)=>{s(),c(d);let h;for(;!(h=f(l()));)c();return s(),h}}const cye={bigint:t=>typeof t=="bigint",function:t=>typeof t=="function",boolean:t=>typeof t=="boolean",string:t=>typeof t=="string",stringOrUint8Array:t=>typeof t=="string"||dy(t),isSafeInteger:t=>Number.isSafeInteger(t),array:t=>Array.isArray(t),field:(t,e)=>e.Fp.isValid(t),hash:t=>typeof t=="function"&&Number.isSafeInteger(t.outputLen)};function Q2(t,e,n={}){const r=(i,o,s)=>{const a=cye[o];if(typeof a!="function")throw new Error("invalid validator function");const c=t[i];if(!(s&&c===void 0)&&!a(c,t))throw new Error("param "+String(i)+" is invalid. Expected "+o+", got "+c)};for(const[i,o]of Object.entries(e))r(i,o,!1);for(const[i,o]of Object.entries(n))r(i,o,!0);return t}function MM(t){const e=new WeakMap;return(n,...r)=>{const i=e.get(n);if(i!==void 0)return i;const o=t(n,...r);return e.set(n,o),o}}const lye="0.1.1";function uye(){return lye}let Nt=class u_ extends Error{constructor(e,n={}){const r=(()=>{var c;if(n.cause instanceof u_){if(n.cause.details)return n.cause.details;if(n.cause.shortMessage)return n.cause.shortMessage}return n.cause&&"details"in n.cause&&typeof n.cause.details=="string"?n.cause.details:(c=n.cause)!=null&&c.message?n.cause.message:n.details})(),i=n.cause instanceof u_&&n.cause.docsPath||n.docsPath,s=`https://oxlib.sh${i??""}`,a=[e||"An error occurred.",...n.metaMessages?["",...n.metaMessages]:[],...r||i?["",r?`Details: ${r}`:void 0,i?`See: ${s}`:void 0]:[]].filter(c=>typeof c=="string").join(`
`);super(a,n.cause?{cause:n.cause}:void 0),Object.defineProperty(this,"details",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"docs",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"docsPath",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"shortMessage",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"cause",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"BaseError"}),Object.defineProperty(this,"version",{enumerable:!0,configurable:!0,writable:!0,value:`ox@${uye()}`}),this.cause=n.cause,this.details=r,this.docs=s,this.docsPath=i,this.shortMessage=e}walk(e){return aH(this,e)}};function aH(t,e){return e!=null&&e(t)?t:t&&typeof t=="object"&&"cause"in t&&t.cause?aH(t.cause,e):e?null:t}function hy(t,e){if(nh(t)>e)throw new Iye({givenSize:nh(t),maxSize:e})}const Na={zero:48,nine:57,A:65,F:70,a:97,f:102};function NM(t){if(t>=Na.zero&&t<=Na.nine)return t-Na.zero;if(t>=Na.A&&t<=Na.F)return t-(Na.A-10);if(t>=Na.a&&t<=Na.f)return t-(Na.a-10)}function dye(t,e={}){const{dir:n,size:r=32}=e;if(r===0)return t;if(t.length>r)throw new kye({size:t.length,targetSize:r,type:"Bytes"});const i=new Uint8Array(r);for(let o=0;o<r;o++){const s=n==="right";i[s?o:r-o-1]=t[s?o:t.length-o-1]}return i}function cH(t,e={}){const{dir:n="left"}=e;let r=t,i=0;for(let o=0;o<r.length-1&&r[n==="left"?o:r.length-o-1].toString()==="0";o++)i++;return r=n==="left"?r.slice(i):r.slice(0,r.length-i),r}function X2(t,e){if(qi(t)>e)throw new Rye({givenSize:qi(t),maxSize:e})}function fye(t,e){if(typeof e=="number"&&e>0&&e>qi(t)-1)throw new yH({offset:e,position:"start",size:qi(t)})}function hye(t,e,n){if(typeof e=="number"&&typeof n=="number"&&qi(t)!==n-e)throw new yH({offset:n,position:"end",size:qi(t)})}function lH(t,e={}){const{dir:n,size:r=32}=e;if(r===0)return t;const i=t.replace("0x","");if(i.length>r*2)throw new Lye({size:Math.ceil(i.length/2),targetSize:r,type:"Hex"});return`0x${i[n==="right"?"padEnd":"padStart"](r*2,"0")}`}const pye="#__bigint";function uH(t,e,n){return JSON.stringify(t,(r,i)=>typeof i=="bigint"?i.toString()+pye:i,n)}const gye=new TextDecoder,mye=new TextEncoder;function yye(t){return t instanceof Uint8Array?t:typeof t=="string"?dH(t):vye(t)}function vye(t){return t instanceof Uint8Array?t:new Uint8Array(t)}function dH(t,e={}){const{size:n}=e;let r=t;n&&(X2(t,n),r=jd(t,n));let i=r.slice(2);i.length%2&&(i=`0${i}`);const o=i.length/2,s=new Uint8Array(o);for(let a=0,c=0;a<o;a++){const l=NM(i.charCodeAt(c++)),u=NM(i.charCodeAt(c++));if(l===void 0||u===void 0)throw new Nt(`Invalid byte sequence ("${i[c-2]}${i[c-1]}" in "${i}").`);s[a]=l*16+u}return s}function wye(t,e={}){const{size:n}=e,r=mye.encode(t);return typeof n=="number"?(hy(r,n),bye(r,n)):r}function bye(t,e){return dye(t,{dir:"right",size:e})}function nh(t){return t.length}function Eye(t,e,n,r={}){const{strict:i}=r;return t.slice(e,n)}function xye(t,e={}){const{size:n}=e;typeof n<"u"&&hy(t,n);const r=ws(t,e);return pH(r,e)}function Sye(t,e={}){const{size:n}=e;let r=t;if(typeof n<"u"&&(hy(r,n),r=fH(r)),r.length>1||r[0]>1)throw new Aye(r);return!!r[0]}function hc(t,e={}){const{size:n}=e;typeof n<"u"&&hy(t,n);const r=ws(t,e);return gH(r,e)}function _ye(t,e={}){const{size:n}=e;let r=t;return typeof n<"u"&&(hy(r,n),r=Cye(r)),gye.decode(r)}function fH(t){return cH(t,{dir:"left"})}function Cye(t){return cH(t,{dir:"right"})}class Aye extends Nt{constructor(e){super(`Bytes value \`${e}\` is not a valid boolean.`,{metaMessages:["The bytes array must contain a single byte of either a `0` or `1` value."]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Bytes.InvalidBytesBooleanError"})}}let Iye=class extends Nt{constructor({givenSize:e,maxSize:n}){super(`Size cannot exceed \`${n}\` bytes. Given size: \`${e}\` bytes.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Bytes.SizeOverflowError"})}},kye=class extends Nt{constructor({size:e,targetSize:n,type:r}){super(`${r.charAt(0).toUpperCase()}${r.slice(1).toLowerCase()} size (\`${e}\`) exceeds padding size (\`${n}\`).`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Bytes.SizeExceedsPaddingSizeError"})}};const Pye=new TextEncoder,Oye=Array.from({length:256},(t,e)=>e.toString(16).padStart(2,"0"));function Tye(t,e={}){const{strict:n=!1}=e;if(!t)throw new RM(t);if(typeof t!="string")throw new RM(t);if(n&&!/^0x[0-9a-fA-F]*$/.test(t))throw new LM(t);if(!t.startsWith("0x"))throw new LM(t)}function vs(...t){return`0x${t.reduce((e,n)=>e+n.replace("0x",""),"")}`}function Mye(t){return t instanceof Uint8Array?ws(t):Array.isArray(t)?ws(new Uint8Array(t)):t}function hH(t,e={}){const n=`0x${Number(t)}`;return typeof e.size=="number"?(X2(n,e.size),Dd(n,e.size)):n}function ws(t,e={}){let n="";for(let i=0;i<t.length;i++)n+=Oye[t[i]];const r=`0x${n}`;return typeof e.size=="number"?(X2(r,e.size),jd(r,e.size)):r}function qr(t,e={}){const{signed:n,size:r}=e,i=BigInt(t);let o;r?n?o=(1n<<BigInt(r)*8n-1n)-1n:o=2n**(BigInt(r)*8n)-1n:typeof t=="number"&&(o=BigInt(Number.MAX_SAFE_INTEGER));const s=typeof o=="bigint"&&n?-o-1n:0;if(o&&i>o||i<s){const l=typeof t=="bigint"?"n":"";throw new mH({max:o?`${o}${l}`:void 0,min:`${s}${l}`,signed:n,size:r,value:`${t}${l}`})}const c=`0x${(n&&i<0?(1n<<BigInt(r*8))+BigInt(i):i).toString(16)}`;return r?Dd(c,r):c}function E8(t,e={}){return ws(Pye.encode(t),e)}function Dd(t,e){return lH(t,{dir:"left",size:e})}function jd(t,e){return lH(t,{dir:"right",size:e})}function aa(t,e,n,r={}){const{strict:i}=r;fye(t,e);const o=`0x${t.replace("0x","").slice((e??0)*2,(n??t.length)*2)}`;return i&&hye(o,e,n),o}function qi(t){return Math.ceil((t.length-2)/2)}function pH(t,e={}){const{signed:n}=e;e.size&&X2(t,e.size);const r=BigInt(t);if(!n)return r;const i=(t.length-2)/2,o=(1n<<BigInt(i)*8n)-1n,s=o>>1n;return r<=s?r:r-o-1n}function gH(t,e={}){const{signed:n,size:r}=e;return Number(!n&&!r?t:pH(t,e))}function Nye(t,e={}){const{strict:n=!1}=e;try{return Tye(t,{strict:n}),!0}catch{return!1}}class mH extends Nt{constructor({max:e,min:n,signed:r,size:i,value:o}){super(`Number \`${o}\` is not in safe${i?` ${i*8}-bit`:""}${r?" signed":" unsigned"} integer range ${e?`(\`${n}\` to \`${e}\`)`:`(above \`${n}\`)`}`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Hex.IntegerOutOfRangeError"})}}class RM extends Nt{constructor(e){super(`Value \`${typeof e=="object"?uH(e):e}\` of type \`${typeof e}\` is an invalid hex type.`,{metaMessages:['Hex types must be represented as `"0x${string}"`.']}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Hex.InvalidHexTypeError"})}}class LM extends Nt{constructor(e){super(`Value \`${e}\` is an invalid hex value.`,{metaMessages:['Hex values must start with `"0x"` and contain only hexadecimal characters (0-9, a-f, A-F).']}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Hex.InvalidHexValueError"})}}class Rye extends Nt{constructor({givenSize:e,maxSize:n}){super(`Size cannot exceed \`${n}\` bytes. Given size: \`${e}\` bytes.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Hex.SizeOverflowError"})}}class yH extends Nt{constructor({offset:e,position:n,size:r}){super(`Slice ${n==="start"?"starting":"ending"} at offset \`${e}\` is out-of-bounds (size: \`${r}\`).`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Hex.SliceOffsetOutOfBoundsError"})}}class Lye extends Nt{constructor({size:e,targetSize:n,type:r}){super(`${r.charAt(0).toUpperCase()}${r.slice(1).toLowerCase()} size (\`${e}\`) exceeds padding size (\`${n}\`).`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Hex.SizeExceedsPaddingSizeError"})}}function $ye(t){return{address:t.address,amount:qr(t.amount),index:qr(t.index),validatorIndex:qr(t.validatorIndex)}}function vH(t){return{...typeof t.baseFeePerGas=="bigint"&&{baseFeePerGas:qr(t.baseFeePerGas)},...typeof t.blobBaseFee=="bigint"&&{blobBaseFee:qr(t.blobBaseFee)},...typeof t.feeRecipient=="string"&&{feeRecipient:t.feeRecipient},...typeof t.gasLimit=="bigint"&&{gasLimit:qr(t.gasLimit)},...typeof t.number=="bigint"&&{number:qr(t.number)},...typeof t.prevRandao=="bigint"&&{prevRandao:qr(t.prevRandao)},...typeof t.time=="bigint"&&{time:qr(t.time)},...t.withdrawals&&{withdrawals:t.withdrawals.map($ye)}}}const ab=[{inputs:[{components:[{name:"target",type:"address"},{name:"allowFailure",type:"bool"},{name:"callData",type:"bytes"}],name:"calls",type:"tuple[]"}],name:"aggregate3",outputs:[{components:[{name:"success",type:"bool"},{name:"returnData",type:"bytes"}],name:"returnData",type:"tuple[]"}],stateMutability:"view",type:"function"},{inputs:[],name:"getCurrentBlockTimestamp",outputs:[{internalType:"uint256",name:"timestamp",type:"uint256"}],stateMutability:"view",type:"function"}],d_=[{name:"query",type:"function",stateMutability:"view",inputs:[{type:"tuple[]",name:"queries",components:[{type:"address",name:"sender"},{type:"string[]",name:"urls"},{type:"bytes",name:"data"}]}],outputs:[{type:"bool[]",name:"failures"},{type:"bytes[]",name:"responses"}]},{name:"HttpError",type:"error",inputs:[{type:"uint16",name:"status"},{type:"string",name:"message"}]}],wH=[{inputs:[{name:"dns",type:"bytes"}],name:"DNSDecodingFailed",type:"error"},{inputs:[{name:"ens",type:"string"}],name:"DNSEncodingFailed",type:"error"},{inputs:[],name:"EmptyAddress",type:"error"},{inputs:[{name:"status",type:"uint16"},{name:"message",type:"string"}],name:"HttpError",type:"error"},{inputs:[],name:"InvalidBatchGatewayResponse",type:"error"},{inputs:[{name:"errorData",type:"bytes"}],name:"ResolverError",type:"error"},{inputs:[{name:"name",type:"bytes"},{name:"resolver",type:"address"}],name:"ResolverNotContract",type:"error"},{inputs:[{name:"name",type:"bytes"}],name:"ResolverNotFound",type:"error"},{inputs:[{name:"primary",type:"string"},{name:"primaryAddress",type:"bytes"}],name:"ReverseAddressMismatch",type:"error"},{inputs:[{internalType:"bytes4",name:"selector",type:"bytes4"}],name:"UnsupportedResolverProfile",type:"error"}],bH=[...wH,{name:"resolveWithGateways",type:"function",stateMutability:"view",inputs:[{name:"name",type:"bytes"},{name:"data",type:"bytes"},{name:"gateways",type:"string[]"}],outputs:[{name:"",type:"bytes"},{name:"address",type:"address"}]}],Bye=[...wH,{name:"reverseWithGateways",type:"function",stateMutability:"view",inputs:[{type:"bytes",name:"reverseName"},{type:"uint256",name:"coinType"},{type:"string[]",name:"gateways"}],outputs:[{type:"string",name:"resolvedName"},{type:"address",name:"resolver"},{type:"address",name:"reverseResolver"}]}],$M=[{name:"text",type:"function",stateMutability:"view",inputs:[{name:"name",type:"bytes32"},{name:"key",type:"string"}],outputs:[{name:"",type:"string"}]}],BM=[{name:"addr",type:"function",stateMutability:"view",inputs:[{name:"name",type:"bytes32"}],outputs:[{name:"",type:"address"}]},{name:"addr",type:"function",stateMutability:"view",inputs:[{name:"name",type:"bytes32"},{name:"coinType",type:"uint256"}],outputs:[{name:"",type:"bytes"}]}],EH=[{name:"isValidSignature",type:"function",stateMutability:"view",inputs:[{name:"hash",type:"bytes32"},{name:"signature",type:"bytes"}],outputs:[{name:"",type:"bytes4"}]}],DM=[{inputs:[{name:"_signer",type:"address"},{name:"_hash",type:"bytes32"},{name:"_signature",type:"bytes"}],stateMutability:"nonpayable",type:"constructor"},{inputs:[{name:"_signer",type:"address"},{name:"_hash",type:"bytes32"},{name:"_signature",type:"bytes"}],outputs:[{type:"bool"}],stateMutability:"nonpayable",type:"function",name:"isValidSig"}],Dye="0x82ad56cb",xH="0x608060405234801561001057600080fd5b5060405161018e38038061018e83398101604081905261002f91610124565b6000808351602085016000f59050803b61004857600080fd5b6000808351602085016000855af16040513d6000823e81610067573d81fd5b3d81f35b634e487b7160e01b600052604160045260246000fd5b600082601f83011261009257600080fd5b81516001600160401b038111156100ab576100ab61006b565b604051601f8201601f19908116603f011681016001600160401b03811182821017156100d9576100d961006b565b6040528181528382016020018510156100f157600080fd5b60005b82811015610110576020818601810151838301820152016100f4565b506000918101602001919091529392505050565b6000806040838503121561013757600080fd5b82516001600160401b0381111561014d57600080fd5b61015985828601610081565b602085015190935090506001600160401b0381111561017757600080fd5b61018385828601610081565b915050925092905056fe",jye="0x608060405234801561001057600080fd5b506040516102c03803806102c083398101604081905261002f916101e6565b836001600160a01b03163b6000036100e457600080836001600160a01b03168360405161005c9190610270565b6000604051808303816000865af19150503d8060008114610099576040519150601f19603f3d011682016040523d82523d6000602084013e61009e565b606091505b50915091508115806100b857506001600160a01b0386163b155b156100e1578060405163101bb98d60e01b81526004016100d8919061028c565b60405180910390fd5b50505b6000808451602086016000885af16040513d6000823e81610103573d81fd5b3d81f35b80516001600160a01b038116811461011e57600080fd5b919050565b634e487b7160e01b600052604160045260246000fd5b60005b8381101561015457818101518382015260200161013c565b50506000910152565b600082601f83011261016e57600080fd5b81516001600160401b0381111561018757610187610123565b604051601f8201601f19908116603f011681016001600160401b03811182821017156101b5576101b5610123565b6040528181528382016020018510156101cd57600080fd5b6101de826020830160208701610139565b949350505050565b600080600080608085870312156101fc57600080fd5b61020585610107565b60208601519094506001600160401b0381111561022157600080fd5b61022d8782880161015d565b93505061023c60408601610107565b60608601519092506001600160401b0381111561025857600080fd5b6102648782880161015d565b91505092959194509250565b60008251610282818460208701610139565b9190910192915050565b60208152600082518060208401526102ab816040850160208701610139565b601f01601f1916919091016040019291505056fe",Fye="0x608060405234801561001057600080fd5b5060405161069438038061069483398101604081905261002f9161051e565b600061003c848484610048565b9050806000526001601ff35b60007f64926492649264926492649264926492649264926492649264926492649264926100748361040c565b036101e7576000606080848060200190518101906100929190610577565b60405192955090935091506000906001600160a01b038516906100b69085906105dd565b6000604051808303816000865af19150503d80600081146100f3576040519150601f19603f3d011682016040523d82523d6000602084013e6100f8565b606091505b50509050876001600160a01b03163b60000361016057806101605760405162461bcd60e51b815260206004820152601e60248201527f5369676e617475726556616c696461746f723a206465706c6f796d656e74000060448201526064015b60405180910390fd5b604051630b135d3f60e11b808252906001600160a01b038a1690631626ba7e90610190908b9087906004016105f9565b602060405180830381865afa1580156101ad573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906101d19190610633565b6001600160e01b03191614945050505050610405565b6001600160a01b0384163b1561027a57604051630b135d3f60e11b808252906001600160a01b03861690631626ba7e9061022790879087906004016105f9565b602060405180830381865afa158015610244573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906102689190610633565b6001600160e01b031916149050610405565b81516041146102df5760405162461bcd60e51b815260206004820152603a602482015260008051602061067483398151915260448201527f3a20696e76616c6964207369676e6174757265206c656e6774680000000000006064820152608401610157565b6102e7610425565b5060208201516040808401518451859392600091859190811061030c5761030c61065d565b016020015160f81c9050601b811480159061032b57508060ff16601c14155b1561038c5760405162461bcd60e51b815260206004820152603b602482015260008051602061067483398151915260448201527f3a20696e76616c6964207369676e617475726520762076616c756500000000006064820152608401610157565b60408051600081526020810180835289905260ff83169181019190915260608101849052608081018390526001600160a01b0389169060019060a0016020604051602081039080840390855afa1580156103ea573d6000803e3d6000fd5b505050602060405103516001600160a01b0316149450505050505b9392505050565b600060208251101561041d57600080fd5b508051015190565b60405180606001604052806003906020820280368337509192915050565b6001600160a01b038116811461045857600080fd5b50565b634e487b7160e01b600052604160045260246000fd5b60005b8381101561048c578181015183820152602001610474565b50506000910152565b600082601f8301126104a657600080fd5b81516001600160401b038111156104bf576104bf61045b565b604051601f8201601f19908116603f011681016001600160401b03811182821017156104ed576104ed61045b565b60405281815283820160200185101561050557600080fd5b610516826020830160208701610471565b949350505050565b60008060006060848603121561053357600080fd5b835161053e81610443565b6020850151604086015191945092506001600160401b0381111561056157600080fd5b61056d86828701610495565b9150509250925092565b60008060006060848603121561058c57600080fd5b835161059781610443565b60208501519093506001600160401b038111156105b357600080fd5b6105bf86828701610495565b604086015190935090506001600160401b0381111561056157600080fd5b600082516105ef818460208701610471565b9190910192915050565b828152604060208201526000825180604084015261061e816060850160208701610471565b601f01601f1916919091016060019392505050565b60006020828403121561064557600080fd5b81516001600160e01b03198116811461040557600080fd5b634e487b7160e01b600052603260045260246000fdfe5369676e617475726556616c696461746f72237265636f7665725369676e6572",x8="0x608060405234801561001057600080fd5b506115b9806100206000396000f3fe6080604052600436106100f35760003560e01c80634d2301cc1161008a578063a8b0574e11610059578063a8b0574e14610325578063bce38bd714610350578063c3077fa914610380578063ee82ac5e146103b2576100f3565b80634d2301cc1461026257806372425d9d1461029f57806382ad56cb146102ca57806386d516e8146102fa576100f3565b80633408e470116100c65780633408e470146101af578063399542e9146101da5780633e64a6961461020c57806342cbb15c14610237576100f3565b80630f28c97d146100f8578063174dea7114610123578063252dba421461015357806327e86d6e14610184575b600080fd5b34801561010457600080fd5b5061010d6103ef565b60405161011a9190610c0a565b60405180910390f35b61013d60048036038101906101389190610c94565b6103f7565b60405161014a9190610e94565b60405180910390f35b61016d60048036038101906101689190610f0c565b610615565b60405161017b92919061101b565b60405180910390f35b34801561019057600080fd5b506101996107ab565b6040516101a69190611064565b60405180910390f35b3480156101bb57600080fd5b506101c46107b7565b6040516101d19190610c0a565b60405180910390f35b6101f460048036038101906101ef91906110ab565b6107bf565b6040516102039392919061110b565b60405180910390f35b34801561021857600080fd5b506102216107e1565b60405161022e9190610c0a565b60405180910390f35b34801561024357600080fd5b5061024c6107e9565b6040516102599190610c0a565b60405180910390f35b34801561026e57600080fd5b50610289600480360381019061028491906111a7565b6107f1565b6040516102969190610c0a565b60405180910390f35b3480156102ab57600080fd5b506102b4610812565b6040516102c19190610c0a565b60405180910390f35b6102e460048036038101906102df919061122a565b61081a565b6040516102f19190610e94565b60405180910390f35b34801561030657600080fd5b5061030f6109e4565b60405161031c9190610c0a565b60405180910390f35b34801561033157600080fd5b5061033a6109ec565b6040516103479190611286565b60405180910390f35b61036a600480360381019061036591906110ab565b6109f4565b6040516103779190610e94565b60405180910390f35b61039a60048036038101906103959190610f0c565b610ba6565b6040516103a99392919061110b565b60405180910390f35b3480156103be57600080fd5b506103d960048036038101906103d491906112cd565b610bca565b6040516103e69190611064565b60405180910390f35b600042905090565b60606000808484905090508067ffffffffffffffff81111561041c5761041b6112fa565b5b60405190808252806020026020018201604052801561045557816020015b610442610bd5565b81526020019060019003908161043a5790505b5092503660005b828110156105c957600085828151811061047957610478611329565b5b6020026020010151905087878381811061049657610495611329565b5b90506020028101906104a89190611367565b925060008360400135905080860195508360000160208101906104cb91906111a7565b73ffffffffffffffffffffffffffffffffffffffff16818580606001906104f2919061138f565b604051610500929190611431565b60006040518083038185875af1925050503d806000811461053d576040519150601f19603f3d011682016040523d82523d6000602084013e610542565b606091505b5083600001846020018290528215151515815250505081516020850135176105bc577f08c379a000000000000000000000000000000000000000000000000000000000600052602060045260176024527f4d756c746963616c6c333a2063616c6c206661696c656400000000000000000060445260846000fd5b826001019250505061045c565b5082341461060c576040517f08c379a0000000000000000000000000000000000000000000000000000000008152600401610603906114a7565b60405180910390fd5b50505092915050565b6000606043915060008484905090508067ffffffffffffffff81111561063e5761063d6112fa565b5b60405190808252806020026020018201604052801561067157816020015b606081526020019060019003908161065c5790505b5091503660005b828110156107a157600087878381811061069557610694611329565b5b90506020028101906106a791906114c7565b92508260000160208101906106bc91906111a7565b73ffffffffffffffffffffffffffffffffffffffff168380602001906106e2919061138f565b6040516106f0929190611431565b6000604051808303816000865af19150503d806000811461072d576040519150601f19603f3d011682016040523d82523d6000602084013e610732565b606091505b5086848151811061074657610745611329565b5b60200260200101819052819250505080610795576040517f08c379a000000000000000000000000000000000000000000000000000000000815260040161078c9061153b565b60405180910390fd5b81600101915050610678565b5050509250929050565b60006001430340905090565b600046905090565b6000806060439250434091506107d68686866109f4565b905093509350939050565b600048905090565b600043905090565b60008173ffffffffffffffffffffffffffffffffffffffff16319050919050565b600044905090565b606060008383905090508067ffffffffffffffff81111561083e5761083d6112fa565b5b60405190808252806020026020018201604052801561087757816020015b610864610bd5565b81526020019060019003908161085c5790505b5091503660005b828110156109db57600084828151811061089b5761089a611329565b5b602002602001015190508686838181106108b8576108b7611329565b5b90506020028101906108ca919061155b565b92508260000160208101906108df91906111a7565b73ffffffffffffffffffffffffffffffffffffffff16838060400190610905919061138f565b604051610913929190611431565b6000604051808303816000865af19150503d8060008114610950576040519150601f19603f3d011682016040523d82523d6000602084013e610955565b606091505b5082600001836020018290528215151515815250505080516020840135176109cf577f08c379a000000000000000000000000000000000000000000000000000000000600052602060045260176024527f4d756c746963616c6c333a2063616c6c206661696c656400000000000000000060445260646000fd5b8160010191505061087e565b50505092915050565b600045905090565b600041905090565b606060008383905090508067ffffffffffffffff811115610a1857610a176112fa565b5b604051908082528060200260200182016040528015610a5157816020015b610a3e610bd5565b815260200190600190039081610a365790505b5091503660005b82811015610b9c576000848281518110610a7557610a74611329565b5b60200260200101519050868683818110610a9257610a91611329565b5b9050602002810190610aa491906114c7565b9250826000016020810190610ab991906111a7565b73ffffffffffffffffffffffffffffffffffffffff16838060200190610adf919061138f565b604051610aed929190611431565b6000604051808303816000865af19150503d8060008114610b2a576040519150601f19603f3d011682016040523d82523d6000602084013e610b2f565b606091505b508260000183602001829052821515151581525050508715610b90578060000151610b8f576040517f08c379a0000000000000000000000000000000000000000000000000000000008152600401610b869061153b565b60405180910390fd5b5b81600101915050610a58565b5050509392505050565b6000806060610bb7600186866107bf565b8093508194508295505050509250925092565b600081409050919050565b6040518060400160405280600015158152602001606081525090565b6000819050919050565b610c0481610bf1565b82525050565b6000602082019050610c1f6000830184610bfb565b92915050565b600080fd5b600080fd5b600080fd5b600080fd5b600080fd5b60008083601f840112610c5457610c53610c2f565b5b8235905067ffffffffffffffff811115610c7157610c70610c34565b5b602083019150836020820283011115610c8d57610c8c610c39565b5b9250929050565b60008060208385031215610cab57610caa610c25565b5b600083013567ffffffffffffffff811115610cc957610cc8610c2a565b5b610cd585828601610c3e565b92509250509250929050565b600081519050919050565b600082825260208201905092915050565b6000819050602082019050919050565b60008115159050919050565b610d2281610d0d565b82525050565b600081519050919050565b600082825260208201905092915050565b60005b83811015610d62578082015181840152602081019050610d47565b83811115610d71576000848401525b50505050565b6000601f19601f8301169050919050565b6000610d9382610d28565b610d9d8185610d33565b9350610dad818560208601610d44565b610db681610d77565b840191505092915050565b6000604083016000830151610dd96000860182610d19565b5060208301518482036020860152610df18282610d88565b9150508091505092915050565b6000610e0a8383610dc1565b905092915050565b6000602082019050919050565b6000610e2a82610ce1565b610e348185610cec565b935083602082028501610e4685610cfd565b8060005b85811015610e825784840389528151610e638582610dfe565b9450610e6e83610e12565b925060208a01995050600181019050610e4a565b50829750879550505050505092915050565b60006020820190508181036000830152610eae8184610e1f565b905092915050565b60008083601f840112610ecc57610ecb610c2f565b5b8235905067ffffffffffffffff811115610ee957610ee8610c34565b5b602083019150836020820283011115610f0557610f04610c39565b5b9250929050565b60008060208385031215610f2357610f22610c25565b5b600083013567ffffffffffffffff811115610f4157610f40610c2a565b5b610f4d85828601610eb6565b92509250509250929050565b600081519050919050565b600082825260208201905092915050565b6000819050602082019050919050565b6000610f918383610d88565b905092915050565b6000602082019050919050565b6000610fb182610f59565b610fbb8185610f64565b935083602082028501610fcd85610f75565b8060005b858110156110095784840389528151610fea8582610f85565b9450610ff583610f99565b925060208a01995050600181019050610fd1565b50829750879550505050505092915050565b60006040820190506110306000830185610bfb565b81810360208301526110428184610fa6565b90509392505050565b6000819050919050565b61105e8161104b565b82525050565b60006020820190506110796000830184611055565b92915050565b61108881610d0d565b811461109357600080fd5b50565b6000813590506110a58161107f565b92915050565b6000806000604084860312156110c4576110c3610c25565b5b60006110d286828701611096565b935050602084013567ffffffffffffffff8111156110f3576110f2610c2a565b5b6110ff86828701610eb6565b92509250509250925092565b60006060820190506111206000830186610bfb565b61112d6020830185611055565b818103604083015261113f8184610e1f565b9050949350505050565b600073ffffffffffffffffffffffffffffffffffffffff82169050919050565b600061117482611149565b9050919050565b61118481611169565b811461118f57600080fd5b50565b6000813590506111a18161117b565b92915050565b6000602082840312156111bd576111bc610c25565b5b60006111cb84828501611192565b91505092915050565b60008083601f8401126111ea576111e9610c2f565b5b8235905067ffffffffffffffff81111561120757611206610c34565b5b60208301915083602082028301111561122357611222610c39565b5b9250929050565b6000806020838503121561124157611240610c25565b5b600083013567ffffffffffffffff81111561125f5761125e610c2a565b5b61126b858286016111d4565b92509250509250929050565b61128081611169565b82525050565b600060208201905061129b6000830184611277565b92915050565b6112aa81610bf1565b81146112b557600080fd5b50565b6000813590506112c7816112a1565b92915050565b6000602082840312156112e3576112e2610c25565b5b60006112f1848285016112b8565b91505092915050565b7f4e487b7100000000000000000000000000000000000000000000000000000000600052604160045260246000fd5b7f4e487b7100000000000000000000000000000000000000000000000000000000600052603260045260246000fd5b600080fd5b600080fd5b600080fd5b60008235600160800383360303811261138357611382611358565b5b80830191505092915050565b600080833560016020038436030381126113ac576113ab611358565b5b80840192508235915067ffffffffffffffff8211156113ce576113cd61135d565b5b6020830192506001820236038313156113ea576113e9611362565b5b509250929050565b600081905092915050565b82818337600083830152505050565b600061141883856113f2565b93506114258385846113fd565b82840190509392505050565b600061143e82848661140c565b91508190509392505050565b600082825260208201905092915050565b7f4d756c746963616c6c333a2076616c7565206d69736d61746368000000000000600082015250565b6000611491601a8361144a565b915061149c8261145b565b602082019050919050565b600060208201905081810360008301526114c081611484565b9050919050565b6000823560016040038336030381126114e3576114e2611358565b5b80830191505092915050565b7f4d756c746963616c6c333a2063616c6c206661696c6564000000000000000000600082015250565b600061152560178361144a565b9150611530826114ef565b602082019050919050565b6000602082019050818103600083015261155481611518565b9050919050565b60008235600160600383360303811261157757611576611358565b5b8083019150509291505056fea264697066735822122020c1bc9aacf8e4a6507193432a895a8e77094f45a1395583f07b24e860ef06cd64736f6c634300080c0033";class f_ extends Ae{constructor({blockNumber:e,chain:n,contract:r}){super(`Chain "${n.name}" does not support contract "${r.name}".`,{metaMessages:["This could be due to any of the following:",...e&&r.blockCreated&&r.blockCreated>e?[`- The contract "${r.name}" was not deployed until block ${r.blockCreated} (current block ${e}).`]:[`- The chain does not have the contract "${r.name}" configured.`]],name:"ChainDoesNotSupportContract"})}}class Uye extends Ae{constructor({chain:e,currentChainId:n}){super(`The current chain of the wallet (id: ${n}) does not match the target chain for the transaction (id: ${e.id} – ${e.name}).`,{metaMessages:[`Current Chain ID:  ${n}`,`Expected Chain ID: ${e.id} – ${e.name}`],name:"ChainMismatchError"})}}class zye extends Ae{constructor(){super(["No chain was provided to the request.","Please provide a chain with the `chain` argument on the Action, or by supplying a `chain` to WalletClient."].join(`
`),{name:"ChainNotFoundError"})}}class SH extends Ae{constructor(){super("No chain was provided to the Client.",{name:"ClientChainNotConfiguredError"})}}const H6="/docs/contract/encodeDeployData";function e3(t){const{abi:e,args:n,bytecode:r}=t;if(!n||n.length===0)return r;const i=e.find(s=>"type"in s&&s.type==="constructor");if(!i)throw new mge({docsPath:H6});if(!("inputs"in i))throw new fM({docsPath:H6});if(!i.inputs||i.inputs.length===0)throw new fM({docsPath:H6});const o=ef(i.inputs,n);return L0([r,o])}function D0({blockNumber:t,chain:e,contract:n}){var i;const r=(i=e==null?void 0:e.contracts)==null?void 0:i[n];if(!r)throw new f_({chain:e,contract:{name:n}});if(t&&r.blockCreated&&r.blockCreated>t)throw new f_({blockNumber:t,chain:e,contract:{name:n,blockCreated:r.blockCreated}});return r.address}function _H(t,{docsPath:e,...n}){const r=(()=>{const i=G2(t,n);return i instanceof ly?t:i})();return new Uz(r,{docsPath:e,...n})}function S8(){let t=()=>{},e=()=>{};return{promise:new Promise((r,i)=>{t=r,e=i}),resolve:t,reject:e}}const W6=new Map;function _8({fn:t,id:e,shouldSplitBatch:n,wait:r=0,sort:i}){const o=async()=>{const u=c();s();const d=u.map(({args:f})=>f);d.length!==0&&t(d).then(f=>{i&&Array.isArray(f)&&f.sort(i);for(let h=0;h<u.length;h++){const{resolve:g}=u[h];g==null||g([f[h],f])}}).catch(f=>{for(let h=0;h<u.length;h++){const{reject:g}=u[h];g==null||g(f)}})},s=()=>W6.delete(e),a=()=>c().map(({args:u})=>u),c=()=>W6.get(e)||[],l=u=>W6.set(e,[...c(),u]);return{flush:s,async schedule(u){const{promise:d,resolve:f,reject:h}=S8();return(n==null?void 0:n([...a(),u]))&&o(),c().length>0?(l({args:u,resolve:f,reject:h}),d):(l({args:u,resolve:f,reject:h}),setTimeout(o,r),d)}}}async function t3(t,e){var w,A,v,I;const{account:n=t.account,authorizationList:r,batch:i=!!((w=t.batch)!=null&&w.multicall),blockNumber:o,blockTag:s=t.experimental_blockTag??"latest",accessList:a,blobs:c,blockOverrides:l,code:u,data:d,factory:f,factoryData:h,gas:g,gasPrice:p,maxFeePerBlobGas:S,maxFeePerGas:y,maxPriorityFeePerGas:b,nonce:_,to:N,value:O,stateOverride:$,...j}=e,k=n?Rn(n):void 0;if(u&&(f||h))throw new Ae("Cannot provide both `code` & `factory`/`factoryData` as parameters.");if(u&&N)throw new Ae("Cannot provide both `code` & `to` as parameters.");const T=u&&d,L=f&&h&&N&&d,P=T||L,m=T?CH({code:u,data:d}):L?Kye({data:d,factory:f,factoryData:h,to:N}):d;try{nf(e);const E=(typeof o=="bigint"?et(o):void 0)||s,C=l?vH(l):void 0,x=l8($),R=(I=(v=(A=t.chain)==null?void 0:A.formatters)==null?void 0:v.transactionRequest)==null?void 0:I.format,B=(R||$0)({...Y2(j,{format:R}),from:k==null?void 0:k.address,accessList:a,authorizationList:r,blobs:c,data:m,gas:g,gasPrice:p,maxFeePerBlobGas:S,maxFeePerGas:y,maxPriorityFeePerGas:b,nonce:_,to:P?void 0:N,value:O},"call");if(i&&Hye({request:B})&&!x&&!C)try{return await Wye(t,{...B,blockNumber:o,blockTag:s})}catch(W){if(!(W instanceof SH)&&!(W instanceof f_))throw W}const z=(()=>{const W=[B,E];return x&&C?[...W,x,C]:x?[...W,x]:C?[...W,{},C]:W})(),H=await t.request({method:"eth_call",params:z});return H==="0x"?{data:void 0}:{data:H}}catch(M){const E=qye(M),{offchainLookup:C,offchainLookupSignature:x}=await Lt(async()=>{const{offchainLookup:R,offchainLookupSignature:D}=await import("./ccip-fzzM_OTR.js");return{offchainLookup:R,offchainLookupSignature:D}},[]);if(t.ccipRead!==!1&&(E==null?void 0:E.slice(0,10))===x&&N)return{data:await C(t,{data:E,to:N})};throw P&&(E==null?void 0:E.slice(0,10))==="0x101bb98d"?new Ime({factory:f}):_H(M,{...e,account:k,chain:t.chain})}}function Hye({request:t}){const{data:e,to:n,...r}=t;return!(!e||e.startsWith(Dye)||!n||Object.values(r).filter(i=>typeof i<"u").length>0)}async function Wye(t,e){var p;const{batchSize:n=1024,deployless:r=!1,wait:i=0}=typeof((p=t.batch)==null?void 0:p.multicall)=="object"?t.batch.multicall:{},{blockNumber:o,blockTag:s=t.experimental_blockTag??"latest",data:a,to:c}=e,l=(()=>{if(r)return null;if(e.multicallAddress)return e.multicallAddress;if(t.chain)return D0({blockNumber:o,chain:t.chain,contract:"multicall3"});throw new SH})(),d=(typeof o=="bigint"?et(o):void 0)||s,{schedule:f}=_8({id:`${t.uid}.${d}`,wait:i,shouldSplitBatch(S){return S.reduce((b,{data:_})=>b+(_.length-2),0)>n*2},fn:async S=>{const y=S.map(N=>({allowFailure:!0,callData:N.data,target:N.to})),b=Qi({abi:ab,args:[y],functionName:"aggregate3"}),_=await t.request({method:"eth_call",params:[{...l===null?{data:CH({code:x8,data:b})}:{to:l,data:b}},d]});return rf({abi:ab,args:[y],functionName:"aggregate3",data:_||"0x"})}}),[{returnData:h,success:g}]=await f({data:a,to:c});if(!g)throw new q2({data:h});return h==="0x"?{data:void 0}:{data:h}}function CH(t){const{code:e,data:n}=t;return e3({abi:mz(["constructor(bytes, bytes)"]),bytecode:xH,args:[e,n]})}function Kye(t){const{data:e,factory:n,factoryData:r,to:i}=t;return e3({abi:mz(["constructor(address, bytes, address, bytes)"]),bytecode:jye,args:[i,e,n,r]})}function qye(t){var n;if(!(t instanceof Ae))return;const e=t.walk();return typeof(e==null?void 0:e.data)=="object"?(n=e.data)==null?void 0:n.data:e.data}async function bs(t,e){const{abi:n,address:r,args:i,functionName:o,...s}=e,a=Qi({abi:n,args:i,functionName:o});try{const{data:c}=await rt(t,t3,"call")({...s,data:a,to:r});return rf({abi:n,args:i,functionName:o,data:c||"0x"})}catch(c){throw Bd(c,{abi:n,address:r,args:i,docsPath:"/docs/contract/readContract",functionName:o})}}async function Vye(t,e){const{abi:n,address:r,args:i,dataSuffix:o,functionName:s,...a}=e,c=a.account?Rn(a.account):t.account,l=Qi({abi:n,args:i,functionName:s});try{const{data:u}=await rt(t,t3,"call")({batch:!1,data:`${l}${o?o.replace("0x",""):""}`,to:r,...a,account:c}),d=rf({abi:n,args:i,functionName:s,data:u||"0x"}),f=n.filter(h=>"name"in h&&h.name===e.functionName);return{result:d,request:{abi:f,address:r,args:i,dataSuffix:o,functionName:s,...a,account:c}}}catch(u){throw Bd(u,{abi:n,address:r,args:i,docsPath:"/docs/contract/simulateContract",functionName:s,sender:c==null?void 0:c.address})}}const K6=new Map,jM=new Map;let Gye=0;function Pc(t,e,n){const r=++Gye,i=()=>K6.get(t)||[],o=()=>{const u=i();K6.set(t,u.filter(d=>d.id!==r))},s=()=>{const u=i();if(!u.some(f=>f.id===r))return;const d=jM.get(t);if(u.length===1&&d){const f=d();f instanceof Promise&&f.catch(()=>{})}o()},a=i();if(K6.set(t,[...a,{id:r,fns:e}]),a&&a.length>0)return s;const c={};for(const u in e)c[u]=(...d)=>{var h,g;const f=i();if(f.length!==0)for(const p of f)(g=(h=p.fns)[u])==null||g.call(h,...d)};const l=n(c);return typeof l=="function"&&jM.set(t,l),s}async function h_(t){return new Promise(e=>setTimeout(e,t))}function j0(t,{emitOnBegin:e,initialWaitTime:n,interval:r}){let i=!0;const o=()=>i=!1;return(async()=>{let a;e&&(a=await t({unpoll:o}));const c=await(n==null?void 0:n(a))??r;await h_(c);const l=async()=>{i&&(await t({unpoll:o}),await h_(r),l())};l()})(),o}const Yye=new Map,Jye=new Map;function Zye(t){const e=(i,o)=>({clear:()=>o.delete(i),get:()=>o.get(i),set:s=>o.set(i,s)}),n=e(t,Yye),r=e(t,Jye);return{clear:()=>{n.clear(),r.clear()},promise:n,response:r}}async function Qye(t,{cacheKey:e,cacheTime:n=Number.POSITIVE_INFINITY}){const r=Zye(e),i=r.response.get();if(i&&n>0&&Date.now()-i.created.getTime()<n)return i.data;let o=r.promise.get();o||(o=t(),r.promise.set(o));try{const s=await o;return r.response.set({created:new Date,data:s}),s}finally{r.promise.clear()}}const Xye=t=>`blockNumber.${t}`;async function py(t,{cacheTime:e=t.cacheTime}={}){const n=await Qye(()=>t.request({method:"eth_blockNumber"}),{cacheKey:Xye(t.uid),cacheTime:e});return BigInt(n)}async function n3(t,{filter:e}){const n="strict"in e&&e.strict,r=await e.request({method:"eth_getFilterChanges",params:[e.id]});if(typeof r[0]=="string")return r;const i=r.map(o=>kc(o));return!("abi"in e)||!e.abi?i:m8({abi:e.abi,logs:i,strict:n})}async function r3(t,{filter:e}){return e.request({method:"eth_uninstallFilter",params:[e.id]})}function e1e(t,e){const{abi:n,address:r,args:i,batch:o=!0,eventName:s,fromBlock:a,onError:c,onLogs:l,poll:u,pollingInterval:d=t.pollingInterval,strict:f}=e;return(typeof u<"u"?u:typeof a=="bigint"?!0:!(t.transport.type==="webSocket"||t.transport.type==="ipc"||t.transport.type==="fallback"&&(t.transport.transports[0].config.type==="webSocket"||t.transport.transports[0].config.type==="ipc")))?(()=>{const S=f??!1,y=Dn(["watchContractEvent",r,i,o,t.uid,s,d,S,a]);return Pc(y,{onLogs:l,onError:c},b=>{let _;a!==void 0&&(_=a-1n);let N,O=!1;const $=j0(async()=>{var j;if(!O){try{N=await rt(t,Rz,"createContractEventFilter")({abi:n,address:r,args:i,eventName:s,strict:S,fromBlock:a})}catch{}O=!0;return}try{let k;if(N)k=await rt(t,n3,"getFilterChanges")({filter:N});else{const T=await rt(t,py,"getBlockNumber")({});_&&_<T?k=await rt(t,nH,"getContractEvents")({abi:n,address:r,args:i,eventName:s,fromBlock:_+1n,toBlock:T,strict:S}):k=[],_=T}if(k.length===0)return;if(o)b.onLogs(k);else for(const T of k)b.onLogs([T])}catch(k){N&&k instanceof Ld&&(O=!1),(j=b.onError)==null||j.call(b,k)}},{emitOnBegin:!0,interval:d});return async()=>{N&&await rt(t,r3,"uninstallFilter")({filter:N}),$()}})})():(()=>{const S=f??!1,y=Dn(["watchContractEvent",r,i,o,t.uid,s,d,S]);let b=!0,_=()=>b=!1;return Pc(y,{onLogs:l,onError:c},N=>((async()=>{try{const O=(()=>{if(t.transport.type==="fallback"){const k=t.transport.transports.find(T=>T.config.type==="webSocket"||T.config.type==="ipc");return k?k.value:t.transport}return t.transport})(),$=s?oy({abi:n,eventName:s,args:i}):[],{unsubscribe:j}=await O.subscribe({params:["logs",{address:r,topics:$}],onData(k){var L;if(!b)return;const T=k.result;try{const{eventName:P,args:m}=g8({abi:n,data:T.data,topics:T.topics,strict:f}),w=kc(T,{args:m,eventName:P});N.onLogs([w])}catch(P){let m,w;if(P instanceof rm||P instanceof z2){if(f)return;m=P.abiItem.name,w=(L=P.abiItem.inputs)==null?void 0:L.some(v=>!("name"in v&&v.name))}const A=kc(T,{args:w?[]:{},eventName:m});N.onLogs([A])}},onError(k){var T;(T=N.onError)==null||T.call(N,k)}});_=j,b||_()}catch(O){c==null||c(O)}})(),()=>_()))})()}class of extends Ae{constructor({docsPath:e}={}){super(["Could not find an Account to execute with this Action.","Please provide an Account with the `account` argument on the Action, or by supplying an `account` to the Client."].join(`
`),{docsPath:e,docsSlug:"account",name:"AccountNotFoundError"})}}class Nv extends Ae{constructor({docsPath:e,metaMessages:n,type:r}){super(`Account type "${r}" is not supported.`,{docsPath:e,metaMessages:n,name:"AccountTypeNotSupportedError"})}}function AH({chain:t,currentChainId:e}){if(!t)throw new zye;if(e!==t.id)throw new Uye({chain:t,currentChainId:e})}function IH(t,{docsPath:e,...n}){const r=(()=>{const i=G2(t,n);return i instanceof ly?t:i})();return new Sme(r,{docsPath:e,...n})}async function C8(t,{serializedTransaction:e}){return t.request({method:"eth_sendRawTransaction",params:[e]},{retryCount:0})}const q6=new W2(128);async function i3(t,e){var b,_,N,O;const{account:n=t.account,chain:r=t.chain,accessList:i,authorizationList:o,blobs:s,data:a,gas:c,gasPrice:l,maxFeePerBlobGas:u,maxFeePerGas:d,maxPriorityFeePerGas:f,nonce:h,type:g,value:p,...S}=e;if(typeof n>"u")throw new of({docsPath:"/docs/actions/wallet/sendTransaction"});const y=n?Rn(n):null;try{nf(e);const $=await(async()=>{if(e.to)return e.to;if(e.to!==null&&o&&o.length>0)return await c8({authorization:o[0]}).catch(()=>{throw new Ae("`to` is required. Could not infer from `authorizationList`.")})})();if((y==null?void 0:y.type)==="json-rpc"||y===null){let j;r!==null&&(j=await rt(t,B0,"getChainId")({}),AH({currentChainId:j,chain:r}));const k=(N=(_=(b=t.chain)==null?void 0:b.formatters)==null?void 0:_.transactionRequest)==null?void 0:N.format,L=(k||$0)({...Y2(S,{format:k}),accessList:i,authorizationList:o,blobs:s,chainId:j,data:a,from:y==null?void 0:y.address,gas:c,gasPrice:l,maxFeePerBlobGas:u,maxFeePerGas:d,maxPriorityFeePerGas:f,nonce:h,to:$,type:g,value:p},"sendTransaction"),P=q6.get(t.uid),m=P?"wallet_sendTransaction":"eth_sendTransaction";try{return await t.request({method:m,params:[L]},{retryCount:0})}catch(w){if(P===!1)throw w;const A=w;if(A.name==="InvalidInputRpcError"||A.name==="InvalidParamsRpcError"||A.name==="MethodNotFoundRpcError"||A.name==="MethodNotSupportedRpcError")return await t.request({method:"wallet_sendTransaction",params:[L]},{retryCount:0}).then(v=>(q6.set(t.uid,!0),v)).catch(v=>{const I=v;throw I.name==="MethodNotFoundRpcError"||I.name==="MethodNotSupportedRpcError"?(q6.set(t.uid,!1),A):I});throw A}}if((y==null?void 0:y.type)==="local"){const j=await rt(t,J2,"prepareTransactionRequest")({account:y,accessList:i,authorizationList:o,blobs:s,chain:r,data:a,gas:c,gasPrice:l,maxFeePerBlobGas:u,maxFeePerGas:d,maxPriorityFeePerGas:f,nonce:h,nonceManager:y.nonceManager,parameters:[...tH,"sidecars"],type:g,value:p,...S,to:$}),k=(O=r==null?void 0:r.serializers)==null?void 0:O.transaction,T=await y.signTransaction(j,{serializer:k});return await rt(t,C8,"sendRawTransaction")({serializedTransaction:T})}throw(y==null?void 0:y.type)==="smart"?new Nv({metaMessages:["Consider using the `sendUserOperation` Action instead."],docsPath:"/docs/actions/bundler/sendUserOperation",type:"smart"}):new Nv({docsPath:"/docs/actions/wallet/sendTransaction",type:y==null?void 0:y.type})}catch($){throw $ instanceof Nv?$:IH($,{...e,account:y,chain:e.chain||void 0})}}async function t1e(t,e){const{abi:n,account:r=t.account,address:i,args:o,dataSuffix:s,functionName:a,...c}=e;if(typeof r>"u")throw new of({docsPath:"/docs/contract/writeContract"});const l=r?Rn(r):null,u=Qi({abi:n,args:o,functionName:a});try{return await rt(t,i3,"sendTransaction")({data:`${u}${s?s.replace("0x",""):""}`,to:i,account:l,...c})}catch(d){throw Bd(d,{abi:n,address:i,args:o,docsPath:"/docs/contract/writeContract",functionName:a,sender:l==null?void 0:l.address})}}class n1e extends Ae{constructor(e){super(`Call bundle failed with status: ${e.statusCode}`,{name:"BundleFailedError"}),Object.defineProperty(this,"result",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.result=e}}function Sm(t,{delay:e=100,retryCount:n=2,shouldRetry:r=()=>!0}={}){return new Promise((i,o)=>{const s=async({count:a=0}={})=>{const c=async({error:l})=>{const u=typeof e=="function"?e({count:a,error:l}):e;u&&await h_(u),s({count:a+1})};try{const l=await t();i(l)}catch(l){if(a<n&&await r({count:a,error:l}))return c({error:l});o(l)}};s()})}const kH={"0x0":"reverted","0x1":"success"};function r1e(t,e){const n={...t,blockNumber:t.blockNumber?BigInt(t.blockNumber):null,contractAddress:t.contractAddress?t.contractAddress:null,cumulativeGasUsed:t.cumulativeGasUsed?BigInt(t.cumulativeGasUsed):null,effectiveGasPrice:t.effectiveGasPrice?BigInt(t.effectiveGasPrice):null,gasUsed:t.gasUsed?BigInt(t.gasUsed):null,logs:t.logs?t.logs.map(r=>kc(r)):null,to:t.to?t.to:null,transactionIndex:t.transactionIndex?ys(t.transactionIndex):null,status:t.status?kH[t.status]:null,type:t.type?Vz[t.type]||t.type:null};return t.blobGasPrice&&(n.blobGasPrice=BigInt(t.blobGasPrice)),t.blobGasUsed&&(n.blobGasUsed=BigInt(t.blobGasUsed)),n}const PH="0x5792579257925792579257925792579257925792579257925792579257925792",OH=et(0,{size:32});async function i1e(t,e){const{account:n=t.account,capabilities:r,chain:i=t.chain,experimental_fallback:o,experimental_fallbackDelay:s=32,forceAtomic:a=!1,id:c,version:l="2.0.0"}=e,u=n?Rn(n):null,d=e.calls.map(f=>{const h=f,g=h.abi?Qi({abi:h.abi,functionName:h.functionName,args:h.args}):h.data;return{data:h.dataSuffix&&g?$o([g,h.dataSuffix]):g,to:h.to,value:h.value?et(h.value):void 0}});try{const f=await t.request({method:"wallet_sendCalls",params:[{atomicRequired:a,calls:d,capabilities:r,chainId:et(i.id),from:u==null?void 0:u.address,id:c,version:l}]},{retryCount:0});return typeof f=="string"?{id:f}:f}catch(f){const h=f;if(o&&(h.name==="MethodNotFoundRpcError"||h.name==="MethodNotSupportedRpcError"||h.name==="UnknownRpcError"||h.details.toLowerCase().includes("does not exist / is not available")||h.details.toLowerCase().includes("missing or invalid. request()")||h.details.toLowerCase().includes("did not match any variant of untagged enum")||h.details.toLowerCase().includes("account upgraded to unsupported contract")||h.details.toLowerCase().includes("eip-7702 not supported")||h.details.toLowerCase().includes("unsupported wc_ method")||h.details.toLowerCase().includes("feature toggled misconfigured"))){if(r&&Object.values(r).some(b=>!b.optional)){const b="non-optional `capabilities` are not supported on fallback to `eth_sendTransaction`.";throw new d0(new Ae(b,{details:b}))}if(a&&d.length>1){const y="`forceAtomic` is not supported on fallback to `eth_sendTransaction`.";throw new f0(new Ae(y,{details:y}))}const g=[];for(const y of d){const b=i3(t,{account:u,chain:i,data:y.data,to:y.to,value:y.value?Ki(y.value):void 0});g.push(b),s>0&&await new Promise(_=>setTimeout(_,s))}const p=await Promise.allSettled(g);if(p.every(y=>y.status==="rejected"))throw p[0].reason;const S=p.map(y=>y.status==="fulfilled"?y.value:OH);return{id:$o([...S,et(i.id,{size:32}),PH])}}throw IH(f,{...e,account:u,chain:e.chain})}}async function TH(t,e){async function n(u){if(u.endsWith(PH.slice(2))){const f=tu(YS(u,-64,-32)),h=YS(u,0,-64).slice(2).match(/.{1,64}/g),g=await Promise.all(h.map(S=>OH.slice(2)!==S?t.request({method:"eth_getTransactionReceipt",params:[`0x${S}`]},{dedupe:!0}):void 0)),p=g.some(S=>S===null)?100:g.every(S=>(S==null?void 0:S.status)==="0x1")?200:g.every(S=>(S==null?void 0:S.status)==="0x0")?500:600;return{atomic:!1,chainId:ys(f),receipts:g.filter(Boolean),status:p,version:"2.0.0"}}return t.request({method:"wallet_getCallsStatus",params:[u]})}const{atomic:r=!1,chainId:i,receipts:o,version:s="2.0.0",...a}=await n(e.id),[c,l]=(()=>{const u=a.status;return u>=100&&u<200?["pending",u]:u>=200&&u<300?["success",u]:u>=300&&u<700?["failure",u]:u==="CONFIRMED"?["success",200]:u==="PENDING"?["pending",100]:[void 0,u]})();return{...a,atomic:r,chainId:i?ys(i):void 0,receipts:(o==null?void 0:o.map(u=>({...u,blockNumber:Ki(u.blockNumber),gasUsed:Ki(u.gasUsed),status:kH[u.status]})))??[],statusCode:l,status:c,version:s}}async function o1e(t,e){const{id:n,pollingInterval:r=t.pollingInterval,status:i=({statusCode:p})=>p===200||p>=300,retryCount:o=4,retryDelay:s=({count:p})=>~~(1<<p)*200,timeout:a=6e4,throwOnFailure:c=!1}=e,l=Dn(["waitForCallsStatus",t.uid,n]),{promise:u,resolve:d,reject:f}=S8();let h;const g=Pc(l,{resolve:d,reject:f},p=>{const S=j0(async()=>{const y=b=>{clearTimeout(h),S(),b(),g()};try{const b=await Sm(async()=>{const _=await rt(t,TH,"getCallsStatus")({id:n});if(c&&_.status==="failure")throw new n1e(_);return _},{retryCount:o,delay:s});if(!i(b))return;y(()=>p.resolve(b))}catch(b){y(()=>p.reject(b))}},{interval:r,emitOnBegin:!0});return S});return h=a?setTimeout(()=>{g(),clearTimeout(h),f(new s1e({id:n}))},a):void 0,await u}class s1e extends Ae{constructor({id:e}){super(`Timed out while waiting for call bundle with id "${e}" to be confirmed.`,{name:"WaitForCallsStatusTimeoutError"})}}const p_=256;let O1=p_,T1;function MH(t=11){if(!T1||O1+t>p_*2){T1="",O1=0;for(let e=0;e<p_;e++)T1+=(256+Math.random()*256|0).toString(16).substring(1)}return T1.substring(O1,O1+++t)}function A8(t){const{batch:e,chain:n,ccipRead:r,key:i="base",name:o="Base Client",type:s="base"}=t,a=t.experimental_blockTag??(typeof(n==null?void 0:n.experimental_preconfirmationTime)=="number"?"pending":void 0),c=(n==null?void 0:n.blockTime)??12e3,l=Math.min(Math.max(Math.floor(c/2),500),4e3),u=t.pollingInterval??l,d=t.cacheTime??u,f=t.account?Rn(t.account):void 0,{config:h,request:g,value:p}=t.transport({chain:n,pollingInterval:u}),S={...h,...p},y={account:f,batch:e,cacheTime:d,ccipRead:r,chain:n,key:i,name:o,pollingInterval:u,request:g,transport:S,type:s,uid:MH(),...a?{experimental_blockTag:a}:{}};function b(_){return N=>{const O=N(_);for(const j in y)delete O[j];const $={..._,...O};return Object.assign($,{extend:b($)})}}return Object.assign(y,{extend:b(y)})}function I8(t){var n,r,i,o,s,a;if(!(t instanceof Ae))return!1;const e=t.walk(c=>c instanceof QS);return e instanceof QS?((n=e.data)==null?void 0:n.errorName)==="HttpError"||((r=e.data)==null?void 0:r.errorName)==="ResolverError"||((i=e.data)==null?void 0:i.errorName)==="ResolverNotContract"||((o=e.data)==null?void 0:o.errorName)==="ResolverNotFound"||((s=e.data)==null?void 0:s.errorName)==="ReverseAddressMismatch"||((a=e.data)==null?void 0:a.errorName)==="UnsupportedResolverProfile":!1}function a1e(t){const{abi:e,data:n}=t,r=l0(n,0,4),i=e.find(o=>o.type==="function"&&r===iy(ms(o)));if(!i)throw new xge(r,{docsPath:"/docs/contract/decodeFunctionData"});return{functionName:i.name,args:"inputs"in i&&i.inputs&&i.inputs.length>0?sy(i.inputs,l0(n,4)):void 0}}const V6="/docs/contract/encodeErrorResult";function FM(t){const{abi:e,errorName:n,args:r}=t;let i=e[0];if(n){const c=tf({abi:e,args:r,name:n});if(!c)throw new hM(n,{docsPath:V6});i=c}if(i.type!=="error")throw new hM(void 0,{docsPath:V6});const o=ms(i),s=iy(o);let a="0x";if(r&&r.length>0){if(!i.inputs)throw new bge(i.name,{docsPath:V6});a=ef(i.inputs,r)}return L0([s,a])}const G6="/docs/contract/encodeFunctionResult";function c1e(t){const{abi:e,functionName:n,result:r}=t;let i=e[0];if(n){const s=tf({abi:e,name:n});if(!s)throw new a0(n,{docsPath:G6});i=s}if(i.type!=="function")throw new a0(void 0,{docsPath:G6});if(!i.outputs)throw new xz(i.name,{docsPath:G6});const o=(()=>{if(i.outputs.length===0)return[];if(i.outputs.length===1)return[r];if(Array.isArray(r))return r;throw new Sz(r)})();return ef(i.outputs,o)}const o3="x-batch-gateway:true";async function l1e(t){const{data:e,ccipRequest:n}=t,{args:[r]}=a1e({abi:d_,data:e}),i=[],o=[];return await Promise.all(r.map(async(s,a)=>{try{o[a]=s.urls.includes(o3)?await l1e({data:s.data,ccipRequest:n}):await n(s),i[a]=!1}catch(c){i[a]=!0,o[a]=u1e(c)}})),c1e({abi:d_,functionName:"query",result:[i,o]})}function u1e(t){return t.name==="HttpRequestError"&&t.status?FM({abi:d_,errorName:"HttpError",args:[t.status,t.shortMessage]}):FM({abi:[Lz],errorName:"Error",args:["shortMessage"in t?t.shortMessage:t.message]})}function NH(t){if(t.length!==66||t.indexOf("[")!==0||t.indexOf("]")!==65)return null;const e=`0x${t.slice(1,65)}`;return pa(e)?e:null}function g_(t){let e=new Uint8Array(32).fill(0);if(!t)return Hn(e);const n=t.split(".");for(let r=n.length-1;r>=0;r-=1){const i=NH(n[r]),o=i?R0(i):yr(vd(n[r]),"bytes");e=yr($o([e,o]),"bytes")}return Hn(e)}function d1e(t){return`[${t.slice(2)}]`}function f1e(t){const e=new Uint8Array(32).fill(0);return t?NH(t)||yr(vd(t)):Hn(e)}function k8(t){const e=t.replace(/^\.|\.$/gm,"");if(e.length===0)return new Uint8Array(1);const n=new Uint8Array(vd(e).byteLength+2);let r=0;const i=e.split(".");for(let o=0;o<i.length;o++){let s=vd(i[o]);s.byteLength>255&&(s=vd(d1e(f1e(i[o])))),n[r]=s.length,n.set(s,r+1),r+=s.length+1}return n.byteLength!==r+1?n.slice(0,r+1):n}async function h1e(t,e){const{blockNumber:n,blockTag:r,coinType:i,name:o,gatewayUrls:s,strict:a}=e,{chain:c}=t,l=(()=>{if(e.universalResolverAddress)return e.universalResolverAddress;if(!c)throw new Error("client chain not configured. universalResolverAddress is required.");return D0({blockNumber:n,chain:c,contract:"ensUniversalResolver"})})(),u=c==null?void 0:c.ensTlds;if(u&&!u.some(f=>o.endsWith(f)))return null;const d=i!=null?[g_(o),BigInt(i)]:[g_(o)];try{const f=Qi({abi:BM,functionName:"addr",args:d}),h={address:l,abi:bH,functionName:"resolveWithGateways",args:[Ic(k8(o)),f,s??[o3]],blockNumber:n,blockTag:r},p=await rt(t,bs,"readContract")(h);if(p[0]==="0x")return null;const S=rf({abi:BM,args:d,functionName:"addr",data:p[0]});return S==="0x"||tu(S)==="0x00"?null:S}catch(f){if(a)throw f;if(I8(f))return null;throw f}}class p1e extends Ae{constructor({data:e}){super("Unable to extract image from metadata. The metadata may be malformed or invalid.",{metaMessages:["- Metadata must be a JSON object with at least an `image`, `image_url` or `image_data` property.","",`Provided data: ${JSON.stringify(e)}`],name:"EnsAvatarInvalidMetadataError"})}}class Ap extends Ae{constructor({reason:e}){super(`ENS NFT avatar URI is invalid. ${e}`,{name:"EnsAvatarInvalidNftUriError"})}}class P8 extends Ae{constructor({uri:e}){super(`Unable to resolve ENS avatar URI "${e}". The URI may be malformed, invalid, or does not respond with a valid image.`,{name:"EnsAvatarUriResolutionError"})}}class g1e extends Ae{constructor({namespace:e}){super(`ENS NFT avatar namespace "${e}" is not supported. Must be "erc721" or "erc1155".`,{name:"EnsAvatarUnsupportedNamespaceError"})}}const m1e=/(?<protocol>https?:\/\/[^/]*|ipfs:\/|ipns:\/|ar:\/)?(?<root>\/)?(?<subpath>ipfs\/|ipns\/)?(?<target>[\w\-.]+)(?<subtarget>\/.*)?/,y1e=/^(Qm[1-9A-HJ-NP-Za-km-z]{44,}|b[A-Za-z2-7]{58,}|B[A-Z2-7]{58,}|z[1-9A-HJ-NP-Za-km-z]{48,}|F[0-9A-F]{50,})(\/(?<target>[\w\-.]+))?(?<subtarget>\/.*)?$/,v1e=/^data:([a-zA-Z\-/+]*);base64,([^"].*)/,w1e=/^data:([a-zA-Z\-/+]*)?(;[a-zA-Z0-9].*?)?(,)/;async function b1e(t){try{const e=await fetch(t,{method:"HEAD"});if(e.status===200){const n=e.headers.get("content-type");return n==null?void 0:n.startsWith("image/")}return!1}catch(e){return typeof e=="object"&&typeof e.response<"u"||!Object.hasOwn(globalThis,"Image")?!1:new Promise(n=>{const r=new Image;r.onload=()=>{n(!0)},r.onerror=()=>{n(!1)},r.src=t})}}function UM(t,e){return t?t.endsWith("/")?t.slice(0,-1):t:e}function RH({uri:t,gatewayUrls:e}){const n=v1e.test(t);if(n)return{uri:t,isOnChain:!0,isEncoded:n};const r=UM(e==null?void 0:e.ipfs,"https://ipfs.io"),i=UM(e==null?void 0:e.arweave,"https://arweave.net"),o=t.match(m1e),{protocol:s,subpath:a,target:c,subtarget:l=""}=(o==null?void 0:o.groups)||{},u=s==="ipns:/"||a==="ipns/",d=s==="ipfs:/"||a==="ipfs/"||y1e.test(t);if(t.startsWith("http")&&!u&&!d){let h=t;return e!=null&&e.arweave&&(h=t.replace(/https:\/\/arweave.net/g,e==null?void 0:e.arweave)),{uri:h,isOnChain:!1,isEncoded:!1}}if((u||d)&&c)return{uri:`${r}/${u?"ipns":"ipfs"}/${c}${l}`,isOnChain:!1,isEncoded:!1};if(s==="ar:/"&&c)return{uri:`${i}/${c}${l||""}`,isOnChain:!1,isEncoded:!1};let f=t.replace(w1e,"");if(f.startsWith("<svg")&&(f=`data:image/svg+xml;base64,${btoa(f)}`),f.startsWith("data:")||f.startsWith("{"))return{uri:f,isOnChain:!0,isEncoded:!1};throw new P8({uri:t})}function LH(t){if(typeof t!="object"||!("image"in t)&&!("image_url"in t)&&!("image_data"in t))throw new p1e({data:t});return t.image||t.image_url||t.image_data}async function E1e({gatewayUrls:t,uri:e}){try{const n=await fetch(e).then(i=>i.json());return await O8({gatewayUrls:t,uri:LH(n)})}catch{throw new P8({uri:e})}}async function O8({gatewayUrls:t,uri:e}){const{uri:n,isOnChain:r}=RH({uri:e,gatewayUrls:t});if(r||await b1e(n))return n;throw new P8({uri:e})}function x1e(t){let e=t;e.startsWith("did:nft:")&&(e=e.replace("did:nft:","").replace(/_/g,"/"));const[n,r,i]=e.split("/"),[o,s]=n.split(":"),[a,c]=r.split(":");if(!o||o.toLowerCase()!=="eip155")throw new Ap({reason:"Only EIP-155 supported"});if(!s)throw new Ap({reason:"Chain ID not found"});if(!c)throw new Ap({reason:"Contract address not found"});if(!i)throw new Ap({reason:"Token ID not found"});if(!a)throw new Ap({reason:"ERC namespace not found"});return{chainID:Number.parseInt(s,10),namespace:a.toLowerCase(),contractAddress:c,tokenID:i}}async function S1e(t,{nft:e}){if(e.namespace==="erc721")return bs(t,{address:e.contractAddress,abi:[{name:"tokenURI",type:"function",stateMutability:"view",inputs:[{name:"tokenId",type:"uint256"}],outputs:[{name:"",type:"string"}]}],functionName:"tokenURI",args:[BigInt(e.tokenID)]});if(e.namespace==="erc1155")return bs(t,{address:e.contractAddress,abi:[{name:"uri",type:"function",stateMutability:"view",inputs:[{name:"_id",type:"uint256"}],outputs:[{name:"",type:"string"}]}],functionName:"uri",args:[BigInt(e.tokenID)]});throw new g1e({namespace:e.namespace})}async function _1e(t,{gatewayUrls:e,record:n}){return/eip155:/i.test(n)?C1e(t,{gatewayUrls:e,record:n}):O8({uri:n,gatewayUrls:e})}async function C1e(t,{gatewayUrls:e,record:n}){const r=x1e(n),i=await S1e(t,{nft:r}),{uri:o,isOnChain:s,isEncoded:a}=RH({uri:i,gatewayUrls:e});if(s&&(o.includes("data:application/json;base64,")||o.startsWith("{"))){const l=a?atob(o.replace("data:application/json;base64,","")):o,u=JSON.parse(l);return O8({uri:LH(u),gatewayUrls:e})}let c=r.tokenID;return r.namespace==="erc1155"&&(c=c.replace("0x","").padStart(64,"0")),E1e({gatewayUrls:e,uri:o.replace(/(?:0x)?{id}/,c)})}async function $H(t,e){const{blockNumber:n,blockTag:r,key:i,name:o,gatewayUrls:s,strict:a}=e,{chain:c}=t,l=(()=>{if(e.universalResolverAddress)return e.universalResolverAddress;if(!c)throw new Error("client chain not configured. universalResolverAddress is required.");return D0({blockNumber:n,chain:c,contract:"ensUniversalResolver"})})(),u=c==null?void 0:c.ensTlds;if(u&&!u.some(d=>o.endsWith(d)))return null;try{const d={address:l,abi:bH,args:[Ic(k8(o)),Qi({abi:$M,functionName:"text",args:[g_(o),i]}),s??[o3]],functionName:"resolveWithGateways",blockNumber:n,blockTag:r},h=await rt(t,bs,"readContract")(d);if(h[0]==="0x")return null;const g=rf({abi:$M,functionName:"text",data:h[0]});return g===""?null:g}catch(d){if(a)throw d;if(I8(d))return null;throw d}}async function A1e(t,{blockNumber:e,blockTag:n,assetGatewayUrls:r,name:i,gatewayUrls:o,strict:s,universalResolverAddress:a}){const c=await rt(t,$H,"getEnsText")({blockNumber:e,blockTag:n,key:"avatar",name:i,universalResolverAddress:a,gatewayUrls:o,strict:s});if(!c)return null;try{return await _1e(t,{record:c,gatewayUrls:r})}catch{return null}}async function I1e(t,e){const{address:n,blockNumber:r,blockTag:i,coinType:o=60n,gatewayUrls:s,strict:a}=e,{chain:c}=t,l=(()=>{if(e.universalResolverAddress)return e.universalResolverAddress;if(!c)throw new Error("client chain not configured. universalResolverAddress is required.");return D0({blockNumber:r,chain:c,contract:"ensUniversalResolver"})})();try{const u={address:l,abi:Bye,args:[n,o,s??[o3]],functionName:"reverseWithGateways",blockNumber:r,blockTag:i},d=rt(t,bs,"readContract"),[f]=await d(u);return f||null}catch(u){if(a)throw u;if(I8(u))return null;throw u}}async function k1e(t,e){const{blockNumber:n,blockTag:r,name:i}=e,{chain:o}=t,s=(()=>{if(e.universalResolverAddress)return e.universalResolverAddress;if(!o)throw new Error("client chain not configured. universalResolverAddress is required.");return D0({blockNumber:n,chain:o,contract:"ensUniversalResolver"})})(),a=o==null?void 0:o.ensTlds;if(a&&!a.some(l=>i.endsWith(l)))throw new Error(`${i} is not a valid ENS TLD (${a==null?void 0:a.join(", ")}) for chain "${o.name}" (id: ${o.id}).`);const[c]=await rt(t,bs,"readContract")({address:s,abi:[{inputs:[{type:"bytes"}],name:"findResolver",outputs:[{type:"address"},{type:"bytes32"},{type:"uint256"}],stateMutability:"view",type:"function"}],functionName:"findResolver",args:[Ic(k8(i))],blockNumber:n,blockTag:r});return c}async function BH(t,e){var S,y,b;const{account:n=t.account,blockNumber:r,blockTag:i="latest",blobs:o,data:s,gas:a,gasPrice:c,maxFeePerBlobGas:l,maxFeePerGas:u,maxPriorityFeePerGas:d,to:f,value:h,...g}=e,p=n?Rn(n):void 0;try{nf(e);const N=(typeof r=="bigint"?et(r):void 0)||i,O=(b=(y=(S=t.chain)==null?void 0:S.formatters)==null?void 0:y.transactionRequest)==null?void 0:b.format,j=(O||$0)({...Y2(g,{format:O}),from:p==null?void 0:p.address,blobs:o,data:s,gas:a,gasPrice:c,maxFeePerBlobGas:l,maxFeePerGas:u,maxPriorityFeePerGas:d,to:f,value:h},"createAccessList"),k=await t.request({method:"eth_createAccessList",params:[j,N]});return{accessList:k.accessList,gasUsed:BigInt(k.gasUsed)}}catch(_){throw _H(_,{...e,account:p,chain:t.chain})}}async function P1e(t){const e=K2(t,{method:"eth_newBlockFilter"}),n=await t.request({method:"eth_newBlockFilter"});return{id:n,request:e(n),type:"block"}}async function DH(t,{address:e,args:n,event:r,events:i,fromBlock:o,strict:s,toBlock:a}={}){const c=i??(r?[r]:void 0),l=K2(t,{method:"eth_newFilter"});let u=[];c&&(u=[c.flatMap(h=>oy({abi:[h],eventName:h.name,args:n}))],r&&(u=u[0]));const d=await t.request({method:"eth_newFilter",params:[{address:e,fromBlock:typeof o=="bigint"?et(o):o,toBlock:typeof a=="bigint"?et(a):a,...u.length?{topics:u}:{}}]});return{abi:c,args:n,eventName:r?r.name:void 0,fromBlock:o,id:d,request:l(d),strict:!!s,toBlock:a,type:"event"}}async function jH(t){const e=K2(t,{method:"eth_newPendingTransactionFilter"}),n=await t.request({method:"eth_newPendingTransactionFilter"});return{id:n,request:e(n),type:"transaction"}}async function O1e(t,{address:e,blockNumber:n,blockTag:r=t.experimental_blockTag??"latest"}){const i=typeof n=="bigint"?et(n):void 0,o=await t.request({method:"eth_getBalance",params:[e,i||r]});return BigInt(o)}async function T1e(t){const e=await t.request({method:"eth_blobBaseFee"});return BigInt(e)}async function M1e(t,{blockHash:e,blockNumber:n,blockTag:r="latest"}={}){const i=n!==void 0?et(n):void 0;let o;return e?o=await t.request({method:"eth_getBlockTransactionCountByHash",params:[e]},{dedupe:!0}):o=await t.request({method:"eth_getBlockTransactionCountByNumber",params:[i||r]},{dedupe:!!i}),ys(o)}async function m_(t,{address:e,blockNumber:n,blockTag:r="latest"}){const i=n!==void 0?et(n):void 0,o=await t.request({method:"eth_getCode",params:[e,i||r]},{dedupe:!!i});if(o!=="0x")return o}class N1e extends Ae{constructor({address:e}){super(`No EIP-712 domain found on contract "${e}".`,{metaMessages:["Ensure that:",`- The contract is deployed at the address "${e}".`,"- `eip712Domain()` function exists on the contract.","- `eip712Domain()` function matches signature to ERC-5267 specification."],name:"Eip712DomainNotFoundError"})}}async function R1e(t,e){const{address:n,factory:r,factoryData:i}=e;try{const[o,s,a,c,l,u,d]=await rt(t,bs,"readContract")({abi:L1e,address:n,functionName:"eip712Domain",factory:r,factoryData:i});return{domain:{name:s,version:a,chainId:Number(c),verifyingContract:l,salt:u},extensions:d,fields:o}}catch(o){const s=o;throw s.name==="ContractFunctionExecutionError"&&s.cause.name==="ContractFunctionZeroDataError"?new N1e({address:n}):s}}const L1e=[{inputs:[],name:"eip712Domain",outputs:[{name:"fields",type:"bytes1"},{name:"name",type:"string"},{name:"version",type:"string"},{name:"chainId",type:"uint256"},{name:"verifyingContract",type:"address"},{name:"salt",type:"bytes32"},{name:"extensions",type:"uint256[]"}],stateMutability:"view",type:"function"}];function $1e(t){var e;return{baseFeePerGas:t.baseFeePerGas.map(n=>BigInt(n)),gasUsedRatio:t.gasUsedRatio,oldestBlock:BigInt(t.oldestBlock),reward:(e=t.reward)==null?void 0:e.map(n=>n.map(r=>BigInt(r)))}}async function B1e(t,{blockCount:e,blockNumber:n,blockTag:r="latest",rewardPercentiles:i}){const o=typeof n=="bigint"?et(n):void 0,s=await t.request({method:"eth_feeHistory",params:[et(e),o||r,i]},{dedupe:!!o});return $1e(s)}async function D1e(t,{filter:e}){const n=e.strict??!1,i=(await e.request({method:"eth_getFilterLogs",params:[e.id]})).map(o=>kc(o));return e.abi?m8({abi:e.abi,logs:i,strict:n}):i}async function j1e({address:t,authorization:e,signature:n}){return uy(Xu(t),await c8({authorization:e,signature:n}))}const M1=new W2(8192);function F1e(t,{enabled:e=!0,id:n}){if(!e||!n)return t();if(M1.get(n))return M1.get(n);const r=t().finally(()=>M1.delete(n));return M1.set(n,r),r}function U1e(t,e={}){return async(n,r={})=>{var d;const{dedupe:i=!1,methods:o,retryDelay:s=150,retryCount:a=3,uid:c}={...e,...r},{method:l}=n;if((d=o==null?void 0:o.exclude)!=null&&d.includes(l))throw new ed(new Error("method not supported"),{method:l});if(o!=null&&o.include&&!o.include.includes(l))throw new ed(new Error("method not supported"),{method:l});const u=i?c0(`${c}.${Dn(n)}`):void 0;return F1e(()=>Sm(async()=>{try{return await t(n)}catch(f){const h=f;switch(h.code){case om.code:throw new om(h);case sm.code:throw new sm(h);case am.code:throw new am(h,{method:n.method});case cm.code:throw new cm(h);case Rd.code:throw new Rd(h);case Ld.code:throw new Ld(h);case lm.code:throw new lm(h);case nu.code:throw new nu(h);case um.code:throw new um(h);case ed.code:throw new ed(h,{method:n.method});case u0.code:throw new u0(h);case dm.code:throw new dm(h);case Hr.code:throw new Hr(h);case fm.code:throw new fm(h);case hm.code:throw new hm(h);case pm.code:throw new pm(h);case gm.code:throw new gm(h);case $d.code:throw new $d(h);case d0.code:throw new d0(h);case mm.code:throw new mm(h);case ym.code:throw new ym(h);case vm.code:throw new vm(h);case wm.code:throw new wm(h);case bm.code:throw new bm(h);case f0.code:throw new f0(h);case 5e3:throw new Hr(h);default:throw f instanceof Ae?f:new Pme(h)}}},{delay:({count:f,error:h})=>{var g;if(h&&h instanceof dg){const p=(g=h==null?void 0:h.headers)==null?void 0:g.get("Retry-After");if(p!=null&&p.match(/\d/))return Number.parseInt(p,10)*1e3}return~~(1<<f)*s},retryCount:a,shouldRetry:({error:f})=>z1e(f)}),{enabled:i,id:u})}}function z1e(t){return"code"in t&&typeof t.code=="number"?t.code===-1||t.code===u0.code||t.code===Rd.code:t instanceof dg&&t.status?t.status===403||t.status===408||t.status===413||t.status===429||t.status===500||t.status===502||t.status===503||t.status===504:!0}function FH(t){return{formatters:void 0,fees:void 0,serializers:void 0,...t}}function T8(t,{errorInstance:e=new Error("timed out"),timeout:n,signal:r}){return new Promise((i,o)=>{(async()=>{let s;try{const a=new AbortController;n>0&&(s=setTimeout(()=>{r?a.abort():o(e)},n)),i(await t({signal:(a==null?void 0:a.signal)||null}))}catch(a){(a==null?void 0:a.name)==="AbortError"&&o(e),o(a)}finally{clearTimeout(s)}})()})}function H1e(){return{current:0,take(){return this.current++},reset(){this.current=0}}}const y_=H1e();function W1e(t,e={}){return{async request(n){var f;const{body:r,fetchFn:i=e.fetchFn??fetch,onRequest:o=e.onRequest,onResponse:s=e.onResponse,timeout:a=e.timeout??1e4}=n,c={...e.fetchOptions??{},...n.fetchOptions??{}},{headers:l,method:u,signal:d}=c;try{const h=await T8(async({signal:p})=>{const S={...c,body:Array.isArray(r)?Dn(r.map(N=>({jsonrpc:"2.0",id:N.id??y_.take(),...N}))):Dn({jsonrpc:"2.0",id:r.id??y_.take(),...r}),headers:{"Content-Type":"application/json",...l},method:u||"POST",signal:d||(a>0?p:null)},y=new Request(t,S),b=await(o==null?void 0:o(y,S))??{...S,url:t};return await i(b.url??t,b)},{errorInstance:new XS({body:r,url:t}),timeout:a,signal:!0});s&&await s(h);let g;if((f=h.headers.get("Content-Type"))!=null&&f.startsWith("application/json"))g=await h.json();else{g=await h.text();try{g=JSON.parse(g||"{}")}catch(p){if(h.ok)throw p;g={error:g}}}if(!h.ok)throw new dg({body:r,details:Dn(g.error)||h.statusText,headers:h.headers,status:h.status,url:t});return g}catch(h){throw h instanceof dg||h instanceof XS?h:new dg({body:r,cause:h,url:t})}}}}const Y6=new Map;async function K1e(t){const{getSocket:e,keepAlive:n=!0,key:r="socket",reconnect:i=!0,url:o}=t,{interval:s=3e4}=typeof n=="object"?n:{},{attempts:a=5,delay:c=2e3}=typeof i=="object"?i:{},l=JSON.stringify({keepAlive:n,key:r,url:o,reconnect:i});let u=Y6.get(l);if(u)return u;let d=0;const{schedule:f}=_8({id:l,fn:async()=>{const p=new Map,S=new Map;let y,b,_,N=!1;function O(){if(i&&d<a){if(N)return;N=!0,d++,b==null||b.close(),setTimeout(async()=>{await $().catch(console.error),N=!1},c)}else p.clear(),S.clear()}async function $(){const j=await e({onClose(){var k,T;for(const L of p.values())(k=L.onError)==null||k.call(L,new nb({url:o}));for(const L of S.values())(T=L.onError)==null||T.call(L,new nb({url:o}));O()},onError(k){var T,L;y=k;for(const P of p.values())(T=P.onError)==null||T.call(P,y);for(const P of S.values())(L=P.onError)==null||L.call(P,y);O()},onOpen(){y=void 0,d=0},onResponse(k){const T=k.method==="eth_subscription",L=T?k.params.subscription:k.id,P=T?S:p,m=P.get(L);m&&m.onResponse(k),T||P.delete(L)}});if(b=j,n&&(_&&clearInterval(_),_=setInterval(()=>{var k;return(k=b.ping)==null?void 0:k.call(b)},s)),i&&S.size>0){const k=S.entries();for(const[T,{onResponse:L,body:P,onError:m}]of k)P&&(S.delete(T),u==null||u.request({body:P,onResponse:L,onError:m}))}return j}return await $(),y=void 0,u={close(){_&&clearInterval(_),b.close(),Y6.delete(l)},get socket(){return b},request({body:j,onError:k,onResponse:T}){y&&k&&k(y);const L=j.id??y_.take(),P=m=>{var w;typeof m.id=="number"&&L!==m.id||(j.method==="eth_subscribe"&&typeof m.result=="string"&&S.set(m.result,{onResponse:P,onError:k,body:j}),j.method==="eth_unsubscribe"&&S.delete((w=j.params)==null?void 0:w[0]),T(m))};p.set(L,{onResponse:P,onError:k});try{b.request({body:{jsonrpc:"2.0",id:L,...j}})}catch(m){k==null||k(m)}},requestAsync({body:j,timeout:k=1e4}){return T8(()=>new Promise((T,L)=>this.request({body:j,onError:L,onResponse:T})),{errorInstance:new XS({body:j,url:o}),timeout:k})},requests:p,subscriptions:S,url:o},Y6.set(l,u),[u]}}),[h,[g]]=await f();return g}async function Rv(t,e={}){const{keepAlive:n,reconnect:r}=e;return K1e({async getSocket({onClose:i,onError:o,onOpen:s,onResponse:a}){const c=await Lt(()=>import("./native-B8WyFf_Z.js"),[]).then(h=>h.WebSocket),l=new c(t);function u(){l.removeEventListener("close",u),l.removeEventListener("message",d),l.removeEventListener("error",o),l.removeEventListener("open",s),i()}function d({data:h}){if(!(typeof h=="string"&&h.trim().length===0))try{const g=JSON.parse(h);a(g)}catch(g){o(g)}}l.addEventListener("close",u),l.addEventListener("message",d),l.addEventListener("error",o),l.addEventListener("open",s),l.readyState===c.CONNECTING&&await new Promise((h,g)=>{l&&(l.onopen=h,l.onerror=g)});const{close:f}=l;return Object.assign(l,{close(){f.bind(l)(),u()},ping(){try{if(l.readyState===l.CLOSED||l.readyState===l.CLOSING)throw new SM({url:l.url,cause:new nb({url:l.url})});const h={jsonrpc:"2.0",id:null,method:"net_version",params:[]};l.send(JSON.stringify(h))}catch(h){o(h)}},request({body:h}){if(l.readyState===l.CLOSED||l.readyState===l.CLOSING)throw new SM({body:h,url:l.url,cause:new nb({url:l.url})});return l.send(JSON.stringify(h))}})},keepAlive:n,reconnect:r,url:t})}async function q1e(t){const e=await Rv(t);return Object.assign(e.socket,{requests:e.requests,subscriptions:e.subscriptions})}const V1e=`Ethereum Signed Message:
`;function G1e(t){const e=typeof t=="string"?c0(t):typeof t.raw=="string"?t.raw:Hn(t.raw),n=c0(`${V1e}${kn(e)}`);return $o([n,e])}function UH(t,e){return yr(G1e(t),e)}class Y1e extends Ae{constructor({domain:e}){super(`Invalid domain "${Dn(e)}".`,{metaMessages:["Must be a valid EIP-712 domain."]})}}class J1e extends Ae{constructor({primaryType:e,types:n}){super(`Invalid primary type \`${e}\` must be one of \`${JSON.stringify(Object.keys(n))}\`.`,{docsPath:"/api/glossary/Errors#typeddatainvalidprimarytypeerror",metaMessages:["Check that the primary type is a key in `types`."]})}}class Z1e extends Ae{constructor({type:e}){super(`Struct type "${e}" is invalid.`,{metaMessages:["Struct type must not be a Solidity type."],name:"InvalidStructTypeError"})}}function Q1e(t){const{domain:e,message:n,primaryType:r,types:i}=t,o=(c,l)=>{const u={...l};for(const d of c){const{name:f,type:h}=d;h==="address"&&(u[f]=u[f].toLowerCase())}return u},s=i.EIP712Domain?e?o(i.EIP712Domain,e):{}:{},a=(()=>{if(r!=="EIP712Domain")return o(i[r],n)})();return Dn({domain:s,message:a,primaryType:r,types:i})}function zH(t){const{domain:e,message:n,primaryType:r,types:i}=t,o=(s,a)=>{for(const c of s){const{name:l,type:u}=c,d=a[l],f=u.match(Mz);if(f&&(typeof d=="number"||typeof d=="bigint")){const[p,S,y]=f;et(d,{signed:S==="int",size:Number.parseInt(y,10)/8})}if(u==="address"&&typeof d=="string"&&!Lo(d))throw new fu({address:d});const h=u.match(Kge);if(h){const[p,S]=h;if(S&&kn(d)!==Number.parseInt(S,10))throw new _ge({expectedSize:Number.parseInt(S,10),givenSize:kn(d)})}const g=i[u];g&&(X1e(u),o(g,d))}};if(i.EIP712Domain&&e){if(typeof e!="object")throw new Y1e({domain:e});o(i.EIP712Domain,e)}if(r!=="EIP712Domain")if(i[r])o(i[r],n);else throw new J1e({primaryType:r,types:i})}function M8({domain:t}){return[typeof(t==null?void 0:t.name)=="string"&&{name:"name",type:"string"},(t==null?void 0:t.version)&&{name:"version",type:"string"},(typeof(t==null?void 0:t.chainId)=="number"||typeof(t==null?void 0:t.chainId)=="bigint")&&{name:"chainId",type:"uint256"},(t==null?void 0:t.verifyingContract)&&{name:"verifyingContract",type:"address"},(t==null?void 0:t.salt)&&{name:"salt",type:"bytes32"}].filter(Boolean)}function Txe({domain:t}){return HH({domain:t,types:{EIP712Domain:M8({domain:t})}})}function X1e(t){if(t==="address"||t==="bool"||t==="string"||t.startsWith("bytes")||t.startsWith("uint")||t.startsWith("int"))throw new Z1e({type:t})}function eve(t){const{domain:e={},message:n,primaryType:r}=t,i={EIP712Domain:M8({domain:e}),...t.types};zH({domain:e,message:n,primaryType:r,types:i});const o=["0x1901"];return e&&o.push(HH({domain:e,types:i})),r!=="EIP712Domain"&&o.push(WH({data:n,primaryType:r,types:i})),yr($o(o))}function HH({domain:t,types:e}){return WH({data:t,primaryType:"EIP712Domain",types:e})}function WH({data:t,primaryType:e,types:n}){const r=KH({data:t,primaryType:e,types:n});return yr(r)}function KH({data:t,primaryType:e,types:n}){const r=[{type:"bytes32"}],i=[tve({primaryType:e,types:n})];for(const o of n[e]){const[s,a]=VH({types:n,name:o.name,type:o.type,value:t[o.name]});r.push(s),i.push(a)}return ef(r,i)}function tve({primaryType:t,types:e}){const n=Ic(nve({primaryType:t,types:e}));return yr(n)}function nve({primaryType:t,types:e}){let n="";const r=qH({primaryType:t,types:e});r.delete(t);const i=[t,...Array.from(r).sort()];for(const o of i)n+=`${o}(${e[o].map(({name:s,type:a})=>`${a} ${s}`).join(",")})`;return n}function qH({primaryType:t,types:e},n=new Set){const r=t.match(/^\w*/u),i=r==null?void 0:r[0];if(n.has(i)||e[i]===void 0)return n;n.add(i);for(const o of e[i])qH({primaryType:o.type,types:e},n);return n}function VH({types:t,name:e,type:n,value:r}){if(t[n]!==void 0)return[{type:"bytes32"},yr(KH({data:r,primaryType:n,types:t}))];if(n==="bytes")return r=`0x${(r.length%2?"0":"")+r.slice(2)}`,[{type:"bytes32"},yr(r)];if(n==="string")return[{type:"bytes32"},yr(Ic(r))];if(n.lastIndexOf("]")===n.length-1){const i=n.slice(0,n.lastIndexOf("[")),o=r.map(s=>VH({name:e,type:i,types:t,value:s}));return[{type:"bytes32"},yr(ef(o.map(([s])=>s),o.map(([,s])=>s)))]}return[{type:n},r]}class rve extends Map{constructor(e){super(),Object.defineProperty(this,"maxSize",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.maxSize=e}get(e){const n=super.get(e);return super.has(e)&&n!==void 0&&(this.delete(e),super.set(e,n)),n}set(e,n){if(super.set(e,n),this.maxSize&&this.size>this.maxSize){const r=this.keys().next().value;r&&this.delete(r)}return this}}const ive={checksum:new rve(8192)},J6=ive.checksum;function GH(t,e={}){const{as:n=typeof t=="string"?"Hex":"Bytes"}=e,r=yw(yye(t));return n==="Bytes"?r:ws(r)}const ove=/^0x[a-fA-F0-9]{40}$/;function s3(t,e={}){const{strict:n=!0}=e;if(!ove.test(t))throw new zM({address:t,cause:new sve});if(n){if(t.toLowerCase()===t)return;if(YH(t)!==t)throw new zM({address:t,cause:new ave})}}function YH(t){if(J6.has(t))return J6.get(t);s3(t,{strict:!1});const e=t.substring(2).toLowerCase(),n=GH(wye(e),{as:"Bytes"}),r=e.split("");for(let o=0;o<40;o+=2)n[o>>1]>>4>=8&&r[o]&&(r[o]=r[o].toUpperCase()),(n[o>>1]&15)>=8&&r[o+1]&&(r[o+1]=r[o+1].toUpperCase());const i=`0x${r.join("")}`;return J6.set(t,i),i}function v_(t,e={}){const{strict:n=!0}=e??{};try{return s3(t,{strict:n}),!0}catch{return!1}}class zM extends Nt{constructor({address:e,cause:n}){super(`Address "${e}" is invalid.`,{cause:n}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Address.InvalidAddressError"})}}class sve extends Nt{constructor(){super("Address is not a 20 byte (40 hexadecimal character) value."),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Address.InvalidInputError"})}}class ave extends Nt{constructor(){super("Address does not match its checksum counterpart."),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Address.InvalidChecksumError"})}}const cve=/^(.*)\[([0-9]*)\]$/,lve=/^bytes([1-9]|1[0-9]|2[0-9]|3[0-2])?$/,JH=/^(u?int)(8|16|24|32|40|48|56|64|72|80|88|96|104|112|120|128|136|144|152|160|168|176|184|192|200|208|216|224|232|240|248|256)?$/,HM=2n**256n-1n;function Ah(t,e,n){const{checksumAddress:r,staticPosition:i}=n,o=L8(e.type);if(o){const[s,a]=o;return dve(t,{...e,type:a},{checksumAddress:r,length:s,staticPosition:i})}if(e.type==="tuple")return gve(t,e,{checksumAddress:r,staticPosition:i});if(e.type==="address")return uve(t,{checksum:r});if(e.type==="bool")return fve(t);if(e.type.startsWith("bytes"))return hve(t,e,{staticPosition:i});if(e.type.startsWith("uint")||e.type.startsWith("int"))return pve(t,e);if(e.type==="string")return mve(t,{staticPosition:i});throw new B8(e.type)}const WM=32,w_=32;function uve(t,e={}){const{checksum:n=!1}=e,r=t.readBytes(32);return[(o=>n?YH(o):o)(ws(Eye(r,-20))),32]}function dve(t,e,n){const{checksumAddress:r,length:i,staticPosition:o}=n;if(!i){const c=hc(t.readBytes(w_)),l=o+c,u=l+WM;t.setPosition(l);const d=hc(t.readBytes(WM)),f=_m(e);let h=0;const g=[];for(let p=0;p<d;++p){t.setPosition(u+(f?p*32:h));const[S,y]=Ah(t,e,{checksumAddress:r,staticPosition:u});h+=y,g.push(S)}return t.setPosition(o+32),[g,32]}if(_m(e)){const c=hc(t.readBytes(w_)),l=o+c,u=[];for(let d=0;d<i;++d){t.setPosition(l+d*32);const[f]=Ah(t,e,{checksumAddress:r,staticPosition:l});u.push(f)}return t.setPosition(o+32),[u,32]}let s=0;const a=[];for(let c=0;c<i;++c){const[l,u]=Ah(t,e,{checksumAddress:r,staticPosition:o+s});s+=u,a.push(l)}return[a,s]}function fve(t){return[Sye(t.readBytes(32),{size:32}),32]}function hve(t,e,{staticPosition:n}){const[r,i]=e.type.split("bytes");if(!i){const s=hc(t.readBytes(32));t.setPosition(n+s);const a=hc(t.readBytes(32));if(a===0)return t.setPosition(n+32),["0x",32];const c=t.readBytes(a);return t.setPosition(n+32),[ws(c),32]}return[ws(t.readBytes(Number.parseInt(i,10),32)),32]}function pve(t,e){const n=e.type.startsWith("int"),r=Number.parseInt(e.type.split("int")[1]||"256",10),i=t.readBytes(32);return[r>48?xye(i,{signed:n}):hc(i,{signed:n}),32]}function gve(t,e,n){const{checksumAddress:r,staticPosition:i}=n,o=e.components.length===0||e.components.some(({name:c})=>!c),s=o?[]:{};let a=0;if(_m(e)){const c=hc(t.readBytes(w_)),l=i+c;for(let u=0;u<e.components.length;++u){const d=e.components[u];t.setPosition(l+a);const[f,h]=Ah(t,d,{checksumAddress:r,staticPosition:l});a+=h,s[o?u:d==null?void 0:d.name]=f}return t.setPosition(i+32),[s,32]}for(let c=0;c<e.components.length;++c){const l=e.components[c],[u,d]=Ah(t,l,{checksumAddress:r,staticPosition:i});s[o?c:l==null?void 0:l.name]=u,a+=d}return[s,a]}function mve(t,{staticPosition:e}){const n=hc(t.readBytes(32)),r=e+n;t.setPosition(r);const i=hc(t.readBytes(32));if(i===0)return t.setPosition(e+32),["",32];const o=t.readBytes(i,32),s=_ye(fH(o));return t.setPosition(e+32),[s,32]}function yve({checksumAddress:t,parameters:e,values:n}){const r=[];for(let i=0;i<e.length;i++)r.push(N8({checksumAddress:t,parameter:e[i],value:n[i]}));return r}function N8({checksumAddress:t=!1,parameter:e,value:n}){const r=e,i=L8(r.type);if(i){const[o,s]=i;return wve(n,{checksumAddress:t,length:o,parameter:{...r,type:s}})}if(r.type==="tuple")return _ve(n,{checksumAddress:t,parameter:r});if(r.type==="address")return vve(n,{checksum:t});if(r.type==="bool")return Eve(n);if(r.type.startsWith("uint")||r.type.startsWith("int")){const o=r.type.startsWith("int"),[,,s="256"]=JH.exec(r.type)??[];return xve(n,{signed:o,size:Number(s)})}if(r.type.startsWith("bytes"))return bve(n,{type:r.type});if(r.type==="string")return Sve(n);throw new B8(r.type)}function R8(t){let e=0;for(let o=0;o<t.length;o++){const{dynamic:s,encoded:a}=t[o];s?e+=32:e+=qi(a)}const n=[],r=[];let i=0;for(let o=0;o<t.length;o++){const{dynamic:s,encoded:a}=t[o];s?(n.push(qr(e+i,{size:32})),r.push(a),i+=qi(a)):n.push(a)}return vs(...n,...r)}function vve(t,e){const{checksum:n=!1}=e;return s3(t,{strict:n}),{dynamic:!1,encoded:Dd(t.toLowerCase())}}function wve(t,e){const{checksumAddress:n,length:r,parameter:i}=e,o=r===null;if(!Array.isArray(t))throw new Nve(t);if(!o&&t.length!==r)throw new Mve({expectedLength:r,givenLength:t.length,type:`${i.type}[${r}]`});let s=!1;const a=[];for(let c=0;c<t.length;c++){const l=N8({checksumAddress:n,parameter:i,value:t[c]});l.dynamic&&(s=!0),a.push(l)}if(o||s){const c=R8(a);if(o){const l=qr(a.length,{size:32});return{dynamic:!0,encoded:a.length>0?vs(l,c):l}}if(s)return{dynamic:!0,encoded:c}}return{dynamic:!1,encoded:vs(...a.map(({encoded:c})=>c))}}function bve(t,{type:e}){const[,n]=e.split("bytes"),r=qi(t);if(!n){let i=t;return r%32!==0&&(i=jd(i,Math.ceil((t.length-2)/2/32)*32)),{dynamic:!0,encoded:vs(Dd(qr(r,{size:32})),i)}}if(r!==Number.parseInt(n,10))throw new QH({expectedSize:Number.parseInt(n,10),value:t});return{dynamic:!1,encoded:jd(t)}}function Eve(t){if(typeof t!="boolean")throw new Nt(`Invalid boolean value: "${t}" (type: ${typeof t}). Expected: \`true\` or \`false\`.`);return{dynamic:!1,encoded:Dd(hH(t))}}function xve(t,{signed:e,size:n}){if(typeof n=="number"){const r=2n**(BigInt(n)-(e?1n:0n))-1n,i=e?-r-1n:0n;if(t>r||t<i)throw new mH({max:r.toString(),min:i.toString(),signed:e,size:n/8,value:t.toString()})}return{dynamic:!1,encoded:qr(t,{size:32,signed:e})}}function Sve(t){const e=E8(t),n=Math.ceil(qi(e)/32),r=[];for(let i=0;i<n;i++)r.push(jd(aa(e,i*32,(i+1)*32)));return{dynamic:!0,encoded:vs(jd(qr(qi(e),{size:32})),...r)}}function _ve(t,e){const{checksumAddress:n,parameter:r}=e;let i=!1;const o=[];for(let s=0;s<r.components.length;s++){const a=r.components[s],c=Array.isArray(t)?s:a.name,l=N8({checksumAddress:n,parameter:a,value:t[c]});o.push(l),l.dynamic&&(i=!0)}return{dynamic:i,encoded:i?R8(o):vs(...o.map(({encoded:s})=>s))}}function L8(t){const e=t.match(/^(.*)\[(\d+)?\]$/);return e?[e[2]?Number(e[2]):null,e[1]]:void 0}function _m(t){var r;const{type:e}=t;if(e==="string"||e==="bytes"||e.endsWith("[]"))return!0;if(e==="tuple")return(r=t.components)==null?void 0:r.some(_m);const n=L8(t.type);return!!(n&&_m({...t,type:n[1]}))}const Cve={bytes:new Uint8Array,dataView:new DataView(new ArrayBuffer(0)),position:0,positionReadCount:new Map,recursiveReadCount:0,recursiveReadLimit:Number.POSITIVE_INFINITY,assertReadLimit(){if(this.recursiveReadCount>=this.recursiveReadLimit)throw new kve({count:this.recursiveReadCount+1,limit:this.recursiveReadLimit})},assertPosition(t){if(t<0||t>this.bytes.length-1)throw new Ive({length:this.bytes.length,position:t})},decrementPosition(t){if(t<0)throw new KM({offset:t});const e=this.position-t;this.assertPosition(e),this.position=e},getReadCount(t){return this.positionReadCount.get(t||this.position)||0},incrementPosition(t){if(t<0)throw new KM({offset:t});const e=this.position+t;this.assertPosition(e),this.position=e},inspectByte(t){const e=t??this.position;return this.assertPosition(e),this.bytes[e]},inspectBytes(t,e){const n=e??this.position;return this.assertPosition(n+t-1),this.bytes.subarray(n,n+t)},inspectUint8(t){const e=t??this.position;return this.assertPosition(e),this.bytes[e]},inspectUint16(t){const e=t??this.position;return this.assertPosition(e+1),this.dataView.getUint16(e)},inspectUint24(t){const e=t??this.position;return this.assertPosition(e+2),(this.dataView.getUint16(e)<<8)+this.dataView.getUint8(e+2)},inspectUint32(t){const e=t??this.position;return this.assertPosition(e+3),this.dataView.getUint32(e)},pushByte(t){this.assertPosition(this.position),this.bytes[this.position]=t,this.position++},pushBytes(t){this.assertPosition(this.position+t.length-1),this.bytes.set(t,this.position),this.position+=t.length},pushUint8(t){this.assertPosition(this.position),this.bytes[this.position]=t,this.position++},pushUint16(t){this.assertPosition(this.position+1),this.dataView.setUint16(this.position,t),this.position+=2},pushUint24(t){this.assertPosition(this.position+2),this.dataView.setUint16(this.position,t>>8),this.dataView.setUint8(this.position+2,t&255),this.position+=3},pushUint32(t){this.assertPosition(this.position+3),this.dataView.setUint32(this.position,t),this.position+=4},readByte(){this.assertReadLimit(),this._touch();const t=this.inspectByte();return this.position++,t},readBytes(t,e){this.assertReadLimit(),this._touch();const n=this.inspectBytes(t);return this.position+=e??t,n},readUint8(){this.assertReadLimit(),this._touch();const t=this.inspectUint8();return this.position+=1,t},readUint16(){this.assertReadLimit(),this._touch();const t=this.inspectUint16();return this.position+=2,t},readUint24(){this.assertReadLimit(),this._touch();const t=this.inspectUint24();return this.position+=3,t},readUint32(){this.assertReadLimit(),this._touch();const t=this.inspectUint32();return this.position+=4,t},get remaining(){return this.bytes.length-this.position},setPosition(t){const e=this.position;return this.assertPosition(t),this.position=t,()=>this.position=e},_touch(){if(this.recursiveReadLimit===Number.POSITIVE_INFINITY)return;const t=this.getReadCount();this.positionReadCount.set(this.position,t+1),t>0&&this.recursiveReadCount++}};function Ave(t,{recursiveReadLimit:e=8192}={}){const n=Object.create(Cve);return n.bytes=t,n.dataView=new DataView(t.buffer,t.byteOffset,t.byteLength),n.positionReadCount=new Map,n.recursiveReadLimit=e,n}class KM extends Nt{constructor({offset:e}){super(`Offset \`${e}\` cannot be negative.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Cursor.NegativeOffsetError"})}}class Ive extends Nt{constructor({length:e,position:n}){super(`Position \`${n}\` is out of bounds (\`0 < position < ${e}\`).`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Cursor.PositionOutOfBoundsError"})}}class kve extends Nt{constructor({count:e,limit:n}){super(`Recursive read limit of \`${n}\` exceeded (recursive read count: \`${e}\`).`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Cursor.RecursiveReadLimitExceededError"})}}function Pve(t,e,n={}){const{as:r="Array",checksumAddress:i=!1}=n,o=typeof e=="string"?dH(e):e,s=Ave(o);if(nh(o)===0&&t.length>0)throw new Tve;if(nh(o)&&nh(o)<32)throw new Ove({data:typeof e=="string"?e:ws(e),parameters:t,size:nh(o)});let a=0;const c=r==="Array"?[]:{};for(let l=0;l<t.length;++l){const u=t[l];s.setPosition(a);const[d,f]=Ah(s,u,{checksumAddress:i,staticPosition:0});a+=f,r==="Array"?c.push(d):c[u.name??l]=d}return c}function $8(t,e,n){const{checksumAddress:r=!1}={};if(t.length!==e.length)throw new XH({expectedLength:t.length,givenLength:e.length});const i=yve({checksumAddress:r,parameters:t,values:e}),o=R8(i);return o.length===0?"0x":o}function b_(t,e){if(t.length!==e.length)throw new XH({expectedLength:t.length,givenLength:e.length});const n=[];for(let r=0;r<t.length;r++){const i=t[r],o=e[r];n.push(b_.encode(i,o))}return vs(...n)}(function(t){function e(n,r,i=!1){if(n==="address"){const c=r;return s3(c),Dd(c.toLowerCase(),i?32:0)}if(n==="string")return E8(r);if(n==="bytes")return r;if(n==="bool")return Dd(hH(r),i?32:1);const o=n.match(JH);if(o){const[c,l,u="256"]=o,d=Number.parseInt(u,10)/8;return qr(r,{size:i?32:d,signed:l==="int"})}const s=n.match(lve);if(s){const[c,l]=s;if(Number.parseInt(l,10)!==(r.length-2)/2)throw new QH({expectedSize:Number.parseInt(l,10),value:r});return jd(r,i?32:0)}const a=n.match(cve);if(a&&Array.isArray(r)){const[c,l]=a,u=[];for(let d=0;d<r.length;d++)u.push(e(l,r[d],!0));return u.length===0?"0x":vs(...u)}throw new B8(n)}t.encode=e})(b_||(b_={}));function ZH(t){return Array.isArray(t)&&typeof t[0]=="string"||typeof t=="string"?dM(t):t}class Ove extends Nt{constructor({data:e,parameters:n,size:r}){super(`Data size of ${r} bytes is too small for given parameters.`,{metaMessages:[`Params: (${Mf(n)})`,`Data:   ${e} (${r} bytes)`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiParameters.DataSizeTooSmallError"})}}class Tve extends Nt{constructor(){super('Cannot decode zero data ("0x") with ABI parameters.'),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiParameters.ZeroDataError"})}}class Mve extends Nt{constructor({expectedLength:e,givenLength:n,type:r}){super(`Array length mismatch for type \`${r}\`. Expected: \`${e}\`. Given: \`${n}\`.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiParameters.ArrayLengthMismatchError"})}}class QH extends Nt{constructor({expectedSize:e,value:n}){super(`Size of bytes "${n}" (bytes${qi(n)}) does not match expected size (bytes${e}).`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiParameters.BytesSizeMismatchError"})}}class XH extends Nt{constructor({expectedLength:e,givenLength:n}){super(["ABI encoding parameters/values length mismatch.",`Expected length (parameters): ${e}`,`Given length (values): ${n}`].join(`
`)),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiParameters.LengthMismatchError"})}}class Nve extends Nt{constructor(e){super(`Value \`${e}\` is not a valid array.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiParameters.InvalidArrayError"})}}class B8 extends Nt{constructor(e){super(`Type \`${e}\` is not a valid ABI Type.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiParameters.InvalidTypeError"})}}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const mi=BigInt(0),Jr=BigInt(1),td=BigInt(2),Rve=BigInt(3),eW=BigInt(4),tW=BigInt(5),nW=BigInt(8);function di(t,e){const n=t%e;return n>=mi?n:e+n}function co(t,e,n){let r=t;for(;e-- >mi;)r*=r,r%=n;return r}function E_(t,e){if(t===mi)throw new Error("invert: expected non-zero number");if(e<=mi)throw new Error("invert: expected positive modulus, got "+e);let n=di(t,e),r=e,i=mi,o=Jr;for(;n!==mi;){const a=r/n,c=r%n,l=i-o*a;r=n,n=c,i=o,o=l}if(r!==Jr)throw new Error("invert: does not exist");return di(i,e)}function rW(t,e){const n=(t.ORDER+Jr)/eW,r=t.pow(e,n);if(!t.eql(t.sqr(r),e))throw new Error("Cannot find square root");return r}function Lve(t,e){const n=(t.ORDER-tW)/nW,r=t.mul(e,td),i=t.pow(r,n),o=t.mul(e,i),s=t.mul(t.mul(o,td),i),a=t.mul(o,t.sub(s,t.ONE));if(!t.eql(t.sqr(a),e))throw new Error("Cannot find square root");return a}function $ve(t){if(t<BigInt(3))throw new Error("sqrt is not defined for small field");let e=t-Jr,n=0;for(;e%td===mi;)e/=td,n++;let r=td;const i=D8(t);for(;qM(i,r)===1;)if(r++>1e3)throw new Error("Cannot find square root: probably non-prime P");if(n===1)return rW;let o=i.pow(r,e);const s=(e+Jr)/td;return function(c,l){if(c.is0(l))return l;if(qM(c,l)!==1)throw new Error("Cannot find square root");let u=n,d=c.mul(c.ONE,o),f=c.pow(l,e),h=c.pow(l,s);for(;!c.eql(f,c.ONE);){if(c.is0(f))return c.ZERO;let g=1,p=c.sqr(f);for(;!c.eql(p,c.ONE);)if(g++,p=c.sqr(p),g===u)throw new Error("Cannot find square root");const S=Jr<<BigInt(u-g-1),y=c.pow(d,S);u=g,d=c.sqr(y),f=c.mul(f,d),h=c.mul(h,y)}return h}}function Bve(t){return t%eW===Rve?rW:t%nW===tW?Lve:$ve(t)}const Dve=["create","isValid","is0","neg","inv","sqrt","sqr","eql","add","sub","mul","pow","div","addN","subN","mulN","sqrN"];function jve(t){const e={ORDER:"bigint",MASK:"bigint",BYTES:"isSafeInteger",BITS:"isSafeInteger"},n=Dve.reduce((r,i)=>(r[i]="function",r),e);return Q2(t,n)}function Fve(t,e,n){if(n<mi)throw new Error("invalid exponent, negatives unsupported");if(n===mi)return t.ONE;if(n===Jr)return e;let r=t.ONE,i=e;for(;n>mi;)n&Jr&&(r=t.mul(r,i)),i=t.sqr(i),n>>=Jr;return r}function iW(t,e,n=!1){const r=new Array(e.length).fill(n?t.ZERO:void 0),i=e.reduce((s,a,c)=>t.is0(a)?s:(r[c]=s,t.mul(s,a)),t.ONE),o=t.inv(i);return e.reduceRight((s,a,c)=>t.is0(a)?s:(r[c]=t.mul(s,r[c]),t.mul(s,a)),o),r}function qM(t,e){const n=(t.ORDER-Jr)/td,r=t.pow(e,n),i=t.eql(r,t.ONE),o=t.eql(r,t.ZERO),s=t.eql(r,t.neg(t.ONE));if(!i&&!o&&!s)throw new Error("invalid Legendre symbol result");return i?1:o?0:-1}function oW(t,e){e!==void 0&&Mg(e);const n=e!==void 0?e:t.toString(2).length,r=Math.ceil(n/8);return{nBitLength:n,nByteLength:r}}function D8(t,e,n=!1,r={}){if(t<=mi)throw new Error("invalid field: expected ORDER > 0, got "+t);const{nBitLength:i,nByteLength:o}=oW(t,e);if(o>2048)throw new Error("invalid field: expected ORDER of <= 2048 bytes");let s;const a=Object.freeze({ORDER:t,isLE:n,BITS:i,BYTES:o,MASK:Z2(i),ZERO:mi,ONE:Jr,create:c=>di(c,t),isValid:c=>{if(typeof c!="bigint")throw new Error("invalid field element: expected bigint, got "+typeof c);return mi<=c&&c<t},is0:c=>c===mi,isOdd:c=>(c&Jr)===Jr,neg:c=>di(-c,t),eql:(c,l)=>c===l,sqr:c=>di(c*c,t),add:(c,l)=>di(c+l,t),sub:(c,l)=>di(c-l,t),mul:(c,l)=>di(c*l,t),pow:(c,l)=>Fve(a,c,l),div:(c,l)=>di(c*E_(l,t),t),sqrN:c=>c*c,addN:(c,l)=>c+l,subN:(c,l)=>c-l,mulN:(c,l)=>c*l,inv:c=>E_(c,t),sqrt:r.sqrt||(c=>(s||(s=Bve(t)),s(a,c))),toBytes:c=>n?sH(c,o):fy(c,o),fromBytes:c=>{if(c.length!==o)throw new Error("Field.fromBytes: expected "+o+" bytes, got "+c.length);return n?oH(c):wd(c)},invertBatch:c=>iW(a,c),cmov:(c,l,u)=>u?l:c});return Object.freeze(a)}function sW(t){if(typeof t!="bigint")throw new Error("field order must be bigint");const e=t.toString(2).length;return Math.ceil(e/8)}function aW(t){const e=sW(t);return e+Math.ceil(e/2)}function Uve(t,e,n=!1){const r=t.length,i=sW(e),o=aW(e);if(r<16||r<o||r>1024)throw new Error("expected "+o+"-1024 bytes of input, got "+r);const s=n?oH(t):wd(t),a=di(s,e-Jr)+Jr;return n?sH(a,i):fy(a,i)}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const VM=BigInt(0),x_=BigInt(1);function Z6(t,e){const n=e.negate();return t?n:e}function cW(t,e){if(!Number.isSafeInteger(t)||t<=0||t>e)throw new Error("invalid window size, expected [1.."+e+"], got W="+t)}function Q6(t,e){cW(t,e);const n=Math.ceil(e/t)+1,r=2**(t-1),i=2**t,o=Z2(t),s=BigInt(t);return{windows:n,windowSize:r,mask:o,maxNumber:i,shiftBy:s}}function GM(t,e,n){const{windowSize:r,mask:i,maxNumber:o,shiftBy:s}=n;let a=Number(t&i),c=t>>s;a>r&&(a-=o,c+=x_);const l=e*r,u=l+Math.abs(a)-1,d=a===0,f=a<0,h=e%2!==0;return{nextN:c,offset:u,isZero:d,isNeg:f,isNegF:h,offsetF:l}}function zve(t,e){if(!Array.isArray(t))throw new Error("array expected");t.forEach((n,r)=>{if(!(n instanceof e))throw new Error("invalid point at index "+r)})}function Hve(t,e){if(!Array.isArray(t))throw new Error("array of scalars expected");t.forEach((n,r)=>{if(!e.isValid(n))throw new Error("invalid scalar at index "+r)})}const X6=new WeakMap,lW=new WeakMap;function e5(t){return lW.get(t)||1}function Wve(t,e){return{constTimeNegate:Z6,hasPrecomputes(n){return e5(n)!==1},unsafeLadder(n,r,i=t.ZERO){let o=n;for(;r>VM;)r&x_&&(i=i.add(o)),o=o.double(),r>>=x_;return i},precomputeWindow(n,r){const{windows:i,windowSize:o}=Q6(r,e),s=[];let a=n,c=a;for(let l=0;l<i;l++){c=a,s.push(c);for(let u=1;u<o;u++)c=c.add(a),s.push(c);a=c.double()}return s},wNAF(n,r,i){let o=t.ZERO,s=t.BASE;const a=Q6(n,e);for(let c=0;c<a.windows;c++){const{nextN:l,offset:u,isZero:d,isNeg:f,isNegF:h,offsetF:g}=GM(i,c,a);i=l,d?s=s.add(Z6(h,r[g])):o=o.add(Z6(f,r[u]))}return{p:o,f:s}},wNAFUnsafe(n,r,i,o=t.ZERO){const s=Q6(n,e);for(let a=0;a<s.windows&&i!==VM;a++){const{nextN:c,offset:l,isZero:u,isNeg:d}=GM(i,a,s);if(i=c,!u){const f=r[l];o=o.add(d?f.negate():f)}}return o},getPrecomputes(n,r,i){let o=X6.get(r);return o||(o=this.precomputeWindow(r,n),n!==1&&X6.set(r,i(o))),o},wNAFCached(n,r,i){const o=e5(n);return this.wNAF(o,this.getPrecomputes(o,n,i),r)},wNAFCachedUnsafe(n,r,i,o){const s=e5(n);return s===1?this.unsafeLadder(n,r,o):this.wNAFUnsafe(s,this.getPrecomputes(s,n,i),r,o)},setWindowSize(n,r){cW(r,e),lW.set(n,r),X6.delete(n)}}}function Kve(t,e,n,r){zve(n,t),Hve(r,e);const i=n.length,o=r.length;if(i!==o)throw new Error("arrays of points and scalars must have equal length");const s=t.ZERO,a=sye(BigInt(i));let c=1;a>12?c=a-3:a>4?c=a-2:a>0&&(c=2);const l=Z2(c),u=new Array(Number(l)+1).fill(s),d=Math.floor((e.BITS-1)/c)*c;let f=s;for(let h=d;h>=0;h-=c){u.fill(s);for(let p=0;p<o;p++){const S=r[p],y=Number(S>>BigInt(h)&l);u[y]=u[y].add(n[p])}let g=s;for(let p=u.length-1,S=s;p>0;p--)S=S.add(u[p]),g=g.add(S);if(f=f.add(g),h!==0)for(let p=0;p<c;p++)f=f.double()}return f}function uW(t){return jve(t.Fp),Q2(t,{n:"bigint",h:"bigint",Gx:"field",Gy:"field"},{nBitLength:"isSafeInteger",nByteLength:"isSafeInteger"}),Object.freeze({...oW(t.n,t.nBitLength),...t,p:t.Fp.ORDER})}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */function YM(t){t.lowS!==void 0&&Em("lowS",t.lowS),t.prehash!==void 0&&Em("prehash",t.prehash)}function qve(t){const e=uW(t);Q2(e,{a:"field",b:"field"},{allowInfinityPoint:"boolean",allowedPrivateKeyLengths:"array",clearCofactor:"function",fromBytes:"function",isTorsionFree:"function",toBytes:"function",wrapPrivateKey:"boolean"});const{endo:n,Fp:r,a:i}=e;if(n){if(!r.eql(i,r.ZERO))throw new Error("invalid endo: CURVE.a must be 0");if(typeof n!="object"||typeof n.beta!="bigint"||typeof n.splitScalar!="function")throw new Error('invalid endo: expected "beta": bigint and "splitScalar": function')}return Object.freeze({...e})}class Vve extends Error{constructor(e=""){super(e)}}const Ka={Err:Vve,_tlv:{encode:(t,e)=>{const{Err:n}=Ka;if(t<0||t>256)throw new n("tlv.encode: wrong tag");if(e.length&1)throw new n("tlv.encode: unpadded data");const r=e.length/2,i=P1(r);if(i.length/2&128)throw new n("tlv.encode: long form length too big");const o=r>127?P1(i.length/2|128):"";return P1(t)+o+i+e},decode(t,e){const{Err:n}=Ka;let r=0;if(t<0||t>256)throw new n("tlv.encode: wrong tag");if(e.length<2||e[r++]!==t)throw new n("tlv.decode: wrong tlv");const i=e[r++],o=!!(i&128);let s=0;if(!o)s=i;else{const c=i&127;if(!c)throw new n("tlv.decode(long): indefinite length not supported");if(c>4)throw new n("tlv.decode(long): byte length is too big");const l=e.subarray(r,r+c);if(l.length!==c)throw new n("tlv.decode: length bytes not complete");if(l[0]===0)throw new n("tlv.decode(long): zero leftmost byte");for(const u of l)s=s<<8|u;if(r+=c,s<128)throw new n("tlv.decode(long): not minimal encoding")}const a=e.subarray(r,r+s);if(a.length!==s)throw new n("tlv.decode: wrong value length");return{v:a,l:e.subarray(r+s)}}},_int:{encode(t){const{Err:e}=Ka;if(t<Qa)throw new e("integer: negative integers are not allowed");let n=P1(t);if(Number.parseInt(n[0],16)&8&&(n="00"+n),n.length&1)throw new e("unexpected DER parsing assertion: unpadded hex");return n},decode(t){const{Err:e}=Ka;if(t[0]&128)throw new e("invalid signature integer: negative");if(t[0]===0&&!(t[1]&128))throw new e("invalid signature integer: unnecessary leading zero");return wd(t)}},toSig(t){const{Err:e,_int:n,_tlv:r}=Ka,i=vo("signature",t),{v:o,l:s}=r.decode(48,i);if(s.length)throw new e("invalid signature: left bytes after parsing");const{v:a,l:c}=r.decode(2,o),{v:l,l:u}=r.decode(2,c);if(u.length)throw new e("invalid signature: left bytes after parsing");return{r:n.decode(a),s:n.decode(l)}},hexFromSig(t){const{_tlv:e,_int:n}=Ka,r=e.encode(2,n.encode(t.r)),i=e.encode(2,n.encode(t.s)),o=r+i;return e.encode(48,o)}};function t5(t,e){return xm(fy(t,e))}const Qa=BigInt(0),Jn=BigInt(1);BigInt(2);const n5=BigInt(3),Gve=BigInt(4);function Yve(t){const e=qve(t),{Fp:n}=e,r=D8(e.n,e.nBitLength),i=e.toBytes||((_,N,O)=>{const $=N.toAffine();return sb(Uint8Array.from([4]),n.toBytes($.x),n.toBytes($.y))}),o=e.fromBytes||(_=>{const N=_.subarray(1),O=n.fromBytes(N.subarray(0,n.BYTES)),$=n.fromBytes(N.subarray(n.BYTES,2*n.BYTES));return{x:O,y:$}});function s(_){const{a:N,b:O}=e,$=n.sqr(_),j=n.mul($,_);return n.add(n.add(j,n.mul(_,N)),O)}function a(_,N){const O=n.sqr(N),$=s(_);return n.eql(O,$)}if(!a(e.Gx,e.Gy))throw new Error("bad curve params: generator point");const c=n.mul(n.pow(e.a,n5),Gve),l=n.mul(n.sqr(e.b),BigInt(27));if(n.is0(n.add(c,l)))throw new Error("bad curve params: a or b");function u(_){return b8(_,Jn,e.n)}function d(_){const{allowedPrivateKeyLengths:N,nByteLength:O,wrapPrivateKey:$,n:j}=e;if(N&&typeof _!="bigint"){if(dy(_)&&(_=xm(_)),typeof _!="string"||!N.includes(_.length))throw new Error("invalid private key");_=_.padStart(O*2,"0")}let k;try{k=typeof _=="bigint"?_:wd(vo("private key",_,O))}catch{throw new Error("invalid private key, expected hex or "+O+" bytes, got "+typeof _)}return $&&(k=di(k,j)),Ch("private key",k,Jn,j),k}function f(_){if(!(_ instanceof p))throw new Error("ProjectivePoint expected")}const h=MM((_,N)=>{const{px:O,py:$,pz:j}=_;if(n.eql(j,n.ONE))return{x:O,y:$};const k=_.is0();N==null&&(N=k?n.ONE:n.inv(j));const T=n.mul(O,N),L=n.mul($,N),P=n.mul(j,N);if(k)return{x:n.ZERO,y:n.ZERO};if(!n.eql(P,n.ONE))throw new Error("invZ was invalid");return{x:T,y:L}}),g=MM(_=>{if(_.is0()){if(e.allowInfinityPoint&&!n.is0(_.py))return;throw new Error("bad point: ZERO")}const{x:N,y:O}=_.toAffine();if(!n.isValid(N)||!n.isValid(O))throw new Error("bad point: x or y not FE");if(!a(N,O))throw new Error("bad point: equation left != right");if(!_.isTorsionFree())throw new Error("bad point: not in prime-order subgroup");return!0});class p{constructor(N,O,$){if(N==null||!n.isValid(N))throw new Error("x required");if(O==null||!n.isValid(O)||n.is0(O))throw new Error("y required");if($==null||!n.isValid($))throw new Error("z required");this.px=N,this.py=O,this.pz=$,Object.freeze(this)}static fromAffine(N){const{x:O,y:$}=N||{};if(!N||!n.isValid(O)||!n.isValid($))throw new Error("invalid affine point");if(N instanceof p)throw new Error("projective point not allowed");const j=k=>n.eql(k,n.ZERO);return j(O)&&j($)?p.ZERO:new p(O,$,n.ONE)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static normalizeZ(N){const O=iW(n,N.map($=>$.pz));return N.map(($,j)=>$.toAffine(O[j])).map(p.fromAffine)}static fromHex(N){const O=p.fromAffine(o(vo("pointHex",N)));return O.assertValidity(),O}static fromPrivateKey(N){return p.BASE.multiply(d(N))}static msm(N,O){return Kve(p,r,N,O)}_setWindowSize(N){b.setWindowSize(this,N)}assertValidity(){g(this)}hasEvenY(){const{y:N}=this.toAffine();if(n.isOdd)return!n.isOdd(N);throw new Error("Field doesn't support isOdd")}equals(N){f(N);const{px:O,py:$,pz:j}=this,{px:k,py:T,pz:L}=N,P=n.eql(n.mul(O,L),n.mul(k,j)),m=n.eql(n.mul($,L),n.mul(T,j));return P&&m}negate(){return new p(this.px,n.neg(this.py),this.pz)}double(){const{a:N,b:O}=e,$=n.mul(O,n5),{px:j,py:k,pz:T}=this;let L=n.ZERO,P=n.ZERO,m=n.ZERO,w=n.mul(j,j),A=n.mul(k,k),v=n.mul(T,T),I=n.mul(j,k);return I=n.add(I,I),m=n.mul(j,T),m=n.add(m,m),L=n.mul(N,m),P=n.mul($,v),P=n.add(L,P),L=n.sub(A,P),P=n.add(A,P),P=n.mul(L,P),L=n.mul(I,L),m=n.mul($,m),v=n.mul(N,v),I=n.sub(w,v),I=n.mul(N,I),I=n.add(I,m),m=n.add(w,w),w=n.add(m,w),w=n.add(w,v),w=n.mul(w,I),P=n.add(P,w),v=n.mul(k,T),v=n.add(v,v),w=n.mul(v,I),L=n.sub(L,w),m=n.mul(v,A),m=n.add(m,m),m=n.add(m,m),new p(L,P,m)}add(N){f(N);const{px:O,py:$,pz:j}=this,{px:k,py:T,pz:L}=N;let P=n.ZERO,m=n.ZERO,w=n.ZERO;const A=e.a,v=n.mul(e.b,n5);let I=n.mul(O,k),M=n.mul($,T),E=n.mul(j,L),C=n.add(O,$),x=n.add(k,T);C=n.mul(C,x),x=n.add(I,M),C=n.sub(C,x),x=n.add(O,j);let R=n.add(k,L);return x=n.mul(x,R),R=n.add(I,E),x=n.sub(x,R),R=n.add($,j),P=n.add(T,L),R=n.mul(R,P),P=n.add(M,E),R=n.sub(R,P),w=n.mul(A,x),P=n.mul(v,E),w=n.add(P,w),P=n.sub(M,w),w=n.add(M,w),m=n.mul(P,w),M=n.add(I,I),M=n.add(M,I),E=n.mul(A,E),x=n.mul(v,x),M=n.add(M,E),E=n.sub(I,E),E=n.mul(A,E),x=n.add(x,E),I=n.mul(M,x),m=n.add(m,I),I=n.mul(R,x),P=n.mul(C,P),P=n.sub(P,I),I=n.mul(C,M),w=n.mul(R,w),w=n.add(w,I),new p(P,m,w)}subtract(N){return this.add(N.negate())}is0(){return this.equals(p.ZERO)}wNAF(N){return b.wNAFCached(this,N,p.normalizeZ)}multiplyUnsafe(N){const{endo:O,n:$}=e;Ch("scalar",N,Qa,$);const j=p.ZERO;if(N===Qa)return j;if(this.is0()||N===Jn)return this;if(!O||b.hasPrecomputes(this))return b.wNAFCachedUnsafe(this,N,p.normalizeZ);let{k1neg:k,k1:T,k2neg:L,k2:P}=O.splitScalar(N),m=j,w=j,A=this;for(;T>Qa||P>Qa;)T&Jn&&(m=m.add(A)),P&Jn&&(w=w.add(A)),A=A.double(),T>>=Jn,P>>=Jn;return k&&(m=m.negate()),L&&(w=w.negate()),w=new p(n.mul(w.px,O.beta),w.py,w.pz),m.add(w)}multiply(N){const{endo:O,n:$}=e;Ch("scalar",N,Jn,$);let j,k;if(O){const{k1neg:T,k1:L,k2neg:P,k2:m}=O.splitScalar(N);let{p:w,f:A}=this.wNAF(L),{p:v,f:I}=this.wNAF(m);w=b.constTimeNegate(T,w),v=b.constTimeNegate(P,v),v=new p(n.mul(v.px,O.beta),v.py,v.pz),j=w.add(v),k=A.add(I)}else{const{p:T,f:L}=this.wNAF(N);j=T,k=L}return p.normalizeZ([j,k])[0]}multiplyAndAddUnsafe(N,O,$){const j=p.BASE,k=(L,P)=>P===Qa||P===Jn||!L.equals(j)?L.multiplyUnsafe(P):L.multiply(P),T=k(this,O).add(k(N,$));return T.is0()?void 0:T}toAffine(N){return h(this,N)}isTorsionFree(){const{h:N,isTorsionFree:O}=e;if(N===Jn)return!0;if(O)return O(p,this);throw new Error("isTorsionFree() has not been declared for the elliptic curve")}clearCofactor(){const{h:N,clearCofactor:O}=e;return N===Jn?this:O?O(p,this):this.multiplyUnsafe(e.h)}toRawBytes(N=!0){return Em("isCompressed",N),this.assertValidity(),i(p,this,N)}toHex(N=!0){return Em("isCompressed",N),xm(this.toRawBytes(N))}}p.BASE=new p(e.Gx,e.Gy,n.ONE),p.ZERO=new p(n.ZERO,n.ONE,n.ZERO);const{endo:S,nBitLength:y}=e,b=Wve(p,S?Math.ceil(y/2):y);return{CURVE:e,ProjectivePoint:p,normPrivateKeyToScalar:d,weierstrassEquation:s,isWithinCurveOrder:u}}function Jve(t){const e=uW(t);return Q2(e,{hash:"hash",hmac:"function",randomBytes:"function"},{bits2int:"function",bits2int_modN:"function",lowS:"boolean"}),Object.freeze({lowS:!0,...e})}function Zve(t){const e=Jve(t),{Fp:n,n:r,nByteLength:i,nBitLength:o}=e,s=n.BYTES+1,a=2*n.BYTES+1;function c(v){return di(v,r)}function l(v){return E_(v,r)}const{ProjectivePoint:u,normPrivateKeyToScalar:d,weierstrassEquation:f,isWithinCurveOrder:h}=Yve({...e,toBytes(v,I,M){const E=I.toAffine(),C=n.toBytes(E.x),x=sb;return Em("isCompressed",M),M?x(Uint8Array.from([I.hasEvenY()?2:3]),C):x(Uint8Array.from([4]),C,n.toBytes(E.y))},fromBytes(v){const I=v.length,M=v[0],E=v.subarray(1);if(I===s&&(M===2||M===3)){const C=wd(E);if(!b8(C,Jn,n.ORDER))throw new Error("Point is not on curve");const x=f(C);let R;try{R=n.sqrt(x)}catch(z){const H=z instanceof Error?": "+z.message:"";throw new Error("Point is not on curve"+H)}const D=(R&Jn)===Jn;return(M&1)===1!==D&&(R=n.neg(R)),{x:C,y:R}}else if(I===a&&M===4){const C=n.fromBytes(E.subarray(0,n.BYTES)),x=n.fromBytes(E.subarray(n.BYTES,2*n.BYTES));return{x:C,y:x}}else{const C=s,x=a;throw new Error("invalid Point, expected length of "+C+", or uncompressed "+x+", got "+I)}}});function g(v){const I=r>>Jn;return v>I}function p(v){return g(v)?c(-v):v}const S=(v,I,M)=>wd(v.slice(I,M));class y{constructor(I,M,E){Ch("r",I,Jn,r),Ch("s",M,Jn,r),this.r=I,this.s=M,E!=null&&(this.recovery=E),Object.freeze(this)}static fromCompact(I){const M=i;return I=vo("compactSignature",I,M*2),new y(S(I,0,M),S(I,M,2*M))}static fromDER(I){const{r:M,s:E}=Ka.toSig(vo("DER",I));return new y(M,E)}assertValidity(){}addRecoveryBit(I){return new y(this.r,this.s,I)}recoverPublicKey(I){const{r:M,s:E,recovery:C}=this,x=j(vo("msgHash",I));if(C==null||![0,1,2,3].includes(C))throw new Error("recovery id invalid");const R=C===2||C===3?M+e.n:M;if(R>=n.ORDER)throw new Error("recovery id 2 or 3 invalid");const D=C&1?"03":"02",B=u.fromHex(D+t5(R,n.BYTES)),z=l(R),H=c(-x*z),W=c(E*z),G=u.BASE.multiplyAndAddUnsafe(B,H,W);if(!G)throw new Error("point at infinify");return G.assertValidity(),G}hasHighS(){return g(this.s)}normalizeS(){return this.hasHighS()?new y(this.r,c(-this.s),this.recovery):this}toDERRawBytes(){return ob(this.toDERHex())}toDERHex(){return Ka.hexFromSig(this)}toCompactRawBytes(){return ob(this.toCompactHex())}toCompactHex(){const I=i;return t5(this.r,I)+t5(this.s,I)}}const b={isValidPrivateKey(v){try{return d(v),!0}catch{return!1}},normPrivateKeyToScalar:d,randomPrivateKey:()=>{const v=aW(e.n);return Uve(e.randomBytes(v),e.n)},precompute(v=8,I=u.BASE){return I._setWindowSize(v),I.multiply(BigInt(3)),I}};function _(v,I=!0){return u.fromPrivateKey(v).toRawBytes(I)}function N(v){if(typeof v=="bigint")return!1;if(v instanceof u)return!0;const M=vo("key",v).length,E=n.BYTES,C=E+1,x=2*E+1;if(!(e.allowedPrivateKeyLengths||i===C))return M===C||M===x}function O(v,I,M=!0){if(N(v)===!0)throw new Error("first arg must be private key");if(N(I)===!1)throw new Error("second arg must be public key");return u.fromHex(I).multiply(d(v)).toRawBytes(M)}const $=e.bits2int||function(v){if(v.length>8192)throw new Error("input is too large");const I=wd(v),M=v.length*8-o;return M>0?I>>BigInt(M):I},j=e.bits2int_modN||function(v){return c($(v))},k=Z2(o);function T(v){return Ch("num < 2^"+o,v,Qa,k),fy(v,i)}function L(v,I,M=P){if(["recovered","canonical"].some(J=>J in M))throw new Error("sign() legacy options not supported");const{hash:E,randomBytes:C}=e;let{lowS:x,prehash:R,extraEntropy:D}=M;x==null&&(x=!0),v=vo("msgHash",v),YM(M),R&&(v=vo("prehashed msgHash",E(v)));const B=j(v),z=d(I),H=[T(z),T(B)];if(D!=null&&D!==!1){const J=D===!0?C(n.BYTES):D;H.push(vo("extraEntropy",J))}const W=sb(...H),G=B;function V(J){const Y=$(J);if(!h(Y))return;const ee=l(Y),ne=u.BASE.multiply(Y).toAffine(),K=c(ne.x);if(K===Qa)return;const Q=c(ee*c(G+K*z));if(Q===Qa)return;let ie=(ne.x===K?0:2)|Number(ne.y&Jn),ce=Q;return x&&g(Q)&&(ce=p(Q),ie^=1),new y(K,ce,ie)}return{seed:W,k2sig:V}}const P={lowS:e.lowS,prehash:!1},m={lowS:e.lowS,prehash:!1};function w(v,I,M=P){const{seed:E,k2sig:C}=L(v,I,M),x=e;return aye(x.hash.outputLen,x.nByteLength,x.hmac)(E,C)}u.BASE._setWindowSize(8);function A(v,I,M,E=m){var ie;const C=v;I=vo("msgHash",I),M=vo("publicKey",M);const{lowS:x,prehash:R,format:D}=E;if(YM(E),"strict"in E)throw new Error("options.strict was renamed to lowS");if(D!==void 0&&D!=="compact"&&D!=="der")throw new Error("format must be compact or der");const B=typeof C=="string"||dy(C),z=!B&&!D&&typeof C=="object"&&C!==null&&typeof C.r=="bigint"&&typeof C.s=="bigint";if(!B&&!z)throw new Error("invalid signature, expected Uint8Array, hex string or Signature instance");let H,W;try{if(z&&(H=new y(C.r,C.s)),B){try{D!=="compact"&&(H=y.fromDER(C))}catch(ce){if(!(ce instanceof Ka.Err))throw ce}!H&&D!=="der"&&(H=y.fromCompact(C))}W=u.fromHex(M)}catch{return!1}if(!H||x&&H.hasHighS())return!1;R&&(I=e.hash(I));const{r:G,s:V}=H,J=j(I),Y=l(V),ee=c(J*Y),ne=c(G*Y),K=(ie=u.BASE.multiplyAndAddUnsafe(W,ee,ne))==null?void 0:ie.toAffine();return K?c(K.x)===G:!1}return{CURVE:e,getPublicKey:_,getSharedSecret:O,sign:w,verify:A,ProjectivePoint:u,Signature:y,utils:b}}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */function Qve(t){return{hash:t,hmac:(e,...n)=>E$(t,e,JG(...n)),randomBytes:ZG}}function Xve(t,e){const n=r=>Zve({...t,...Qve(r)});return{...n(e),create:n}}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const dW=BigInt("0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffefffffc2f"),JM=BigInt("0xfffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141"),ewe=BigInt(0),twe=BigInt(1),S_=BigInt(2),ZM=(t,e)=>(t+e/S_)/e;function nwe(t){const e=dW,n=BigInt(3),r=BigInt(6),i=BigInt(11),o=BigInt(22),s=BigInt(23),a=BigInt(44),c=BigInt(88),l=t*t*t%e,u=l*l*t%e,d=co(u,n,e)*u%e,f=co(d,n,e)*u%e,h=co(f,S_,e)*l%e,g=co(h,i,e)*h%e,p=co(g,o,e)*g%e,S=co(p,a,e)*p%e,y=co(S,c,e)*S%e,b=co(y,a,e)*p%e,_=co(b,n,e)*u%e,N=co(_,s,e)*g%e,O=co(N,r,e)*l%e,$=co(O,S_,e);if(!__.eql(__.sqr($),t))throw new Error("Cannot find square root");return $}const __=D8(dW,void 0,void 0,{sqrt:nwe}),fW=Xve({a:ewe,b:BigInt(7),Fp:__,n:JM,Gx:BigInt("55066263022277343669578718895168534326250603453777594175500187360389116729240"),Gy:BigInt("32670510020758816978083085130507043184471273380659243275938904335757337482424"),h:BigInt(1),lowS:!0,endo:{beta:BigInt("0x7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee"),splitScalar:t=>{const e=JM,n=BigInt("0x3086d221a7d46bcde86c90e49284eb15"),r=-twe*BigInt("0xe4437ed6010e88286f547fa90abfe4c3"),i=BigInt("0x114ca50f7a8e2f3f657c1108d9d44cfd8"),o=n,s=BigInt("0x100000000000000000000000000000000"),a=ZM(o*t,e),c=ZM(-r*t,e);let l=di(t-a*n-c*i,e),u=di(-a*r-c*o,e);const d=l>s,f=u>s;if(d&&(l=e-l),f&&(u=e-u),l>s||u>s)throw new Error("splitScalar: Endomorphism failed, k="+t);return{k1neg:d,k1:l,k2neg:f,k2:u}}}},v$),rwe=Object.freeze(Object.defineProperty({__proto__:null,secp256k1:fW},Symbol.toStringTag,{value:"Module"}));function hW(t,e={}){const{recovered:n}=e;if(typeof t.r>"u")throw new r5({signature:t});if(typeof t.s>"u")throw new r5({signature:t});if(n&&typeof t.yParity>"u")throw new r5({signature:t});if(t.r<0n||t.r>HM)throw new uwe({value:t.r});if(t.s<0n||t.s>HM)throw new dwe({value:t.s});if(typeof t.yParity=="number"&&t.yParity!==0&&t.yParity!==1)throw new F8({value:t.yParity})}function iwe(t){return pW(ws(t))}function pW(t){if(t.length!==130&&t.length!==132)throw new lwe({signature:t});const e=BigInt(aa(t,0,32)),n=BigInt(aa(t,32,64)),r=(()=>{const i=+`0x${t.slice(130)}`;if(!Number.isNaN(i))try{return j8(i)}catch{throw new F8({value:i})}})();return typeof r>"u"?{r:e,s:n}:{r:e,s:n,yParity:r}}function owe(t){if(!(typeof t.r>"u")&&!(typeof t.s>"u"))return swe(t)}function swe(t){const e=typeof t=="string"?pW(t):t instanceof Uint8Array?iwe(t):typeof t.r=="string"?cwe(t):t.v?awe(t):{r:t.r,s:t.s,...typeof t.yParity<"u"?{yParity:t.yParity}:{}};return hW(e),e}function awe(t){return{r:t.r,s:t.s,yParity:j8(t.v)}}function cwe(t){const e=(()=>{const n=t.v?Number(t.v):void 0;let r=t.yParity?Number(t.yParity):void 0;if(typeof n=="number"&&typeof r!="number"&&(r=j8(n)),typeof r!="number")throw new F8({value:t.yParity});return r})();return{r:BigInt(t.r),s:BigInt(t.s),yParity:e}}function j8(t){if(t===0||t===27)return 0;if(t===1||t===28)return 1;if(t>=35)return t%2===0?1:0;throw new fwe({value:t})}class lwe extends Nt{constructor({signature:e}){super(`Value \`${e}\` is an invalid signature size.`,{metaMessages:["Expected: 64 bytes or 65 bytes.",`Received ${qi(Mye(e))} bytes.`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Signature.InvalidSerializedSizeError"})}}class r5 extends Nt{constructor({signature:e}){super(`Signature \`${uH(e)}\` is missing either an \`r\`, \`s\`, or \`yParity\` property.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Signature.MissingPropertiesError"})}}class uwe extends Nt{constructor({value:e}){super(`Value \`${e}\` is an invalid r value. r must be a positive integer less than 2^256.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Signature.InvalidRError"})}}class dwe extends Nt{constructor({value:e}){super(`Value \`${e}\` is an invalid s value. s must be a positive integer less than 2^256.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Signature.InvalidSError"})}}class F8 extends Nt{constructor({value:e}){super(`Value \`${e}\` is an invalid y-parity value. Y-parity must be 0 or 1.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Signature.InvalidYParityError"})}}class fwe extends Nt{constructor({value:e}){super(`Value \`${e}\` is an invalid v value. v must be 27, 28 or >=35.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Signature.InvalidVError"})}}function hwe(t,e={}){return typeof t.chainId=="string"?pwe(t):{...t,...e.signature}}function pwe(t){const{address:e,chainId:n,nonce:r}=t,i=owe(t);return{address:e,chainId:Number(n),nonce:BigInt(r),...i}}const gwe="0x8010801080108010801080108010801080108010801080108010801080108010",mwe=ZH("(uint256 chainId, address delegation, uint256 nonce, uint8 yParity, uint256 r, uint256 s), address to, bytes data");function gW(t){if(typeof t=="string"){if(aa(t,-32)!==gwe)throw new wwe(t)}else hW(t.authorization)}function ywe(t){gW(t);const e=gH(aa(t,-64,-32)),n=aa(t,-e-64,-64),r=aa(t,0,-e-64),[i,o,s]=Pve(mwe,n);return{authorization:hwe({address:i.delegation,chainId:Number(i.chainId),nonce:i.nonce,yParity:i.yParity,r:i.r,s:i.s}),signature:r,...s&&s!=="0x"?{data:s,to:o}:{}}}function vwe(t){try{return gW(t),!0}catch{return!1}}let wwe=class extends Nt{constructor(e){super(`Value \`${e}\` is an invalid ERC-8010 wrapped signature.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"SignatureErc8010.InvalidWrappedSignatureError"})}};function bwe(t){return t.map(e=>({...e,value:BigInt(e.value)}))}function Ewe(t){return{...t,balance:t.balance?BigInt(t.balance):void 0,nonce:t.nonce?ys(t.nonce):void 0,storageProof:t.storageProof?bwe(t.storageProof):void 0}}async function xwe(t,{address:e,blockNumber:n,blockTag:r,storageKeys:i}){const o=r??"latest",s=n!==void 0?et(n):void 0,a=await t.request({method:"eth_getProof",params:[e,i,s||o]});return Ewe(a)}async function Swe(t,{address:e,blockNumber:n,blockTag:r="latest",slot:i}){const o=n!==void 0?et(n):void 0;return await t.request({method:"eth_getStorageAt",params:[e,i,o||r]})}async function U8(t,{blockHash:e,blockNumber:n,blockTag:r,hash:i,index:o}){var u,d,f;const s=r||"latest",a=n!==void 0?et(n):void 0;let c=null;if(i?c=await t.request({method:"eth_getTransactionByHash",params:[i]},{dedupe:!0}):e?c=await t.request({method:"eth_getTransactionByBlockHashAndIndex",params:[e,et(o)]},{dedupe:!0}):c=await t.request({method:"eth_getTransactionByBlockNumberAndIndex",params:[a||s,et(o)]},{dedupe:!!a}),!c)throw new jz({blockHash:e,blockNumber:n,blockTag:s,hash:i,index:o});return(((f=(d=(u=t.chain)==null?void 0:u.formatters)==null?void 0:d.transaction)==null?void 0:f.format)||Gz)(c,"getTransaction")}async function _we(t,{hash:e,transactionReceipt:n}){const[r,i]=await Promise.all([rt(t,py,"getBlockNumber")({}),e?rt(t,U8,"getTransaction")({hash:e}):void 0]),o=(n==null?void 0:n.blockNumber)||(i==null?void 0:i.blockNumber);return o?r-o+1n:0n}async function Lv(t,{hash:e}){var i,o,s;const n=await t.request({method:"eth_getTransactionReceipt",params:[e]},{dedupe:!0});if(!n)throw new Fz({hash:e});return(((s=(o=(i=t.chain)==null?void 0:i.formatters)==null?void 0:o.transactionReceipt)==null?void 0:s.format)||r1e)(n,"getTransactionReceipt")}async function Cwe(t,e){var b;const{account:n,authorizationList:r,allowFailure:i=!0,blockNumber:o,blockOverrides:s,blockTag:a,stateOverride:c}=e,l=e.contracts,{batchSize:u=e.batchSize??1024,deployless:d=e.deployless??!1}=typeof((b=t.batch)==null?void 0:b.multicall)=="object"?t.batch.multicall:{},f=(()=>{if(e.multicallAddress)return e.multicallAddress;if(d)return null;if(t.chain)return D0({blockNumber:o,chain:t.chain,contract:"multicall3"});throw new Error("client chain not configured. multicallAddress is required.")})(),h=[[]];let g=0,p=0;for(let _=0;_<l.length;_++){const{abi:N,address:O,args:$,functionName:j}=l[_];try{const k=Qi({abi:N,args:$,functionName:j});p+=(k.length-2)/2,u>0&&p>u&&h[g].length>0&&(g++,p=(k.length-2)/2,h[g]=[]),h[g]=[...h[g],{allowFailure:!0,callData:k,target:O}]}catch(k){const T=Bd(k,{abi:N,address:O,args:$,docsPath:"/docs/contract/multicall",functionName:j,sender:n});if(!i)throw T;h[g]=[...h[g],{allowFailure:!0,callData:"0x",target:O}]}}const S=await Promise.allSettled(h.map(_=>rt(t,bs,"readContract")({...f===null?{code:x8}:{address:f},abi:ab,account:n,args:[_],authorizationList:r,blockNumber:o,blockOverrides:s,blockTag:a,functionName:"aggregate3",stateOverride:c}))),y=[];for(let _=0;_<S.length;_++){const N=S[_];if(N.status==="rejected"){if(!i)throw N.reason;for(let $=0;$<h[_].length;$++)y.push({status:"failure",error:N.reason,result:void 0});continue}const O=N.value;for(let $=0;$<O.length;$++){const{returnData:j,success:k}=O[$],{callData:T}=h[_][$],{abi:L,address:P,functionName:m,args:w}=l[y.length];try{if(T==="0x")throw new ny;if(!k)throw new q2({data:j});const A=rf({abi:L,args:w,data:j,functionName:m});y.push(i?{result:A,status:"success"}:A)}catch(A){const v=Bd(A,{abi:L,address:P,args:w,docsPath:"/docs/contract/multicall",functionName:m});if(!i)throw v;y.push({error:v,result:void 0,status:"failure"})}}}if(y.length!==l.length)throw new Ae("multicall results mismatch");return y}async function C_(t,e){const{blockNumber:n,blockTag:r=t.experimental_blockTag??"latest",blocks:i,returnFullTransactions:o,traceTransfers:s,validation:a}=e;try{const c=[];for(const f of i){const h=f.blockOverrides?vH(f.blockOverrides):void 0,g=f.calls.map(S=>{const y=S,b=y.account?Rn(y.account):void 0,_=y.abi?Qi(y):y.data,N={...y,data:y.dataSuffix?$o([_||"0x",y.dataSuffix]):_,from:y.from??(b==null?void 0:b.address)};return nf(N),$0(N)}),p=f.stateOverrides?l8(f.stateOverrides):void 0;c.push({blockOverrides:h,calls:g,stateOverrides:p})}const u=(typeof n=="bigint"?et(n):void 0)||r;return(await t.request({method:"eth_simulateV1",params:[{blockStateCalls:c,returnFullTransactions:o,traceTransfers:s,validation:a},u]})).map((f,h)=>({...Yz(f),calls:f.calls.map((g,p)=>{var L,P;const{abi:S,args:y,functionName:b,to:_}=i[h].calls[p],N=((L=g.error)==null?void 0:L.data)??g.returnData,O=BigInt(g.gasUsed),$=(P=g.logs)==null?void 0:P.map(m=>kc(m)),j=g.status==="0x1"?"success":"failure",k=S&&j==="success"&&N!=="0x"?rf({abi:S,data:N,functionName:b}):null,T=(()=>{var w;if(j==="success")return;let m;if(((w=g.error)==null?void 0:w.data)==="0x"?m=new ny:g.error&&(m=new q2(g.error)),!!m)return Bd(m,{abi:S??[],address:_??"0x",args:y,functionName:b??"<unknown>"})})();return{data:N,gasUsed:O,logs:$,status:j,...j==="success"?{result:k}:{error:T}}})}))}catch(c){const l=c,u=G2(l,{});throw u instanceof ly?l:u}}function A_(t){let e=!0,n="",r=0,i="",o=!1;for(let s=0;s<t.length;s++){const a=t[s];if(["(",")",","].includes(a)&&(e=!0),a==="("&&r++,a===")"&&r--,!!e){if(r===0){if(a===" "&&["event","function","error",""].includes(i))i="";else if(i+=a,a===")"){o=!0;break}continue}if(a===" "){t[s-1]!==","&&n!==","&&n!==",("&&(n="",e=!1);continue}i+=a,n+=a}}if(!o)throw new Nt("Unable to normalize signature.");return i}function I_(t,e){const n=typeof t,r=e.type;switch(r){case"address":return v_(t,{strict:!1});case"bool":return n==="boolean";case"function":return n==="string";case"string":return n==="string";default:return r==="tuple"&&"components"in e?Object.values(e.components).every((i,o)=>I_(Object.values(t)[o],i)):/^u?int(8|16|24|32|40|48|56|64|72|80|88|96|104|112|120|128|136|144|152|160|168|176|184|192|200|208|216|224|232|240|248|256)?$/.test(r)?n==="number"||n==="bigint":/^bytes([1-9]|1[0-9]|2[0-9]|3[0-2])?$/.test(r)?n==="string"||t instanceof Uint8Array:/[a-z]+[1-9]{0,3}(\[[0-9]{0,}\])+$/.test(r)?Array.isArray(t)&&t.every(i=>I_(i,{...e,type:r.replace(/(\[[0-9]{0,}\])$/,"")})):!1}}function mW(t,e,n){for(const r in t){const i=t[r],o=e[r];if(i.type==="tuple"&&o.type==="tuple"&&"components"in i&&"components"in o)return mW(i.components,o.components,n[r]);const s=[i.type,o.type];if(s.includes("address")&&s.includes("bytes20")?!0:s.includes("address")&&s.includes("string")?v_(n[r],{strict:!1}):s.includes("address")&&s.includes("bytes")?v_(n[r],{strict:!1}):!1)return s}}function yW(t,e={}){const{prepare:n=!0}=e,r=Array.isArray(t)||typeof t=="string"?uM(t):t;return{...r,...n?{hash:rh(r)}:{}}}function a3(t,e,n){const{args:r=[],prepare:i=!0}=n??{},o=Nye(e,{strict:!1}),s=t.filter(l=>o?l.type==="function"||l.type==="error"?vW(l)===aa(e,0,4):l.type==="event"?rh(l)===e:!1:"name"in l&&l.name===e);if(s.length===0)throw new cb({name:e});if(s.length===1)return{...s[0],...i?{hash:rh(s[0])}:{}};let a;for(const l of s){if(!("inputs"in l))continue;if(!r||r.length===0){if(!l.inputs||l.inputs.length===0)return{...l,...i?{hash:rh(l)}:{}};continue}if(!l.inputs||l.inputs.length===0||l.inputs.length!==r.length)continue;if(r.every((d,f)=>{const h="inputs"in l&&l.inputs[f];return h?I_(d,h):!1})){if(a&&"inputs"in a&&a.inputs){const d=mW(l.inputs,a.inputs,r);if(d)throw new Iwe({abiItem:l,type:d[0]},{abiItem:a,type:d[1]})}a=l}}const c=(()=>{if(a)return a;const[l,...u]=s;return{...l,overloads:u}})();if(!c)throw new cb({name:e});return{...c,...i?{hash:rh(c)}:{}}}function vW(...t){const e=(()=>{if(Array.isArray(t[0])){const[n,r]=t;return a3(n,r)}return t[0]})();return aa(rh(e),0,4)}function Awe(...t){const e=(()=>{if(Array.isArray(t[0])){const[r,i]=t;return a3(r,i)}return t[0]})(),n=typeof e=="string"?e:tb(e);return A_(n)}function rh(...t){const e=(()=>{if(Array.isArray(t[0])){const[n,r]=t;return a3(n,r)}return t[0]})();return typeof e!="string"&&"hash"in e&&e.hash?e.hash:GH(E8(Awe(e)))}class Iwe extends Nt{constructor(e,n){super("Found ambiguous types in overloaded ABI Items.",{metaMessages:[`\`${e.type}\` in \`${A_(tb(e.abiItem))}\`, and`,`\`${n.type}\` in \`${A_(tb(n.abiItem))}\``,"","These types encode differently and cannot be distinguished at runtime.","Remove one of the ambiguous items in the ABI."]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiItem.AmbiguityError"})}}class cb extends Nt{constructor({name:e,data:n,type:r="item"}){const i=e?` with name "${e}"`:n?` with data "${n}"`:"";super(`ABI ${r}${i} not found.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiItem.NotFoundError"})}}function kwe(...t){var o;const[e,n]=(()=>{if(Array.isArray(t[0])){const[s,a]=t;return[Owe(s),a]}return t})(),{bytecode:r,args:i}=n;return vs(r,(o=e.inputs)!=null&&o.length&&(i!=null&&i.length)?$8(e.inputs,i):"0x")}function Pwe(t){return yW(t)}function Owe(t){const e=t.find(n=>n.type==="constructor");if(!e)throw new cb({name:"constructor"});return e}function Twe(...t){const[e,n=[]]=(()=>{if(Array.isArray(t[0])){const[l,u,d]=t;return[QM(l,u,{args:d}),d]}const[a,c]=t;return[a,c]})(),{overloads:r}=e,i=r?QM([e,...r],e.name,{args:n}):e,o=Mwe(i),s=n.length>0?$8(i.inputs,n):void 0;return s?vs(o,s):o}function Sf(t,e={}){return yW(t,e)}function QM(t,e,n){const r=a3(t,e,n);if(r.type!=="function")throw new cb({name:e,type:"function"});return r}function Mwe(t){return vW(t)}const Nwe="0xeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeee",Ps="0x0000000000000000000000000000000000000000",Rwe="0x6080604052348015600e575f80fd5b5061016d8061001c5f395ff3fe608060405234801561000f575f80fd5b5060043610610029575f3560e01c8063f8b2cb4f1461002d575b5f80fd5b610047600480360381019061004291906100db565b61005d565b604051610054919061011e565b60405180910390f35b5f8173ffffffffffffffffffffffffffffffffffffffff16319050919050565b5f80fd5b5f73ffffffffffffffffffffffffffffffffffffffff82169050919050565b5f6100aa82610081565b9050919050565b6100ba816100a0565b81146100c4575f80fd5b50565b5f813590506100d5816100b1565b92915050565b5f602082840312156100f0576100ef61007d565b5b5f6100fd848285016100c7565b91505092915050565b5f819050919050565b61011881610106565b82525050565b5f6020820190506101315f83018461010f565b9291505056fea26469706673582212203b9fe929fe995c7cf9887f0bdba8a36dd78e8b73f149b17d2d9ad7cd09d2dc6264736f6c634300081a0033";async function Lwe(t,e){const{blockNumber:n,blockTag:r,calls:i,stateOverrides:o,traceAssetChanges:s,traceTransfers:a,validation:c}=e,l=e.account?Rn(e.account):void 0;if(s&&!l)throw new Ae("`account` is required when `traceAssetChanges` is true");const u=l?kwe(Pwe("constructor(bytes, bytes)"),{bytecode:xH,args:[Rwe,Twe(Sf("function getBalance(address)"),[l.address])]}):void 0,d=s?await Promise.all(e.calls.map(async E=>{if(!E.data&&!E.abi)return;const{accessList:C}=await BH(t,{account:l.address,...E,data:E.abi?Qi(E):E.data});return C.map(({address:x,storageKeys:R})=>R.length>0?x:null)})).then(E=>E.flat().filter(Boolean)):[],f=await C_(t,{blockNumber:n,blockTag:r,blocks:[...s?[{calls:[{data:u}],stateOverrides:o},{calls:d.map((E,C)=>({abi:[Sf("function balanceOf(address) returns (uint256)")],functionName:"balanceOf",args:[l.address],to:E,from:Ps,nonce:C})),stateOverrides:[{address:Ps,nonce:0}]}]:[],{calls:[...i,{}].map(E=>({...E,from:l==null?void 0:l.address})),stateOverrides:o},...s?[{calls:[{data:u}]},{calls:d.map((E,C)=>({abi:[Sf("function balanceOf(address) returns (uint256)")],functionName:"balanceOf",args:[l.address],to:E,from:Ps,nonce:C})),stateOverrides:[{address:Ps,nonce:0}]},{calls:d.map((E,C)=>({to:E,abi:[Sf("function decimals() returns (uint256)")],functionName:"decimals",from:Ps,nonce:C})),stateOverrides:[{address:Ps,nonce:0}]},{calls:d.map((E,C)=>({to:E,abi:[Sf("function tokenURI(uint256) returns (string)")],functionName:"tokenURI",args:[0n],from:Ps,nonce:C})),stateOverrides:[{address:Ps,nonce:0}]},{calls:d.map((E,C)=>({to:E,abi:[Sf("function symbol() returns (string)")],functionName:"symbol",from:Ps,nonce:C})),stateOverrides:[{address:Ps,nonce:0}]}]:[]],traceTransfers:a,validation:c}),h=s?f[2]:f[0],[g,p,,S,y,b,_,N]=s?f:[],{calls:O,...$}=h,j=O.slice(0,-1)??[],k=(g==null?void 0:g.calls)??[],T=(p==null?void 0:p.calls)??[],L=[...k,...T].map(E=>E.status==="success"?Ki(E.data):null),P=(S==null?void 0:S.calls)??[],m=(y==null?void 0:y.calls)??[],w=[...P,...m].map(E=>E.status==="success"?Ki(E.data):null),A=((b==null?void 0:b.calls)??[]).map(E=>E.status==="success"?E.result:null),v=((N==null?void 0:N.calls)??[]).map(E=>E.status==="success"?E.result:null),I=((_==null?void 0:_.calls)??[]).map(E=>E.status==="success"?E.result:null),M=[];for(const[E,C]of w.entries()){const x=L[E];if(typeof C!="bigint"||typeof x!="bigint")continue;const R=A[E-1],D=v[E-1],B=I[E-1],z=E===0?{address:Nwe,decimals:18,symbol:"ETH"}:{address:d[E-1],decimals:B||R?Number(R??1):void 0,symbol:D??void 0};M.some(H=>H.token.address===z.address)||M.push({token:z,value:{pre:x,post:C,diff:C-x}})}return{assetChanges:M,block:$,results:j}}const wW="0x6492649264926492649264926492649264926492649264926492649264926492";function $we(t){if(aa(t,-32)!==wW)throw new jwe(t)}function Bwe(t){const{data:e,signature:n,to:r}=t;return vs($8(ZH("address, bytes, bytes"),[r,e,n]),wW)}function Dwe(t){try{return $we(t),!0}catch{return!1}}class jwe extends Nt{constructor(e){super(`Value \`${e}\` is an invalid ERC-6492 wrapped signature.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"SignatureErc6492.InvalidWrappedSignatureError"})}}function Fwe({r:t,s:e,to:n="hex",v:r,yParity:i}){const o=(()=>{if(i===0||i===1)return i;if(r&&(r===27n||r===28n||r>=35n))return r%2n===0n?1:0;throw new Error("Invalid `v` or `yParity` value")})(),s=`0x${new fW.Signature(Ki(t),Ki(e)).toCompactHex()}${o===0?"1b":"1c"}`;return n==="hex"?s:ga(s)}async function c3(t,e){var a,c,l,u,d,f;const{address:n,hash:r,erc6492VerifierAddress:i=e.universalSignatureVerifierAddress??((l=(c=(a=t.chain)==null?void 0:a.contracts)==null?void 0:c.erc6492Verifier)==null?void 0:l.address),multicallAddress:o=e.multicallAddress??((f=(d=(u=t.chain)==null?void 0:u.contracts)==null?void 0:d.multicall3)==null?void 0:f.address)}=e,s=(()=>{const h=e.signature;return pa(h)?h:typeof h=="object"&&"r"in h&&"s"in h?Fwe(h):Hn(h)})();try{return vwe(s)?await Uwe(t,{...e,multicallAddress:o,signature:s}):await zwe(t,{...e,verifierAddress:i,signature:s})}catch(h){try{if(uy(Xu(n),await Hz({hash:r,signature:s})))return!0}catch{}if(h instanceof Fd)return!1;throw h}}async function Uwe(t,e){var S;const{address:n,blockNumber:r,blockTag:i,hash:o,multicallAddress:s}=e,{authorization:a,data:c,signature:l,to:u}=ywe(e.signature);if(await m_(t,{address:n,blockNumber:r,blockTag:i})===L0(["0xef0100",a.address]))return await Hwe(t,{address:n,blockNumber:r,blockTag:i,hash:o,signature:l});const f={address:a.address,chainId:Number(a.chainId),nonce:Number(a.nonce),r:et(a.r,{size:32}),s:et(a.s,{size:32}),yParity:a.yParity};if(!await j1e({address:n,authorization:f}))throw new Fd;const g=await rt(t,bs,"readContract")({...s?{address:s}:{code:x8},authorizationList:[f],abi:ab,blockNumber:r,blockTag:"pending",functionName:"aggregate3",args:[[...c?[{allowFailure:!0,target:u??n,callData:c}]:[],{allowFailure:!0,target:n,callData:Qi({abi:EH,functionName:"isValidSignature",args:[o,l]})}]]}),p=(S=g[g.length-1])==null?void 0:S.returnData;if(p!=null&&p.startsWith("0x1626ba7e"))return!0;throw new Fd}async function zwe(t,e){const{address:n,factory:r,factoryData:i,hash:o,signature:s,verifierAddress:a,...c}=e,l=await(async()=>!r&&!i||Dwe(s)?s:Bwe({data:i,signature:s,to:r}))(),u=a?{to:a,data:Qi({abi:DM,functionName:"isValidSig",args:[n,o,l]}),...c}:{data:e3({abi:DM,args:[n,o,l],bytecode:Fye}),...c},{data:d}=await rt(t,t3,"call")(u).catch(f=>{throw f instanceof Uz?new Fd:f});if(Nge(d??"0x0"))return!0;throw new Fd}async function Hwe(t,e){const{address:n,blockNumber:r,blockTag:i,hash:o,signature:s}=e;if((await rt(t,bs,"readContract")({address:n,abi:EH,args:[o,s],blockNumber:r,blockTag:i,functionName:"isValidSignature"}).catch(c=>{throw c instanceof zz?new Fd:c})).startsWith("0x1626ba7e"))return!0;throw new Fd}class Fd extends Error{}async function Wwe(t,{address:e,message:n,factory:r,factoryData:i,signature:o,...s}){const a=UH(n);return c3(t,{address:e,factory:r,factoryData:i,hash:a,signature:o,...s})}async function Kwe(t,e){const{address:n,factory:r,factoryData:i,signature:o,message:s,primaryType:a,types:c,domain:l,...u}=e,d=eve({message:s,primaryType:a,types:c,domain:l});return c3(t,{address:n,factory:r,factoryData:i,hash:d,signature:o,...u})}function bW(t,{emitOnBegin:e=!1,emitMissed:n=!1,onBlockNumber:r,onError:i,poll:o,pollingInterval:s=t.pollingInterval}){const a=typeof o<"u"?o:!(t.transport.type==="webSocket"||t.transport.type==="ipc"||t.transport.type==="fallback"&&(t.transport.transports[0].config.type==="webSocket"||t.transport.transports[0].config.type==="ipc"));let c;return a?(()=>{const d=Dn(["watchBlockNumber",t.uid,e,n,s]);return Pc(d,{onBlockNumber:r,onError:i},f=>j0(async()=>{var h;try{const g=await rt(t,py,"getBlockNumber")({cacheTime:0});if(c!==void 0){if(g===c)return;if(g-c>1&&n)for(let p=c+1n;p<g;p++)f.onBlockNumber(p,c),c=p}(c===void 0||g>c)&&(f.onBlockNumber(g,c),c=g)}catch(g){(h=f.onError)==null||h.call(f,g)}},{emitOnBegin:e,interval:s}))})():(()=>{const d=Dn(["watchBlockNumber",t.uid,e,n]);return Pc(d,{onBlockNumber:r,onError:i},f=>{let h=!0,g=()=>h=!1;return(async()=>{try{const p=(()=>{if(t.transport.type==="fallback"){const y=t.transport.transports.find(b=>b.config.type==="webSocket"||b.config.type==="ipc");return y?y.value:t.transport}return t.transport})(),{unsubscribe:S}=await p.subscribe({params:["newHeads"],onData(y){var _;if(!h)return;const b=Ki((_=y.result)==null?void 0:_.number);f.onBlockNumber(b,c),c=b},onError(y){var b;(b=f.onError)==null||b.call(f,y)}});g=S,h||g()}catch(p){i==null||i(p)}})(),()=>g()})})()}async function qwe(t,e){const{checkReplacement:n=!0,confirmations:r=1,hash:i,onReplaced:o,retryCount:s=6,retryDelay:a=({count:O})=>~~(1<<O)*200,timeout:c=18e4}=e,l=Dn(["waitForTransactionReceipt",t.uid,i]),u=(()=>{var O;return e.pollingInterval?e.pollingInterval:(O=t.chain)!=null&&O.experimental_preconfirmationTime?t.chain.experimental_preconfirmationTime:t.pollingInterval})();let d,f,h,g=!1,p,S;const{promise:y,resolve:b,reject:_}=S8(),N=c?setTimeout(()=>{S==null||S(),p==null||p(),_(new _me({hash:i}))},c):void 0;return p=Pc(l,{onReplaced:o,resolve:b,reject:_},async O=>{if(h=await rt(t,Lv,"getTransactionReceipt")({hash:i}).catch(()=>{}),h&&r<=1){clearTimeout(N),O.resolve(h),p==null||p();return}S=rt(t,bW,"watchBlockNumber")({emitMissed:!0,emitOnBegin:!0,poll:!0,pollingInterval:u,async onBlockNumber($){const j=T=>{clearTimeout(N),S==null||S(),T(),p==null||p()};let k=$;if(!g)try{if(h){if(r>1&&(!h.blockNumber||k-h.blockNumber+1n<r))return;j(()=>O.resolve(h));return}if(n&&!d&&(g=!0,await Sm(async()=>{d=await rt(t,U8,"getTransaction")({hash:i}),d.blockNumber&&(k=d.blockNumber)},{delay:a,retryCount:s}),g=!1),h=await rt(t,Lv,"getTransactionReceipt")({hash:i}),r>1&&(!h.blockNumber||k-h.blockNumber+1n<r))return;j(()=>O.resolve(h))}catch(T){if(T instanceof jz||T instanceof Fz){if(!d){g=!1;return}try{f=d,g=!0;const L=await Sm(()=>rt(t,Js,"getBlock")({blockNumber:k,includeTransactions:!0}),{delay:a,retryCount:s,shouldRetry:({error:w})=>w instanceof qz});g=!1;const P=L.transactions.find(({from:w,nonce:A})=>w===f.from&&A===f.nonce);if(!P||(h=await rt(t,Lv,"getTransactionReceipt")({hash:P.hash}),r>1&&(!h.blockNumber||k-h.blockNumber+1n<r)))return;let m="replaced";P.to===f.to&&P.value===f.value&&P.input===f.input?m="repriced":P.from===P.to&&P.value===0n&&(m="cancelled"),j(()=>{var w;(w=O.onReplaced)==null||w.call(O,{reason:m,replacedTransaction:f,transaction:P,transactionReceipt:h}),O.resolve(h)})}catch(L){j(()=>O.reject(L))}}else j(()=>O.reject(T))}}})}),y}function Vwe(t,{blockTag:e=t.experimental_blockTag??"latest",emitMissed:n=!1,emitOnBegin:r=!1,onBlock:i,onError:o,includeTransactions:s,poll:a,pollingInterval:c=t.pollingInterval}){const l=typeof a<"u"?a:!(t.transport.type==="webSocket"||t.transport.type==="ipc"||t.transport.type==="fallback"&&(t.transport.transports[0].config.type==="webSocket"||t.transport.transports[0].config.type==="ipc")),u=s??!1;let d;return l?(()=>{const g=Dn(["watchBlocks",t.uid,e,n,r,u,c]);return Pc(g,{onBlock:i,onError:o},p=>j0(async()=>{var S;try{const y=await rt(t,Js,"getBlock")({blockTag:e,includeTransactions:u});if(y.number!==null&&(d==null?void 0:d.number)!=null){if(y.number===d.number)return;if(y.number-d.number>1&&n)for(let b=(d==null?void 0:d.number)+1n;b<y.number;b++){const _=await rt(t,Js,"getBlock")({blockNumber:b,includeTransactions:u});p.onBlock(_,d),d=_}}((d==null?void 0:d.number)==null||e==="pending"&&(y==null?void 0:y.number)==null||y.number!==null&&y.number>d.number)&&(p.onBlock(y,d),d=y)}catch(y){(S=p.onError)==null||S.call(p,y)}},{emitOnBegin:r,interval:c}))})():(()=>{let g=!0,p=!0,S=()=>g=!1;return(async()=>{try{r&&rt(t,Js,"getBlock")({blockTag:e,includeTransactions:u}).then(_=>{g&&p&&(i(_,void 0),p=!1)}).catch(o);const y=(()=>{if(t.transport.type==="fallback"){const _=t.transport.transports.find(N=>N.config.type==="webSocket"||N.config.type==="ipc");return _?_.value:t.transport}return t.transport})(),{unsubscribe:b}=await y.subscribe({params:["newHeads"],async onData(_){var O;if(!g)return;const N=await rt(t,Js,"getBlock")({blockNumber:(O=_.result)==null?void 0:O.number,includeTransactions:u}).catch(()=>{});g&&(i(N,d),p=!1,d=N)},onError(_){o==null||o(_)}});S=b,g||S()}catch(y){o==null||o(y)}})(),()=>S()})()}function Gwe(t,{address:e,args:n,batch:r=!0,event:i,events:o,fromBlock:s,onError:a,onLogs:c,poll:l,pollingInterval:u=t.pollingInterval,strict:d}){const f=typeof l<"u"?l:typeof s=="bigint"?!0:!(t.transport.type==="webSocket"||t.transport.type==="ipc"||t.transport.type==="fallback"&&(t.transport.transports[0].config.type==="webSocket"||t.transport.transports[0].config.type==="ipc")),h=d??!1;return f?(()=>{const S=Dn(["watchEvent",e,n,r,t.uid,i,u,s]);return Pc(S,{onLogs:c,onError:a},y=>{let b;s!==void 0&&(b=s-1n);let _,N=!1;const O=j0(async()=>{var $;if(!N){try{_=await rt(t,DH,"createEventFilter")({address:e,args:n,event:i,events:o,strict:h,fromBlock:s})}catch{}N=!0;return}try{let j;if(_)j=await rt(t,n3,"getFilterChanges")({filter:_});else{const k=await rt(t,py,"getBlockNumber")({});b&&b!==k?j=await rt(t,y8,"getLogs")({address:e,args:n,event:i,events:o,fromBlock:b+1n,toBlock:k}):j=[],b=k}if(j.length===0)return;if(r)y.onLogs(j);else for(const k of j)y.onLogs([k])}catch(j){_&&j instanceof Ld&&(N=!1),($=y.onError)==null||$.call(y,j)}},{emitOnBegin:!0,interval:u});return async()=>{_&&await rt(t,r3,"uninstallFilter")({filter:_}),O()}})})():(()=>{let S=!0,y=()=>S=!1;return(async()=>{try{const b=(()=>{if(t.transport.type==="fallback"){const $=t.transport.transports.find(j=>j.config.type==="webSocket"||j.config.type==="ipc");return $?$.value:t.transport}return t.transport})(),_=o??(i?[i]:void 0);let N=[];_&&(N=[_.flatMap(j=>oy({abi:[j],eventName:j.name,args:n}))],i&&(N=N[0]));const{unsubscribe:O}=await b.subscribe({params:["logs",{address:e,topics:N}],onData($){var k;if(!S)return;const j=$.result;try{const{eventName:T,args:L}=g8({abi:_??[],data:j.data,topics:j.topics,strict:h}),P=kc(j,{args:L,eventName:T});c([P])}catch(T){let L,P;if(T instanceof rm||T instanceof z2){if(d)return;L=T.abiItem.name,P=(k=T.abiItem.inputs)==null?void 0:k.some(w=>!("name"in w&&w.name))}const m=kc(j,{args:P?[]:{},eventName:L});c([m])}},onError($){a==null||a($)}});y=O,S||y()}catch(b){a==null||a(b)}})(),()=>y()})()}function Ywe(t,{batch:e=!0,onError:n,onTransactions:r,poll:i,pollingInterval:o=t.pollingInterval}){return(typeof i<"u"?i:t.transport.type!=="webSocket"&&t.transport.type!=="ipc")?(()=>{const l=Dn(["watchPendingTransactions",t.uid,e,o]);return Pc(l,{onTransactions:r,onError:n},u=>{let d;const f=j0(async()=>{var h;try{if(!d)try{d=await rt(t,jH,"createPendingTransactionFilter")({});return}catch(p){throw f(),p}const g=await rt(t,n3,"getFilterChanges")({filter:d});if(g.length===0)return;if(e)u.onTransactions(g);else for(const p of g)u.onTransactions([p])}catch(g){(h=u.onError)==null||h.call(u,g)}},{emitOnBegin:!0,interval:o});return async()=>{d&&await rt(t,r3,"uninstallFilter")({filter:d}),f()}})})():(()=>{let l=!0,u=()=>l=!1;return(async()=>{try{const{unsubscribe:d}=await t.transport.subscribe({params:["newPendingTransactions"],onData(f){if(!l)return;const h=f.result;r([h])},onError(f){n==null||n(f)}});u=d,l||u()}catch(d){n==null||n(d)}})(),()=>u()})()}function Jwe(t){var d,f,h;const{scheme:e,statement:n,...r}=((d=t.match(Zwe))==null?void 0:d.groups)??{},{chainId:i,expirationTime:o,issuedAt:s,notBefore:a,requestId:c,...l}=((f=t.match(Qwe))==null?void 0:f.groups)??{},u=(h=t.split("Resources:")[1])==null?void 0:h.split(`
- `).slice(1);return{...r,...l,...i?{chainId:Number(i)}:{},...o?{expirationTime:new Date(o)}:{},...s?{issuedAt:new Date(s)}:{},...a?{notBefore:new Date(a)}:{},...c?{requestId:c}:{},...u?{resources:u}:{},...e?{scheme:e}:{},...n?{statement:n}:{}}}const Zwe=/^(?:(?<scheme>[a-zA-Z][a-zA-Z0-9+-.]*):\/\/)?(?<domain>[a-zA-Z0-9+-.]*(?::[0-9]{1,5})?) (?:wants you to sign in with your Ethereum account:\n)(?<address>0x[a-fA-F0-9]{40})\n\n(?:(?<statement>.*)\n\n)?/,Qwe=/(?:URI: (?<uri>.+))\n(?:Version: (?<version>.+))\n(?:Chain ID: (?<chainId>\d+))\n(?:Nonce: (?<nonce>[a-zA-Z0-9]+))\n(?:Issued At: (?<issuedAt>.+))(?:\nExpiration Time: (?<expirationTime>.+))?(?:\nNot Before: (?<notBefore>.+))?(?:\nRequest ID: (?<requestId>.+))?/;function Xwe(t){const{address:e,domain:n,message:r,nonce:i,scheme:o,time:s=new Date}=t;if(n&&r.domain!==n||i&&r.nonce!==i||o&&r.scheme!==o||r.expirationTime&&s>=r.expirationTime||r.notBefore&&s<r.notBefore)return!1;try{if(!r.address||!Lo(r.address,{strict:!1})||e&&!uy(r.address,e))return!1}catch{return!1}return!0}async function ebe(t,e){const{address:n,domain:r,message:i,nonce:o,scheme:s,signature:a,time:c=new Date,...l}=e,u=Jwe(i);if(!u.address||!Xwe({address:n,domain:r,message:u,nonce:o,scheme:s,time:c}))return!1;const f=UH(i);return c3(t,{address:u.address,hash:f,signature:a,...l})}function tbe(t){return{call:e=>t3(t,e),createAccessList:e=>BH(t,e),createBlockFilter:()=>P1e(t),createContractEventFilter:e=>Rz(t,e),createEventFilter:e=>DH(t,e),createPendingTransactionFilter:()=>jH(t),estimateContractGas:e=>nye(t,e),estimateGas:e=>p8(t,e),getBalance:e=>O1e(t,e),getBlobBaseFee:()=>T1e(t),getBlock:e=>Js(t,e),getBlockNumber:e=>py(t,e),getBlockTransactionCount:e=>M1e(t,e),getBytecode:e=>m_(t,e),getChainId:()=>B0(t),getCode:e=>m_(t,e),getContractEvents:e=>nH(t,e),getEip712Domain:e=>R1e(t,e),getEnsAddress:e=>h1e(t,e),getEnsAvatar:e=>A1e(t,e),getEnsName:e=>I1e(t,e),getEnsResolver:e=>k1e(t,e),getEnsText:e=>$H(t,e),getFeeHistory:e=>B1e(t,e),estimateFeesPerGas:e=>Vme(t,e),getFilterChanges:e=>n3(t,e),getFilterLogs:e=>D1e(t,e),getGasPrice:()=>d8(t),getLogs:e=>y8(t,e),getProof:e=>xwe(t,e),estimateMaxPriorityFeePerGas:e=>qme(t,e),getStorageAt:e=>Swe(t,e),getTransaction:e=>U8(t,e),getTransactionConfirmations:e=>_we(t,e),getTransactionCount:e=>f8(t,e),getTransactionReceipt:e=>Lv(t,e),multicall:e=>Cwe(t,e),prepareTransactionRequest:e=>J2(t,e),readContract:e=>bs(t,e),sendRawTransaction:e=>C8(t,e),simulate:e=>C_(t,e),simulateBlocks:e=>C_(t,e),simulateCalls:e=>Lwe(t,e),simulateContract:e=>Vye(t,e),verifyHash:e=>c3(t,e),verifyMessage:e=>Wwe(t,e),verifySiweMessage:e=>ebe(t,e),verifyTypedData:e=>Kwe(t,e),uninstallFilter:e=>r3(t,e),waitForTransactionReceipt:e=>qwe(t,e),watchBlocks:e=>Vwe(t,e),watchBlockNumber:e=>bW(t,e),watchContractEvent:e=>e1e(t,e),watchEvent:e=>Gwe(t,e),watchPendingTransactions:e=>Ywe(t,e)}}function nbe(t){const{key:e="public",name:n="Public Client"}=t;return A8({...t,key:e,name:n,type:"publicClient"}).extend(tbe)}async function rbe(t,{chain:e}){const{id:n,name:r,nativeCurrency:i,rpcUrls:o,blockExplorers:s}=e;await t.request({method:"wallet_addEthereumChain",params:[{chainId:et(n),chainName:r,nativeCurrency:i,rpcUrls:o.default.http,blockExplorerUrls:s?Object.values(s).map(({url:a})=>a):void 0}]},{dedupe:!0,retryCount:0})}function ibe(t,e){const{abi:n,args:r,bytecode:i,...o}=e,s=e3({abi:n,args:r,bytecode:i});return i3(t,{...o,...o.authorizationList?{to:null}:{},data:s})}async function obe(t){var n;return((n=t.account)==null?void 0:n.type)==="local"?[t.account.address]:(await t.request({method:"eth_accounts"},{dedupe:!0})).map(r=>ry(r))}async function sbe(t,e={}){const{account:n=t.account,chainId:r}=e,i=n?Rn(n):void 0,o=r?[i==null?void 0:i.address,[et(r)]]:[i==null?void 0:i.address],s=await t.request({method:"wallet_getCapabilities",params:o}),a={};for(const[c,l]of Object.entries(s)){a[Number(c)]={};for(let[u,d]of Object.entries(l))u==="addSubAccount"&&(u="unstable_addSubAccount"),a[Number(c)][u]=d}return typeof r=="number"?a[r]:a}async function abe(t){return await t.request({method:"wallet_getPermissions"},{dedupe:!0})}async function EW(t,e){var c;const{account:n=t.account,chainId:r,nonce:i}=e;if(!n)throw new of({docsPath:"/docs/eip7702/prepareAuthorization"});const o=Rn(n),s=(()=>{if(e.executor)return e.executor==="self"?e.executor:Rn(e.executor)})(),a={address:e.contractAddress??e.address,chainId:r,nonce:i};return typeof a.chainId>"u"&&(a.chainId=((c=t.chain)==null?void 0:c.id)??await rt(t,B0,"getChainId")({})),typeof a.nonce>"u"&&(a.nonce=await rt(t,f8,"getTransactionCount")({address:o.address,blockTag:"pending"}),(s==="self"||s!=null&&s.address&&uy(s.address,o.address))&&(a.nonce+=1)),a}async function cbe(t){return(await t.request({method:"eth_requestAccounts"},{dedupe:!0,retryCount:0})).map(n=>Xu(n))}async function lbe(t,e){return t.request({method:"wallet_requestPermissions",params:[e]},{retryCount:0})}async function ube(t,e){const{id:n}=e;await t.request({method:"wallet_showCallsStatus",params:[n]})}async function dbe(t,e){const{account:n=t.account}=e;if(!n)throw new of({docsPath:"/docs/eip7702/signAuthorization"});const r=Rn(n);if(!r.signAuthorization)throw new Nv({docsPath:"/docs/eip7702/signAuthorization",metaMessages:["The `signAuthorization` Action does not support JSON-RPC Accounts."],type:r.type});const i=await EW(t,e);return r.signAuthorization(i)}async function fbe(t,{account:e=t.account,message:n}){if(!e)throw new of({docsPath:"/docs/actions/wallet/signMessage"});const r=Rn(e);if(r.signMessage)return r.signMessage({message:n});const i=typeof n=="string"?c0(n):n.raw instanceof Uint8Array?Ic(n.raw):n.raw;return t.request({method:"personal_sign",params:[i,r.address]},{retryCount:0})}async function hbe(t,e){var l,u,d,f;const{account:n=t.account,chain:r=t.chain,...i}=e;if(!n)throw new of({docsPath:"/docs/actions/wallet/signTransaction"});const o=Rn(n);nf({account:o,...e});const s=await rt(t,B0,"getChainId")({});r!==null&&AH({currentChainId:s,chain:r});const a=(r==null?void 0:r.formatters)||((l=t.chain)==null?void 0:l.formatters),c=((u=a==null?void 0:a.transactionRequest)==null?void 0:u.format)||$0;return o.signTransaction?o.signTransaction({...i,chainId:s},{serializer:(f=(d=t.chain)==null?void 0:d.serializers)==null?void 0:f.transaction}):await t.request({method:"eth_signTransaction",params:[{...c(i,"signTransaction"),chainId:et(s),from:o.address}]},{retryCount:0})}async function pbe(t,e){const{account:n=t.account,domain:r,message:i,primaryType:o}=e;if(!n)throw new of({docsPath:"/docs/actions/wallet/signTypedData"});const s=Rn(n),a={EIP712Domain:M8({domain:r}),...e.types};if(zH({domain:r,message:i,primaryType:o,types:a}),s.signTypedData)return s.signTypedData({domain:r,message:i,primaryType:o,types:a});const c=Q1e({domain:r,message:i,primaryType:o,types:a});return t.request({method:"eth_signTypedData_v4",params:[s.address,c]},{retryCount:0})}async function gbe(t,{id:e}){await t.request({method:"wallet_switchEthereumChain",params:[{chainId:et(e)}]},{retryCount:0})}async function mbe(t,e){return await t.request({method:"wallet_watchAsset",params:e},{retryCount:0})}function ybe(t){return{addChain:e=>rbe(t,e),deployContract:e=>ibe(t,e),getAddresses:()=>obe(t),getCallsStatus:e=>TH(t,e),getCapabilities:e=>sbe(t,e),getChainId:()=>B0(t),getPermissions:()=>abe(t),prepareAuthorization:e=>EW(t,e),prepareTransactionRequest:e=>J2(t,e),requestAddresses:()=>cbe(t),requestPermissions:e=>lbe(t,e),sendCalls:e=>i1e(t,e),sendRawTransaction:e=>C8(t,e),sendTransaction:e=>i3(t,e),showCallsStatus:e=>ube(t,e),signAuthorization:e=>dbe(t,e),signMessage:e=>fbe(t,e),signTransaction:e=>hbe(t,e),signTypedData:e=>pbe(t,e),switchChain:e=>gbe(t,e),waitForCallsStatus:e=>o1e(t,e),watchAsset:e=>mbe(t,e),writeContract:e=>t1e(t,e)}}function vbe(t){const{key:e="wallet",name:n="Wallet Client",transport:r}=t;return A8({...t,key:e,name:n,transport:r,type:"walletClient"}).extend(ybe)}function z8({key:t,methods:e,name:n,request:r,retryCount:i=3,retryDelay:o=150,timeout:s,type:a},c){const l=MH();return{config:{key:t,methods:e,name:n,request:r,retryCount:i,retryDelay:o,timeout:s,type:a},request:U1e(r,{methods:e,retryCount:i,retryDelay:o,uid:l}),value:c}}function wbe(t,e={}){const{key:n="custom",methods:r,name:i="Custom Provider",retryDelay:o}=e;return({retryCount:s})=>z8({key:n,methods:r,name:i,request:t.request.bind(t),retryCount:e.retryCount??s,retryDelay:o,type:"custom"})}class xW extends Ae{constructor(){super("No URL was provided to the Transport. Please provide a valid RPC URL to the Transport.",{docsPath:"/docs/clients/intro",name:"UrlRequiredError"})}}function nd(t,e={}){const{batch:n,fetchFn:r,fetchOptions:i,key:o="http",methods:s,name:a="HTTP JSON-RPC",onFetchRequest:c,onFetchResponse:l,retryDelay:u,raw:d}=e;return({chain:f,retryCount:h,timeout:g})=>{const{batchSize:p=1e3,wait:S=0}=typeof n=="object"?n:{},y=e.retryCount??h,b=g??e.timeout??1e4,_=t||(f==null?void 0:f.rpcUrls.default.http[0]);if(!_)throw new xW;const N=W1e(_,{fetchFn:r,fetchOptions:i,onRequest:c,onResponse:l,timeout:b});return z8({key:o,methods:s,name:a,async request({method:O,params:$}){const j={method:O,params:$},{schedule:k}=_8({id:_,wait:S,shouldSplitBatch(m){return m.length>p},fn:m=>N.request({body:m}),sort:(m,w)=>m.id-w.id}),T=async m=>n?k(m):[await N.request({body:m})],[{error:L,result:P}]=await T(j);if(d)return{error:L,result:P};if(L)throw new V2({body:j,error:L,url:_});return P},retryCount:y,retryDelay:u,timeout:b,type:"http"},{fetchOptions:i,url:_})}}function bbe(t,e={}){const{keepAlive:n,key:r="webSocket",methods:i,name:o="WebSocket JSON-RPC",reconnect:s,retryDelay:a}=e;return({chain:c,retryCount:l,timeout:u})=>{var p;const d=e.retryCount??l,f=u??e.timeout??1e4,h=t||((p=c==null?void 0:c.rpcUrls.default.webSocket)==null?void 0:p[0]),g={keepAlive:n,reconnect:s};if(!h)throw new xW;return z8({key:r,methods:i,name:o,async request({method:S,params:y}){const b={method:S,params:y},_=await Rv(h,g),{error:N,result:O}=await _.requestAsync({body:b,timeout:f});if(N)throw new V2({body:b,error:N,url:h});return O},retryCount:d,retryDelay:a,timeout:f,type:"webSocket"},{getSocket(){return q1e(h)},getRpcClient(){return Rv(h,g)},async subscribe({params:S,onData:y,onError:b}){const _=await Rv(h,g),{result:N}=await new Promise((O,$)=>_.request({body:{method:"eth_subscribe",params:S},onError(j){$(j),b==null||b(j)},onResponse(j){if(j.error){$(j.error),b==null||b(j.error);return}if(typeof j.id=="number"){O(j);return}j.method==="eth_subscription"&&y(j.params)}}));return{subscriptionId:N,async unsubscribe(){return new Promise(O=>_.request({body:{method:"eth_unsubscribe",params:[N]},onResponse:O}))}}}})}}const Ebe=le.createContext(null);function xbe({children:t,context:e}){const n=le.useContext(e),{getPlugin:r,isInitialized:i,isConnected:o}=n,[s,a]=le.useState(!1),[c,l]=le.useState(!1),[u,d]=le.useState(null);le.useEffect(()=>{if(i){const h=r(eb.WALLET_SERVICES);d(h)}},[i,r]),le.useEffect(()=>{if(o){const h=r(eb.WALLET_SERVICES);d(h),(h==null?void 0:h.status)===Ue.CONNECTED&&a(!0)}},[o,r,u]),le.useEffect(()=>{const h=()=>{a(!0),l(!1)},g=()=>{a(!1),l(!1)},p=()=>{l(!0)};return u&&(u.on(is.CONNECTED,h),u.on(is.DISCONNECTED,g),u.on(is.CONNECTING,p)),()=>{u&&(u.off(is.CONNECTED,h),u.off(is.DISCONNECTED,g),u.off(is.CONNECTING,p))}},[u]);const f=le.useMemo(()=>({plugin:u,ready:s,connecting:c}),[u,s,c]);return le.createElement(Ebe.Provider,{value:f},t)}const Sbe="10.3.1",_be={hideWalletDiscovery:!1,connectors:{[Iw.AUTH]:{label:"Auth",showOnModal:!0}}},Cbe="https://assets.web3auth.io/v1/wallet-registry.json";function H8(t){return t.charAt(0).toUpperCase()+t.slice(1)}const Abe=new Set([Be.CUSTOM,Be.PASSKEYS,Be.TELEGRAM,Be.AUTHENTICATOR]),k_=Object.values(Be).filter(t=>!Abe.has(t)),Ibe=k_.reduce((t,e)=>(e==="email_passwordless"?t[e]="Email":e==="sms_passwordless"?t[e]="Mobile":t[e]=H8(e),t),{}),kbe={[li.DEVELOPMENT]:"https://api-develop.web3auth.io/passwordless-service",[li.STAGING]:"https://api.web3auth.io/passwordless-service",[li.PRODUCTION]:"https://api.web3auth.io/passwordless-service",[li.TESTING]:"https://api-develop.web3auth.io/passwordless-service"},Pbe="d5f0c15c-eeda-4f9c-934a-d8e0348e83b2",N1={MODAL_VISIBILITY:"MODAL_VISIBILITY"},An={INITIALIZED:"initialized",CONNECTED:"connected",CONNECTING:"connecting",ERRORED:"errored"};let lb=function(t){return t.SUCCESS="success",t.ERROR="error",t.WARNING="warning",t.INFO="info",t}({});function Obe(t,e){e===void 0&&(e={});var n=e.insertAt;if(!(typeof document>"u")){var r=document.head||document.getElementsByTagName("head")[0],i=document.createElement("style");i.type="text/css",n==="top"&&r.firstChild?r.insertBefore(i,r.firstChild):r.appendChild(i),i.styleSheet?i.styleSheet.cssText=t:i.appendChild(document.createTextNode(t))}}var Tbe=`@import url("https://fonts.googleapis.com/css2?family=Inter:wght@400;500;700&display=swap");.w3a-parent-container *,.w3a-parent-container :after,.w3a-parent-container :before{--tw-border-spacing-x:0;--tw-border-spacing-y:0;--tw-translate-x:0;--tw-translate-y:0;--tw-rotate:0;--tw-skew-x:0;--tw-skew-y:0;--tw-scale-x:1;--tw-scale-y:1;--tw-pan-x: ;--tw-pan-y: ;--tw-pinch-zoom: ;--tw-scroll-snap-strictness:proximity;--tw-gradient-from-position: ;--tw-gradient-via-position: ;--tw-gradient-to-position: ;--tw-ordinal: ;--tw-slashed-zero: ;--tw-numeric-figure: ;--tw-numeric-spacing: ;--tw-numeric-fraction: ;--tw-ring-inset: ;--tw-ring-offset-width:0px;--tw-ring-offset-color:#fff;--tw-ring-color:#3b82f680;--tw-ring-offset-shadow:0 0 #0000;--tw-ring-shadow:0 0 #0000;--tw-shadow:0 0 #0000;--tw-shadow-colored:0 0 #0000;--tw-blur: ;--tw-brightness: ;--tw-contrast: ;--tw-grayscale: ;--tw-hue-rotate: ;--tw-invert: ;--tw-saturate: ;--tw-sepia: ;--tw-drop-shadow: ;--tw-backdrop-blur: ;--tw-backdrop-brightness: ;--tw-backdrop-contrast: ;--tw-backdrop-grayscale: ;--tw-backdrop-hue-rotate: ;--tw-backdrop-invert: ;--tw-backdrop-opacity: ;--tw-backdrop-saturate: ;--tw-backdrop-sepia: ;--tw-contain-size: ;--tw-contain-layout: ;--tw-contain-paint: ;--tw-contain-style: }.w3a-parent-container ::backdrop{--tw-border-spacing-x:0;--tw-border-spacing-y:0;--tw-translate-x:0;--tw-translate-y:0;--tw-rotate:0;--tw-skew-x:0;--tw-skew-y:0;--tw-scale-x:1;--tw-scale-y:1;--tw-pan-x: ;--tw-pan-y: ;--tw-pinch-zoom: ;--tw-scroll-snap-strictness:proximity;--tw-gradient-from-position: ;--tw-gradient-via-position: ;--tw-gradient-to-position: ;--tw-ordinal: ;--tw-slashed-zero: ;--tw-numeric-figure: ;--tw-numeric-spacing: ;--tw-numeric-fraction: ;--tw-ring-inset: ;--tw-ring-offset-width:0px;--tw-ring-offset-color:#fff;--tw-ring-color:#3b82f680;--tw-ring-offset-shadow:0 0 #0000;--tw-ring-shadow:0 0 #0000;--tw-shadow:0 0 #0000;--tw-shadow-colored:0 0 #0000;--tw-blur: ;--tw-brightness: ;--tw-contrast: ;--tw-grayscale: ;--tw-hue-rotate: ;--tw-invert: ;--tw-saturate: ;--tw-sepia: ;--tw-drop-shadow: ;--tw-backdrop-blur: ;--tw-backdrop-brightness: ;--tw-backdrop-contrast: ;--tw-backdrop-grayscale: ;--tw-backdrop-hue-rotate: ;--tw-backdrop-invert: ;--tw-backdrop-opacity: ;--tw-backdrop-saturate: ;--tw-backdrop-sepia: ;--tw-contain-size: ;--tw-contain-layout: ;--tw-contain-paint: ;--tw-contain-style: }
/*! tailwindcss v3.4.17 | MIT License | https://tailwindcss.com*/.w3a-parent-container *,.w3a-parent-container :after,.w3a-parent-container :before{border:0 solid;box-sizing:border-box}.w3a-parent-container :after,.w3a-parent-container :before{--tw-content:""}.w3a-parent-container :host,.w3a-parent-container html{-webkit-text-size-adjust:100%;font-feature-settings:normal;-webkit-tap-highlight-color:transparent;font-family:ui-sans-serif,system-ui,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;font-variation-settings:normal;line-height:1.5;-moz-tab-size:4;tab-size:4}.w3a-parent-container body{line-height:inherit;margin:0}.w3a-parent-container hr{border-top-width:1px;color:inherit;height:0}.w3a-parent-container abbr:where([title]){text-decoration:underline dotted}.w3a-parent-container h1,.w3a-parent-container h2,.w3a-parent-container h3,.w3a-parent-container h4,.w3a-parent-container h5,.w3a-parent-container h6{font-size:inherit;font-weight:inherit}.w3a-parent-container a{color:inherit;text-decoration:inherit}.w3a-parent-container b,.w3a-parent-container strong{font-weight:bolder}.w3a-parent-container code,.w3a-parent-container kbd,.w3a-parent-container pre,.w3a-parent-container samp{font-feature-settings:normal;font-family:ui-monospace,SFMono-Regular,Menlo,Monaco,Consolas,Liberation Mono,Courier New,monospace;font-size:1em;font-variation-settings:normal}.w3a-parent-container small{font-size:80%}.w3a-parent-container sub,.w3a-parent-container sup{font-size:75%;line-height:0;position:relative;vertical-align:initial}.w3a-parent-container sub{bottom:-.25em}.w3a-parent-container sup{top:-.5em}.w3a-parent-container table{border-collapse:collapse;border-color:inherit;text-indent:0}.w3a-parent-container button,.w3a-parent-container input,.w3a-parent-container optgroup,.w3a-parent-container select,.w3a-parent-container textarea{font-feature-settings:inherit;color:inherit;font-family:inherit;font-size:100%;font-variation-settings:inherit;font-weight:inherit;letter-spacing:inherit;line-height:inherit;margin:0;padding:0}.w3a-parent-container button,.w3a-parent-container select{text-transform:none}.w3a-parent-container button,.w3a-parent-container input:where([type=button]),.w3a-parent-container input:where([type=reset]),.w3a-parent-container input:where([type=submit]){-webkit-appearance:button;background-color:initial;background-image:none}.w3a-parent-container :-moz-focusring{outline:auto}.w3a-parent-container :-moz-ui-invalid{box-shadow:none}.w3a-parent-container progress{vertical-align:initial}.w3a-parent-container ::-webkit-inner-spin-button,.w3a-parent-container ::-webkit-outer-spin-button{height:auto}.w3a-parent-container [type=search]{-webkit-appearance:textfield;outline-offset:-2px}.w3a-parent-container ::-webkit-search-decoration{-webkit-appearance:none}.w3a-parent-container ::-webkit-file-upload-button{-webkit-appearance:button;font:inherit}.w3a-parent-container summary{display:list-item}.w3a-parent-container blockquote,.w3a-parent-container dd,.w3a-parent-container dl,.w3a-parent-container figure,.w3a-parent-container h1,.w3a-parent-container h2,.w3a-parent-container h3,.w3a-parent-container h4,.w3a-parent-container h5,.w3a-parent-container h6,.w3a-parent-container hr,.w3a-parent-container p,.w3a-parent-container pre{margin:0}.w3a-parent-container fieldset{margin:0;padding:0}.w3a-parent-container legend{padding:0}.w3a-parent-container menu,.w3a-parent-container ol,.w3a-parent-container ul{list-style:none;margin:0;padding:0}.w3a-parent-container dialog{padding:0}.w3a-parent-container textarea{resize:vertical}.w3a-parent-container input::placeholder,.w3a-parent-container textarea::placeholder{color:#9ca3af;opacity:1}.w3a-parent-container [role=button],.w3a-parent-container button{cursor:pointer}.w3a-parent-container :disabled{cursor:default}.w3a-parent-container audio,.w3a-parent-container canvas,.w3a-parent-container embed,.w3a-parent-container iframe,.w3a-parent-container img,.w3a-parent-container object,.w3a-parent-container svg,.w3a-parent-container video{display:block;vertical-align:middle}.w3a-parent-container img,.w3a-parent-container video{height:auto;max-width:100%}.w3a-parent-container [hidden]:where(:not([hidden=until-found])){display:none}.w3a-parent-container{--app-on-primary:#fff;--app-primary-50:#ebf5ff;--app-primary-100:#e1effe;--app-primary-200:#c3ddfd;--app-primary-300:#a4cafe;--app-primary-400:#76a9fa;--app-primary-500:#3f83f8;--app-primary-600:#0346ff;--app-primary-700:#1a56db;--app-primary-800:#1e429f;--app-primary-900:#233876;--app-gray-50:#f9fafb;--app-gray-100:#f3f4f6;--app-gray-200:#e5e7eb;--app-gray-300:#d1d5db;--app-gray-400:#9ca3af;--app-gray-500:#6b7280;--app-gray-600:#4b5563;--app-gray-700:#374151;--app-gray-800:#1f2a37;--app-gray-900:#111928;--app-blue-50:#ebf5ff;--app-blue-100:#e1effe;--app-blue-200:#c3ddfd;--app-blue-300:#a4cafe;--app-blue-400:#76a9fa;--app-blue-500:#3f83f8;--app-blue-600:#0346ff;--app-blue-700:#1a56db;--app-blue-800:#1e429f;--app-blue-900:#233876;--app-red-50:#fdf2f2;--app-red-100:#fde8e8;--app-red-200:#fbd5d5;--app-red-300:#f8b4b4;--app-red-400:#f98080;--app-red-500:#f05252;--app-red-600:#e02424;--app-red-700:#c81e1e;--app-red-800:#9b1c1c;--app-red-900:#771d1d;--app-green-50:#f3faf7;--app-green-100:#def7ec;--app-green-200:#bcf0da;--app-green-300:#84e1bc;--app-green-400:#31c48d;--app-green-500:#0e9f6e;--app-green-600:#057a55;--app-green-700:#046c4e;--app-green-800:#03543f;--app-green-900:#014737;--app-yellow-50:#fdfdea;--app-yellow-100:#fdf6b2;--app-yellow-200:#fce96a;--app-yellow-300:#faca15;--app-yellow-400:#e3a008;--app-yellow-500:#c27803;--app-yellow-600:#9f580a;--app-yellow-700:#8e4b10;--app-yellow-800:#723b13;--app-yellow-900:#633112;--app-success:#30cca4;--app-warning:#fbc94a;--app-error:#fb4a61;--app-info:#d4d4d4;--app-white:#fff;--app-black:#000}.w3a-parent-container body{box-sizing:border-box;margin:0!important;padding:0!important}.w3a-parent-container{font-family:Inter;position:relative}.w3a-parent-container .w3a-parent-container>*{scrollbar-color:#e5e7eb!important}.w3a-parent-container .w3a--social-container{scroll-padding-right:10px;scrollbar-color:#e5e7eb!important}.w3a-parent-container .w3a--modal-curtain{background-color:initial;left:0;opacity:0;position:absolute;right:0;top:0;transition:opacity 50ms ease-in;z-index:1}.w3a-parent-container .w3a--fixed{position:fixed}.w3a-parent-container .w3a--absolute{position:absolute}.w3a-parent-container .w3a--relative{position:relative}.w3a-parent-container .w3a--inset-x-4{left:1rem;right:1rem}.w3a-parent-container .w3a--bottom-2{bottom:.5rem}.w3a-parent-container .w3a--bottom-4{bottom:1rem}.w3a-parent-container .w3a--bottom-8{bottom:2rem}.w3a-parent-container .w3a--bottom-\\[100\\%\\]{bottom:100%}.w3a-parent-container .w3a--left-0{left:0}.w3a-parent-container .w3a--left-2{left:.5rem}.w3a-parent-container .w3a--left-\\[50\\%\\]{left:50%}.w3a-parent-container .w3a--right-4{right:1rem}.w3a-parent-container .w3a--right-6{right:1.5rem}.w3a-parent-container .w3a--top-0{top:0}.w3a-parent-container .w3a--top-1\\/2{top:50%}.w3a-parent-container .w3a--top-4{top:1rem}.w3a-parent-container .w3a--top-8{top:2rem}.w3a-parent-container .w3a--top-\\[16px\\]{top:16px}.w3a-parent-container .w3a--top-\\[30px\\]{top:30px}.w3a-parent-container .w3a--z-10{z-index:10}.w3a-parent-container .w3a--z-20{z-index:20}.w3a-parent-container .w3a--z-50{z-index:50}.w3a-parent-container .w3a--z-\\[-1\\]{z-index:-1}.w3a-parent-container .w3a--z-\\[45\\]{z-index:45}.w3a-parent-container .w3a--z-\\[60\\]{z-index:60}.w3a-parent-container .w3a--mx-auto{margin-left:auto;margin-right:auto}.w3a-parent-container .w3a--my-2{margin-bottom:.5rem;margin-top:.5rem}.w3a-parent-container .w3a--my-4{margin-bottom:1rem;margin-top:1rem}.w3a-parent-container .w3a--my-6{margin-bottom:1.5rem;margin-top:1.5rem}.w3a-parent-container .-w3a--mt-10{margin-top:-2.5rem}.w3a-parent-container .-w3a--mt-2{margin-top:-.5rem}.w3a-parent-container .-w3a--mt-6{margin-top:-1.5rem}.w3a-parent-container .w3a--mb-2{margin-bottom:.5rem}.w3a-parent-container .w3a--ml-0{margin-left:0}.w3a-parent-container .w3a--ml-2{margin-left:.5rem}.w3a-parent-container .w3a--ml-4{margin-left:1rem}.w3a-parent-container .w3a--mr-2\\.5{margin-right:.625rem}.w3a-parent-container .w3a--mr-auto{margin-right:auto}.w3a-parent-container .w3a--mt-2{margin-top:.5rem}.w3a-parent-container .w3a--mt-3{margin-top:.75rem}.w3a-parent-container .w3a--mt-auto{margin-top:auto}.w3a-parent-container .w3a--block{display:block}.w3a-parent-container .w3a--flex{display:flex}.w3a-parent-container .w3a--inline-flex{display:inline-flex}.w3a-parent-container .w3a--grid{display:grid}.w3a-parent-container .w3a--contents{display:contents}.w3a-parent-container .w3a--hidden{display:none}.w3a-parent-container .w3a--size-10{height:2.5rem;width:2.5rem}.w3a-parent-container .w3a--size-3{height:.75rem;width:.75rem}.w3a-parent-container .w3a--size-5{height:1.25rem;width:1.25rem}.w3a-parent-container .w3a--size-\\[300px\\]{height:300px;width:300px}.w3a-parent-container .w3a--size-auto{height:auto;width:auto}.w3a-parent-container .w3a--size-full{height:100%;width:100%}.w3a-parent-container .w3a--h-0{height:0}.w3a-parent-container .w3a--h-11{height:2.75rem}.w3a-parent-container .w3a--h-12{height:3rem}.w3a-parent-container .w3a--h-9{height:2.25rem}.w3a-parent-container .w3a--h-\\[280px\\]{height:280px}.w3a-parent-container .w3a--h-\\[300px\\]{height:300px}.w3a-parent-container .w3a--h-\\[328px\\]{height:328px}.w3a-parent-container .w3a--h-\\[42px\\]{height:42px}.w3a-parent-container .w3a--h-\\[50px\\]{height:50px}.w3a-parent-container .w3a--h-auto{height:auto}.w3a-parent-container .w3a--h-full{height:100%}.w3a-parent-container .w3a--h-px{height:1px}.w3a-parent-container .w3a--h-screen{height:100vh}.w3a-parent-container .w3a--w-0{width:0}.w3a-parent-container .w3a--w-12{width:3rem}.w3a-parent-container .w3a--w-4\\/5{width:80%}.w3a-parent-container .w3a--w-\\[100px\\]{width:100px}.w3a-parent-container .w3a--w-\\[104px\\]{width:104px}.w3a-parent-container .w3a--w-\\[200px\\]{width:200px}.w3a-parent-container .w3a--w-\\[356px\\]{width:356px}.w3a-parent-container .w3a--w-\\[90\\%\\]{width:90%}.w3a-parent-container .w3a--w-\\[96\\%\\]{width:96%}.w3a-parent-container .w3a--w-auto{width:auto}.w3a-parent-container .w3a--w-full{width:100%}.w3a-parent-container .w3a--w-max{width:max-content}.w3a-parent-container .w3a--w-screen{width:100vw}.w3a-parent-container .w3a--max-w-\\[180px\\]{max-width:180px}.w3a-parent-container .w3a--flex-1{flex:1 1 0%}.w3a-parent-container .-w3a--translate-x-10{--tw-translate-x:-2.5rem}.w3a-parent-container .-w3a--translate-x-10,.w3a-parent-container .-w3a--translate-x-6{transform:translate(var(--tw-translate-x),var(--tw-translate-y)) rotate(var(--tw-rotate)) skewX(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y))}.w3a-parent-container .-w3a--translate-x-6{--tw-translate-x:-1.5rem}.w3a-parent-container .-w3a--translate-y-1\\/2{--tw-translate-y:-50%}.w3a-parent-container .-w3a--translate-y-1\\/2,.w3a-parent-container .w3a--translate-y-0{transform:translate(var(--tw-translate-x),var(--tw-translate-y)) rotate(var(--tw-rotate)) skewX(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y))}.w3a-parent-container .w3a--translate-y-0{--tw-translate-y:0px}.w3a-parent-container .w3a--translate-y-\\[100vh\\]{--tw-translate-y:100vh}.w3a-parent-container .w3a--translate-y-\\[100vh\\],.w3a-parent-container .w3a--translate-y-full{transform:translate(var(--tw-translate-x),var(--tw-translate-y)) rotate(var(--tw-rotate)) skewX(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y))}.w3a-parent-container .w3a--translate-y-full{--tw-translate-y:100%}@keyframes w3a--pulse{50%{opacity:.5}}.w3a-parent-container .w3a--animate-pulse{animation:w3a--pulse 2s cubic-bezier(.4,0,.6,1) infinite}.w3a-parent-container .w3a--cursor-not-allowed{cursor:not-allowed}.w3a-parent-container .w3a--cursor-pointer{cursor:pointer}.w3a-parent-container .w3a--appearance-none{appearance:none}.w3a-parent-container .w3a--auto-rows-min{grid-auto-rows:min-content}.w3a-parent-container .w3a--grid-cols-1{grid-template-columns:repeat(1,minmax(0,1fr))}.w3a-parent-container .w3a--grid-cols-2{grid-template-columns:repeat(2,minmax(0,1fr))}.w3a-parent-container .w3a--grid-cols-3{grid-template-columns:repeat(3,minmax(0,1fr))}.w3a-parent-container .w3a--grid-cols-4{grid-template-columns:repeat(4,minmax(0,1fr))}.w3a-parent-container .w3a--flex-col{flex-direction:column}.w3a-parent-container .w3a--items-start{align-items:flex-start}.w3a-parent-container .w3a--items-end{align-items:flex-end}.w3a-parent-container .w3a--items-center{align-items:center}.w3a-parent-container .\\!w3a--justify-start{justify-content:flex-start!important}.w3a-parent-container .w3a--justify-start{justify-content:flex-start}.w3a-parent-container .\\!w3a--justify-center{justify-content:center!important}.w3a-parent-container .w3a--justify-center{justify-content:center}.w3a-parent-container .\\!w3a--justify-between{justify-content:space-between!important}.w3a-parent-container .w3a--justify-between{justify-content:space-between}.w3a-parent-container .w3a--justify-items-start{justify-items:start}.w3a-parent-container .w3a--gap-2{gap:.5rem}.w3a-parent-container .w3a--gap-3{gap:.75rem}.w3a-parent-container .w3a--gap-x-1{column-gap:.25rem}.w3a-parent-container .w3a--gap-x-2{column-gap:.5rem}.w3a-parent-container .w3a--gap-x-4{column-gap:1rem}.w3a-parent-container .w3a--gap-x-6{column-gap:1.5rem}.w3a-parent-container .w3a--gap-y-1{row-gap:.25rem}.w3a-parent-container .w3a--gap-y-2{row-gap:.5rem}.w3a-parent-container .w3a--gap-y-4{row-gap:1rem}.w3a-parent-container .w3a--space-x-2>:not([hidden])~:not([hidden]){--tw-space-x-reverse:0;margin-left:calc(.5rem*(1 - var(--tw-space-x-reverse)));margin-right:calc(.5rem*var(--tw-space-x-reverse))}.w3a-parent-container .w3a--overflow-hidden{overflow:hidden}.w3a-parent-container .w3a--overflow-y-auto{overflow-y:auto}.w3a-parent-container .w3a--truncate{overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.w3a-parent-container .w3a--rounded{border-radius:.25rem}.w3a-parent-container .w3a--rounded-2xl{border-radius:1rem}.w3a-parent-container .w3a--rounded-3xl{border-radius:1.5rem}.w3a-parent-container .w3a--rounded-\\[30px\\]{border-radius:30px}.w3a-parent-container .w3a--rounded-full{border-radius:9999px}.w3a-parent-container .w3a--rounded-lg{border-radius:.5rem}.w3a-parent-container .w3a--rounded-md{border-radius:.375rem}.w3a-parent-container .w3a--rounded-none{border-radius:0}.w3a-parent-container .w3a--border{border-width:1px}.w3a-parent-container .\\!w3a--border-app-primary-600{border-color:var(--app-primary-600)!important}.w3a-parent-container .w3a--border-app-blue-200{border-color:var(--app-blue-200)}.w3a-parent-container .w3a--border-app-gray-100{border-color:var(--app-gray-100)}.w3a-parent-container .w3a--border-app-gray-200{border-color:var(--app-gray-200)}.w3a-parent-container .w3a--border-app-gray-300{border-color:var(--app-gray-300)}.w3a-parent-container .w3a--border-app-gray-800{border-color:var(--app-gray-800)}.w3a-parent-container .w3a--border-app-green-200{border-color:var(--app-green-200)}.w3a-parent-container .w3a--border-app-green-400{border-color:var(--app-green-400)}.w3a-parent-container .w3a--border-app-red-200{border-color:var(--app-red-200)}.w3a-parent-container .w3a--border-app-red-600{border-color:var(--app-red-600)}.w3a-parent-container .w3a--border-app-yellow-200{border-color:var(--app-yellow-200)}.w3a-parent-container .w3a--border-transparent{border-color:#0000}.w3a-parent-container .\\!w3a--bg-app-gray-800{background-color:var(--app-gray-800)!important}.w3a-parent-container .w3a--bg-app-blue-100{background-color:var(--app-blue-100)}.w3a-parent-container .w3a--bg-app-gray-100{background-color:var(--app-gray-100)}.w3a-parent-container .w3a--bg-app-gray-200{background-color:var(--app-gray-200)}.w3a-parent-container .w3a--bg-app-gray-400{background-color:var(--app-gray-400)}.w3a-parent-container .w3a--bg-app-gray-50{background-color:var(--app-gray-50)}.w3a-parent-container .w3a--bg-app-gray-500{background-color:var(--app-gray-500)}.w3a-parent-container .w3a--bg-app-gray-800{background-color:var(--app-gray-800)}.w3a-parent-container .w3a--bg-app-green-100{background-color:var(--app-green-100)}.w3a-parent-container .w3a--bg-app-light-surface1{background-color:var(--app-white)}.w3a-parent-container .w3a--bg-app-primary-100{background-color:var(--app-primary-100)}.w3a-parent-container .w3a--bg-app-red-100{background-color:var(--app-red-100)}.w3a-parent-container .w3a--bg-app-white{background-color:var(--app-white)}.w3a-parent-container .w3a--bg-app-yellow-100{background-color:var(--app-yellow-100)}.w3a-parent-container .w3a--bg-transparent{background-color:initial}.w3a-parent-container .w3a--object-contain{object-fit:contain}.w3a-parent-container .w3a--p-0{padding:0}.w3a-parent-container .w3a--p-2{padding:.5rem}.w3a-parent-container .w3a--p-3{padding:.75rem}.w3a-parent-container .w3a--p-4{padding:1rem}.w3a-parent-container .w3a--p-6{padding:1.5rem}.w3a-parent-container .w3a--px-2{padding-left:.5rem;padding-right:.5rem}.w3a-parent-container .w3a--px-2\\.5{padding-left:.625rem;padding-right:.625rem}.w3a-parent-container .w3a--px-4{padding-left:1rem;padding-right:1rem}.w3a-parent-container .w3a--px-5{padding-left:1.25rem;padding-right:1.25rem}.w3a-parent-container .w3a--px-\\[6px\\]{padding-left:6px;padding-right:6px}.w3a-parent-container .w3a--py-0\\.5{padding-bottom:.125rem;padding-top:.125rem}.w3a-parent-container .w3a--py-1{padding-bottom:.25rem;padding-top:.25rem}.w3a-parent-container .w3a--py-2{padding-bottom:.5rem;padding-top:.5rem}.w3a-parent-container .w3a--py-2\\.5{padding-bottom:.625rem;padding-top:.625rem}.w3a-parent-container .w3a--py-3{padding-bottom:.75rem;padding-top:.75rem}.w3a-parent-container .w3a--py-6{padding-bottom:1.5rem;padding-top:1.5rem}.w3a-parent-container .w3a--py-\\[3px\\]{padding-bottom:3px;padding-top:3px}.w3a-parent-container .w3a--pl-2{padding-left:.5rem}.w3a-parent-container .w3a--pl-6{padding-left:1.5rem}.w3a-parent-container .w3a--pr-1\\.5{padding-right:.375rem}.w3a-parent-container .w3a--pr-2\\.5{padding-right:.625rem}.w3a-parent-container .w3a--pr-3{padding-right:.75rem}.w3a-parent-container .w3a--pt-5{padding-top:1.25rem}.w3a-parent-container .w3a--pt-6{padding-top:1.5rem}.w3a-parent-container .w3a--text-left{text-align:left}.w3a-parent-container .w3a--text-center{text-align:center}.w3a-parent-container .w3a--text-start{text-align:start}.w3a-parent-container .w3a--text-3xl{font-size:1.875rem;line-height:2.25rem}.w3a-parent-container .w3a--text-base{font-size:1rem;line-height:1.5rem}.w3a-parent-container .w3a--text-lg{font-size:1.125rem;line-height:1.75rem}.w3a-parent-container .w3a--text-sm{font-size:.875rem;line-height:1.25rem}.w3a-parent-container .w3a--text-xl{font-size:1.25rem;line-height:1.75rem}.w3a-parent-container .w3a--text-xs{font-size:.75rem;line-height:1rem}.w3a-parent-container .w3a--font-bold{font-weight:700}.w3a-parent-container .w3a--font-medium{font-weight:500}.w3a-parent-container .w3a--font-normal{font-weight:400}.w3a-parent-container .w3a--font-semibold{font-weight:600}.w3a-parent-container .w3a--uppercase{text-transform:uppercase}.w3a-parent-container .w3a--text-app-blue-900{color:var(--app-blue-900)}.w3a-parent-container .w3a--text-app-gray-100{color:var(--app-gray-100)}.w3a-parent-container .w3a--text-app-gray-400{color:var(--app-gray-400)}.w3a-parent-container .w3a--text-app-gray-500{color:var(--app-gray-500)}.w3a-parent-container .w3a--text-app-gray-700{color:var(--app-gray-700)}.w3a-parent-container .w3a--text-app-gray-900{color:var(--app-gray-900)}.w3a-parent-container .w3a--text-app-green-400{color:var(--app-green-400)}.w3a-parent-container .w3a--text-app-green-500{color:var(--app-green-500)}.w3a-parent-container .w3a--text-app-green-900{color:var(--app-green-900)}.w3a-parent-container .w3a--text-app-primary-600{color:var(--app-primary-600)}.w3a-parent-container .w3a--text-app-primary-800{color:var(--app-primary-800)}.w3a-parent-container .w3a--text-app-red-400{color:var(--app-red-400)}.w3a-parent-container .w3a--text-app-red-500{color:var(--app-red-500)}.w3a-parent-container .w3a--text-app-red-900{color:var(--app-red-900)}.w3a-parent-container .w3a--text-app-yellow-900{color:var(--app-yellow-900)}.w3a-parent-container .w3a--opacity-0{opacity:0}.w3a-parent-container .w3a--shadow-2xl{--tw-shadow:0 25px 50px -12px #00000040;--tw-shadow-colored:0 25px 50px -12px var(--tw-shadow-color)}.w3a-parent-container .w3a--shadow-2xl,.w3a-parent-container .w3a--shadow-lg{box-shadow:var(--tw-ring-offset-shadow,0 0 #0000),var(--tw-ring-shadow,0 0 #0000),var(--tw-shadow)}.w3a-parent-container .w3a--shadow-lg{--tw-shadow:0 10px 15px -3px #0000001a,0 4px 6px -4px #0000001a;--tw-shadow-colored:0 10px 15px -3px var(--tw-shadow-color),0 4px 6px -4px var(--tw-shadow-color)}.w3a-parent-container .w3a--shadow-xl{--tw-shadow:0 20px 25px -5px #0000001a,0 8px 10px -6px #0000001a;--tw-shadow-colored:0 20px 25px -5px var(--tw-shadow-color),0 8px 10px -6px var(--tw-shadow-color);box-shadow:var(--tw-ring-offset-shadow,0 0 #0000),var(--tw-ring-shadow,0 0 #0000),var(--tw-shadow)}.w3a-parent-container .w3a--outline-none{outline:2px solid #0000;outline-offset:2px}.w3a-parent-container .w3a--transition-all{transition-duration:.15s;transition-property:all;transition-timing-function:cubic-bezier(.4,0,.2,1)}.w3a-parent-container .w3a--transition-opacity{transition-duration:.15s;transition-property:opacity;transition-timing-function:cubic-bezier(.4,0,.2,1)}.w3a-parent-container .w3a--transition-transform{transition-duration:.15s;transition-property:transform;transition-timing-function:cubic-bezier(.4,0,.2,1)}.w3a-parent-container .w3a--delay-100{transition-delay:.1s}.w3a-parent-container .w3a--delay-300{transition-delay:.3s}.w3a-parent-container .w3a--delay-500{transition-delay:.5s}.w3a-parent-container .w3a--delay-700{transition-delay:.7s}.w3a-parent-container .w3a--duration-150{transition-duration:.15s}.w3a-parent-container .w3a--duration-300{transition-duration:.3s}.w3a-parent-container .w3a--duration-500{transition-duration:.5s}.w3a-parent-container .w3a--duration-\\[400ms\\]{transition-duration:.4s}.w3a-parent-container .w3a--ease-in-out{transition-timing-function:cubic-bezier(.4,0,.2,1)}.w3a-parent-container .w3a--ease-out{transition-timing-function:cubic-bezier(0,0,.2,1)}.w3a-parent-container .w3a--bottom-sheet-bg{background-color:var(--app-gray-600);opacity:.5}.w3a-parent-container .w3a--connected-logo{color:var(--app-green-500);height:4rem;width:4rem}.w3a-parent-container .w3a--connected-logo:is(.w3a--dark *){color:var(--app-green-400)}.w3a-parent-container .w3a--error-logo{color:var(--app-red-500);height:4rem;width:4rem}.w3a-parent-container .w3a--error-logo:is(.w3a--dark *){color:var(--app-red-400)}.w3a-parent-container .w3a--btn{align-items:center;appearance:none;border-color:var(--app-gray-200);border-width:1px;color:var(--app-gray-700);column-gap:.5rem;display:flex;font-size:1rem;font-weight:400;justify-content:center;line-height:1.5rem;padding:.75rem 1.25rem;width:100%}.w3a-parent-container .w3a--btn:hover{--tw-translate-y:0.5px;--tw-shadow:0px 2px 8px 2px #e5e7eb;--tw-shadow-colored:0px 2px 8px 2px var(--tw-shadow-color);background-color:var(--app-gray-50);border-color:var(--app-gray-50);box-shadow:var(--tw-ring-offset-shadow,0 0 #0000),var(--tw-ring-shadow,0 0 #0000),var(--tw-shadow);transform:translate(var(--tw-translate-x),var(--tw-translate-y)) rotate(var(--tw-rotate)) skewX(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y))}.w3a-parent-container .w3a--btn:is(.w3a--dark *){border-color:var(--app-gray-500)}.w3a-parent-container .w3a--btn:hover:is(.w3a--dark *){--tw-shadow:0px 2px 8px 2px #111928;--tw-shadow-colored:0px 2px 8px 2px var(--tw-shadow-color);background-color:var(--app-gray-800);border-color:var(--app-gray-800);box-shadow:var(--tw-ring-offset-shadow,0 0 #0000),var(--tw-ring-shadow,0 0 #0000),var(--tw-shadow)}.w3a-parent-container .w3a--input{align-items:center;border-color:var(--app-gray-200);border-width:1px;column-gap:.5rem;display:flex;justify-content:space-between;padding:.75rem 1.25rem;width:100%}.w3a-parent-container .w3a--input:is(.w3a--dark *){border-color:var(--app-gray-500)}.w3a-parent-container .first-letter\\:w3a--capitalize:first-letter{text-transform:capitalize}.w3a-parent-container .placeholder\\:w3a--text-xs::placeholder{font-size:.75rem;line-height:1rem}.w3a-parent-container .placeholder\\:w3a--text-app-gray-400::placeholder{color:var(--app-gray-400)}.w3a-parent-container .hover\\:w3a--translate-y-\\[0\\.5px\\]:hover{--tw-translate-y:0.5px;transform:translate(var(--tw-translate-x),var(--tw-translate-y)) rotate(var(--tw-rotate)) skewX(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y))}.w3a-parent-container .hover\\:w3a--border-app-gray-50:hover{border-color:var(--app-gray-50)}.w3a-parent-container .hover\\:w3a--border-transparent:hover{border-color:#0000}.w3a-parent-container .hover\\:\\!w3a--bg-app-gray-100:hover{background-color:var(--app-gray-100)!important}.w3a-parent-container .hover\\:w3a--bg-app-gray-200:hover{background-color:var(--app-gray-200)}.w3a-parent-container .hover\\:w3a--text-app-gray-900:hover{color:var(--app-gray-900)}.w3a-parent-container .hover\\:w3a--shadow-light:hover{--tw-shadow:0px 2px 8px 2px #e5e7eb;--tw-shadow-colored:0px 2px 8px 2px var(--tw-shadow-color);box-shadow:var(--tw-ring-offset-shadow,0 0 #0000),var(--tw-ring-shadow,0 0 #0000),var(--tw-shadow)}.w3a-parent-container .focus\\:w3a--outline-none:focus{outline:2px solid #0000;outline-offset:2px}.w3a-parent-container .active\\:w3a--scale-95:active{--tw-scale-x:.95;--tw-scale-y:.95;transform:translate(var(--tw-translate-x),var(--tw-translate-y)) rotate(var(--tw-rotate)) skewX(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y))}.w3a-parent-container .active\\:w3a--outline-none:active{outline:2px solid #0000;outline-offset:2px}.w3a-parent-container .w3a--group:hover .group-hover\\:w3a--block{display:block}.w3a-parent-container .w3a--group:hover .group-hover\\:w3a--hidden{display:none}.w3a-parent-container .w3a--group:hover .group-hover\\:w3a--translate-x-0{--tw-translate-x:0px}.w3a-parent-container .w3a--group:hover .group-hover\\:w3a--translate-x-0,.w3a-parent-container .w3a--group:hover .group-hover\\:w3a--translate-x-6{transform:translate(var(--tw-translate-x),var(--tw-translate-y)) rotate(var(--tw-rotate)) skewX(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y))}.w3a-parent-container .w3a--group:hover .group-hover\\:w3a--translate-x-6{--tw-translate-x:1.5rem}.w3a-parent-container .w3a--group:hover .group-hover\\:w3a--opacity-0{opacity:0}.w3a-parent-container .w3a--group:hover .group-hover\\:w3a--opacity-100{opacity:1}.w3a-parent-container .w3a--group:hover .group-hover\\:w3a--delay-0{transition-delay:0s}.w3a-parent-container .dark\\:w3a--block:is(.w3a--dark *){display:block}.w3a-parent-container .dark\\:w3a--hidden:is(.w3a--dark *){display:none}.w3a-parent-container .dark\\:w3a--border:is(.w3a--dark *){border-width:1px}.w3a-parent-container .dark\\:w3a--border-app-gray-500:is(.w3a--dark *){border-color:var(--app-gray-500)}.w3a-parent-container .dark\\:w3a--border-app-gray-600:is(.w3a--dark *){border-color:var(--app-gray-600)}.w3a-parent-container .dark\\:w3a--border-app-gray-700:is(.w3a--dark *){border-color:var(--app-gray-700)}.w3a-parent-container .dark\\:w3a--border-app-gray-800:is(.w3a--dark *){border-color:var(--app-gray-800)}.w3a-parent-container .dark\\:w3a--border-app-green-500:is(.w3a--dark *){border-color:var(--app-green-500)}.w3a-parent-container .dark\\:w3a--border-app-primary-400:is(.w3a--dark *){border-color:var(--app-primary-400)}.w3a-parent-container .dark\\:w3a--border-app-primary-500:is(.w3a--dark *){border-color:var(--app-primary-500)}.w3a-parent-container .dark\\:w3a--border-app-red-500:is(.w3a--dark *){border-color:var(--app-red-500)}.w3a-parent-container .dark\\:w3a--bg-app-dark-surface-main:is(.w3a--dark *){background-color:var(--app-gray-900)}.w3a-parent-container .dark\\:w3a--bg-app-gray-200:is(.w3a--dark *){background-color:var(--app-gray-200)}.w3a-parent-container .dark\\:w3a--bg-app-gray-400:is(.w3a--dark *){background-color:var(--app-gray-400)}.w3a-parent-container .dark\\:w3a--bg-app-gray-500:is(.w3a--dark *){background-color:var(--app-gray-500)}.w3a-parent-container .dark\\:w3a--bg-app-gray-600:is(.w3a--dark *){background-color:var(--app-gray-600)}.w3a-parent-container .dark\\:w3a--bg-app-gray-700:is(.w3a--dark *){background-color:var(--app-gray-700)}.w3a-parent-container .dark\\:w3a--bg-app-gray-800:is(.w3a--dark *){background-color:var(--app-gray-800)}.w3a-parent-container .dark\\:w3a--bg-transparent:is(.w3a--dark *){background-color:initial}.w3a-parent-container .dark\\:w3a--text-app-gray-200:is(.w3a--dark *){color:var(--app-gray-200)}.w3a-parent-container .dark\\:w3a--text-app-gray-300:is(.w3a--dark *){color:var(--app-gray-300)}.w3a-parent-container .dark\\:w3a--text-app-gray-400:is(.w3a--dark *){color:var(--app-gray-400)}.w3a-parent-container .dark\\:w3a--text-app-gray-500:is(.w3a--dark *){color:var(--app-gray-500)}.w3a-parent-container .dark\\:w3a--text-app-green-400:is(.w3a--dark *){color:var(--app-green-400)}.w3a-parent-container .dark\\:w3a--text-app-primary-400:is(.w3a--dark *){color:var(--app-primary-400)}.w3a-parent-container .dark\\:w3a--text-app-primary-500:is(.w3a--dark *){color:var(--app-primary-500)}.w3a-parent-container .dark\\:w3a--text-app-red-400:is(.w3a--dark *){color:var(--app-red-400)}.w3a-parent-container .dark\\:w3a--text-app-white:is(.w3a--dark *){color:var(--app-white)}.w3a-parent-container .dark\\:placeholder\\:w3a--text-app-gray-500:is(.w3a--dark *)::placeholder{color:var(--app-gray-500)}.w3a-parent-container .dark\\:hover\\:w3a--border-app-gray-800:hover:is(.w3a--dark *){border-color:var(--app-gray-800)}.w3a-parent-container .dark\\:hover\\:w3a--border-transparent:hover:is(.w3a--dark *){border-color:#0000}.w3a-parent-container .dark\\:hover\\:\\!w3a--bg-app-gray-800:hover:is(.w3a--dark *){background-color:var(--app-gray-800)!important}.w3a-parent-container .dark\\:hover\\:w3a--bg-app-gray-600:hover:is(.w3a--dark *){background-color:var(--app-gray-600)}.w3a-parent-container .dark\\:hover\\:w3a--bg-app-gray-700:hover:is(.w3a--dark *){background-color:var(--app-gray-700)}.w3a-parent-container .dark\\:hover\\:w3a--text-app-white:hover:is(.w3a--dark *){color:var(--app-white)}.w3a-parent-container .dark\\:hover\\:w3a--shadow-dark:hover:is(.w3a--dark *){--tw-shadow:0px 2px 8px 2px #111928;--tw-shadow-colored:0px 2px 8px 2px var(--tw-shadow-color);box-shadow:var(--tw-ring-offset-shadow,0 0 #0000),var(--tw-ring-shadow,0 0 #0000),var(--tw-shadow)}@media (min-width:640px){.w3a-parent-container .sm\\:w3a--left-8{left:2rem}.w3a-parent-container .sm\\:w3a--right-8{right:2rem}.w3a-parent-container .sm\\:w3a--justify-start{justify-content:flex-start}.w3a-parent-container .sm\\:w3a--justify-end{justify-content:flex-end}.w3a-parent-container .sm\\:w3a--shadow-lg{--tw-shadow:0 10px 15px -3px #0000001a,0 4px 6px -4px #0000001a;--tw-shadow-colored:0 10px 15px -3px var(--tw-shadow-color),0 4px 6px -4px var(--tw-shadow-color);box-shadow:var(--tw-ring-offset-shadow,0 0 #0000),var(--tw-ring-shadow,0 0 #0000),var(--tw-shadow)}}@media(min-width:375px){.w3a-parent-container .\\[\\@media\\(min-width\\:375px\\)\\]\\:w3a--w-\\[393px\\]{width:393px}}`;Obe(Tbe);const Mbe=t=>({ui_modal_login_methods_order:t==null?void 0:t.loginMethodsOrder,ui_modal_z_index:t==null?void 0:t.modalZIndex,ui_modal_display_errors_on_modal:t==null?void 0:t.displayErrorsOnModal,ui_modal_login_grid_col:t==null?void 0:t.loginGridCol,ui_modal_primary_button:t==null?void 0:t.primaryButton,ui_modal_widget_type:t==null?void 0:t.widgetType,ui_modal_target_id_used:!!(t!=null&&t.targetId),ui_modal_logo_alignment:t==null?void 0:t.logoAlignment,ui_modal_border_radius_type:t==null?void 0:t.borderRadiusType,ui_modal_button_radius_type:t==null?void 0:t.buttonRadiusType,ui_modal_sign_in_methods:t==null?void 0:t.signInMethods,ui_modal_add_previous_login_hint:t==null?void 0:t.addPreviousLoginHint,ui_modal_display_installed_external_wallets:t==null?void 0:t.displayInstalledExternalWallets,ui_modal_display_external_wallets_count:t==null?void 0:t.displayExternalWalletsCount}),ju={LOGIN:"login",CONNECT_WALLET:"connect_wallet"},Il={CONNECT_WALLET:"Connect Your Wallet",SELECTED_WALLET:"Selected Wallet"},SW="https://images.web3auth.io/web3auth-logo-w.svg",_W="https://images.web3auth.io/web3auth-logo-w-light.svg",Nbe="https://images.web3auth.io/login-wallet-connect.svg",Rbe="#0364FF",Lbe="#FFFFFF",$be={app:{android:"io.metamask",chrome:"nkbihfbeogaeaoehlefnkodbefgpgknn",edge:"ejbalbakoplchlghecdalmeeeajnimhm",firefox:"ether-metamask",ios:"id1438144202"},chains:["eip155:1"],imgExtension:"webp",injected:[{injected_id:"isMetaMask",namespace:"eip155"}],mobile:{inAppBrowser:"https://metamask.app.link/dapp",native:"metamask://wc",universal:"https://metamask.app.link/wc"},name:"MetaMask",primaryColor:"#E2761B",walletConnect:{sdks:["sign_v1","sign_v2"]}};function CW(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var i=t.length;for(e=0;e<i;e++)t[e]&&(n=CW(t[e]))&&(r&&(r+=" "),r+=n)}else for(n in t)t[n]&&(r&&(r+=" "),r+=n);return r}function Bbe(){for(var t,e,n=0,r="",i=arguments.length;n<i;n++)(t=arguments[n])&&(e=CW(t))&&(r&&(r+=" "),r+=e);return r}const W8="-",Dbe=t=>{const e=Fbe(t),{conflictingClassGroups:n,conflictingClassGroupModifiers:r}=t;return{getClassGroupId:s=>{const a=s.split(W8);return a[0]===""&&a.length!==1&&a.shift(),AW(a,e)||jbe(s)},getConflictingClassGroupIds:(s,a)=>{const c=n[s]||[];return a&&r[s]?[...c,...r[s]]:c}}},AW=(t,e)=>{var s;if(t.length===0)return e.classGroupId;const n=t[0],r=e.nextPart.get(n),i=r?AW(t.slice(1),r):void 0;if(i)return i;if(e.validators.length===0)return;const o=t.join(W8);return(s=e.validators.find(({validator:a})=>a(o)))==null?void 0:s.classGroupId},XM=/^\[(.+)\]$/,jbe=t=>{if(XM.test(t)){const e=XM.exec(t)[1],n=e==null?void 0:e.substring(0,e.indexOf(":"));if(n)return"arbitrary.."+n}},Fbe=t=>{const{theme:e,classGroups:n}=t,r={nextPart:new Map,validators:[]};for(const i in n)P_(n[i],r,i,e);return r},P_=(t,e,n,r)=>{t.forEach(i=>{if(typeof i=="string"){const o=i===""?e:eN(e,i);o.classGroupId=n;return}if(typeof i=="function"){if(Ube(i)){P_(i(r),e,n,r);return}e.validators.push({validator:i,classGroupId:n});return}Object.entries(i).forEach(([o,s])=>{P_(s,eN(e,o),n,r)})})},eN=(t,e)=>{let n=t;return e.split(W8).forEach(r=>{n.nextPart.has(r)||n.nextPart.set(r,{nextPart:new Map,validators:[]}),n=n.nextPart.get(r)}),n},Ube=t=>t.isThemeGetter,zbe=t=>{if(t<1)return{get:()=>{},set:()=>{}};let e=0,n=new Map,r=new Map;const i=(o,s)=>{n.set(o,s),e++,e>t&&(e=0,r=n,n=new Map)};return{get(o){let s=n.get(o);if(s!==void 0)return s;if((s=r.get(o))!==void 0)return i(o,s),s},set(o,s){n.has(o)?n.set(o,s):i(o,s)}}},O_="!",T_=":",Hbe=T_.length,Wbe=t=>{const{prefix:e,experimentalParseClassName:n}=t;let r=i=>{const o=[];let s=0,a=0,c=0,l;for(let g=0;g<i.length;g++){let p=i[g];if(s===0&&a===0){if(p===T_){o.push(i.slice(c,g)),c=g+Hbe;continue}if(p==="/"){l=g;continue}}p==="["?s++:p==="]"?s--:p==="("?a++:p===")"&&a--}const u=o.length===0?i:i.substring(c),d=Kbe(u),f=d!==u,h=l&&l>c?l-c:void 0;return{modifiers:o,hasImportantModifier:f,baseClassName:d,maybePostfixModifierPosition:h}};if(e){const i=e+T_,o=r;r=s=>s.startsWith(i)?o(s.substring(i.length)):{isExternal:!0,modifiers:[],hasImportantModifier:!1,baseClassName:s,maybePostfixModifierPosition:void 0}}if(n){const i=r;r=o=>n({className:o,parseClassName:i})}return r},Kbe=t=>t.endsWith(O_)?t.substring(0,t.length-1):t.startsWith(O_)?t.substring(1):t,qbe=t=>{const e=Object.fromEntries(t.orderSensitiveModifiers.map(r=>[r,!0]));return r=>{if(r.length<=1)return r;const i=[];let o=[];return r.forEach(s=>{s[0]==="["||e[s]?(i.push(...o.sort(),s),o=[]):o.push(s)}),i.push(...o.sort()),i}},Vbe=t=>({cache:zbe(t.cacheSize),parseClassName:Wbe(t),sortModifiers:qbe(t),...Dbe(t)}),Gbe=/\s+/,Ybe=(t,e)=>{const{parseClassName:n,getClassGroupId:r,getConflictingClassGroupIds:i,sortModifiers:o}=e,s=[],a=t.trim().split(Gbe);let c="";for(let l=a.length-1;l>=0;l-=1){const u=a[l],{isExternal:d,modifiers:f,hasImportantModifier:h,baseClassName:g,maybePostfixModifierPosition:p}=n(u);if(d){c=u+(c.length>0?" "+c:c);continue}let S=!!p,y=r(S?g.substring(0,p):g);if(!y){if(!S){c=u+(c.length>0?" "+c:c);continue}if(y=r(g),!y){c=u+(c.length>0?" "+c:c);continue}S=!1}const b=o(f).join(":"),_=h?b+O_:b,N=_+y;if(s.includes(N))continue;s.push(N);const O=i(y,S);for(let $=0;$<O.length;++$){const j=O[$];s.push(_+j)}c=u+(c.length>0?" "+c:c)}return c};function Jbe(){let t=0,e,n,r="";for(;t<arguments.length;)(e=arguments[t++])&&(n=IW(e))&&(r&&(r+=" "),r+=n);return r}const IW=t=>{if(typeof t=="string")return t;let e,n="";for(let r=0;r<t.length;r++)t[r]&&(e=IW(t[r]))&&(n&&(n+=" "),n+=e);return n};function Zbe(t,...e){let n,r,i,o=s;function s(c){const l=e.reduce((u,d)=>d(u),t());return n=Vbe(l),r=n.cache.get,i=n.cache.set,o=a,a(c)}function a(c){const l=r(c);if(l)return l;const u=Ybe(c,n);return i(c,u),u}return function(){return o(Jbe.apply(null,arguments))}}const jn=t=>{const e=n=>n[t]||[];return e.isThemeGetter=!0,e},kW=/^\[(?:(\w[\w-]*):)?(.+)\]$/i,PW=/^\((?:(\w[\w-]*):)?(.+)\)$/i,Qbe=/^\d+\/\d+$/,Xbe=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,e2e=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,t2e=/^(rgba?|hsla?|hwb|(ok)?(lab|lch)|color-mix)\(.+\)$/,n2e=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,r2e=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,_f=t=>Qbe.test(t),St=t=>!!t&&!Number.isNaN(Number(t)),rl=t=>!!t&&Number.isInteger(Number(t)),i5=t=>t.endsWith("%")&&St(t.slice(0,-1)),Ra=t=>Xbe.test(t),i2e=()=>!0,o2e=t=>e2e.test(t)&&!t2e.test(t),OW=()=>!1,s2e=t=>n2e.test(t),a2e=t=>r2e.test(t),c2e=t=>!Ze(t)&&!Qe(t),l2e=t=>F0(t,NW,OW),Ze=t=>kW.test(t),Tu=t=>F0(t,RW,o2e),o5=t=>F0(t,p2e,St),tN=t=>F0(t,TW,OW),u2e=t=>F0(t,MW,a2e),R1=t=>F0(t,LW,s2e),Qe=t=>PW.test(t),Ip=t=>U0(t,RW),d2e=t=>U0(t,g2e),nN=t=>U0(t,TW),f2e=t=>U0(t,NW),h2e=t=>U0(t,MW),L1=t=>U0(t,LW,!0),F0=(t,e,n)=>{const r=kW.exec(t);return r?r[1]?e(r[1]):n(r[2]):!1},U0=(t,e,n=!1)=>{const r=PW.exec(t);return r?r[1]?e(r[1]):n:!1},TW=t=>t==="position"||t==="percentage",MW=t=>t==="image"||t==="url",NW=t=>t==="length"||t==="size"||t==="bg-size",RW=t=>t==="length",p2e=t=>t==="number",g2e=t=>t==="family-name",LW=t=>t==="shadow",m2e=()=>{const t=jn("color"),e=jn("font"),n=jn("text"),r=jn("font-weight"),i=jn("tracking"),o=jn("leading"),s=jn("breakpoint"),a=jn("container"),c=jn("spacing"),l=jn("radius"),u=jn("shadow"),d=jn("inset-shadow"),f=jn("text-shadow"),h=jn("drop-shadow"),g=jn("blur"),p=jn("perspective"),S=jn("aspect"),y=jn("ease"),b=jn("animate"),_=()=>["auto","avoid","all","avoid-page","page","left","right","column"],N=()=>["center","top","bottom","left","right","top-left","left-top","top-right","right-top","bottom-right","right-bottom","bottom-left","left-bottom"],O=()=>[...N(),Qe,Ze],$=()=>["auto","hidden","clip","visible","scroll"],j=()=>["auto","contain","none"],k=()=>[Qe,Ze,c],T=()=>[_f,"full","auto",...k()],L=()=>[rl,"none","subgrid",Qe,Ze],P=()=>["auto",{span:["full",rl,Qe,Ze]},rl,Qe,Ze],m=()=>[rl,"auto",Qe,Ze],w=()=>["auto","min","max","fr",Qe,Ze],A=()=>["start","end","center","between","around","evenly","stretch","baseline","center-safe","end-safe"],v=()=>["start","end","center","stretch","center-safe","end-safe"],I=()=>["auto",...k()],M=()=>[_f,"auto","full","dvw","dvh","lvw","lvh","svw","svh","min","max","fit",...k()],E=()=>[t,Qe,Ze],C=()=>[...N(),nN,tN,{position:[Qe,Ze]}],x=()=>["no-repeat",{repeat:["","x","y","space","round"]}],R=()=>["auto","cover","contain",f2e,l2e,{size:[Qe,Ze]}],D=()=>[i5,Ip,Tu],B=()=>["","none","full",l,Qe,Ze],z=()=>["",St,Ip,Tu],H=()=>["solid","dashed","dotted","double"],W=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],G=()=>[St,i5,nN,tN],V=()=>["","none",g,Qe,Ze],J=()=>["none",St,Qe,Ze],Y=()=>["none",St,Qe,Ze],ee=()=>[St,Qe,Ze],ne=()=>[_f,"full",...k()];return{cacheSize:500,theme:{animate:["spin","ping","pulse","bounce"],aspect:["video"],blur:[Ra],breakpoint:[Ra],color:[i2e],container:[Ra],"drop-shadow":[Ra],ease:["in","out","in-out"],font:[c2e],"font-weight":["thin","extralight","light","normal","medium","semibold","bold","extrabold","black"],"inset-shadow":[Ra],leading:["none","tight","snug","normal","relaxed","loose"],perspective:["dramatic","near","normal","midrange","distant","none"],radius:[Ra],shadow:[Ra],spacing:["px",St],text:[Ra],"text-shadow":[Ra],tracking:["tighter","tight","normal","wide","wider","widest"]},classGroups:{aspect:[{aspect:["auto","square",_f,Ze,Qe,S]}],container:["container"],columns:[{columns:[St,Ze,Qe,a]}],"break-after":[{"break-after":_()}],"break-before":[{"break-before":_()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],sr:["sr-only","not-sr-only"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:O()}],overflow:[{overflow:$()}],"overflow-x":[{"overflow-x":$()}],"overflow-y":[{"overflow-y":$()}],overscroll:[{overscroll:j()}],"overscroll-x":[{"overscroll-x":j()}],"overscroll-y":[{"overscroll-y":j()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:T()}],"inset-x":[{"inset-x":T()}],"inset-y":[{"inset-y":T()}],start:[{start:T()}],end:[{end:T()}],top:[{top:T()}],right:[{right:T()}],bottom:[{bottom:T()}],left:[{left:T()}],visibility:["visible","invisible","collapse"],z:[{z:[rl,"auto",Qe,Ze]}],basis:[{basis:[_f,"full","auto",a,...k()]}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["nowrap","wrap","wrap-reverse"]}],flex:[{flex:[St,_f,"auto","initial","none",Ze]}],grow:[{grow:["",St,Qe,Ze]}],shrink:[{shrink:["",St,Qe,Ze]}],order:[{order:[rl,"first","last","none",Qe,Ze]}],"grid-cols":[{"grid-cols":L()}],"col-start-end":[{col:P()}],"col-start":[{"col-start":m()}],"col-end":[{"col-end":m()}],"grid-rows":[{"grid-rows":L()}],"row-start-end":[{row:P()}],"row-start":[{"row-start":m()}],"row-end":[{"row-end":m()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":w()}],"auto-rows":[{"auto-rows":w()}],gap:[{gap:k()}],"gap-x":[{"gap-x":k()}],"gap-y":[{"gap-y":k()}],"justify-content":[{justify:[...A(),"normal"]}],"justify-items":[{"justify-items":[...v(),"normal"]}],"justify-self":[{"justify-self":["auto",...v()]}],"align-content":[{content:["normal",...A()]}],"align-items":[{items:[...v(),{baseline:["","last"]}]}],"align-self":[{self:["auto",...v(),{baseline:["","last"]}]}],"place-content":[{"place-content":A()}],"place-items":[{"place-items":[...v(),"baseline"]}],"place-self":[{"place-self":["auto",...v()]}],p:[{p:k()}],px:[{px:k()}],py:[{py:k()}],ps:[{ps:k()}],pe:[{pe:k()}],pt:[{pt:k()}],pr:[{pr:k()}],pb:[{pb:k()}],pl:[{pl:k()}],m:[{m:I()}],mx:[{mx:I()}],my:[{my:I()}],ms:[{ms:I()}],me:[{me:I()}],mt:[{mt:I()}],mr:[{mr:I()}],mb:[{mb:I()}],ml:[{ml:I()}],"space-x":[{"space-x":k()}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":k()}],"space-y-reverse":["space-y-reverse"],size:[{size:M()}],w:[{w:[a,"screen",...M()]}],"min-w":[{"min-w":[a,"screen","none",...M()]}],"max-w":[{"max-w":[a,"screen","none","prose",{screen:[s]},...M()]}],h:[{h:["screen","lh",...M()]}],"min-h":[{"min-h":["screen","lh","none",...M()]}],"max-h":[{"max-h":["screen","lh",...M()]}],"font-size":[{text:["base",n,Ip,Tu]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:[r,Qe,o5]}],"font-stretch":[{"font-stretch":["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded",i5,Ze]}],"font-family":[{font:[d2e,Ze,e]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:[i,Qe,Ze]}],"line-clamp":[{"line-clamp":[St,"none",Qe,o5]}],leading:[{leading:[o,...k()]}],"list-image":[{"list-image":["none",Qe,Ze]}],"list-style-position":[{list:["inside","outside"]}],"list-style-type":[{list:["disc","decimal","none",Qe,Ze]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"placeholder-color":[{placeholder:E()}],"text-color":[{text:E()}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...H(),"wavy"]}],"text-decoration-thickness":[{decoration:[St,"from-font","auto",Qe,Tu]}],"text-decoration-color":[{decoration:E()}],"underline-offset":[{"underline-offset":[St,"auto",Qe,Ze]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:k()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",Qe,Ze]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],wrap:[{wrap:["break-word","anywhere","normal"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",Qe,Ze]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:C()}],"bg-repeat":[{bg:x()}],"bg-size":[{bg:R()}],"bg-image":[{bg:["none",{linear:[{to:["t","tr","r","br","b","bl","l","tl"]},rl,Qe,Ze],radial:["",Qe,Ze],conic:[rl,Qe,Ze]},h2e,u2e]}],"bg-color":[{bg:E()}],"gradient-from-pos":[{from:D()}],"gradient-via-pos":[{via:D()}],"gradient-to-pos":[{to:D()}],"gradient-from":[{from:E()}],"gradient-via":[{via:E()}],"gradient-to":[{to:E()}],rounded:[{rounded:B()}],"rounded-s":[{"rounded-s":B()}],"rounded-e":[{"rounded-e":B()}],"rounded-t":[{"rounded-t":B()}],"rounded-r":[{"rounded-r":B()}],"rounded-b":[{"rounded-b":B()}],"rounded-l":[{"rounded-l":B()}],"rounded-ss":[{"rounded-ss":B()}],"rounded-se":[{"rounded-se":B()}],"rounded-ee":[{"rounded-ee":B()}],"rounded-es":[{"rounded-es":B()}],"rounded-tl":[{"rounded-tl":B()}],"rounded-tr":[{"rounded-tr":B()}],"rounded-br":[{"rounded-br":B()}],"rounded-bl":[{"rounded-bl":B()}],"border-w":[{border:z()}],"border-w-x":[{"border-x":z()}],"border-w-y":[{"border-y":z()}],"border-w-s":[{"border-s":z()}],"border-w-e":[{"border-e":z()}],"border-w-t":[{"border-t":z()}],"border-w-r":[{"border-r":z()}],"border-w-b":[{"border-b":z()}],"border-w-l":[{"border-l":z()}],"divide-x":[{"divide-x":z()}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":z()}],"divide-y-reverse":["divide-y-reverse"],"border-style":[{border:[...H(),"hidden","none"]}],"divide-style":[{divide:[...H(),"hidden","none"]}],"border-color":[{border:E()}],"border-color-x":[{"border-x":E()}],"border-color-y":[{"border-y":E()}],"border-color-s":[{"border-s":E()}],"border-color-e":[{"border-e":E()}],"border-color-t":[{"border-t":E()}],"border-color-r":[{"border-r":E()}],"border-color-b":[{"border-b":E()}],"border-color-l":[{"border-l":E()}],"divide-color":[{divide:E()}],"outline-style":[{outline:[...H(),"none","hidden"]}],"outline-offset":[{"outline-offset":[St,Qe,Ze]}],"outline-w":[{outline:["",St,Ip,Tu]}],"outline-color":[{outline:E()}],shadow:[{shadow:["","none",u,L1,R1]}],"shadow-color":[{shadow:E()}],"inset-shadow":[{"inset-shadow":["none",d,L1,R1]}],"inset-shadow-color":[{"inset-shadow":E()}],"ring-w":[{ring:z()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:E()}],"ring-offset-w":[{"ring-offset":[St,Tu]}],"ring-offset-color":[{"ring-offset":E()}],"inset-ring-w":[{"inset-ring":z()}],"inset-ring-color":[{"inset-ring":E()}],"text-shadow":[{"text-shadow":["none",f,L1,R1]}],"text-shadow-color":[{"text-shadow":E()}],opacity:[{opacity:[St,Qe,Ze]}],"mix-blend":[{"mix-blend":[...W(),"plus-darker","plus-lighter"]}],"bg-blend":[{"bg-blend":W()}],"mask-clip":[{"mask-clip":["border","padding","content","fill","stroke","view"]},"mask-no-clip"],"mask-composite":[{mask:["add","subtract","intersect","exclude"]}],"mask-image-linear-pos":[{"mask-linear":[St]}],"mask-image-linear-from-pos":[{"mask-linear-from":G()}],"mask-image-linear-to-pos":[{"mask-linear-to":G()}],"mask-image-linear-from-color":[{"mask-linear-from":E()}],"mask-image-linear-to-color":[{"mask-linear-to":E()}],"mask-image-t-from-pos":[{"mask-t-from":G()}],"mask-image-t-to-pos":[{"mask-t-to":G()}],"mask-image-t-from-color":[{"mask-t-from":E()}],"mask-image-t-to-color":[{"mask-t-to":E()}],"mask-image-r-from-pos":[{"mask-r-from":G()}],"mask-image-r-to-pos":[{"mask-r-to":G()}],"mask-image-r-from-color":[{"mask-r-from":E()}],"mask-image-r-to-color":[{"mask-r-to":E()}],"mask-image-b-from-pos":[{"mask-b-from":G()}],"mask-image-b-to-pos":[{"mask-b-to":G()}],"mask-image-b-from-color":[{"mask-b-from":E()}],"mask-image-b-to-color":[{"mask-b-to":E()}],"mask-image-l-from-pos":[{"mask-l-from":G()}],"mask-image-l-to-pos":[{"mask-l-to":G()}],"mask-image-l-from-color":[{"mask-l-from":E()}],"mask-image-l-to-color":[{"mask-l-to":E()}],"mask-image-x-from-pos":[{"mask-x-from":G()}],"mask-image-x-to-pos":[{"mask-x-to":G()}],"mask-image-x-from-color":[{"mask-x-from":E()}],"mask-image-x-to-color":[{"mask-x-to":E()}],"mask-image-y-from-pos":[{"mask-y-from":G()}],"mask-image-y-to-pos":[{"mask-y-to":G()}],"mask-image-y-from-color":[{"mask-y-from":E()}],"mask-image-y-to-color":[{"mask-y-to":E()}],"mask-image-radial":[{"mask-radial":[Qe,Ze]}],"mask-image-radial-from-pos":[{"mask-radial-from":G()}],"mask-image-radial-to-pos":[{"mask-radial-to":G()}],"mask-image-radial-from-color":[{"mask-radial-from":E()}],"mask-image-radial-to-color":[{"mask-radial-to":E()}],"mask-image-radial-shape":[{"mask-radial":["circle","ellipse"]}],"mask-image-radial-size":[{"mask-radial":[{closest:["side","corner"],farthest:["side","corner"]}]}],"mask-image-radial-pos":[{"mask-radial-at":N()}],"mask-image-conic-pos":[{"mask-conic":[St]}],"mask-image-conic-from-pos":[{"mask-conic-from":G()}],"mask-image-conic-to-pos":[{"mask-conic-to":G()}],"mask-image-conic-from-color":[{"mask-conic-from":E()}],"mask-image-conic-to-color":[{"mask-conic-to":E()}],"mask-mode":[{mask:["alpha","luminance","match"]}],"mask-origin":[{"mask-origin":["border","padding","content","fill","stroke","view"]}],"mask-position":[{mask:C()}],"mask-repeat":[{mask:x()}],"mask-size":[{mask:R()}],"mask-type":[{"mask-type":["alpha","luminance"]}],"mask-image":[{mask:["none",Qe,Ze]}],filter:[{filter:["","none",Qe,Ze]}],blur:[{blur:V()}],brightness:[{brightness:[St,Qe,Ze]}],contrast:[{contrast:[St,Qe,Ze]}],"drop-shadow":[{"drop-shadow":["","none",h,L1,R1]}],"drop-shadow-color":[{"drop-shadow":E()}],grayscale:[{grayscale:["",St,Qe,Ze]}],"hue-rotate":[{"hue-rotate":[St,Qe,Ze]}],invert:[{invert:["",St,Qe,Ze]}],saturate:[{saturate:[St,Qe,Ze]}],sepia:[{sepia:["",St,Qe,Ze]}],"backdrop-filter":[{"backdrop-filter":["","none",Qe,Ze]}],"backdrop-blur":[{"backdrop-blur":V()}],"backdrop-brightness":[{"backdrop-brightness":[St,Qe,Ze]}],"backdrop-contrast":[{"backdrop-contrast":[St,Qe,Ze]}],"backdrop-grayscale":[{"backdrop-grayscale":["",St,Qe,Ze]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[St,Qe,Ze]}],"backdrop-invert":[{"backdrop-invert":["",St,Qe,Ze]}],"backdrop-opacity":[{"backdrop-opacity":[St,Qe,Ze]}],"backdrop-saturate":[{"backdrop-saturate":[St,Qe,Ze]}],"backdrop-sepia":[{"backdrop-sepia":["",St,Qe,Ze]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":k()}],"border-spacing-x":[{"border-spacing-x":k()}],"border-spacing-y":[{"border-spacing-y":k()}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["","all","colors","opacity","shadow","transform","none",Qe,Ze]}],"transition-behavior":[{transition:["normal","discrete"]}],duration:[{duration:[St,"initial",Qe,Ze]}],ease:[{ease:["linear","initial",y,Qe,Ze]}],delay:[{delay:[St,Qe,Ze]}],animate:[{animate:["none",b,Qe,Ze]}],backface:[{backface:["hidden","visible"]}],perspective:[{perspective:[p,Qe,Ze]}],"perspective-origin":[{"perspective-origin":O()}],rotate:[{rotate:J()}],"rotate-x":[{"rotate-x":J()}],"rotate-y":[{"rotate-y":J()}],"rotate-z":[{"rotate-z":J()}],scale:[{scale:Y()}],"scale-x":[{"scale-x":Y()}],"scale-y":[{"scale-y":Y()}],"scale-z":[{"scale-z":Y()}],"scale-3d":["scale-3d"],skew:[{skew:ee()}],"skew-x":[{"skew-x":ee()}],"skew-y":[{"skew-y":ee()}],transform:[{transform:[Qe,Ze,"","none","gpu","cpu"]}],"transform-origin":[{origin:O()}],"transform-style":[{transform:["3d","flat"]}],translate:[{translate:ne()}],"translate-x":[{"translate-x":ne()}],"translate-y":[{"translate-y":ne()}],"translate-z":[{"translate-z":ne()}],"translate-none":["translate-none"],accent:[{accent:E()}],appearance:[{appearance:["none","auto"]}],"caret-color":[{caret:E()}],"color-scheme":[{scheme:["normal","dark","light","light-dark","only-dark","only-light"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",Qe,Ze]}],"field-sizing":[{"field-sizing":["fixed","content"]}],"pointer-events":[{"pointer-events":["auto","none"]}],resize:[{resize:["none","","y","x"]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":k()}],"scroll-mx":[{"scroll-mx":k()}],"scroll-my":[{"scroll-my":k()}],"scroll-ms":[{"scroll-ms":k()}],"scroll-me":[{"scroll-me":k()}],"scroll-mt":[{"scroll-mt":k()}],"scroll-mr":[{"scroll-mr":k()}],"scroll-mb":[{"scroll-mb":k()}],"scroll-ml":[{"scroll-ml":k()}],"scroll-p":[{"scroll-p":k()}],"scroll-px":[{"scroll-px":k()}],"scroll-py":[{"scroll-py":k()}],"scroll-ps":[{"scroll-ps":k()}],"scroll-pe":[{"scroll-pe":k()}],"scroll-pt":[{"scroll-pt":k()}],"scroll-pr":[{"scroll-pr":k()}],"scroll-pb":[{"scroll-pb":k()}],"scroll-pl":[{"scroll-pl":k()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",Qe,Ze]}],fill:[{fill:["none",...E()]}],"stroke-w":[{stroke:[St,Ip,Tu,o5]}],stroke:[{stroke:["none",...E()]}],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-x","border-w-y","border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-x","border-color-y","border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],translate:["translate-x","translate-y","translate-none"],"translate-none":["translate","translate-x","translate-y","translate-z"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]},orderSensitiveModifiers:["*","**","after","backdrop","before","details-content","file","first-letter","first-line","marker","placeholder","selection"]}},y2e=Zbe(m2e),s5=new Map;function At(...t){const e=JSON.stringify(t);if(s5.has(e))return s5.get(e);const n=y2e(Bbe(t));return s5.set(e,n),n}const v2e=(t,e)=>{if(e!=null&&e.startsWith("https://"))return e;switch(t){case"chrome":return`https://chrome.google.com/webstore/detail/${e}`;case"firefox":return`https://addons.mozilla.org/firefox/addon/${e}`;case"edge":return`https://microsoftedge.microsoft.com/addons/detail/${e}`;default:return null}},w2e=(t,e)=>{if(e!=null&&e.includes("https://"))return e;switch(t){case"android":return`https://play.google.com/store/apps/details?id=${e}`;case"ios":return`https://apps.apple.com/app/safepal-wallet/${e}`;default:return""}},b2e=t=>{switch(t){case"ios":return"iOS";case"android":return"Android";default:return""}},E2e=t=>t.charAt(0).toUpperCase()+t.slice(1),xi=t=>`https://images.web3auth.io/login-modal/${t}.svg`,$W="https://api.web3auth.io/passwordless-service",x2e=async()=>{try{const t=await wa(`${$W}/api/v3/user/location`);return t&&t.data.country?{country:t.data.country,dialCode:t.data.dial_code}:null}catch(t){return $e.error("error getting user country",t),null}},S2e=async t=>{try{const e=await Id(`${$W}/api/v3/phone_number/validate`,{phone_number:t});return e&&e.success?e:{success:!1,parsed_number:"",country_flag:""}}catch(e){return $e.error("error validating phone number",e),e.status===400?{success:!1,parsed_number:"",country_flag:""}:{success:!1,parsed_number:"",country_flag:""}}},BW=t=>{let e=t;return e||(e=(typeof window<"u"&&(window.navigator.userLanguage||window.navigator.language)||"en-US").split("-")[0]),Object.prototype.hasOwnProperty.call(Yee,e)?e:uo.en};function _2e(t){const e=encodeURIComponent(t.uri);return t.link.startsWith("http")?`${t.link}/wc?uri=${e}`:t.link?`${t.link}wc?uri=${e}`:""}const C2e=t=>{if(!t)return"passwordless.something-wrong-error";switch(t){case"E001":return"passwordless.error-invalid-params";case"E002":return"passwordless.error-invalid-origin";case"E201":return"passwordless.error-sending-sms-failed";case"E300":return"passwordless.error-no-mail-generated";case"E301":return"passwordless.error-invalid-link";case"E302":return"passwordless.error-new-link-generated-heading";case"E304":case"E403":return"passwordless.error-max-retry-limit-reached";case"E305":case"E401":return"passwordless.error-invalid-otp";case"E306":return"passwordless.error-otp-expired";case"E400":return"passwordless.error-no-sms-generated";case"E411":return"passwordless.error-plan-limit-reached";case"E412":return"passwordless.error-recaptcha-verification-failed";case"E502":return"passwordless.error-invalid-test-account";default:return"passwordless.something-wrong-error"}};function A2e(t){const{open:e=!0,padding:n=!0,shadow:r=!0,border:i=!1,showCloseIcon:o=!1,onClose:s,children:a,borderRadius:c="large"}=t,[l,u]=le.useState(!1);le.useEffect(()=>{e?setTimeout(()=>{u(!0)},50):u(!1)},[e]);const d=()=>{s&&s()};return l?te.jsxs("div",{className:At("w3a--bg-app-light-surface1 dark:w3a--bg-app-dark-surface-main w3a--rounded-3xl w3a--w-[356px] [@media(min-width:375px)]:w3a--w-[393px] w3a--h-auto w3a--flex w3a--flex-col w3a--duration-500",{"w3a--translate-y-0 w3a--delay-100":l,"w3a--translate-y-[100vh]":!l,"w3a--p-4":n,"w3a--shadow-xl sm:w3a--shadow-lg":r,"w3a--border w3a--border-app-gray-100 dark:w3a--border-app-gray-800":i,"w3a--rounded-[30px]":c==="large","w3a--rounded-2xl":c==="medium","w3a--rounded-none":c==="small"}),children:[o&&te.jsx("div",{className:"w3a--absolute w3a--right-6 w3a--top-[30px] w3a--z-10 w3a--cursor-pointer",children:te.jsx("svg",{width:"13",height:"13",viewBox:"0 0 13 13",fill:"none",xmlns:"http://www.w3.org/2000/svg",onClick:d,className:"w3a--text-app-gray-900 dark:w3a--text-app-white",children:te.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M0.292787 1.29299C0.480314 1.10552 0.734622 1.0002 0.999786 1.0002C1.26495 1.0002 1.51926 1.10552 1.70679 1.29299L5.99979 5.58599L10.2928 1.29299C10.385 1.19748 10.4954 1.1213 10.6174 1.06889C10.7394 1.01648 10.8706 0.988893 11.0034 0.987739C11.1362 0.986585 11.2678 1.01189 11.3907 1.06217C11.5136 1.11245 11.6253 1.1867 11.7192 1.28059C11.8131 1.37449 11.8873 1.48614 11.9376 1.60904C11.9879 1.73193 12.0132 1.86361 12.012 1.99639C12.0109 2.12917 11.9833 2.26039 11.9309 2.38239C11.8785 2.5044 11.8023 2.61474 11.7068 2.70699L7.41379 6.99999L11.7068 11.293C11.8889 11.4816 11.9897 11.7342 11.9875 11.9964C11.9852 12.2586 11.88 12.5094 11.6946 12.6948C11.5092 12.8802 11.2584 12.9854 10.9962 12.9877C10.734 12.9899 10.4814 12.8891 10.2928 12.707L5.99979 8.41399L1.70679 12.707C1.51818 12.8891 1.26558 12.9899 1.00339 12.9877C0.741188 12.9854 0.490376 12.8802 0.304968 12.6948C0.11956 12.5094 0.0143906 12.2586 0.0121121 11.9964C0.00983372 11.7342 0.110629 11.4816 0.292787 11.293L4.58579 6.99999L0.292787 2.70699C0.105316 2.51946 0 2.26515 0 1.99999C0 1.73483 0.105316 1.48052 0.292787 1.29299V1.29299Z",fill:"currentColor"})})}),a]}):null}function I2e(t){const{children:e,open:n,onClose:r,placement:i="center",padding:o=!0,shadow:s=!0,border:a=!1,showCloseIcon:c=!0,borderRadius:l="large"}=t,[u,d]=le.useState(!1);le.useEffect(()=>{n?(document.body.style.overflow="hidden",setTimeout(()=>{d(!0)},50)):(d(!1),document.body.style.overflow="")},[n]);const f=le.useMemo(()=>({center:"w3a--top-0 w3a--left-0 w3a--items-center w3a--justify-center","top-center":"w3a--top-8 w3a--left-0 w3a--items-start w3a--justify-center","bottom-center":"w3a--bottom-8 w3a--left-0 w3a--items-end w3a--justify-center",left:"sm:w3a--left-8 w3a--flex w3a--items-center w3a--justify-center sm:w3a--justify-start",right:"sm:w3a--right-8 w3a--flex w3a--items-center w3a--justify-center sm:w3a--justify-end"}),[]),h=le.useMemo(()=>f[i],[i,f]),g=()=>{r&&r()};return te.jsx("div",{className:At("w3a--fixed w3a--z-50 w3a--overflow-hidden w3a--flex w3a--transition-all",h,{"w3a--w-screen w3a--h-screen":u,"w3a--w-0 w3a--h-0 w3a--delay-500":!u}),children:te.jsxs("div",{className:At("w3a--bg-app-light-surface1 dark:w3a--bg-app-dark-surface-main w3a--w-[356px] [@media(min-width:375px)]:w3a--w-[393px] w3a--h-auto w3a--flex w3a--flex-col w3a--duration-500",{"w3a--translate-y-0 w3a--delay-100":u,"w3a--translate-y-[100vh]":!u,"w3a--p-4":o,"w3a--shadow-xl sm:w3a--shadow-lg":s,"w3a--border w3a--border-app-gray-100 dark:w3a--border-app-gray-800":a,"w3a--rounded-[30px]":l==="large","w3a--rounded-2xl":l==="medium","w3a--rounded-none":l==="small"}),children:[c&&te.jsx("div",{className:"w3a--absolute w3a--right-6 w3a--top-[30px] w3a--z-10 w3a--cursor-pointer",children:te.jsx("svg",{width:"13",height:"13",viewBox:"0 0 13 13",fill:"none",xmlns:"http://www.w3.org/2000/svg",onClick:g,className:"w3a--text-app-gray-500 hover:w3a--text-app-gray-900 dark:w3a--text-app-gray-200 dark:hover:w3a--text-app-white",children:te.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M0.292787 1.29299C0.480314 1.10552 0.734622 1.0002 0.999786 1.0002C1.26495 1.0002 1.51926 1.10552 1.70679 1.29299L5.99979 5.58599L10.2928 1.29299C10.385 1.19748 10.4954 1.1213 10.6174 1.06889C10.7394 1.01648 10.8706 0.988893 11.0034 0.987739C11.1362 0.986585 11.2678 1.01189 11.3907 1.06217C11.5136 1.11245 11.6253 1.1867 11.7192 1.28059C11.8131 1.37449 11.8873 1.48614 11.9376 1.60904C11.9879 1.73193 12.0132 1.86361 12.012 1.99639C12.0109 2.12917 11.9833 2.26039 11.9309 2.38239C11.8785 2.5044 11.8023 2.61474 11.7068 2.70699L7.41379 6.99999L11.7068 11.293C11.8889 11.4816 11.9897 11.7342 11.9875 11.9964C11.9852 12.2586 11.88 12.5094 11.6946 12.6948C11.5092 12.8802 11.2584 12.9854 10.9962 12.9877C10.734 12.9899 10.4814 12.8891 10.2928 12.707L5.99979 8.41399L1.70679 12.707C1.51818 12.8891 1.26558 12.9899 1.00339 12.9877C0.741188 12.9854 0.490376 12.8802 0.304968 12.6948C0.11956 12.5094 0.0143906 12.2586 0.0121121 11.9964C0.00983372 11.7342 0.110629 11.4816 0.292787 11.293L4.58579 6.99999L0.292787 2.70699C0.105316 2.51946 0 2.26515 0 1.99999C0 1.73483 0.105316 1.48052 0.292787 1.29299V1.29299Z",fill:"currentColor"})})}),e]})})}const k2e=(t,e,n,r)=>{var o,s,a,c;const i=[n,{code:e,...r||{}}];if((s=(o=t==null?void 0:t.services)==null?void 0:o.logger)!=null&&s.forward)return t.services.logger.forward(i,"warn","react-i18next::",!0);bd(i[0])&&(i[0]=`react-i18next:: ${i[0]}`),(c=(a=t==null?void 0:t.services)==null?void 0:a.logger)!=null&&c.warn?t.services.logger.warn(...i):console!=null&&console.warn&&console.warn(...i)},rN={},M_=(t,e,n,r)=>{bd(n)&&rN[n]||(bd(n)&&(rN[n]=new Date),k2e(t,e,n,r))},DW=(t,e)=>()=>{if(t.isInitialized)e();else{const n=()=>{setTimeout(()=>{t.off("initialized",n)},0),e()};t.on("initialized",n)}},N_=(t,e,n)=>{t.loadNamespaces(e,DW(t,n))},iN=(t,e,n,r)=>{if(bd(n)&&(n=[n]),t.options.preload&&t.options.preload.indexOf(e)>-1)return N_(t,n,r);n.forEach(i=>{t.options.ns.indexOf(i)<0&&t.options.ns.push(i)}),t.loadLanguages(e,DW(t,r))},P2e=(t,e,n={})=>!e.languages||!e.languages.length?(M_(e,"NO_LANGUAGES","i18n.languages were undefined or empty",{languages:e.languages}),!0):e.hasLoadedNamespace(t,{lng:n.lng,precheck:(r,i)=>{if(n.bindI18n&&n.bindI18n.indexOf("languageChanging")>-1&&r.services.backendConnector.backend&&r.isLanguageChangingTo&&!i(r.isLanguageChangingTo,t))return!1}}),bd=t=>typeof t=="string",O2e=t=>typeof t=="object"&&t!==null,T2e=/&(?:amp|#38|lt|#60|gt|#62|apos|#39|quot|#34|nbsp|#160|copy|#169|reg|#174|hellip|#8230|#x2F|#47);/g,M2e={"&amp;":"&","&#38;":"&","&lt;":"<","&#60;":"<","&gt;":">","&#62;":">","&apos;":"'","&#39;":"'","&quot;":'"',"&#34;":'"',"&nbsp;":" ","&#160;":" ","&copy;":"©","&#169;":"©","&reg;":"®","&#174;":"®","&hellip;":"…","&#8230;":"…","&#x2F;":"/","&#47;":"/"},N2e=t=>M2e[t],R2e=t=>t.replace(T2e,N2e);let R_={bindI18n:"languageChanged",bindI18nStore:"",transEmptyNodeValue:"",transSupportBasicHtmlNodes:!0,transWrapTextNodes:"",transKeepBasicHtmlNodesFor:["br","strong","i","p"],useSuspense:!0,unescape:R2e};const L2e=(t={})=>{R_={...R_,...t}},$2e=()=>R_;let jW;const B2e=t=>{jW=t},D2e=()=>jW,j2e={type:"3rdParty",init(t){L2e(t.options.react),B2e(t)}},F2e=le.createContext();class U2e{constructor(){this.usedNamespaces={}}addUsedNamespaces(e){e.forEach(n=>{this.usedNamespaces[n]||(this.usedNamespaces[n]=!0)})}getUsedNamespaces(){return Object.keys(this.usedNamespaces)}}const z2e=(t,e)=>{const n=le.useRef();return le.useEffect(()=>{n.current=t},[t,e]),n.current},FW=(t,e,n,r)=>t.getFixedT(e,n,r),H2e=(t,e,n,r)=>le.useCallback(FW(t,e,n,r),[t,e,n,r]),ei=(t,e={})=>{var N,O,$,j;const{i18n:n}=e,{i18n:r,defaultNS:i}=le.useContext(F2e)||{},o=n||r||D2e();if(o&&!o.reportNamespaces&&(o.reportNamespaces=new U2e),!o){M_(o,"NO_I18NEXT_INSTANCE","useTranslation: You will need to pass in an i18next instance by using initReactI18next");const k=(L,P)=>bd(P)?P:O2e(P)&&bd(P.defaultValue)?P.defaultValue:Array.isArray(L)?L[L.length-1]:L,T=[k,{},!1];return T.t=k,T.i18n={},T.ready=!1,T}(N=o.options.react)!=null&&N.wait&&M_(o,"DEPRECATED_OPTION","useTranslation: It seems you are still using the old wait option, you may migrate to the new useSuspense behaviour.");const s={...$2e(),...o.options.react,...e},{useSuspense:a,keyPrefix:c}=s;let l=i||((O=o.options)==null?void 0:O.defaultNS);l=bd(l)?[l]:l||["translation"],(j=($=o.reportNamespaces).addUsedNamespaces)==null||j.call($,l);const u=(o.isInitialized||o.initializedStoreOnce)&&l.every(k=>P2e(k,o,s)),d=H2e(o,e.lng||null,s.nsMode==="fallback"?l:l[0],c),f=()=>d,h=()=>FW(o,e.lng||null,s.nsMode==="fallback"?l:l[0],c),[g,p]=le.useState(f);let S=l.join();e.lng&&(S=`${e.lng}${S}`);const y=z2e(S),b=le.useRef(!0);le.useEffect(()=>{const{bindI18n:k,bindI18nStore:T}=s;b.current=!0,!u&&!a&&(e.lng?iN(o,e.lng,l,()=>{b.current&&p(h)}):N_(o,l,()=>{b.current&&p(h)})),u&&y&&y!==S&&b.current&&p(h);const L=()=>{b.current&&p(h)};return k&&(o==null||o.on(k,L)),T&&(o==null||o.store.on(T,L)),()=>{b.current=!1,o&&k&&(k==null||k.split(" ").forEach(P=>o.off(P,L))),T&&o&&T.split(" ").forEach(P=>o.store.off(P,L))}},[o,S]),le.useEffect(()=>{b.current&&u&&p(f)},[o,c,u]);const _=[g,o,u];if(_.t=g,_.i18n=o,_.ready=u,u||!u&&!a)return _;throw new Promise(k=>{e.lng?iN(o,e.lng,l,()=>k()):N_(o,l,()=>k())})},gy=le.createContext({bodyState:{metamaskQrCode:{show:!1,wallet:null},installLinks:{show:!1,wallet:null},multiChainSelector:{show:!1,wallet:null}},toast:{message:"",type:lb.SUCCESS},setBodyState:()=>{},setToast:()=>{}}),l3=le.createContext({isDark:!0}),ht=t=>typeof t=="string",kp=()=>{let t,e;const n=new Promise((r,i)=>{t=r,e=i});return n.resolve=t,n.reject=e,n},oN=t=>t==null?"":""+t,W2e=(t,e,n)=>{t.forEach(r=>{e[r]&&(n[r]=e[r])})},K2e=/###/g,sN=t=>t&&t.indexOf("###")>-1?t.replace(K2e,"."):t,aN=t=>!t||ht(t),fg=(t,e,n)=>{const r=ht(e)?e.split("."):e;let i=0;for(;i<r.length-1;){if(aN(t))return{};const o=sN(r[i]);!t[o]&&n&&(t[o]=new n),Object.prototype.hasOwnProperty.call(t,o)?t=t[o]:t={},++i}return aN(t)?{}:{obj:t,k:sN(r[i])}},cN=(t,e,n)=>{const{obj:r,k:i}=fg(t,e,Object);if(r!==void 0||e.length===1){r[i]=n;return}let o=e[e.length-1],s=e.slice(0,e.length-1),a=fg(t,s,Object);for(;a.obj===void 0&&s.length;)o=`${s[s.length-1]}.${o}`,s=s.slice(0,s.length-1),a=fg(t,s,Object),a!=null&&a.obj&&typeof a.obj[`${a.k}.${o}`]<"u"&&(a.obj=void 0);a.obj[`${a.k}.${o}`]=n},q2e=(t,e,n,r)=>{const{obj:i,k:o}=fg(t,e,Object);i[o]=i[o]||[],i[o].push(n)},ub=(t,e)=>{const{obj:n,k:r}=fg(t,e);if(n&&Object.prototype.hasOwnProperty.call(n,r))return n[r]},V2e=(t,e,n)=>{const r=ub(t,n);return r!==void 0?r:ub(e,n)},UW=(t,e,n)=>{for(const r in e)r!=="__proto__"&&r!=="constructor"&&(r in t?ht(t[r])||t[r]instanceof String||ht(e[r])||e[r]instanceof String?n&&(t[r]=e[r]):UW(t[r],e[r],n):t[r]=e[r]);return t},Cf=t=>t.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&");var G2e={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;"};const Y2e=t=>ht(t)?t.replace(/[&<>"'\/]/g,e=>G2e[e]):t;class J2e{constructor(e){this.capacity=e,this.regExpMap=new Map,this.regExpQueue=[]}getRegExp(e){const n=this.regExpMap.get(e);if(n!==void 0)return n;const r=new RegExp(e);return this.regExpQueue.length===this.capacity&&this.regExpMap.delete(this.regExpQueue.shift()),this.regExpMap.set(e,r),this.regExpQueue.push(e),r}}const Z2e=[" ",",","?","!",";"],Q2e=new J2e(20),X2e=(t,e,n)=>{e=e||"",n=n||"";const r=Z2e.filter(s=>e.indexOf(s)<0&&n.indexOf(s)<0);if(r.length===0)return!0;const i=Q2e.getRegExp(`(${r.map(s=>s==="?"?"\\?":s).join("|")})`);let o=!i.test(t);if(!o){const s=t.indexOf(n);s>0&&!i.test(t.substring(0,s))&&(o=!0)}return o},L_=(t,e,n=".")=>{if(!t)return;if(t[e])return Object.prototype.hasOwnProperty.call(t,e)?t[e]:void 0;const r=e.split(n);let i=t;for(let o=0;o<r.length;){if(!i||typeof i!="object")return;let s,a="";for(let c=o;c<r.length;++c)if(c!==o&&(a+=n),a+=r[c],s=i[a],s!==void 0){if(["string","number","boolean"].indexOf(typeof s)>-1&&c<r.length-1)continue;o+=c-o+1;break}i=s}return i},Cm=t=>t==null?void 0:t.replace("_","-"),e3e={type:"logger",log(t){this.output("log",t)},warn(t){this.output("warn",t)},error(t){this.output("error",t)},output(t,e){var n,r;(r=(n=console==null?void 0:console[t])==null?void 0:n.apply)==null||r.call(n,console,e)}};class db{constructor(e,n={}){this.init(e,n)}init(e,n={}){this.prefix=n.prefix||"i18next:",this.logger=e||e3e,this.options=n,this.debug=n.debug}log(...e){return this.forward(e,"log","",!0)}warn(...e){return this.forward(e,"warn","",!0)}error(...e){return this.forward(e,"error","")}deprecate(...e){return this.forward(e,"warn","WARNING DEPRECATED: ",!0)}forward(e,n,r,i){return i&&!this.debug?null:(ht(e[0])&&(e[0]=`${r}${this.prefix} ${e[0]}`),this.logger[n](e))}create(e){return new db(this.logger,{prefix:`${this.prefix}:${e}:`,...this.options})}clone(e){return e=e||this.options,e.prefix=e.prefix||this.prefix,new db(this.logger,e)}}var Zs=new db;class u3{constructor(){this.observers={}}on(e,n){return e.split(" ").forEach(r=>{this.observers[r]||(this.observers[r]=new Map);const i=this.observers[r].get(n)||0;this.observers[r].set(n,i+1)}),this}off(e,n){if(this.observers[e]){if(!n){delete this.observers[e];return}this.observers[e].delete(n)}}emit(e,...n){this.observers[e]&&Array.from(this.observers[e].entries()).forEach(([i,o])=>{for(let s=0;s<o;s++)i(...n)}),this.observers["*"]&&Array.from(this.observers["*"].entries()).forEach(([i,o])=>{for(let s=0;s<o;s++)i.apply(i,[e,...n])})}}class lN extends u3{constructor(e,n={ns:["translation"],defaultNS:"translation"}){super(),this.data=e||{},this.options=n,this.options.keySeparator===void 0&&(this.options.keySeparator="."),this.options.ignoreJSONStructure===void 0&&(this.options.ignoreJSONStructure=!0)}addNamespaces(e){this.options.ns.indexOf(e)<0&&this.options.ns.push(e)}removeNamespaces(e){const n=this.options.ns.indexOf(e);n>-1&&this.options.ns.splice(n,1)}getResource(e,n,r,i={}){var l,u;const o=i.keySeparator!==void 0?i.keySeparator:this.options.keySeparator,s=i.ignoreJSONStructure!==void 0?i.ignoreJSONStructure:this.options.ignoreJSONStructure;let a;e.indexOf(".")>-1?a=e.split("."):(a=[e,n],r&&(Array.isArray(r)?a.push(...r):ht(r)&&o?a.push(...r.split(o)):a.push(r)));const c=ub(this.data,a);return!c&&!n&&!r&&e.indexOf(".")>-1&&(e=a[0],n=a[1],r=a.slice(2).join(".")),c||!s||!ht(r)?c:L_((u=(l=this.data)==null?void 0:l[e])==null?void 0:u[n],r,o)}addResource(e,n,r,i,o={silent:!1}){const s=o.keySeparator!==void 0?o.keySeparator:this.options.keySeparator;let a=[e,n];r&&(a=a.concat(s?r.split(s):r)),e.indexOf(".")>-1&&(a=e.split("."),i=n,n=a[1]),this.addNamespaces(n),cN(this.data,a,i),o.silent||this.emit("added",e,n,r,i)}addResources(e,n,r,i={silent:!1}){for(const o in r)(ht(r[o])||Array.isArray(r[o]))&&this.addResource(e,n,o,r[o],{silent:!0});i.silent||this.emit("added",e,n,r)}addResourceBundle(e,n,r,i,o,s={silent:!1,skipCopy:!1}){let a=[e,n];e.indexOf(".")>-1&&(a=e.split("."),i=r,r=n,n=a[1]),this.addNamespaces(n);let c=ub(this.data,a)||{};s.skipCopy||(r=JSON.parse(JSON.stringify(r))),i?UW(c,r,o):c={...c,...r},cN(this.data,a,c),s.silent||this.emit("added",e,n,r)}removeResourceBundle(e,n){this.hasResourceBundle(e,n)&&delete this.data[e][n],this.removeNamespaces(n),this.emit("removed",e,n)}hasResourceBundle(e,n){return this.getResource(e,n)!==void 0}getResourceBundle(e,n){return n||(n=this.options.defaultNS),this.getResource(e,n)}getDataByLanguage(e){return this.data[e]}hasLanguageSomeTranslations(e){const n=this.getDataByLanguage(e);return!!(n&&Object.keys(n)||[]).find(i=>n[i]&&Object.keys(n[i]).length>0)}toJSON(){return this.data}}var zW={processors:{},addPostProcessor(t){this.processors[t.name]=t},handle(t,e,n,r,i){return t.forEach(o=>{var s;e=((s=this.processors[o])==null?void 0:s.process(e,n,r,i))??e}),e}};const HW=Symbol("i18next/PATH_KEY");function t3e(){const t=[],e=Object.create(null);let n;return e.get=(r,i)=>{var o;return(o=n==null?void 0:n.revoke)==null||o.call(n),i===HW?t:(t.push(i),n=Proxy.revocable(r,e),n.proxy)},Proxy.revocable(Object.create(null),e).proxy}function $_(t,e){const{[HW]:n}=t(t3e());return n.join((e==null?void 0:e.keySeparator)??".")}const uN={},dN=t=>!ht(t)&&typeof t!="boolean"&&typeof t!="number";class fb extends u3{constructor(e,n={}){super(),W2e(["resourceStore","languageUtils","pluralResolver","interpolator","backendConnector","i18nFormat","utils"],e,this),this.options=n,this.options.keySeparator===void 0&&(this.options.keySeparator="."),this.logger=Zs.create("translator")}changeLanguage(e){e&&(this.language=e)}exists(e,n={interpolation:{}}){const r={...n};if(e==null)return!1;const i=this.resolve(e,r);return(i==null?void 0:i.res)!==void 0}extractFromKey(e,n){let r=n.nsSeparator!==void 0?n.nsSeparator:this.options.nsSeparator;r===void 0&&(r=":");const i=n.keySeparator!==void 0?n.keySeparator:this.options.keySeparator;let o=n.ns||this.options.defaultNS||[];const s=r&&e.indexOf(r)>-1,a=!this.options.userDefinedKeySeparator&&!n.keySeparator&&!this.options.userDefinedNsSeparator&&!n.nsSeparator&&!X2e(e,r,i);if(s&&!a){const c=e.match(this.interpolator.nestingRegexp);if(c&&c.length>0)return{key:e,namespaces:ht(o)?[o]:o};const l=e.split(r);(r!==i||r===i&&this.options.ns.indexOf(l[0])>-1)&&(o=l.shift()),e=l.join(i)}return{key:e,namespaces:ht(o)?[o]:o}}translate(e,n,r){let i=typeof n=="object"?{...n}:n;if(typeof i!="object"&&this.options.overloadTranslationOptionHandler&&(i=this.options.overloadTranslationOptionHandler(arguments)),typeof i=="object"&&(i={...i}),i||(i={}),e==null)return"";typeof e=="function"&&(e=$_(e,{...this.options,...i})),Array.isArray(e)||(e=[String(e)]);const o=i.returnDetails!==void 0?i.returnDetails:this.options.returnDetails,s=i.keySeparator!==void 0?i.keySeparator:this.options.keySeparator,{key:a,namespaces:c}=this.extractFromKey(e[e.length-1],i),l=c[c.length-1];let u=i.nsSeparator!==void 0?i.nsSeparator:this.options.nsSeparator;u===void 0&&(u=":");const d=i.lng||this.language,f=i.appendNamespaceToCIMode||this.options.appendNamespaceToCIMode;if((d==null?void 0:d.toLowerCase())==="cimode")return f?o?{res:`${l}${u}${a}`,usedKey:a,exactUsedKey:a,usedLng:d,usedNS:l,usedParams:this.getUsedParamsDetails(i)}:`${l}${u}${a}`:o?{res:a,usedKey:a,exactUsedKey:a,usedLng:d,usedNS:l,usedParams:this.getUsedParamsDetails(i)}:a;const h=this.resolve(e,i);let g=h==null?void 0:h.res;const p=(h==null?void 0:h.usedKey)||a,S=(h==null?void 0:h.exactUsedKey)||a,y=["[object Number]","[object Function]","[object RegExp]"],b=i.joinArrays!==void 0?i.joinArrays:this.options.joinArrays,_=!this.i18nFormat||this.i18nFormat.handleAsObject,N=i.count!==void 0&&!ht(i.count),O=fb.hasDefaultValue(i),$=N?this.pluralResolver.getSuffix(d,i.count,i):"",j=i.ordinal&&N?this.pluralResolver.getSuffix(d,i.count,{ordinal:!1}):"",k=N&&!i.ordinal&&i.count===0,T=k&&i[`defaultValue${this.options.pluralSeparator}zero`]||i[`defaultValue${$}`]||i[`defaultValue${j}`]||i.defaultValue;let L=g;_&&!g&&O&&(L=T);const P=dN(L),m=Object.prototype.toString.apply(L);if(_&&L&&P&&y.indexOf(m)<0&&!(ht(b)&&Array.isArray(L))){if(!i.returnObjects&&!this.options.returnObjects){this.options.returnedObjectHandler||this.logger.warn("accessing an object - but returnObjects options is not enabled!");const w=this.options.returnedObjectHandler?this.options.returnedObjectHandler(p,L,{...i,ns:c}):`key '${a} (${this.language})' returned an object instead of string.`;return o?(h.res=w,h.usedParams=this.getUsedParamsDetails(i),h):w}if(s){const w=Array.isArray(L),A=w?[]:{},v=w?S:p;for(const I in L)if(Object.prototype.hasOwnProperty.call(L,I)){const M=`${v}${s}${I}`;O&&!g?A[I]=this.translate(M,{...i,defaultValue:dN(T)?T[I]:void 0,joinArrays:!1,ns:c}):A[I]=this.translate(M,{...i,joinArrays:!1,ns:c}),A[I]===M&&(A[I]=L[I])}g=A}}else if(_&&ht(b)&&Array.isArray(g))g=g.join(b),g&&(g=this.extendTranslation(g,e,i,r));else{let w=!1,A=!1;!this.isValidLookup(g)&&O&&(w=!0,g=T),this.isValidLookup(g)||(A=!0,g=a);const I=(i.missingKeyNoValueFallbackToKey||this.options.missingKeyNoValueFallbackToKey)&&A?void 0:g,M=O&&T!==g&&this.options.updateMissing;if(A||w||M){if(this.logger.log(M?"updateKey":"missingKey",d,l,a,M?T:g),s){const R=this.resolve(a,{...i,keySeparator:!1});R&&R.res&&this.logger.warn("Seems the loaded translations were in flat JSON format instead of nested. Either set keySeparator: false on init or make sure your translations are published in nested format.")}let E=[];const C=this.languageUtils.getFallbackCodes(this.options.fallbackLng,i.lng||this.language);if(this.options.saveMissingTo==="fallback"&&C&&C[0])for(let R=0;R<C.length;R++)E.push(C[R]);else this.options.saveMissingTo==="all"?E=this.languageUtils.toResolveHierarchy(i.lng||this.language):E.push(i.lng||this.language);const x=(R,D,B)=>{var H;const z=O&&B!==g?B:I;this.options.missingKeyHandler?this.options.missingKeyHandler(R,l,D,z,M,i):(H=this.backendConnector)!=null&&H.saveMissing&&this.backendConnector.saveMissing(R,l,D,z,M,i),this.emit("missingKey",R,l,D,g)};this.options.saveMissing&&(this.options.saveMissingPlurals&&N?E.forEach(R=>{const D=this.pluralResolver.getSuffixes(R,i);k&&i[`defaultValue${this.options.pluralSeparator}zero`]&&D.indexOf(`${this.options.pluralSeparator}zero`)<0&&D.push(`${this.options.pluralSeparator}zero`),D.forEach(B=>{x([R],a+B,i[`defaultValue${B}`]||T)})}):x(E,a,T))}g=this.extendTranslation(g,e,i,h,r),A&&g===a&&this.options.appendNamespaceToMissingKey&&(g=`${l}${u}${a}`),(A||w)&&this.options.parseMissingKeyHandler&&(g=this.options.parseMissingKeyHandler(this.options.appendNamespaceToMissingKey?`${l}${u}${a}`:a,w?g:void 0,i))}return o?(h.res=g,h.usedParams=this.getUsedParamsDetails(i),h):g}extendTranslation(e,n,r,i,o){var c,l;if((c=this.i18nFormat)!=null&&c.parse)e=this.i18nFormat.parse(e,{...this.options.interpolation.defaultVariables,...r},r.lng||this.language||i.usedLng,i.usedNS,i.usedKey,{resolved:i});else if(!r.skipInterpolation){r.interpolation&&this.interpolator.init({...r,interpolation:{...this.options.interpolation,...r.interpolation}});const u=ht(e)&&(((l=r==null?void 0:r.interpolation)==null?void 0:l.skipOnVariables)!==void 0?r.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables);let d;if(u){const h=e.match(this.interpolator.nestingRegexp);d=h&&h.length}let f=r.replace&&!ht(r.replace)?r.replace:r;if(this.options.interpolation.defaultVariables&&(f={...this.options.interpolation.defaultVariables,...f}),e=this.interpolator.interpolate(e,f,r.lng||this.language||i.usedLng,r),u){const h=e.match(this.interpolator.nestingRegexp),g=h&&h.length;d<g&&(r.nest=!1)}!r.lng&&i&&i.res&&(r.lng=this.language||i.usedLng),r.nest!==!1&&(e=this.interpolator.nest(e,(...h)=>(o==null?void 0:o[0])===h[0]&&!r.context?(this.logger.warn(`It seems you are nesting recursively key: ${h[0]} in key: ${n[0]}`),null):this.translate(...h,n),r)),r.interpolation&&this.interpolator.reset()}const s=r.postProcess||this.options.postProcess,a=ht(s)?[s]:s;return e!=null&&(a!=null&&a.length)&&r.applyPostProcessor!==!1&&(e=zW.handle(a,e,n,this.options&&this.options.postProcessPassResolved?{i18nResolved:{...i,usedParams:this.getUsedParamsDetails(r)},...r}:r,this)),e}resolve(e,n={}){let r,i,o,s,a;return ht(e)&&(e=[e]),e.forEach(c=>{if(this.isValidLookup(r))return;const l=this.extractFromKey(c,n),u=l.key;i=u;let d=l.namespaces;this.options.fallbackNS&&(d=d.concat(this.options.fallbackNS));const f=n.count!==void 0&&!ht(n.count),h=f&&!n.ordinal&&n.count===0,g=n.context!==void 0&&(ht(n.context)||typeof n.context=="number")&&n.context!=="",p=n.lngs?n.lngs:this.languageUtils.toResolveHierarchy(n.lng||this.language,n.fallbackLng);d.forEach(S=>{var y,b;this.isValidLookup(r)||(a=S,!uN[`${p[0]}-${S}`]&&((y=this.utils)!=null&&y.hasLoadedNamespace)&&!((b=this.utils)!=null&&b.hasLoadedNamespace(a))&&(uN[`${p[0]}-${S}`]=!0,this.logger.warn(`key "${i}" for languages "${p.join(", ")}" won't get resolved as namespace "${a}" was not yet loaded`,"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!")),p.forEach(_=>{var $;if(this.isValidLookup(r))return;s=_;const N=[u];if(($=this.i18nFormat)!=null&&$.addLookupKeys)this.i18nFormat.addLookupKeys(N,u,_,S,n);else{let j;f&&(j=this.pluralResolver.getSuffix(_,n.count,n));const k=`${this.options.pluralSeparator}zero`,T=`${this.options.pluralSeparator}ordinal${this.options.pluralSeparator}`;if(f&&(n.ordinal&&j.indexOf(T)===0&&N.push(u+j.replace(T,this.options.pluralSeparator)),N.push(u+j),h&&N.push(u+k)),g){const L=`${u}${this.options.contextSeparator||"_"}${n.context}`;N.push(L),f&&(n.ordinal&&j.indexOf(T)===0&&N.push(L+j.replace(T,this.options.pluralSeparator)),N.push(L+j),h&&N.push(L+k))}}let O;for(;O=N.pop();)this.isValidLookup(r)||(o=O,r=this.getResource(_,S,O,n))}))})}),{res:r,usedKey:i,exactUsedKey:o,usedLng:s,usedNS:a}}isValidLookup(e){return e!==void 0&&!(!this.options.returnNull&&e===null)&&!(!this.options.returnEmptyString&&e==="")}getResource(e,n,r,i={}){var o;return(o=this.i18nFormat)!=null&&o.getResource?this.i18nFormat.getResource(e,n,r,i):this.resourceStore.getResource(e,n,r,i)}getUsedParamsDetails(e={}){const n=["defaultValue","ordinal","context","replace","lng","lngs","fallbackLng","ns","keySeparator","nsSeparator","returnObjects","returnDetails","joinArrays","postProcess","interpolation"],r=e.replace&&!ht(e.replace);let i=r?e.replace:e;if(r&&typeof e.count<"u"&&(i.count=e.count),this.options.interpolation.defaultVariables&&(i={...this.options.interpolation.defaultVariables,...i}),!r){i={...i};for(const o of n)delete i[o]}return i}static hasDefaultValue(e){const n="defaultValue";for(const r in e)if(Object.prototype.hasOwnProperty.call(e,r)&&n===r.substring(0,n.length)&&e[r]!==void 0)return!0;return!1}}class fN{constructor(e){this.options=e,this.supportedLngs=this.options.supportedLngs||!1,this.logger=Zs.create("languageUtils")}getScriptPartFromCode(e){if(e=Cm(e),!e||e.indexOf("-")<0)return null;const n=e.split("-");return n.length===2||(n.pop(),n[n.length-1].toLowerCase()==="x")?null:this.formatLanguageCode(n.join("-"))}getLanguagePartFromCode(e){if(e=Cm(e),!e||e.indexOf("-")<0)return e;const n=e.split("-");return this.formatLanguageCode(n[0])}formatLanguageCode(e){if(ht(e)&&e.indexOf("-")>-1){let n;try{n=Intl.getCanonicalLocales(e)[0]}catch{}return n&&this.options.lowerCaseLng&&(n=n.toLowerCase()),n||(this.options.lowerCaseLng?e.toLowerCase():e)}return this.options.cleanCode||this.options.lowerCaseLng?e.toLowerCase():e}isSupportedCode(e){return(this.options.load==="languageOnly"||this.options.nonExplicitSupportedLngs)&&(e=this.getLanguagePartFromCode(e)),!this.supportedLngs||!this.supportedLngs.length||this.supportedLngs.indexOf(e)>-1}getBestMatchFromCodes(e){if(!e)return null;let n;return e.forEach(r=>{if(n)return;const i=this.formatLanguageCode(r);(!this.options.supportedLngs||this.isSupportedCode(i))&&(n=i)}),!n&&this.options.supportedLngs&&e.forEach(r=>{if(n)return;const i=this.getScriptPartFromCode(r);if(this.isSupportedCode(i))return n=i;const o=this.getLanguagePartFromCode(r);if(this.isSupportedCode(o))return n=o;n=this.options.supportedLngs.find(s=>{if(s===o)return s;if(!(s.indexOf("-")<0&&o.indexOf("-")<0)&&(s.indexOf("-")>0&&o.indexOf("-")<0&&s.substring(0,s.indexOf("-"))===o||s.indexOf(o)===0&&o.length>1))return s})}),n||(n=this.getFallbackCodes(this.options.fallbackLng)[0]),n}getFallbackCodes(e,n){if(!e)return[];if(typeof e=="function"&&(e=e(n)),ht(e)&&(e=[e]),Array.isArray(e))return e;if(!n)return e.default||[];let r=e[n];return r||(r=e[this.getScriptPartFromCode(n)]),r||(r=e[this.formatLanguageCode(n)]),r||(r=e[this.getLanguagePartFromCode(n)]),r||(r=e.default),r||[]}toResolveHierarchy(e,n){const r=this.getFallbackCodes((n===!1?[]:n)||this.options.fallbackLng||[],e),i=[],o=s=>{s&&(this.isSupportedCode(s)?i.push(s):this.logger.warn(`rejecting language code not found in supportedLngs: ${s}`))};return ht(e)&&(e.indexOf("-")>-1||e.indexOf("_")>-1)?(this.options.load!=="languageOnly"&&o(this.formatLanguageCode(e)),this.options.load!=="languageOnly"&&this.options.load!=="currentOnly"&&o(this.getScriptPartFromCode(e)),this.options.load!=="currentOnly"&&o(this.getLanguagePartFromCode(e))):ht(e)&&o(this.formatLanguageCode(e)),r.forEach(s=>{i.indexOf(s)<0&&o(this.formatLanguageCode(s))}),i}}const hN={zero:0,one:1,two:2,few:3,many:4,other:5},pN={select:t=>t===1?"one":"other",resolvedOptions:()=>({pluralCategories:["one","other"]})};class n3e{constructor(e,n={}){this.languageUtils=e,this.options=n,this.logger=Zs.create("pluralResolver"),this.pluralRulesCache={}}addRule(e,n){this.rules[e]=n}clearCache(){this.pluralRulesCache={}}getRule(e,n={}){const r=Cm(e==="dev"?"en":e),i=n.ordinal?"ordinal":"cardinal",o=JSON.stringify({cleanedCode:r,type:i});if(o in this.pluralRulesCache)return this.pluralRulesCache[o];let s;try{s=new Intl.PluralRules(r,{type:i})}catch{if(!Intl)return this.logger.error("No Intl support, please use an Intl polyfill!"),pN;if(!e.match(/-|_/))return pN;const c=this.languageUtils.getLanguagePartFromCode(e);s=this.getRule(c,n)}return this.pluralRulesCache[o]=s,s}needsPlural(e,n={}){let r=this.getRule(e,n);return r||(r=this.getRule("dev",n)),(r==null?void 0:r.resolvedOptions().pluralCategories.length)>1}getPluralFormsOfKey(e,n,r={}){return this.getSuffixes(e,r).map(i=>`${n}${i}`)}getSuffixes(e,n={}){let r=this.getRule(e,n);return r||(r=this.getRule("dev",n)),r?r.resolvedOptions().pluralCategories.sort((i,o)=>hN[i]-hN[o]).map(i=>`${this.options.prepend}${n.ordinal?`ordinal${this.options.prepend}`:""}${i}`):[]}getSuffix(e,n,r={}){const i=this.getRule(e,r);return i?`${this.options.prepend}${r.ordinal?`ordinal${this.options.prepend}`:""}${i.select(n)}`:(this.logger.warn(`no plural rule found for: ${e}`),this.getSuffix("dev",n,r))}}const gN=(t,e,n,r=".",i=!0)=>{let o=V2e(t,e,n);return!o&&i&&ht(n)&&(o=L_(t,n,r),o===void 0&&(o=L_(e,n,r))),o},a5=t=>t.replace(/\$/g,"$$$$");class r3e{constructor(e={}){var n;this.logger=Zs.create("interpolator"),this.options=e,this.format=((n=e==null?void 0:e.interpolation)==null?void 0:n.format)||(r=>r),this.init(e)}init(e={}){e.interpolation||(e.interpolation={escapeValue:!0});const{escape:n,escapeValue:r,useRawValueToEscape:i,prefix:o,prefixEscaped:s,suffix:a,suffixEscaped:c,formatSeparator:l,unescapeSuffix:u,unescapePrefix:d,nestingPrefix:f,nestingPrefixEscaped:h,nestingSuffix:g,nestingSuffixEscaped:p,nestingOptionsSeparator:S,maxReplaces:y,alwaysFormat:b}=e.interpolation;this.escape=n!==void 0?n:Y2e,this.escapeValue=r!==void 0?r:!0,this.useRawValueToEscape=i!==void 0?i:!1,this.prefix=o?Cf(o):s||"{{",this.suffix=a?Cf(a):c||"}}",this.formatSeparator=l||",",this.unescapePrefix=u?"":d||"-",this.unescapeSuffix=this.unescapePrefix?"":u||"",this.nestingPrefix=f?Cf(f):h||Cf("$t("),this.nestingSuffix=g?Cf(g):p||Cf(")"),this.nestingOptionsSeparator=S||",",this.maxReplaces=y||1e3,this.alwaysFormat=b!==void 0?b:!1,this.resetRegExp()}reset(){this.options&&this.init(this.options)}resetRegExp(){const e=(n,r)=>(n==null?void 0:n.source)===r?(n.lastIndex=0,n):new RegExp(r,"g");this.regexp=e(this.regexp,`${this.prefix}(.+?)${this.suffix}`),this.regexpUnescape=e(this.regexpUnescape,`${this.prefix}${this.unescapePrefix}(.+?)${this.unescapeSuffix}${this.suffix}`),this.nestingRegexp=e(this.nestingRegexp,`${this.nestingPrefix}((?:[^()"']+|"[^"]*"|'[^']*'|\\((?:[^()]|"[^"]*"|'[^']*')*\\))*?)${this.nestingSuffix}`)}interpolate(e,n,r,i){var h;let o,s,a;const c=this.options&&this.options.interpolation&&this.options.interpolation.defaultVariables||{},l=g=>{if(g.indexOf(this.formatSeparator)<0){const b=gN(n,c,g,this.options.keySeparator,this.options.ignoreJSONStructure);return this.alwaysFormat?this.format(b,void 0,r,{...i,...n,interpolationkey:g}):b}const p=g.split(this.formatSeparator),S=p.shift().trim(),y=p.join(this.formatSeparator).trim();return this.format(gN(n,c,S,this.options.keySeparator,this.options.ignoreJSONStructure),y,r,{...i,...n,interpolationkey:S})};this.resetRegExp();const u=(i==null?void 0:i.missingInterpolationHandler)||this.options.missingInterpolationHandler,d=((h=i==null?void 0:i.interpolation)==null?void 0:h.skipOnVariables)!==void 0?i.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables;return[{regex:this.regexpUnescape,safeValue:g=>a5(g)},{regex:this.regexp,safeValue:g=>this.escapeValue?a5(this.escape(g)):a5(g)}].forEach(g=>{for(a=0;o=g.regex.exec(e);){const p=o[1].trim();if(s=l(p),s===void 0)if(typeof u=="function"){const y=u(e,o,i);s=ht(y)?y:""}else if(i&&Object.prototype.hasOwnProperty.call(i,p))s="";else if(d){s=o[0];continue}else this.logger.warn(`missed to pass in variable ${p} for interpolating ${e}`),s="";else!ht(s)&&!this.useRawValueToEscape&&(s=oN(s));const S=g.safeValue(s);if(e=e.replace(o[0],S),d?(g.regex.lastIndex+=s.length,g.regex.lastIndex-=o[0].length):g.regex.lastIndex=0,a++,a>=this.maxReplaces)break}}),e}nest(e,n,r={}){let i,o,s;const a=(c,l)=>{const u=this.nestingOptionsSeparator;if(c.indexOf(u)<0)return c;const d=c.split(new RegExp(`${u}[ ]*{`));let f=`{${d[1]}`;c=d[0],f=this.interpolate(f,s);const h=f.match(/'/g),g=f.match(/"/g);(((h==null?void 0:h.length)??0)%2===0&&!g||g.length%2!==0)&&(f=f.replace(/'/g,'"'));try{s=JSON.parse(f),l&&(s={...l,...s})}catch(p){return this.logger.warn(`failed parsing options string in nesting for key ${c}`,p),`${c}${u}${f}`}return s.defaultValue&&s.defaultValue.indexOf(this.prefix)>-1&&delete s.defaultValue,c};for(;i=this.nestingRegexp.exec(e);){let c=[];s={...r},s=s.replace&&!ht(s.replace)?s.replace:s,s.applyPostProcessor=!1,delete s.defaultValue;const l=/{.*}/.test(i[1])?i[1].lastIndexOf("}")+1:i[1].indexOf(this.formatSeparator);if(l!==-1&&(c=i[1].slice(l).split(this.formatSeparator).map(u=>u.trim()).filter(Boolean),i[1]=i[1].slice(0,l)),o=n(a.call(this,i[1].trim(),s),s),o&&i[0]===e&&!ht(o))return o;ht(o)||(o=oN(o)),o||(this.logger.warn(`missed to resolve ${i[1]} for nesting ${e}`),o=""),c.length&&(o=c.reduce((u,d)=>this.format(u,d,r.lng,{...r,interpolationkey:i[1].trim()}),o.trim())),e=e.replace(i[0],o),this.regexp.lastIndex=0}return e}}const i3e=t=>{let e=t.toLowerCase().trim();const n={};if(t.indexOf("(")>-1){const r=t.split("(");e=r[0].toLowerCase().trim();const i=r[1].substring(0,r[1].length-1);e==="currency"&&i.indexOf(":")<0?n.currency||(n.currency=i.trim()):e==="relativetime"&&i.indexOf(":")<0?n.range||(n.range=i.trim()):i.split(";").forEach(s=>{if(s){const[a,...c]=s.split(":"),l=c.join(":").trim().replace(/^'+|'+$/g,""),u=a.trim();n[u]||(n[u]=l),l==="false"&&(n[u]=!1),l==="true"&&(n[u]=!0),isNaN(l)||(n[u]=parseInt(l,10))}})}return{formatName:e,formatOptions:n}},mN=t=>{const e={};return(n,r,i)=>{let o=i;i&&i.interpolationkey&&i.formatParams&&i.formatParams[i.interpolationkey]&&i[i.interpolationkey]&&(o={...o,[i.interpolationkey]:void 0});const s=r+JSON.stringify(o);let a=e[s];return a||(a=t(Cm(r),i),e[s]=a),a(n)}},o3e=t=>(e,n,r)=>t(Cm(n),r)(e);class s3e{constructor(e={}){this.logger=Zs.create("formatter"),this.options=e,this.init(e)}init(e,n={interpolation:{}}){this.formatSeparator=n.interpolation.formatSeparator||",";const r=n.cacheInBuiltFormats?mN:o3e;this.formats={number:r((i,o)=>{const s=new Intl.NumberFormat(i,{...o});return a=>s.format(a)}),currency:r((i,o)=>{const s=new Intl.NumberFormat(i,{...o,style:"currency"});return a=>s.format(a)}),datetime:r((i,o)=>{const s=new Intl.DateTimeFormat(i,{...o});return a=>s.format(a)}),relativetime:r((i,o)=>{const s=new Intl.RelativeTimeFormat(i,{...o});return a=>s.format(a,o.range||"day")}),list:r((i,o)=>{const s=new Intl.ListFormat(i,{...o});return a=>s.format(a)})}}add(e,n){this.formats[e.toLowerCase().trim()]=n}addCached(e,n){this.formats[e.toLowerCase().trim()]=mN(n)}format(e,n,r,i={}){const o=n.split(this.formatSeparator);if(o.length>1&&o[0].indexOf("(")>1&&o[0].indexOf(")")<0&&o.find(a=>a.indexOf(")")>-1)){const a=o.findIndex(c=>c.indexOf(")")>-1);o[0]=[o[0],...o.splice(1,a)].join(this.formatSeparator)}return o.reduce((a,c)=>{var d;const{formatName:l,formatOptions:u}=i3e(c);if(this.formats[l]){let f=a;try{const h=((d=i==null?void 0:i.formatParams)==null?void 0:d[i.interpolationkey])||{},g=h.locale||h.lng||i.locale||i.lng||r;f=this.formats[l](a,g,{...u,...i,...h})}catch(h){this.logger.warn(h)}return f}else this.logger.warn(`there was no format function for ${l}`);return a},e)}}const a3e=(t,e)=>{t.pending[e]!==void 0&&(delete t.pending[e],t.pendingCount--)};class c3e extends u3{constructor(e,n,r,i={}){var o,s;super(),this.backend=e,this.store=n,this.services=r,this.languageUtils=r.languageUtils,this.options=i,this.logger=Zs.create("backendConnector"),this.waitingReads=[],this.maxParallelReads=i.maxParallelReads||10,this.readingCalls=0,this.maxRetries=i.maxRetries>=0?i.maxRetries:5,this.retryTimeout=i.retryTimeout>=1?i.retryTimeout:350,this.state={},this.queue=[],(s=(o=this.backend)==null?void 0:o.init)==null||s.call(o,r,i.backend,i)}queueLoad(e,n,r,i){const o={},s={},a={},c={};return e.forEach(l=>{let u=!0;n.forEach(d=>{const f=`${l}|${d}`;!r.reload&&this.store.hasResourceBundle(l,d)?this.state[f]=2:this.state[f]<0||(this.state[f]===1?s[f]===void 0&&(s[f]=!0):(this.state[f]=1,u=!1,s[f]===void 0&&(s[f]=!0),o[f]===void 0&&(o[f]=!0),c[d]===void 0&&(c[d]=!0)))}),u||(a[l]=!0)}),(Object.keys(o).length||Object.keys(s).length)&&this.queue.push({pending:s,pendingCount:Object.keys(s).length,loaded:{},errors:[],callback:i}),{toLoad:Object.keys(o),pending:Object.keys(s),toLoadLanguages:Object.keys(a),toLoadNamespaces:Object.keys(c)}}loaded(e,n,r){const i=e.split("|"),o=i[0],s=i[1];n&&this.emit("failedLoading",o,s,n),!n&&r&&this.store.addResourceBundle(o,s,r,void 0,void 0,{skipCopy:!0}),this.state[e]=n?-1:2,n&&r&&(this.state[e]=0);const a={};this.queue.forEach(c=>{q2e(c.loaded,[o],s),a3e(c,e),n&&c.errors.push(n),c.pendingCount===0&&!c.done&&(Object.keys(c.loaded).forEach(l=>{a[l]||(a[l]={});const u=c.loaded[l];u.length&&u.forEach(d=>{a[l][d]===void 0&&(a[l][d]=!0)})}),c.done=!0,c.errors.length?c.callback(c.errors):c.callback())}),this.emit("loaded",a),this.queue=this.queue.filter(c=>!c.done)}read(e,n,r,i=0,o=this.retryTimeout,s){if(!e.length)return s(null,{});if(this.readingCalls>=this.maxParallelReads){this.waitingReads.push({lng:e,ns:n,fcName:r,tried:i,wait:o,callback:s});return}this.readingCalls++;const a=(l,u)=>{if(this.readingCalls--,this.waitingReads.length>0){const d=this.waitingReads.shift();this.read(d.lng,d.ns,d.fcName,d.tried,d.wait,d.callback)}if(l&&u&&i<this.maxRetries){setTimeout(()=>{this.read.call(this,e,n,r,i+1,o*2,s)},o);return}s(l,u)},c=this.backend[r].bind(this.backend);if(c.length===2){try{const l=c(e,n);l&&typeof l.then=="function"?l.then(u=>a(null,u)).catch(a):a(null,l)}catch(l){a(l)}return}return c(e,n,a)}prepareLoading(e,n,r={},i){if(!this.backend)return this.logger.warn("No backend was added via i18next.use. Will not load resources."),i&&i();ht(e)&&(e=this.languageUtils.toResolveHierarchy(e)),ht(n)&&(n=[n]);const o=this.queueLoad(e,n,r,i);if(!o.toLoad.length)return o.pending.length||i(),null;o.toLoad.forEach(s=>{this.loadOne(s)})}load(e,n,r){this.prepareLoading(e,n,{},r)}reload(e,n,r){this.prepareLoading(e,n,{reload:!0},r)}loadOne(e,n=""){const r=e.split("|"),i=r[0],o=r[1];this.read(i,o,"read",void 0,void 0,(s,a)=>{s&&this.logger.warn(`${n}loading namespace ${o} for language ${i} failed`,s),!s&&a&&this.logger.log(`${n}loaded namespace ${o} for language ${i}`,a),this.loaded(e,s,a)})}saveMissing(e,n,r,i,o,s={},a=()=>{}){var c,l,u,d,f;if((l=(c=this.services)==null?void 0:c.utils)!=null&&l.hasLoadedNamespace&&!((d=(u=this.services)==null?void 0:u.utils)!=null&&d.hasLoadedNamespace(n))){this.logger.warn(`did not save key "${r}" as the namespace "${n}" was not yet loaded`,"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!");return}if(!(r==null||r==="")){if((f=this.backend)!=null&&f.create){const h={...s,isUpdate:o},g=this.backend.create.bind(this.backend);if(g.length<6)try{let p;g.length===5?p=g(e,n,r,i,h):p=g(e,n,r,i),p&&typeof p.then=="function"?p.then(S=>a(null,S)).catch(a):a(null,p)}catch(p){a(p)}else g(e,n,r,i,a,h)}!e||!e[0]||this.store.addResource(e[0],n,r,i)}}}const yN=()=>({debug:!1,initAsync:!0,ns:["translation"],defaultNS:["translation"],fallbackLng:["dev"],fallbackNS:!1,supportedLngs:!1,nonExplicitSupportedLngs:!1,load:"all",preload:!1,simplifyPluralSuffix:!0,keySeparator:".",nsSeparator:":",pluralSeparator:"_",contextSeparator:"_",partialBundledLanguages:!1,saveMissing:!1,updateMissing:!1,saveMissingTo:"fallback",saveMissingPlurals:!0,missingKeyHandler:!1,missingInterpolationHandler:!1,postProcess:!1,postProcessPassResolved:!1,returnNull:!1,returnEmptyString:!0,returnObjects:!1,joinArrays:!1,returnedObjectHandler:!1,parseMissingKeyHandler:!1,appendNamespaceToMissingKey:!1,appendNamespaceToCIMode:!1,overloadTranslationOptionHandler:t=>{let e={};if(typeof t[1]=="object"&&(e=t[1]),ht(t[1])&&(e.defaultValue=t[1]),ht(t[2])&&(e.tDescription=t[2]),typeof t[2]=="object"||typeof t[3]=="object"){const n=t[3]||t[2];Object.keys(n).forEach(r=>{e[r]=n[r]})}return e},interpolation:{escapeValue:!0,format:t=>t,prefix:"{{",suffix:"}}",formatSeparator:",",unescapePrefix:"-",nestingPrefix:"$t(",nestingSuffix:")",nestingOptionsSeparator:",",maxReplaces:1e3,skipOnVariables:!0},cacheInBuiltFormats:!0}),vN=t=>{var e,n;return ht(t.ns)&&(t.ns=[t.ns]),ht(t.fallbackLng)&&(t.fallbackLng=[t.fallbackLng]),ht(t.fallbackNS)&&(t.fallbackNS=[t.fallbackNS]),((n=(e=t.supportedLngs)==null?void 0:e.indexOf)==null?void 0:n.call(e,"cimode"))<0&&(t.supportedLngs=t.supportedLngs.concat(["cimode"])),typeof t.initImmediate=="boolean"&&(t.initAsync=t.initImmediate),t},$1=()=>{},l3e=t=>{Object.getOwnPropertyNames(Object.getPrototypeOf(t)).forEach(n=>{typeof t[n]=="function"&&(t[n]=t[n].bind(t))})};class Am extends u3{constructor(e={},n){if(super(),this.options=vN(e),this.services={},this.logger=Zs,this.modules={external:[]},l3e(this),n&&!this.isInitialized&&!e.isClone){if(!this.options.initAsync)return this.init(e,n),this;setTimeout(()=>{this.init(e,n)},0)}}init(e={},n){this.isInitializing=!0,typeof e=="function"&&(n=e,e={}),e.defaultNS==null&&e.ns&&(ht(e.ns)?e.defaultNS=e.ns:e.ns.indexOf("translation")<0&&(e.defaultNS=e.ns[0]));const r=yN();this.options={...r,...this.options,...vN(e)},this.options.interpolation={...r.interpolation,...this.options.interpolation},e.keySeparator!==void 0&&(this.options.userDefinedKeySeparator=e.keySeparator),e.nsSeparator!==void 0&&(this.options.userDefinedNsSeparator=e.nsSeparator);const i=l=>l?typeof l=="function"?new l:l:null;if(!this.options.isClone){this.modules.logger?Zs.init(i(this.modules.logger),this.options):Zs.init(null,this.options);let l;this.modules.formatter?l=this.modules.formatter:l=s3e;const u=new fN(this.options);this.store=new lN(this.options.resources,this.options);const d=this.services;d.logger=Zs,d.resourceStore=this.store,d.languageUtils=u,d.pluralResolver=new n3e(u,{prepend:this.options.pluralSeparator,simplifyPluralSuffix:this.options.simplifyPluralSuffix}),this.options.interpolation.format&&this.options.interpolation.format!==r.interpolation.format&&this.logger.deprecate("init: you are still using the legacy format function, please use the new approach: https://www.i18next.com/translation-function/formatting"),l&&(!this.options.interpolation.format||this.options.interpolation.format===r.interpolation.format)&&(d.formatter=i(l),d.formatter.init&&d.formatter.init(d,this.options),this.options.interpolation.format=d.formatter.format.bind(d.formatter)),d.interpolator=new r3e(this.options),d.utils={hasLoadedNamespace:this.hasLoadedNamespace.bind(this)},d.backendConnector=new c3e(i(this.modules.backend),d.resourceStore,d,this.options),d.backendConnector.on("*",(h,...g)=>{this.emit(h,...g)}),this.modules.languageDetector&&(d.languageDetector=i(this.modules.languageDetector),d.languageDetector.init&&d.languageDetector.init(d,this.options.detection,this.options)),this.modules.i18nFormat&&(d.i18nFormat=i(this.modules.i18nFormat),d.i18nFormat.init&&d.i18nFormat.init(this)),this.translator=new fb(this.services,this.options),this.translator.on("*",(h,...g)=>{this.emit(h,...g)}),this.modules.external.forEach(h=>{h.init&&h.init(this)})}if(this.format=this.options.interpolation.format,n||(n=$1),this.options.fallbackLng&&!this.services.languageDetector&&!this.options.lng){const l=this.services.languageUtils.getFallbackCodes(this.options.fallbackLng);l.length>0&&l[0]!=="dev"&&(this.options.lng=l[0])}!this.services.languageDetector&&!this.options.lng&&this.logger.warn("init: no languageDetector is used and no lng is defined"),["getResource","hasResourceBundle","getResourceBundle","getDataByLanguage"].forEach(l=>{this[l]=(...u)=>this.store[l](...u)}),["addResource","addResources","addResourceBundle","removeResourceBundle"].forEach(l=>{this[l]=(...u)=>(this.store[l](...u),this)});const a=kp(),c=()=>{const l=(u,d)=>{this.isInitializing=!1,this.isInitialized&&!this.initializedStoreOnce&&this.logger.warn("init: i18next is already initialized. You should call init just once!"),this.isInitialized=!0,this.options.isClone||this.logger.log("initialized",this.options),this.emit("initialized",this.options),a.resolve(d),n(u,d)};if(this.languages&&!this.isInitialized)return l(null,this.t.bind(this));this.changeLanguage(this.options.lng,l)};return this.options.resources||!this.options.initAsync?c():setTimeout(c,0),a}loadResources(e,n=$1){var o,s;let r=n;const i=ht(e)?e:this.language;if(typeof e=="function"&&(r=e),!this.options.resources||this.options.partialBundledLanguages){if((i==null?void 0:i.toLowerCase())==="cimode"&&(!this.options.preload||this.options.preload.length===0))return r();const a=[],c=l=>{if(!l||l==="cimode")return;this.services.languageUtils.toResolveHierarchy(l).forEach(d=>{d!=="cimode"&&a.indexOf(d)<0&&a.push(d)})};i?c(i):this.services.languageUtils.getFallbackCodes(this.options.fallbackLng).forEach(u=>c(u)),(s=(o=this.options.preload)==null?void 0:o.forEach)==null||s.call(o,l=>c(l)),this.services.backendConnector.load(a,this.options.ns,l=>{!l&&!this.resolvedLanguage&&this.language&&this.setResolvedLanguage(this.language),r(l)})}else r(null)}reloadResources(e,n,r){const i=kp();return typeof e=="function"&&(r=e,e=void 0),typeof n=="function"&&(r=n,n=void 0),e||(e=this.languages),n||(n=this.options.ns),r||(r=$1),this.services.backendConnector.reload(e,n,o=>{i.resolve(),r(o)}),i}use(e){if(!e)throw new Error("You are passing an undefined module! Please check the object you are passing to i18next.use()");if(!e.type)throw new Error("You are passing a wrong module! Please check the object you are passing to i18next.use()");return e.type==="backend"&&(this.modules.backend=e),(e.type==="logger"||e.log&&e.warn&&e.error)&&(this.modules.logger=e),e.type==="languageDetector"&&(this.modules.languageDetector=e),e.type==="i18nFormat"&&(this.modules.i18nFormat=e),e.type==="postProcessor"&&zW.addPostProcessor(e),e.type==="formatter"&&(this.modules.formatter=e),e.type==="3rdParty"&&this.modules.external.push(e),this}setResolvedLanguage(e){if(!(!e||!this.languages)&&!(["cimode","dev"].indexOf(e)>-1)){for(let n=0;n<this.languages.length;n++){const r=this.languages[n];if(!(["cimode","dev"].indexOf(r)>-1)&&this.store.hasLanguageSomeTranslations(r)){this.resolvedLanguage=r;break}}!this.resolvedLanguage&&this.languages.indexOf(e)<0&&this.store.hasLanguageSomeTranslations(e)&&(this.resolvedLanguage=e,this.languages.unshift(e))}}changeLanguage(e,n){this.isLanguageChangingTo=e;const r=kp();this.emit("languageChanging",e);const i=a=>{this.language=a,this.languages=this.services.languageUtils.toResolveHierarchy(a),this.resolvedLanguage=void 0,this.setResolvedLanguage(a)},o=(a,c)=>{c?this.isLanguageChangingTo===e&&(i(c),this.translator.changeLanguage(c),this.isLanguageChangingTo=void 0,this.emit("languageChanged",c),this.logger.log("languageChanged",c)):this.isLanguageChangingTo=void 0,r.resolve((...l)=>this.t(...l)),n&&n(a,(...l)=>this.t(...l))},s=a=>{var u,d;!e&&!a&&this.services.languageDetector&&(a=[]);const c=ht(a)?a:a&&a[0],l=this.store.hasLanguageSomeTranslations(c)?c:this.services.languageUtils.getBestMatchFromCodes(ht(a)?[a]:a);l&&(this.language||i(l),this.translator.language||this.translator.changeLanguage(l),(d=(u=this.services.languageDetector)==null?void 0:u.cacheUserLanguage)==null||d.call(u,l)),this.loadResources(l,f=>{o(f,l)})};return!e&&this.services.languageDetector&&!this.services.languageDetector.async?s(this.services.languageDetector.detect()):!e&&this.services.languageDetector&&this.services.languageDetector.async?this.services.languageDetector.detect.length===0?this.services.languageDetector.detect().then(s):this.services.languageDetector.detect(s):s(e),r}getFixedT(e,n,r){const i=(o,s,...a)=>{let c;typeof s!="object"?c=this.options.overloadTranslationOptionHandler([o,s].concat(a)):c={...s},c.lng=c.lng||i.lng,c.lngs=c.lngs||i.lngs,c.ns=c.ns||i.ns,c.keyPrefix!==""&&(c.keyPrefix=c.keyPrefix||r||i.keyPrefix);const l=this.options.keySeparator||".";let u;return c.keyPrefix&&Array.isArray(o)?u=o.map(d=>(typeof d=="function"&&(d=$_(d,{...this.options,...s})),`${c.keyPrefix}${l}${d}`)):(typeof o=="function"&&(o=$_(o,{...this.options,...s})),u=c.keyPrefix?`${c.keyPrefix}${l}${o}`:o),this.t(u,c)};return ht(e)?i.lng=e:i.lngs=e,i.ns=n,i.keyPrefix=r,i}t(...e){var n;return(n=this.translator)==null?void 0:n.translate(...e)}exists(...e){var n;return(n=this.translator)==null?void 0:n.exists(...e)}setDefaultNamespace(e){this.options.defaultNS=e}hasLoadedNamespace(e,n={}){if(!this.isInitialized)return this.logger.warn("hasLoadedNamespace: i18next was not initialized",this.languages),!1;if(!this.languages||!this.languages.length)return this.logger.warn("hasLoadedNamespace: i18n.languages were undefined or empty",this.languages),!1;const r=n.lng||this.resolvedLanguage||this.languages[0],i=this.options?this.options.fallbackLng:!1,o=this.languages[this.languages.length-1];if(r.toLowerCase()==="cimode")return!0;const s=(a,c)=>{const l=this.services.backendConnector.state[`${a}|${c}`];return l===-1||l===0||l===2};if(n.precheck){const a=n.precheck(this,s);if(a!==void 0)return a}return!!(this.hasResourceBundle(r,e)||!this.services.backendConnector.backend||this.options.resources&&!this.options.partialBundledLanguages||s(r,e)&&(!i||s(o,e)))}loadNamespaces(e,n){const r=kp();return this.options.ns?(ht(e)&&(e=[e]),e.forEach(i=>{this.options.ns.indexOf(i)<0&&this.options.ns.push(i)}),this.loadResources(i=>{r.resolve(),n&&n(i)}),r):(n&&n(),Promise.resolve())}loadLanguages(e,n){const r=kp();ht(e)&&(e=[e]);const i=this.options.preload||[],o=e.filter(s=>i.indexOf(s)<0&&this.services.languageUtils.isSupportedCode(s));return o.length?(this.options.preload=i.concat(o),this.loadResources(s=>{r.resolve(),n&&n(s)}),r):(n&&n(),Promise.resolve())}dir(e){var i,o;if(e||(e=this.resolvedLanguage||(((i=this.languages)==null?void 0:i.length)>0?this.languages[0]:this.language)),!e)return"rtl";try{const s=new Intl.Locale(e);if(s&&s.getTextInfo){const a=s.getTextInfo();if(a&&a.direction)return a.direction}}catch{}const n=["ar","shu","sqr","ssh","xaa","yhd","yud","aao","abh","abv","acm","acq","acw","acx","acy","adf","ads","aeb","aec","afb","ajp","apc","apd","arb","arq","ars","ary","arz","auz","avl","ayh","ayl","ayn","ayp","bbz","pga","he","iw","ps","pbt","pbu","pst","prp","prd","ug","ur","ydd","yds","yih","ji","yi","hbo","men","xmn","fa","jpr","peo","pes","prs","dv","sam","ckb"],r=((o=this.services)==null?void 0:o.languageUtils)||new fN(yN());return e.toLowerCase().indexOf("-latn")>1?"ltr":n.indexOf(r.getLanguagePartFromCode(e))>-1||e.toLowerCase().indexOf("-arab")>1?"rtl":"ltr"}static createInstance(e={},n){return new Am(e,n)}cloneInstance(e={},n=$1){const r=e.forkResourceStore;r&&delete e.forkResourceStore;const i={...this.options,...e,isClone:!0},o=new Am(i);if((e.debug!==void 0||e.prefix!==void 0)&&(o.logger=o.logger.clone(e)),["store","services","language"].forEach(a=>{o[a]=this[a]}),o.services={...this.services},o.services.utils={hasLoadedNamespace:o.hasLoadedNamespace.bind(o)},r){const a=Object.keys(this.store.data).reduce((c,l)=>(c[l]={...this.store.data[l]},c[l]=Object.keys(c[l]).reduce((u,d)=>(u[d]={...c[l][d]},u),c[l]),c),{});o.store=new lN(a,i),o.services.resourceStore=o.store}return o.translator=new fb(o.services,i),o.translator.on("*",(a,...c)=>{o.emit(a,...c)}),o.init(i,n),o.translator.options=i,o.translator.backendConnector.services.utils={hasLoadedNamespace:o.hasLoadedNamespace.bind(o)},o}toJSON(){return{options:this.options,store:this.store,language:this.language,languages:this.languages,resolvedLanguage:this.resolvedLanguage}}}const Br=Am.createInstance();Br.createInstance=Am.createInstance;Br.createInstance;Br.dir;Br.init;Br.loadResources;Br.reloadResources;Br.use;Br.changeLanguage;Br.getFixedT;Br.t;Br.exists;Br.setDefaultNamespace;Br.hasLoadedNamespace;Br.loadNamespaces;Br.loadLanguages;var WW={"adapter-loader.message":"Verify your {{adapter}} account to continue","adapter-loader.message1":"Verify your {{adapter}}","adapter-loader.message2":"account to continue",allChains:"All Chains","connect-wallet.more-wallets":"More Wallets",connectYourWallet:"Connect your wallet","errors-invalid-email":"Invalid Email","errors-invalid-number":"Invalid Phone Number","errors-invalid-number-email":"Invalid Email or Phone Number","errors-required":"Required","external.all-wallets":"All Wallets","external.back":"Back","external.connect":"Continue with a wallet","external.connect-wallet":"Connect Wallet","external.continue":"Continue with external wallet","external.continue-custom":"Continue with {{wallet}}","external.dont-have":"Don't have","external.get":"Get","external.get-wallet":"Get Wallet","external.install-browser-extension":"Install {{browser}} extension","external.install-mobile-app":"Install {{os}} app","external.installed":"Installed","external.no-wallets-found":"No wallets found","external.search-subtext":"Try search instead","external.search-text":"Don't see your wallet?","external.search-wallet":"Search through {{count}} wallets...","external.select-chain":"Select Chain","external.select-chain-description":"This {{wallet}} wallet supports multiple chains. Select which chain you'd like to connect to","external.title":"External Wallet","external.walletconnect-connect":"Connect","external.walletconnect-copy":"Scan the QR code with WalletConnect supported wallet or click to copy link","external.walletconnect-subtitle":"Scan the QR code with a WalletConnect-compatible wallet","footer.and":"and","footer.by-signing-in":"By signing in, you agree to our","footer.message":"Self-custodial login by","footer.message-new":"Self-custody via","footer.policy":"Privacy Policy","footer.privacy-policy":"Privacy Policy","footer.terms":"Terms of Use","footer.terms-of-service":"Terms of Service","footer.terms-service":"Terms of Service","footer.version":"Version",getWallet:"Get Wallet","header-subtitle":"Select one of the following options to continue","header-subtitle-name":"Your {{appName}} wallet with one click","header-subtitle-new":"Your blockchain wallet with one click","header-title":"Sign in","header-tooltip-desc":"The wallet serves as an account to store and manage your digital assets on the blockchain.","header-tooltip-title":"Wallet","network.add-request":"This site is requesting to add a network","network.cancel":"Cancel","network.from":"From","network.proceed":"Proceed","network.switch-request":"This site is requesting to switch networks","network.to":"To","otp.email-subtext":"Please enter the 6-digit verification code","otp.email-subtext-example":"that was sent to your email {{email}}","otp.email-title":"Email verification","otp.mobile-subtext":"Enter the OTP sent to","otp.mobile-title":"OTP verification","otp.success":"You are connected to your account!","passkey.add":"Add Passkey","passkey.haveExisting":"Have an existing passkey?","passkey.learn-more":"Learn more","passkey.or":"or","passkey.register-desc":"With passkeys, you can verify your identity through your face, fingerprint, or security keys.","passkey.register-title":"Register Passkey","passkey.use":"I have a passkey","passwordless.title":"Continue with {{title}}","popup.phone-body":"Your country code will be detected automatically, but if you're using a phone number from a different country, you'll need to enter the correct country code manually.","popup.phone-header":"Phone number and country code","post-loading.connected":"You are connected with your account","post-loading.something-wrong":"Something went wrong!",resendCode:"Resend Code",resendTimer:" Resend in {{timer}} seconds","social.continue":"Continue with","social.continueCustom":"Continue with {{adapter}}","social.email":"Email","social.email-continue":"Continue with Email","social.email-new":"name@example.com","social.passwordless-cta":"Continue","social.passwordless-login":"Login","social.passwordless-title":"Email/Phone","social.phone":"Phone","social.policy":"We do not store any data related to your social logins.","social.sign-in":"Sign in","social.sms":"Mobile","social.sms-continue":"Continue with Mobile","social.sms-invalid-number":"Invalid phone number","social.sms-placeholder-text":"E.g.:","social.view-less":"View less","social.view-less-socials":"View less socials","social.view-more":"View more","social.view-more-socials":"View more socials"},KW={"error-invalid-link":"Invalid verification link or link expired","error-invalid-origin":"Something went wrong, error code: E002","error-invalid-otp":"Invalid OTP, please try again","error-invalid-params":"Missing or Invalid Parameters.","error-max-retry-limit-reached":"You have reached the limit for wrong attempts. Please restart the flow again to complete verification.","error-new-link-generated-heading":"New verification link generated","error-no-mail-generated":"No mail generated. Please initiate the passwordless flow first.","error-no-sms-generated":"No OTP generated. Please initiate the passwordless flow first.","error-otp-expired":"OTP Expired","error-plan-limit-reached":"E411. Limit Reached","error-recaptcha-verification-failed":"Captcha verification failed. Please try again.","error-sending-sms-failed":"There was an error sending an sms. Please try again.","error-invalid-test-account":"Invalid test account","something-wrong-error":"Something went wrong"},qW={modal:WW,passwordless:KW};const u3e=Object.freeze(Object.defineProperty({__proto__:null,default:qW,modal:WW,passwordless:KW},Symbol.toStringTag,{value:"Module"})),Pt=Br.createInstance();Pt.use(j2e).init({resources:{en:{translation:qW}},lng:"en",fallbackLng:"en",interpolation:{escapeValue:!1},debug:!1,react:{useSuspense:!0}});function wN({isShown:t,onClose:e,children:n,uiConfig:r}){const{borderRadiusType:i="large"}=r;return te.jsxs(te.Fragment,{children:[te.jsx("div",{className:At("w3a--bottom-sheet-bg w3a--fixed w3a--left-0 w3a--top-0 w3a--size-full w3a--transition-opacity w3a--duration-300",{"w3a--rounded-[30px]":i==="large","w3a--rounded-2xl":i==="medium","w3a--rounded-none":i==="small"}),onClick:e,"aria-hidden":"true",role:"button"}),te.jsxs("div",{className:At(`w3a--fixed w3a--bottom-2 w3a--left-2 w3a--mx-auto w3a--flex w3a--w-[96%] w3a--flex-col 
      w3a--gap-y-2 w3a--border w3a--border-app-gray-100 w3a--bg-app-white w3a--p-4 w3a--shadow-lg w3a--transition-transform w3a--duration-500 
      w3a--ease-out dark:w3a--border-app-gray-600 dark:w3a--bg-app-dark-surface-main
      ${t?"w3a--translate-y-0 w3a--delay-700":"w3a--translate-y-full"}`,{"w3a--rounded-[30px]":i==="large","w3a--rounded-2xl":i==="medium","w3a--rounded-none":i==="small"}),children:[te.jsx("div",{className:"w3a--absolute w3a--right-4 w3a--top-[16px] w3a--z-10 w3a--cursor-pointer",children:te.jsx("svg",{width:"13",height:"13",viewBox:"0 0 13 13",fill:"none",xmlns:"http://www.w3.org/2000/svg",onClick:e,className:"w3a--text-app-gray-500 hover:w3a--text-app-gray-900 dark:w3a--text-app-gray-200 dark:hover:w3a--text-app-white",children:te.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M0.292787 1.29299C0.480314 1.10552 0.734622 1.0002 0.999786 1.0002C1.26495 1.0002 1.51926 1.10552 1.70679 1.29299L5.99979 5.58599L10.2928 1.29299C10.385 1.19748 10.4954 1.1213 10.6174 1.06889C10.7394 1.01648 10.8706 0.988893 11.0034 0.987739C11.1362 0.986585 11.2678 1.01189 11.3907 1.06217C11.5136 1.11245 11.6253 1.1867 11.7192 1.28059C11.8131 1.37449 11.8873 1.48614 11.9376 1.60904C11.9879 1.73193 12.0132 1.86361 12.012 1.99639C12.0109 2.12917 11.9833 2.26039 11.9309 2.38239C11.8785 2.5044 11.8023 2.61474 11.7068 2.70699L7.41379 6.99999L11.7068 11.293C11.8889 11.4816 11.9897 11.7342 11.9875 11.9964C11.9852 12.2586 11.88 12.5094 11.6946 12.6948C11.5092 12.8802 11.2584 12.9854 10.9962 12.9877C10.734 12.9899 10.4814 12.8891 10.2928 12.707L5.99979 8.41399L1.70679 12.707C1.51818 12.8891 1.26558 12.9899 1.00339 12.9877C0.741188 12.9854 0.490376 12.8802 0.304968 12.6948C0.11956 12.5094 0.0143906 12.2586 0.0121121 11.9964C0.00983372 11.7342 0.110629 11.4816 0.292787 11.293L4.58579 6.99999L0.292787 2.70699C0.105316 2.51946 0 2.26515 0 1.99999C0 1.73483 0.105316 1.48052 0.292787 1.29299V1.29299Z",fill:"currentColor"})})}),n]})]})}const K8=le.createContext({analytics:void 0});function d3e(t){const{isDark:e,isLoading:n,selectedChain:r,setSelectedChain:i,chainNamespace:o}=t,[s]=ei(void 0,{i18n:Pt}),a=le.useMemo(()=>{const c=[{id:"all",name:"modal.allChains",icon:""}];for(const l of o)(l===mt.EIP155||l===mt.SOLANA)&&c.push({id:l,name:l===mt.EIP155?"EVM":l,icon:l===mt.EIP155?"ethereum":l});return c},[o]);return n?te.jsx("div",{className:"w3a--flex w3a--items-center w3a--justify-between w3a--gap-x-2",children:Array.from({length:a.length}).map((c,l)=>te.jsx("div",{className:"w3a--h-12 w3a--w-[100px] w3a--animate-pulse w3a--rounded-2xl w3a--bg-app-gray-200 dark:w3a--bg-app-gray-700"},`chain-loader-${l}`))}):te.jsx("div",{className:"w3a--flex w3a--items-center w3a--justify-items-start w3a--gap-x-4",children:a.map(c=>te.jsxs("button",{type:"button",className:At("w3a--flex w3a--w-[104px] w3a--items-center w3a--justify-center w3a--gap-x-1 w3a--text-xs w3a--font-medium w3a--px-4 w3a--py-3 w3a--text-app-gray-500 dark:w3a--text-app-gray-300 hover:w3a--bg-app-gray-200 dark:hover:w3a--bg-app-gray-700 w3a--h-12 w3a--rounded-2xl w3a--border w3a--border-transparent",{"w3a--bg-app-gray-100 dark:w3a--bg-app-gray-800 w3a--border-app-gray-200 dark:w3a--border-app-gray-700 w3a--text-app-gray-900 dark:w3a--text-app-white hover:!w3a--bg-app-gray-100 dark:hover:!w3a--bg-app-gray-800":r===c.id}),onClick:()=>i(c.id),children:[c.icon&&te.jsx("img",{src:xi(e?`${c.icon}-dark`:`${c.icon}-light`),alt:c.name,className:"w3a--size-5 w3a--object-contain"}),te.jsx("span",{className:"first-letter:w3a--capitalize",children:s(c.name)})]},c.id))})}function VW(t){const{onBackClick:e,currentPage:n,selectedButton:r}=t,[i]=ei(void 0,{i18n:Pt}),o=()=>{e&&e()};return te.jsxs("div",{className:"w3a--flex w3a--items-center w3a--justify-between",children:[te.jsx("button",{type:"button",className:"w3a--z-20 w3a--flex w3a--size-5 w3a--cursor-pointer w3a--items-center w3a--justify-center w3a--rounded-full",onClick:o,children:te.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 20 20",className:"w3a--text-app-gray-500 hover:w3a--text-app-gray-900 dark:w3a--text-app-gray-200 dark:hover:w3a--text-app-white",children:te.jsx("path",{fill:"currentColor",fillRule:"evenodd",d:"M9.707 16.707a1 1 0 0 1-1.414 0l-6-6a1 1 0 0 1 0-1.414l6-6a1 1 0 0 1 1.414 1.414L5.414 9H17a1 1 0 1 1 0 2H5.414l4.293 4.293a1 1 0 0 1 0 1.414",clipRule:"evenodd"})})}),te.jsx("p",{className:"w3a--text-base w3a--font-medium w3a--text-app-gray-900 dark:w3a--text-app-white",children:n===Il.SELECTED_WALLET?r==null?void 0:r.displayName:n===Il.CONNECT_WALLET?i("modal.connectYourWallet"):n}),te.jsx("div",{className:"w3a--z-[-1] w3a--size-5"})]})}const Ih={SOCIAL:"social",WALLET:"wallet"};function To(t){const{id:e="",isButton:n=!1,imageData:r="",height:i="auto",width:o="auto",extension:s="svg",darkImageId:a="",darkHoverImageId:c="",imageId:l,hoverImageId:u,fallbackImageId:d}=t,{isDark:f}=le.useContext(l3),h=le.useMemo(()=>f&&a?a:l,[f,a,l]),g=le.useMemo(()=>f&&c?c:u,[f,c,u]);return n?r?te.jsx("img",{id:e,src:r,height:i,width:o,alt:u,className:At("w3a--object-contain",`w3a--h-${i} w3a--w-${o}`)}):te.jsx("img",{id:e,src:`https://images.web3auth.io/${g}.${s}`,height:i,width:o,alt:u,className:At("w3a--rounded w3a--object-contain",`w3a--h-${i} w3a--w-${o}`)}):r?te.jsx("img",{id:e,src:r,height:i,width:o,alt:l,className:At("w3a--object-contain",`w3a--h-${i} w3a--w-${o}`),onError:({currentTarget:p})=>{if(d){const S=p;S.onerror=null,S.src=`https://images.web3auth.io/${d}.svg`}}}):te.jsx("img",{id:e,src:`https://images.web3auth.io/${h}.${s}`,height:i,width:o,alt:l,className:At("w3a--rounded w3a--object-contain",`w3a--h-${i} w3a--w-${o}`),onError:({currentTarget:p})=>{if(d){const S=p;S.onerror=null,S.src=`https://images.web3auth.io/${d}.svg`}}})}function f3e(t,e,n){const r=t===Be.TWITTER?`login-X${e?"-light":"-dark"}`:`login-${t}${e?"-light":"-dark"}`,i=t===Be.APPLE||t===Be.GITHUB||t===Be.TWITTER?r:`login-${t}-active`;return n?te.jsx(To,{width:"20",imageId:i,hoverImageId:i,isButton:!0}):te.jsx(To,{width:"20",imageId:r,hoverImageId:i})}function h3e(t){const{text:e,showIcon:n,showText:r,method:i,isDark:o,isPrimaryBtn:s,onClick:a,children:c,btnStyle:l,buttonRadius:u="pill"}=t;return te.jsxs("button",{type:"button",onClick:d=>a&&a(d),className:At("w3a--btn",l,{"w3a--rounded-full":u==="pill","w3a--rounded-lg":u==="rounded","w3a--rounded-none":u==="square"}),children:[n&&f3e(i,o,s),r&&te.jsx("p",{className:"w3a--text-sm w3a--font-normal w3a--text-app-gray-900 dark:w3a--text-app-white",children:e}),c]})}var GW={exports:{}};/*!
	Copyright (c) 2018 Jed Watson.
	Licensed under the MIT License (MIT), see
	http://jedwatson.github.io/classnames
*/(function(t){(function(){var e={}.hasOwnProperty;function n(){for(var o="",s=0;s<arguments.length;s++){var a=arguments[s];a&&(o=i(o,r(a)))}return o}function r(o){if(typeof o=="string"||typeof o=="number")return o;if(typeof o!="object")return"";if(Array.isArray(o))return n.apply(null,o);if(o.toString!==Object.prototype.toString&&!o.toString.toString().includes("[native code]"))return o.toString();var s="";for(var a in o)e.call(o,a)&&o[a]&&(s=i(s,a));return s}function i(o,s){return s?o?o+" "+s:o+s:o}t.exports?(n.default=n,t.exports=n):window.classNames=n})()})(GW);var p3e=GW.exports;const g3e=Bo(p3e);function m3e(t){const[e]=ei(void 0,{i18n:Pt}),{deviceDetails:n,button:r,walletConnectUri:i,onClick:o,label:s,buttonRadius:a}=t,c=le.useContext(l3),l=le.useMemo(()=>n.platform!=="desktop"&&r.href&&r.hasWalletConnect&&!r.isInstalled,[n,r]),u=le.useMemo(()=>r.href?_2e({uri:i,link:r.href}):i,[r,i]),d=()=>{u&&l?window.open(u,"_blank"):o&&o()};return te.jsxs("button",{type:"button",className:g3e(`w3a--group w3a--relative w3a--overflow-hidden w3a--flex w3a--w-full w3a--items-center w3a--justify-between w3a--bg-app-gray-50 w3a--p-3 hover:w3a--bg-app-gray-200 
        hover:w3a--text-app-gray-900 dark:w3a--bg-app-gray-800 dark:hover:w3a--bg-app-gray-600 active:w3a--scale-95 w3a--transition-all w3a--duration-150`,{"w3a--rounded-full":a==="pill","w3a--rounded-lg":a==="rounded","w3a--rounded-none":a==="square"}),onClick:d,children:[te.jsxs("div",{className:"w3a--flex w3a--items-center w3a--gap-x-2",children:[te.jsx("figure",{className:"w3a--size-5",children:te.jsx(To,{imageData:r.icon,imageId:`login-${r.name}`,hoverImageId:`login-${r.name}`,fallbackImageId:"wallet",height:"24",width:"24",isButton:!0,extension:r.imgExtension||"webp"})}),te.jsx("p",{className:"w3a--max-w-[180px] w3a--truncate w3a--text-base w3a--font-normal w3a--text-app-gray-700 dark:w3a--text-app-white",children:s})]}),r.hasInjectedWallet&&te.jsx("span",{className:"w3a--absolute w3a--right-4 w3a--top-1/2 w3a--flex w3a--w-auto -w3a--translate-y-1/2 w3a--items-center w3a--rounded-md w3a--bg-app-primary-100 w3a--px-2 w3a--py-1 w3a--text-xs w3a--font-medium w3a--text-app-primary-800 w3a--transition-all w3a--duration-300 group-hover:w3a--translate-x-6 group-hover:w3a--opacity-0  dark:w3a--border dark:w3a--border-app-primary-400 dark:w3a--bg-transparent dark:w3a--text-app-primary-400",children:e("modal.external.installed")}),te.jsx("img",{id:"injected-wallet-arrow",className:"w3a--absolute w3a--right-4 w3a--top-1/2 -w3a--translate-x-10 -w3a--translate-y-1/2 w3a--opacity-0 w3a--transition-all w3a--duration-300 group-hover:w3a--translate-x-0 group-hover:w3a--opacity-100",src:xi(c?"chevron-right-light":"chevron-right-dark"),alt:"arrow"})]})}function $v(t){const{type:e,props:n}=t,r=n,i=n,{text:o,showIcon:s,showText:a,method:c,isDark:l,isPrimaryBtn:u,onClick:d,children:f,btnStyle:h,buttonRadius:g}=r,{label:p,onClick:S,button:y,deviceDetails:b,walletConnectUri:_,buttonRadius:N}=i;return te.jsxs(te.Fragment,{children:[e===Ih.SOCIAL&&te.jsx(h3e,{text:o,showIcon:s,showText:a,method:c,isDark:l,isPrimaryBtn:u,onClick:d,btnStyle:h,buttonRadius:g,children:f}),e===Ih.WALLET&&te.jsx(m3e,{label:p,walletConnectUri:_,onClick:S,button:y,deviceDetails:b,buttonRadius:N})]})}function y3e(){const[t]=ei(void 0,{i18n:Pt});return te.jsx("div",{className:"w3a--flex w3a--w-full w3a--items-center w3a--justify-center w3a--py-6 w3a--text-center w3a--text-app-gray-400 dark:w3a--text-app-gray-500",children:t("modal.external.no-wallets-found")})}function v3e(t){const{externalButtons:e,isLoading:n,handleWalletClick:r,deviceDetails:i,walletConnectUri:o,buttonRadius:s}=t;return n?te.jsx("div",{className:"w3a--flex w3a--flex-col w3a--gap-y-2",children:Array.from({length:6}).map((a,c)=>te.jsx("div",{className:At("w3a--h-12 w3a--w-full w3a--animate-pulse w3a--rounded-2xl w3a--bg-app-gray-200 dark:w3a--bg-app-gray-700",{"w3a--rounded-full":s==="pill","w3a--rounded-lg":s==="rounded","w3a--rounded-none":s==="square"})},`loader-${c}`))}):te.jsx("div",{className:"w3a--flex w3a--flex-col w3a--gap-y-2 w3a--pr-1.5",children:e.map(a=>te.jsx($v,{type:Ih.WALLET,props:{label:a.displayName,onClick:()=>r(a),button:a,deviceDetails:i,walletConnectUri:o,buttonRadius:s}},a.name))})}function w3e(t){const{totalExternalWalletsCount:e,initialWalletCount:n,handleMoreWallets:r,isLoading:i,isDark:o,buttonRadius:s}=t,[a]=ei(void 0,{i18n:Pt}),c=()=>{r&&r()};return i&&n<e?te.jsx("div",{className:At("w3a--h-12 w3a--w-full w3a--animate-pulse w3a--bg-app-gray-200 dark:w3a--bg-app-gray-700",{"w3a--rounded-full":s==="pill","w3a--rounded-lg":s==="rounded","w3a--rounded-none":s==="square"})}):te.jsxs("button",{type:"button",className:At("w3a--flex w3a--items-center w3a--justify-start w3a--gap-x-2 w3a--bg-app-gray-50 w3a--p-3 hover:w3a--bg-app-gray-200 dark:w3a--bg-app-gray-800 dark:hover:w3a--bg-app-gray-600 active:w3a--scale-95 w3a--transition-all w3a--duration-150 w3a--mr-2.5",{"w3a--rounded-full":s==="pill","w3a--rounded-lg":s==="rounded","w3a--rounded-none":s==="square"}),onClick:c,children:[te.jsx("img",{src:xi(o?"view-dark":"view-light"),alt:"view",height:"24",width:"24"}),te.jsx("p",{className:"w3a--text-base w3a--font-normal w3a--text-app-gray-700 dark:w3a--text-app-white",children:a("modal.connect-wallet.more-wallets")}),te.jsx("span",{className:"w3a--inline-flex w3a--items-center w3a--rounded-full w3a--bg-app-primary-100 w3a--px-2 w3a--py-1 w3a--text-xs w3a--font-medium w3a--text-app-primary-800  dark:w3a--border dark:w3a--border-app-primary-400 dark:w3a--bg-transparent dark:w3a--text-app-primary-400",children:e-n})]})}function b3e(t){const{externalButtons:e,isLoading:n,totalExternalWalletsCount:r,initialWalletCount:i,handleWalletClick:o,handleMoreWallets:s,isDark:a,deviceDetails:c,walletConnectUri:l,buttonRadius:u}=t,[d,f]=le.useState(!0),h=()=>{f(!1),s()};return te.jsxs(te.Fragment,{children:[te.jsx("ul",{className:At("w3a--overflow-y-auto w3a--flex w3a--flex-col w3a--gap-y-2 w3a--h-[280px] w3a--social-container w3a--pr-2.5",{"w3a--h-[328px]":!d}),children:e.length===0?te.jsx(y3e,{}):te.jsx(v3e,{externalButtons:e,isLoading:n,handleWalletClick:o,deviceDetails:c,walletConnectUri:l,buttonRadius:u})}),d&&r>15&&!n&&i<r&&te.jsx(w3e,{totalExternalWalletsCount:r,initialWalletCount:i,handleMoreWallets:h,isLoading:n,isDark:a,buttonRadius:u})]})}var q8={},hb={exports:{}};hb.exports;(function(t,e){var n=200,r="__lodash_hash_undefined__",i=1,o=2,s=9007199254740991,a="[object Arguments]",c="[object Array]",l="[object AsyncFunction]",u="[object Boolean]",d="[object Date]",f="[object Error]",h="[object Function]",g="[object GeneratorFunction]",p="[object Map]",S="[object Number]",y="[object Null]",b="[object Object]",_="[object Promise]",N="[object Proxy]",O="[object RegExp]",$="[object Set]",j="[object String]",k="[object Symbol]",T="[object Undefined]",L="[object WeakMap]",P="[object ArrayBuffer]",m="[object DataView]",w="[object Float32Array]",A="[object Float64Array]",v="[object Int8Array]",I="[object Int16Array]",M="[object Int32Array]",E="[object Uint8Array]",C="[object Uint8ClampedArray]",x="[object Uint16Array]",R="[object Uint32Array]",D=/[\\^$.*+?()[\]{}|]/g,B=/^\[object .+?Constructor\]$/,z=/^(?:0|[1-9]\d*)$/,H={};H[w]=H[A]=H[v]=H[I]=H[M]=H[E]=H[C]=H[x]=H[R]=!0,H[a]=H[c]=H[P]=H[u]=H[m]=H[d]=H[f]=H[h]=H[p]=H[S]=H[b]=H[O]=H[$]=H[j]=H[L]=!1;var W=typeof globalThis=="object"&&globalThis&&globalThis.Object===Object&&globalThis,G=typeof self=="object"&&self&&self.Object===Object&&self,V=W||G||Function("return this")(),J=e&&!e.nodeType&&e,Y=J&&!0&&t&&!t.nodeType&&t,ee=Y&&Y.exports===J,ne=ee&&W.process,K=function(){try{return ne&&ne.binding&&ne.binding("util")}catch{}}(),Q=K&&K.isTypedArray;function ie(oe,de){for(var Ie=-1,Ve=oe==null?0:oe.length,rn=0,wt=[];++Ie<Ve;){var En=oe[Ie];de(En,Ie,oe)&&(wt[rn++]=En)}return wt}function ce(oe,de){for(var Ie=-1,Ve=de.length,rn=oe.length;++Ie<Ve;)oe[rn+Ie]=de[Ie];return oe}function he(oe,de){for(var Ie=-1,Ve=oe==null?0:oe.length;++Ie<Ve;)if(de(oe[Ie],Ie,oe))return!0;return!1}function pe(oe,de){for(var Ie=-1,Ve=Array(oe);++Ie<oe;)Ve[Ie]=de(Ie);return Ve}function Ee(oe){return function(de){return oe(de)}}function Le(oe,de){return oe.has(de)}function De(oe,de){return oe==null?void 0:oe[de]}function we(oe){var de=-1,Ie=Array(oe.size);return oe.forEach(function(Ve,rn){Ie[++de]=[rn,Ve]}),Ie}function Je(oe,de){return function(Ie){return oe(de(Ie))}}function He(oe){var de=-1,Ie=Array(oe.size);return oe.forEach(function(Ve){Ie[++de]=Ve}),Ie}var Xe=Array.prototype,ze=Function.prototype,q=Object.prototype,F=V["__core-js_shared__"],U=ze.toString,Z=q.hasOwnProperty,se=function(){var oe=/[^.]+$/.exec(F&&F.keys&&F.keys.IE_PROTO||"");return oe?"Symbol(src)_1."+oe:""}(),fe=q.toString,ge=RegExp("^"+U.call(Z).replace(D,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),je=ee?V.Buffer:void 0,yt=V.Symbol,Ke=V.Uint8Array,at=q.propertyIsEnumerable,ft=Xe.splice,vt=yt?yt.toStringTag:void 0,jt=Object.getOwnPropertySymbols,ti=je?je.isBuffer:void 0,Ne=Je(Object.keys,Object),ct=sf(V,"DataView"),Tt=sf(V,"Map"),ut=sf(V,"Promise"),it=sf(V,"Set"),X=sf(V,"WeakMap"),re=sf(Object,"create"),_e=Su(ct),Oe=Su(Tt),Re=Su(ut),dt=Su(it),fn=Su(X),Dt=yt?yt.prototype:void 0,kt=Dt?Dt.valueOf:void 0;function ni(oe){var de=-1,Ie=oe==null?0:oe.length;for(this.clear();++de<Ie;){var Ve=oe[de];this.set(Ve[0],Ve[1])}}function an(){this.__data__=re?re(null):{},this.size=0}function nn(oe){var de=this.has(oe)&&delete this.__data__[oe];return this.size-=de?1:0,de}function xu(oe){var de=this.__data__;if(re){var Ie=de[oe];return Ie===r?void 0:Ie}return Z.call(de,oe)?de[oe]:void 0}function Yt(oe){var de=this.__data__;return re?de[oe]!==void 0:Z.call(de,oe)}function Jt(oe,de){var Ie=this.__data__;return this.size+=this.has(oe)?0:1,Ie[oe]=re&&de===void 0?r:de,this}ni.prototype.clear=an,ni.prototype.delete=nn,ni.prototype.get=xu,ni.prototype.has=Yt,ni.prototype.set=Jt;function ar(oe){var de=-1,Ie=oe==null?0:oe.length;for(this.clear();++de<Ie;){var Ve=oe[de];this.set(Ve[0],Ve[1])}}function zo(){this.__data__=[],this.size=0}function Oi(oe){var de=this.__data__,Ie=yy(de,oe);if(Ie<0)return!1;var Ve=de.length-1;return Ie==Ve?de.pop():ft.call(de,Ie,1),--this.size,!0}function Dr(oe){var de=this.__data__,Ie=yy(de,oe);return Ie<0?void 0:de[Ie][1]}function H0(oe){return yy(this.__data__,oe)>-1}function W0(oe,de){var Ie=this.__data__,Ve=yy(Ie,oe);return Ve<0?(++this.size,Ie.push([oe,de])):Ie[Ve][1]=de,this}ar.prototype.clear=zo,ar.prototype.delete=Oi,ar.prototype.get=Dr,ar.prototype.has=H0,ar.prototype.set=W0;function Ho(oe){var de=-1,Ie=oe==null?0:oe.length;for(this.clear();++de<Ie;){var Ve=oe[de];this.set(Ve[0],Ve[1])}}function K0(){this.size=0,this.__data__={hash:new ni,map:new(Tt||ar),string:new ni}}function q0(oe){var de=vy(this,oe).delete(oe);return this.size-=de?1:0,de}function V0(oe){return vy(this,oe).get(oe)}function G0(oe){return vy(this,oe).has(oe)}function Y0(oe,de){var Ie=vy(this,oe),Ve=Ie.size;return Ie.set(oe,de),this.size+=Ie.size==Ve?0:1,this}Ho.prototype.clear=K0,Ho.prototype.delete=q0,Ho.prototype.get=V0,Ho.prototype.has=G0,Ho.prototype.set=Y0;function Dc(oe){var de=-1,Ie=oe==null?0:oe.length;for(this.__data__=new Ho;++de<Ie;)this.add(oe[de])}function J0(oe){return this.__data__.set(oe,r),this}function Z0(oe){return this.__data__.has(oe)}Dc.prototype.add=Dc.prototype.push=J0,Dc.prototype.has=Z0;function eo(oe){var de=this.__data__=new ar(oe);this.size=de.size}function Q0(){this.__data__=new ar,this.size=0}function X0(oe){var de=this.__data__,Ie=de.delete(oe);return this.size=de.size,Ie}function ep(oe){return this.__data__.get(oe)}function kK(oe){return this.__data__.has(oe)}function PK(oe,de){var Ie=this.__data__;if(Ie instanceof ar){var Ve=Ie.__data__;if(!Tt||Ve.length<n-1)return Ve.push([oe,de]),this.size=++Ie.size,this;Ie=this.__data__=new Ho(Ve)}return Ie.set(oe,de),this.size=Ie.size,this}eo.prototype.clear=Q0,eo.prototype.delete=X0,eo.prototype.get=ep,eo.prototype.has=kK,eo.prototype.set=PK;function OK(oe,de){var Ie=wy(oe),Ve=!Ie&&KK(oe),rn=!Ie&&!Ve&&p3(oe),wt=!Ie&&!Ve&&!rn&&aI(oe),En=Ie||Ve||rn||wt,Wn=En?pe(oe.length,String):[],cr=Wn.length;for(var hn in oe)Z.call(oe,hn)&&!(En&&(hn=="length"||rn&&(hn=="offset"||hn=="parent")||wt&&(hn=="buffer"||hn=="byteLength"||hn=="byteOffset")||FK(hn,cr)))&&Wn.push(hn);return Wn}function yy(oe,de){for(var Ie=oe.length;Ie--;)if(rI(oe[Ie][0],de))return Ie;return-1}function TK(oe,de,Ie){var Ve=de(oe);return wy(oe)?Ve:ce(Ve,Ie(oe))}function tp(oe){return oe==null?oe===void 0?T:y:vt&&vt in Object(oe)?DK(oe):WK(oe)}function X8(oe){return np(oe)&&tp(oe)==a}function eI(oe,de,Ie,Ve,rn){return oe===de?!0:oe==null||de==null||!np(oe)&&!np(de)?oe!==oe&&de!==de:MK(oe,de,Ie,Ve,eI,rn)}function MK(oe,de,Ie,Ve,rn,wt){var En=wy(oe),Wn=wy(de),cr=En?c:jc(oe),hn=Wn?c:jc(de);cr=cr==a?b:cr,hn=hn==a?b:hn;var Ti=cr==b,Wo=hn==b,xr=cr==hn;if(xr&&p3(oe)){if(!p3(de))return!1;En=!0,Ti=!1}if(xr&&!Ti)return wt||(wt=new eo),En||aI(oe)?tI(oe,de,Ie,Ve,rn,wt):$K(oe,de,cr,Ie,Ve,rn,wt);if(!(Ie&i)){var to=Ti&&Z.call(oe,"__wrapped__"),no=Wo&&Z.call(de,"__wrapped__");if(to||no){var Fc=to?oe.value():oe,Sa=no?de.value():de;return wt||(wt=new eo),rn(Fc,Sa,Ie,Ve,wt)}}return xr?(wt||(wt=new eo),BK(oe,de,Ie,Ve,rn,wt)):!1}function NK(oe){if(!sI(oe)||zK(oe))return!1;var de=iI(oe)?ge:B;return de.test(Su(oe))}function RK(oe){return np(oe)&&oI(oe.length)&&!!H[tp(oe)]}function LK(oe){if(!HK(oe))return Ne(oe);var de=[];for(var Ie in Object(oe))Z.call(oe,Ie)&&Ie!="constructor"&&de.push(Ie);return de}function tI(oe,de,Ie,Ve,rn,wt){var En=Ie&i,Wn=oe.length,cr=de.length;if(Wn!=cr&&!(En&&cr>Wn))return!1;var hn=wt.get(oe);if(hn&&wt.get(de))return hn==de;var Ti=-1,Wo=!0,xr=Ie&o?new Dc:void 0;for(wt.set(oe,de),wt.set(de,oe);++Ti<Wn;){var to=oe[Ti],no=de[Ti];if(Ve)var Fc=En?Ve(no,to,Ti,de,oe,wt):Ve(to,no,Ti,oe,de,wt);if(Fc!==void 0){if(Fc)continue;Wo=!1;break}if(xr){if(!he(de,function(Sa,_u){if(!Le(xr,_u)&&(to===Sa||rn(to,Sa,Ie,Ve,wt)))return xr.push(_u)})){Wo=!1;break}}else if(!(to===no||rn(to,no,Ie,Ve,wt))){Wo=!1;break}}return wt.delete(oe),wt.delete(de),Wo}function $K(oe,de,Ie,Ve,rn,wt,En){switch(Ie){case m:if(oe.byteLength!=de.byteLength||oe.byteOffset!=de.byteOffset)return!1;oe=oe.buffer,de=de.buffer;case P:return!(oe.byteLength!=de.byteLength||!wt(new Ke(oe),new Ke(de)));case u:case d:case S:return rI(+oe,+de);case f:return oe.name==de.name&&oe.message==de.message;case O:case j:return oe==de+"";case p:var Wn=we;case $:var cr=Ve&i;if(Wn||(Wn=He),oe.size!=de.size&&!cr)return!1;var hn=En.get(oe);if(hn)return hn==de;Ve|=o,En.set(oe,de);var Ti=tI(Wn(oe),Wn(de),Ve,rn,wt,En);return En.delete(oe),Ti;case k:if(kt)return kt.call(oe)==kt.call(de)}return!1}function BK(oe,de,Ie,Ve,rn,wt){var En=Ie&i,Wn=nI(oe),cr=Wn.length,hn=nI(de),Ti=hn.length;if(cr!=Ti&&!En)return!1;for(var Wo=cr;Wo--;){var xr=Wn[Wo];if(!(En?xr in de:Z.call(de,xr)))return!1}var to=wt.get(oe);if(to&&wt.get(de))return to==de;var no=!0;wt.set(oe,de),wt.set(de,oe);for(var Fc=En;++Wo<cr;){xr=Wn[Wo];var Sa=oe[xr],_u=de[xr];if(Ve)var cI=En?Ve(_u,Sa,xr,de,oe,wt):Ve(Sa,_u,xr,oe,de,wt);if(!(cI===void 0?Sa===_u||rn(Sa,_u,Ie,Ve,wt):cI)){no=!1;break}Fc||(Fc=xr=="constructor")}if(no&&!Fc){var by=oe.constructor,Ey=de.constructor;by!=Ey&&"constructor"in oe&&"constructor"in de&&!(typeof by=="function"&&by instanceof by&&typeof Ey=="function"&&Ey instanceof Ey)&&(no=!1)}return wt.delete(oe),wt.delete(de),no}function nI(oe){return TK(oe,GK,jK)}function vy(oe,de){var Ie=oe.__data__;return UK(de)?Ie[typeof de=="string"?"string":"hash"]:Ie.map}function sf(oe,de){var Ie=De(oe,de);return NK(Ie)?Ie:void 0}function DK(oe){var de=Z.call(oe,vt),Ie=oe[vt];try{oe[vt]=void 0;var Ve=!0}catch{}var rn=fe.call(oe);return Ve&&(de?oe[vt]=Ie:delete oe[vt]),rn}var jK=jt?function(oe){return oe==null?[]:(oe=Object(oe),ie(jt(oe),function(de){return at.call(oe,de)}))}:YK,jc=tp;(ct&&jc(new ct(new ArrayBuffer(1)))!=m||Tt&&jc(new Tt)!=p||ut&&jc(ut.resolve())!=_||it&&jc(new it)!=$||X&&jc(new X)!=L)&&(jc=function(oe){var de=tp(oe),Ie=de==b?oe.constructor:void 0,Ve=Ie?Su(Ie):"";if(Ve)switch(Ve){case _e:return m;case Oe:return p;case Re:return _;case dt:return $;case fn:return L}return de});function FK(oe,de){return de=de??s,!!de&&(typeof oe=="number"||z.test(oe))&&oe>-1&&oe%1==0&&oe<de}function UK(oe){var de=typeof oe;return de=="string"||de=="number"||de=="symbol"||de=="boolean"?oe!=="__proto__":oe===null}function zK(oe){return!!se&&se in oe}function HK(oe){var de=oe&&oe.constructor,Ie=typeof de=="function"&&de.prototype||q;return oe===Ie}function WK(oe){return fe.call(oe)}function Su(oe){if(oe!=null){try{return U.call(oe)}catch{}try{return oe+""}catch{}}return""}function rI(oe,de){return oe===de||oe!==oe&&de!==de}var KK=X8(function(){return arguments}())?X8:function(oe){return np(oe)&&Z.call(oe,"callee")&&!at.call(oe,"callee")},wy=Array.isArray;function qK(oe){return oe!=null&&oI(oe.length)&&!iI(oe)}var p3=ti||JK;function VK(oe,de){return eI(oe,de)}function iI(oe){if(!sI(oe))return!1;var de=tp(oe);return de==h||de==g||de==l||de==N}function oI(oe){return typeof oe=="number"&&oe>-1&&oe%1==0&&oe<=s}function sI(oe){var de=typeof oe;return oe!=null&&(de=="object"||de=="function")}function np(oe){return oe!=null&&typeof oe=="object"}var aI=Q?Ee(Q):RK;function GK(oe){return qK(oe)?OK(oe):LK(oe)}function YK(){return[]}function JK(){return!1}t.exports=VK})(hb,hb.exports);var E3e=hb.exports,YW={exports:{}};(function(t,e){var n=function(){var r=function(O,$){var j=236,k=17,T=O,L=o[$],P=null,m=0,w=null,A=[],v={},I=function(V,J){m=T*4+17,P=function(Y){for(var ee=new Array(Y),ne=0;ne<Y;ne+=1){ee[ne]=new Array(Y);for(var K=0;K<Y;K+=1)ee[ne][K]=null}return ee}(m),M(0,0),M(m-7,0),M(0,m-7),x(),C(),D(V,J),T>=7&&R(V),w==null&&(w=H(T,L,A)),B(w,J)},M=function(V,J){for(var Y=-1;Y<=7;Y+=1)if(!(V+Y<=-1||m<=V+Y))for(var ee=-1;ee<=7;ee+=1)J+ee<=-1||m<=J+ee||(0<=Y&&Y<=6&&(ee==0||ee==6)||0<=ee&&ee<=6&&(Y==0||Y==6)||2<=Y&&Y<=4&&2<=ee&&ee<=4?P[V+Y][J+ee]=!0:P[V+Y][J+ee]=!1)},E=function(){for(var V=0,J=0,Y=0;Y<8;Y+=1){I(!0,Y);var ee=a.getLostPoint(v);(Y==0||V>ee)&&(V=ee,J=Y)}return J},C=function(){for(var V=8;V<m-8;V+=1)P[V][6]==null&&(P[V][6]=V%2==0);for(var J=8;J<m-8;J+=1)P[6][J]==null&&(P[6][J]=J%2==0)},x=function(){for(var V=a.getPatternPosition(T),J=0;J<V.length;J+=1)for(var Y=0;Y<V.length;Y+=1){var ee=V[J],ne=V[Y];if(P[ee][ne]==null)for(var K=-2;K<=2;K+=1)for(var Q=-2;Q<=2;Q+=1)K==-2||K==2||Q==-2||Q==2||K==0&&Q==0?P[ee+K][ne+Q]=!0:P[ee+K][ne+Q]=!1}},R=function(V){for(var J=a.getBCHTypeNumber(T),Y=0;Y<18;Y+=1){var ee=!V&&(J>>Y&1)==1;P[Math.floor(Y/3)][Y%3+m-8-3]=ee}for(var Y=0;Y<18;Y+=1){var ee=!V&&(J>>Y&1)==1;P[Y%3+m-8-3][Math.floor(Y/3)]=ee}},D=function(V,J){for(var Y=L<<3|J,ee=a.getBCHTypeInfo(Y),ne=0;ne<15;ne+=1){var K=!V&&(ee>>ne&1)==1;ne<6?P[ne][8]=K:ne<8?P[ne+1][8]=K:P[m-15+ne][8]=K}for(var ne=0;ne<15;ne+=1){var K=!V&&(ee>>ne&1)==1;ne<8?P[8][m-ne-1]=K:ne<9?P[8][15-ne-1+1]=K:P[8][15-ne-1]=K}P[m-8][8]=!V},B=function(V,J){for(var Y=-1,ee=m-1,ne=7,K=0,Q=a.getMaskFunction(J),ie=m-1;ie>0;ie-=2)for(ie==6&&(ie-=1);;){for(var ce=0;ce<2;ce+=1)if(P[ee][ie-ce]==null){var he=!1;K<V.length&&(he=(V[K]>>>ne&1)==1);var pe=Q(ee,ie-ce);pe&&(he=!he),P[ee][ie-ce]=he,ne-=1,ne==-1&&(K+=1,ne=7)}if(ee+=Y,ee<0||m<=ee){ee-=Y,Y=-Y;break}}},z=function(V,J){for(var Y=0,ee=0,ne=0,K=new Array(J.length),Q=new Array(J.length),ie=0;ie<J.length;ie+=1){var ce=J[ie].dataCount,he=J[ie].totalCount-ce;ee=Math.max(ee,ce),ne=Math.max(ne,he),K[ie]=new Array(ce);for(var pe=0;pe<K[ie].length;pe+=1)K[ie][pe]=255&V.getBuffer()[pe+Y];Y+=ce;var Ee=a.getErrorCorrectPolynomial(he),Le=l(K[ie],Ee.getLength()-1),De=Le.mod(Ee);Q[ie]=new Array(Ee.getLength()-1);for(var pe=0;pe<Q[ie].length;pe+=1){var we=pe+De.getLength()-Q[ie].length;Q[ie][pe]=we>=0?De.getAt(we):0}}for(var Je=0,pe=0;pe<J.length;pe+=1)Je+=J[pe].totalCount;for(var He=new Array(Je),Xe=0,pe=0;pe<ee;pe+=1)for(var ie=0;ie<J.length;ie+=1)pe<K[ie].length&&(He[Xe]=K[ie][pe],Xe+=1);for(var pe=0;pe<ne;pe+=1)for(var ie=0;ie<J.length;ie+=1)pe<Q[ie].length&&(He[Xe]=Q[ie][pe],Xe+=1);return He},H=function(V,J,Y){for(var ee=u.getRSBlocks(V,J),ne=d(),K=0;K<Y.length;K+=1){var Q=Y[K];ne.put(Q.getMode(),4),ne.put(Q.getLength(),a.getLengthInBits(Q.getMode(),V)),Q.write(ne)}for(var ie=0,K=0;K<ee.length;K+=1)ie+=ee[K].dataCount;if(ne.getLengthInBits()>ie*8)throw"code length overflow. ("+ne.getLengthInBits()+">"+ie*8+")";for(ne.getLengthInBits()+4<=ie*8&&ne.put(0,4);ne.getLengthInBits()%8!=0;)ne.putBit(!1);for(;!(ne.getLengthInBits()>=ie*8||(ne.put(j,8),ne.getLengthInBits()>=ie*8));)ne.put(k,8);return z(ne,ee)};v.addData=function(V,J){J=J||"Byte";var Y=null;switch(J){case"Numeric":Y=f(V);break;case"Alphanumeric":Y=h(V);break;case"Byte":Y=g(V);break;case"Kanji":Y=p(V);break;default:throw"mode:"+J}A.push(Y),w=null},v.isDark=function(V,J){if(V<0||m<=V||J<0||m<=J)throw V+","+J;return P[V][J]},v.getModuleCount=function(){return m},v.make=function(){if(T<1){for(var V=1;V<40;V++){for(var J=u.getRSBlocks(V,L),Y=d(),ee=0;ee<A.length;ee++){var ne=A[ee];Y.put(ne.getMode(),4),Y.put(ne.getLength(),a.getLengthInBits(ne.getMode(),V)),ne.write(Y)}for(var K=0,ee=0;ee<J.length;ee++)K+=J[ee].dataCount;if(Y.getLengthInBits()<=K*8)break}T=V}I(!1,E())},v.createTableTag=function(V,J){V=V||2,J=typeof J>"u"?V*4:J;var Y="";Y+='<table style="',Y+=" border-width: 0px; border-style: none;",Y+=" border-collapse: collapse;",Y+=" padding: 0px; margin: "+J+"px;",Y+='">',Y+="<tbody>";for(var ee=0;ee<v.getModuleCount();ee+=1){Y+="<tr>";for(var ne=0;ne<v.getModuleCount();ne+=1)Y+='<td style="',Y+=" border-width: 0px; border-style: none;",Y+=" border-collapse: collapse;",Y+=" padding: 0px; margin: 0px;",Y+=" width: "+V+"px;",Y+=" height: "+V+"px;",Y+=" background-color: ",Y+=v.isDark(ee,ne)?"#000000":"#ffffff",Y+=";",Y+='"/>';Y+="</tr>"}return Y+="</tbody>",Y+="</table>",Y},v.createSvgTag=function(V,J,Y,ee){var ne={};typeof arguments[0]=="object"&&(ne=arguments[0],V=ne.cellSize,J=ne.margin,Y=ne.alt,ee=ne.title),V=V||2,J=typeof J>"u"?V*4:J,Y=typeof Y=="string"?{text:Y}:Y||{},Y.text=Y.text||null,Y.id=Y.text?Y.id||"qrcode-description":null,ee=typeof ee=="string"?{text:ee}:ee||{},ee.text=ee.text||null,ee.id=ee.text?ee.id||"qrcode-title":null;var K=v.getModuleCount()*V+J*2,Q,ie,ce,he,pe="",Ee;for(Ee="l"+V+",0 0,"+V+" -"+V+",0 0,-"+V+"z ",pe+='<svg version="1.1" xmlns="http://www.w3.org/2000/svg"',pe+=ne.scalable?"":' width="'+K+'px" height="'+K+'px"',pe+=' viewBox="0 0 '+K+" "+K+'" ',pe+=' preserveAspectRatio="xMinYMin meet"',pe+=ee.text||Y.text?' role="img" aria-labelledby="'+W([ee.id,Y.id].join(" ").trim())+'"':"",pe+=">",pe+=ee.text?'<title id="'+W(ee.id)+'">'+W(ee.text)+"</title>":"",pe+=Y.text?'<description id="'+W(Y.id)+'">'+W(Y.text)+"</description>":"",pe+='<rect width="100%" height="100%" fill="white" cx="0" cy="0"/>',pe+='<path d="',ce=0;ce<v.getModuleCount();ce+=1)for(he=ce*V+J,Q=0;Q<v.getModuleCount();Q+=1)v.isDark(ce,Q)&&(ie=Q*V+J,pe+="M"+ie+","+he+Ee);return pe+='" stroke="transparent" fill="black"/>',pe+="</svg>",pe},v.createDataURL=function(V,J){V=V||2,J=typeof J>"u"?V*4:J;var Y=v.getModuleCount()*V+J*2,ee=J,ne=Y-J;return N(Y,Y,function(K,Q){if(ee<=K&&K<ne&&ee<=Q&&Q<ne){var ie=Math.floor((K-ee)/V),ce=Math.floor((Q-ee)/V);return v.isDark(ce,ie)?0:1}else return 1})},v.createImgTag=function(V,J,Y){V=V||2,J=typeof J>"u"?V*4:J;var ee=v.getModuleCount()*V+J*2,ne="";return ne+="<img",ne+=' src="',ne+=v.createDataURL(V,J),ne+='"',ne+=' width="',ne+=ee,ne+='"',ne+=' height="',ne+=ee,ne+='"',Y&&(ne+=' alt="',ne+=W(Y),ne+='"'),ne+="/>",ne};var W=function(V){for(var J="",Y=0;Y<V.length;Y+=1){var ee=V.charAt(Y);switch(ee){case"<":J+="&lt;";break;case">":J+="&gt;";break;case"&":J+="&amp;";break;case'"':J+="&quot;";break;default:J+=ee;break}}return J},G=function(V){var J=1;V=typeof V>"u"?J*2:V;var Y=v.getModuleCount()*J+V*2,ee=V,ne=Y-V,K,Q,ie,ce,he,pe={"██":"█","█ ":"▀"," █":"▄","  ":" "},Ee={"██":"▀","█ ":"▀"," █":" ","  ":" "},Le="";for(K=0;K<Y;K+=2){for(ie=Math.floor((K-ee)/J),ce=Math.floor((K+1-ee)/J),Q=0;Q<Y;Q+=1)he="█",ee<=Q&&Q<ne&&ee<=K&&K<ne&&v.isDark(ie,Math.floor((Q-ee)/J))&&(he=" "),ee<=Q&&Q<ne&&ee<=K+1&&K+1<ne&&v.isDark(ce,Math.floor((Q-ee)/J))?he+=" ":he+="█",Le+=V<1&&K+1>=ne?Ee[he]:pe[he];Le+=`
`}return Y%2&&V>0?Le.substring(0,Le.length-Y-1)+Array(Y+1).join("▀"):Le.substring(0,Le.length-1)};return v.createASCII=function(V,J){if(V=V||1,V<2)return G(J);V-=1,J=typeof J>"u"?V*2:J;var Y=v.getModuleCount()*V+J*2,ee=J,ne=Y-J,K,Q,ie,ce,he=Array(V+1).join("██"),pe=Array(V+1).join("  "),Ee="",Le="";for(K=0;K<Y;K+=1){for(ie=Math.floor((K-ee)/V),Le="",Q=0;Q<Y;Q+=1)ce=1,ee<=Q&&Q<ne&&ee<=K&&K<ne&&v.isDark(ie,Math.floor((Q-ee)/V))&&(ce=0),Le+=ce?he:pe;for(ie=0;ie<V;ie+=1)Ee+=Le+`
`}return Ee.substring(0,Ee.length-1)},v.renderTo2dContext=function(V,J){J=J||2;for(var Y=v.getModuleCount(),ee=0;ee<Y;ee++)for(var ne=0;ne<Y;ne++)V.fillStyle=v.isDark(ee,ne)?"black":"white",V.fillRect(ee*J,ne*J,J,J)},v};r.stringToBytesFuncs={default:function(O){for(var $=[],j=0;j<O.length;j+=1){var k=O.charCodeAt(j);$.push(k&255)}return $}},r.stringToBytes=r.stringToBytesFuncs.default,r.createStringToBytes=function(O,$){var j=function(){for(var T=b(O),L=function(){var C=T.read();if(C==-1)throw"eof";return C},P=0,m={};;){var w=T.read();if(w==-1)break;var A=L(),v=L(),I=L(),M=String.fromCharCode(w<<8|A),E=v<<8|I;m[M]=E,P+=1}if(P!=$)throw P+" != "+$;return m}(),k=63;return function(T){for(var L=[],P=0;P<T.length;P+=1){var m=T.charCodeAt(P);if(m<128)L.push(m);else{var w=j[T.charAt(P)];typeof w=="number"?(w&255)==w?L.push(w):(L.push(w>>>8),L.push(w&255)):L.push(k)}}return L}};var i={MODE_NUMBER:1,MODE_ALPHA_NUM:2,MODE_8BIT_BYTE:4,MODE_KANJI:8},o={L:1,M:0,Q:3,H:2},s={PATTERN000:0,PATTERN001:1,PATTERN010:2,PATTERN011:3,PATTERN100:4,PATTERN101:5,PATTERN110:6,PATTERN111:7},a=function(){var O=[[],[6,18],[6,22],[6,26],[6,30],[6,34],[6,22,38],[6,24,42],[6,26,46],[6,28,50],[6,30,54],[6,32,58],[6,34,62],[6,26,46,66],[6,26,48,70],[6,26,50,74],[6,30,54,78],[6,30,56,82],[6,30,58,86],[6,34,62,90],[6,28,50,72,94],[6,26,50,74,98],[6,30,54,78,102],[6,28,54,80,106],[6,32,58,84,110],[6,30,58,86,114],[6,34,62,90,118],[6,26,50,74,98,122],[6,30,54,78,102,126],[6,26,52,78,104,130],[6,30,56,82,108,134],[6,34,60,86,112,138],[6,30,58,86,114,142],[6,34,62,90,118,146],[6,30,54,78,102,126,150],[6,24,50,76,102,128,154],[6,28,54,80,106,132,158],[6,32,58,84,110,136,162],[6,26,54,82,110,138,166],[6,30,58,86,114,142,170]],$=1335,j=7973,k=21522,T={},L=function(P){for(var m=0;P!=0;)m+=1,P>>>=1;return m};return T.getBCHTypeInfo=function(P){for(var m=P<<10;L(m)-L($)>=0;)m^=$<<L(m)-L($);return(P<<10|m)^k},T.getBCHTypeNumber=function(P){for(var m=P<<12;L(m)-L(j)>=0;)m^=j<<L(m)-L(j);return P<<12|m},T.getPatternPosition=function(P){return O[P-1]},T.getMaskFunction=function(P){switch(P){case s.PATTERN000:return function(m,w){return(m+w)%2==0};case s.PATTERN001:return function(m,w){return m%2==0};case s.PATTERN010:return function(m,w){return w%3==0};case s.PATTERN011:return function(m,w){return(m+w)%3==0};case s.PATTERN100:return function(m,w){return(Math.floor(m/2)+Math.floor(w/3))%2==0};case s.PATTERN101:return function(m,w){return m*w%2+m*w%3==0};case s.PATTERN110:return function(m,w){return(m*w%2+m*w%3)%2==0};case s.PATTERN111:return function(m,w){return(m*w%3+(m+w)%2)%2==0};default:throw"bad maskPattern:"+P}},T.getErrorCorrectPolynomial=function(P){for(var m=l([1],0),w=0;w<P;w+=1)m=m.multiply(l([1,c.gexp(w)],0));return m},T.getLengthInBits=function(P,m){if(1<=m&&m<10)switch(P){case i.MODE_NUMBER:return 10;case i.MODE_ALPHA_NUM:return 9;case i.MODE_8BIT_BYTE:return 8;case i.MODE_KANJI:return 8;default:throw"mode:"+P}else if(m<27)switch(P){case i.MODE_NUMBER:return 12;case i.MODE_ALPHA_NUM:return 11;case i.MODE_8BIT_BYTE:return 16;case i.MODE_KANJI:return 10;default:throw"mode:"+P}else if(m<41)switch(P){case i.MODE_NUMBER:return 14;case i.MODE_ALPHA_NUM:return 13;case i.MODE_8BIT_BYTE:return 16;case i.MODE_KANJI:return 12;default:throw"mode:"+P}else throw"type:"+m},T.getLostPoint=function(P){for(var m=P.getModuleCount(),w=0,A=0;A<m;A+=1)for(var v=0;v<m;v+=1){for(var I=0,M=P.isDark(A,v),E=-1;E<=1;E+=1)if(!(A+E<0||m<=A+E))for(var C=-1;C<=1;C+=1)v+C<0||m<=v+C||E==0&&C==0||M==P.isDark(A+E,v+C)&&(I+=1);I>5&&(w+=3+I-5)}for(var A=0;A<m-1;A+=1)for(var v=0;v<m-1;v+=1){var x=0;P.isDark(A,v)&&(x+=1),P.isDark(A+1,v)&&(x+=1),P.isDark(A,v+1)&&(x+=1),P.isDark(A+1,v+1)&&(x+=1),(x==0||x==4)&&(w+=3)}for(var A=0;A<m;A+=1)for(var v=0;v<m-6;v+=1)P.isDark(A,v)&&!P.isDark(A,v+1)&&P.isDark(A,v+2)&&P.isDark(A,v+3)&&P.isDark(A,v+4)&&!P.isDark(A,v+5)&&P.isDark(A,v+6)&&(w+=40);for(var v=0;v<m;v+=1)for(var A=0;A<m-6;A+=1)P.isDark(A,v)&&!P.isDark(A+1,v)&&P.isDark(A+2,v)&&P.isDark(A+3,v)&&P.isDark(A+4,v)&&!P.isDark(A+5,v)&&P.isDark(A+6,v)&&(w+=40);for(var R=0,v=0;v<m;v+=1)for(var A=0;A<m;A+=1)P.isDark(A,v)&&(R+=1);var D=Math.abs(100*R/m/m-50)/5;return w+=D*10,w},T}(),c=function(){for(var O=new Array(256),$=new Array(256),j=0;j<8;j+=1)O[j]=1<<j;for(var j=8;j<256;j+=1)O[j]=O[j-4]^O[j-5]^O[j-6]^O[j-8];for(var j=0;j<255;j+=1)$[O[j]]=j;var k={};return k.glog=function(T){if(T<1)throw"glog("+T+")";return $[T]},k.gexp=function(T){for(;T<0;)T+=255;for(;T>=256;)T-=255;return O[T]},k}();function l(O,$){if(typeof O.length>"u")throw O.length+"/"+$;var j=function(){for(var T=0;T<O.length&&O[T]==0;)T+=1;for(var L=new Array(O.length-T+$),P=0;P<O.length-T;P+=1)L[P]=O[P+T];return L}(),k={};return k.getAt=function(T){return j[T]},k.getLength=function(){return j.length},k.multiply=function(T){for(var L=new Array(k.getLength()+T.getLength()-1),P=0;P<k.getLength();P+=1)for(var m=0;m<T.getLength();m+=1)L[P+m]^=c.gexp(c.glog(k.getAt(P))+c.glog(T.getAt(m)));return l(L,0)},k.mod=function(T){if(k.getLength()-T.getLength()<0)return k;for(var L=c.glog(k.getAt(0))-c.glog(T.getAt(0)),P=new Array(k.getLength()),m=0;m<k.getLength();m+=1)P[m]=k.getAt(m);for(var m=0;m<T.getLength();m+=1)P[m]^=c.gexp(c.glog(T.getAt(m))+L);return l(P,0).mod(T)},k}var u=function(){var O=[[1,26,19],[1,26,16],[1,26,13],[1,26,9],[1,44,34],[1,44,28],[1,44,22],[1,44,16],[1,70,55],[1,70,44],[2,35,17],[2,35,13],[1,100,80],[2,50,32],[2,50,24],[4,25,9],[1,134,108],[2,67,43],[2,33,15,2,34,16],[2,33,11,2,34,12],[2,86,68],[4,43,27],[4,43,19],[4,43,15],[2,98,78],[4,49,31],[2,32,14,4,33,15],[4,39,13,1,40,14],[2,121,97],[2,60,38,2,61,39],[4,40,18,2,41,19],[4,40,14,2,41,15],[2,146,116],[3,58,36,2,59,37],[4,36,16,4,37,17],[4,36,12,4,37,13],[2,86,68,2,87,69],[4,69,43,1,70,44],[6,43,19,2,44,20],[6,43,15,2,44,16],[4,101,81],[1,80,50,4,81,51],[4,50,22,4,51,23],[3,36,12,8,37,13],[2,116,92,2,117,93],[6,58,36,2,59,37],[4,46,20,6,47,21],[7,42,14,4,43,15],[4,133,107],[8,59,37,1,60,38],[8,44,20,4,45,21],[12,33,11,4,34,12],[3,145,115,1,146,116],[4,64,40,5,65,41],[11,36,16,5,37,17],[11,36,12,5,37,13],[5,109,87,1,110,88],[5,65,41,5,66,42],[5,54,24,7,55,25],[11,36,12,7,37,13],[5,122,98,1,123,99],[7,73,45,3,74,46],[15,43,19,2,44,20],[3,45,15,13,46,16],[1,135,107,5,136,108],[10,74,46,1,75,47],[1,50,22,15,51,23],[2,42,14,17,43,15],[5,150,120,1,151,121],[9,69,43,4,70,44],[17,50,22,1,51,23],[2,42,14,19,43,15],[3,141,113,4,142,114],[3,70,44,11,71,45],[17,47,21,4,48,22],[9,39,13,16,40,14],[3,135,107,5,136,108],[3,67,41,13,68,42],[15,54,24,5,55,25],[15,43,15,10,44,16],[4,144,116,4,145,117],[17,68,42],[17,50,22,6,51,23],[19,46,16,6,47,17],[2,139,111,7,140,112],[17,74,46],[7,54,24,16,55,25],[34,37,13],[4,151,121,5,152,122],[4,75,47,14,76,48],[11,54,24,14,55,25],[16,45,15,14,46,16],[6,147,117,4,148,118],[6,73,45,14,74,46],[11,54,24,16,55,25],[30,46,16,2,47,17],[8,132,106,4,133,107],[8,75,47,13,76,48],[7,54,24,22,55,25],[22,45,15,13,46,16],[10,142,114,2,143,115],[19,74,46,4,75,47],[28,50,22,6,51,23],[33,46,16,4,47,17],[8,152,122,4,153,123],[22,73,45,3,74,46],[8,53,23,26,54,24],[12,45,15,28,46,16],[3,147,117,10,148,118],[3,73,45,23,74,46],[4,54,24,31,55,25],[11,45,15,31,46,16],[7,146,116,7,147,117],[21,73,45,7,74,46],[1,53,23,37,54,24],[19,45,15,26,46,16],[5,145,115,10,146,116],[19,75,47,10,76,48],[15,54,24,25,55,25],[23,45,15,25,46,16],[13,145,115,3,146,116],[2,74,46,29,75,47],[42,54,24,1,55,25],[23,45,15,28,46,16],[17,145,115],[10,74,46,23,75,47],[10,54,24,35,55,25],[19,45,15,35,46,16],[17,145,115,1,146,116],[14,74,46,21,75,47],[29,54,24,19,55,25],[11,45,15,46,46,16],[13,145,115,6,146,116],[14,74,46,23,75,47],[44,54,24,7,55,25],[59,46,16,1,47,17],[12,151,121,7,152,122],[12,75,47,26,76,48],[39,54,24,14,55,25],[22,45,15,41,46,16],[6,151,121,14,152,122],[6,75,47,34,76,48],[46,54,24,10,55,25],[2,45,15,64,46,16],[17,152,122,4,153,123],[29,74,46,14,75,47],[49,54,24,10,55,25],[24,45,15,46,46,16],[4,152,122,18,153,123],[13,74,46,32,75,47],[48,54,24,14,55,25],[42,45,15,32,46,16],[20,147,117,4,148,118],[40,75,47,7,76,48],[43,54,24,22,55,25],[10,45,15,67,46,16],[19,148,118,6,149,119],[18,75,47,31,76,48],[34,54,24,34,55,25],[20,45,15,61,46,16]],$=function(T,L){var P={};return P.totalCount=T,P.dataCount=L,P},j={},k=function(T,L){switch(L){case o.L:return O[(T-1)*4+0];case o.M:return O[(T-1)*4+1];case o.Q:return O[(T-1)*4+2];case o.H:return O[(T-1)*4+3];default:return}};return j.getRSBlocks=function(T,L){var P=k(T,L);if(typeof P>"u")throw"bad rs block @ typeNumber:"+T+"/errorCorrectionLevel:"+L;for(var m=P.length/3,w=[],A=0;A<m;A+=1)for(var v=P[A*3+0],I=P[A*3+1],M=P[A*3+2],E=0;E<v;E+=1)w.push($(I,M));return w},j}(),d=function(){var O=[],$=0,j={};return j.getBuffer=function(){return O},j.getAt=function(k){var T=Math.floor(k/8);return(O[T]>>>7-k%8&1)==1},j.put=function(k,T){for(var L=0;L<T;L+=1)j.putBit((k>>>T-L-1&1)==1)},j.getLengthInBits=function(){return $},j.putBit=function(k){var T=Math.floor($/8);O.length<=T&&O.push(0),k&&(O[T]|=128>>>$%8),$+=1},j},f=function(O){var $=i.MODE_NUMBER,j=O,k={};k.getMode=function(){return $},k.getLength=function(P){return j.length},k.write=function(P){for(var m=j,w=0;w+2<m.length;)P.put(T(m.substring(w,w+3)),10),w+=3;w<m.length&&(m.length-w==1?P.put(T(m.substring(w,w+1)),4):m.length-w==2&&P.put(T(m.substring(w,w+2)),7))};var T=function(P){for(var m=0,w=0;w<P.length;w+=1)m=m*10+L(P.charAt(w));return m},L=function(P){if("0"<=P&&P<="9")return P.charCodeAt(0)-48;throw"illegal char :"+P};return k},h=function(O){var $=i.MODE_ALPHA_NUM,j=O,k={};k.getMode=function(){return $},k.getLength=function(L){return j.length},k.write=function(L){for(var P=j,m=0;m+1<P.length;)L.put(T(P.charAt(m))*45+T(P.charAt(m+1)),11),m+=2;m<P.length&&L.put(T(P.charAt(m)),6)};var T=function(L){if("0"<=L&&L<="9")return L.charCodeAt(0)-48;if("A"<=L&&L<="Z")return L.charCodeAt(0)-65+10;switch(L){case" ":return 36;case"$":return 37;case"%":return 38;case"*":return 39;case"+":return 40;case"-":return 41;case".":return 42;case"/":return 43;case":":return 44;default:throw"illegal char :"+L}};return k},g=function(O){var $=i.MODE_8BIT_BYTE,j=r.stringToBytes(O),k={};return k.getMode=function(){return $},k.getLength=function(T){return j.length},k.write=function(T){for(var L=0;L<j.length;L+=1)T.put(j[L],8)},k},p=function(O){var $=i.MODE_KANJI,j=r.stringToBytesFuncs.SJIS;if(!j)throw"sjis not supported.";(function(L,P){var m=j(L);if(m.length!=2||(m[0]<<8|m[1])!=P)throw"sjis not supported."})("友",38726);var k=j(O),T={};return T.getMode=function(){return $},T.getLength=function(L){return~~(k.length/2)},T.write=function(L){for(var P=k,m=0;m+1<P.length;){var w=(255&P[m])<<8|255&P[m+1];if(33088<=w&&w<=40956)w-=33088;else if(57408<=w&&w<=60351)w-=49472;else throw"illegal char at "+(m+1)+"/"+w;w=(w>>>8&255)*192+(w&255),L.put(w,13),m+=2}if(m<P.length)throw"illegal char at "+(m+1)},T},S=function(){var O=[],$={};return $.writeByte=function(j){O.push(j&255)},$.writeShort=function(j){$.writeByte(j),$.writeByte(j>>>8)},$.writeBytes=function(j,k,T){k=k||0,T=T||j.length;for(var L=0;L<T;L+=1)$.writeByte(j[L+k])},$.writeString=function(j){for(var k=0;k<j.length;k+=1)$.writeByte(j.charCodeAt(k))},$.toByteArray=function(){return O},$.toString=function(){var j="";j+="[";for(var k=0;k<O.length;k+=1)k>0&&(j+=","),j+=O[k];return j+="]",j},$},y=function(){var O=0,$=0,j=0,k="",T={},L=function(m){k+=String.fromCharCode(P(m&63))},P=function(m){if(!(m<0)){if(m<26)return 65+m;if(m<52)return 97+(m-26);if(m<62)return 48+(m-52);if(m==62)return 43;if(m==63)return 47}throw"n:"+m};return T.writeByte=function(m){for(O=O<<8|m&255,$+=8,j+=1;$>=6;)L(O>>>$-6),$-=6},T.flush=function(){if($>0&&(L(O<<6-$),O=0,$=0),j%3!=0)for(var m=3-j%3,w=0;w<m;w+=1)k+="="},T.toString=function(){return k},T},b=function(O){var $=O,j=0,k=0,T=0,L={};L.read=function(){for(;T<8;){if(j>=$.length){if(T==0)return-1;throw"unexpected end of file./"+T}var m=$.charAt(j);if(j+=1,m=="=")return T=0,-1;if(m.match(/^\s$/))continue;k=k<<6|P(m.charCodeAt(0)),T+=6}var w=k>>>T-8&255;return T-=8,w};var P=function(m){if(65<=m&&m<=90)return m-65;if(97<=m&&m<=122)return m-97+26;if(48<=m&&m<=57)return m-48+52;if(m==43)return 62;if(m==47)return 63;throw"c:"+m};return L},_=function(O,$){var j=O,k=$,T=new Array(O*$),L={};L.setPixel=function(A,v,I){T[v*j+A]=I},L.write=function(A){A.writeString("GIF87a"),A.writeShort(j),A.writeShort(k),A.writeByte(128),A.writeByte(0),A.writeByte(0),A.writeByte(0),A.writeByte(0),A.writeByte(0),A.writeByte(255),A.writeByte(255),A.writeByte(255),A.writeString(","),A.writeShort(0),A.writeShort(0),A.writeShort(j),A.writeShort(k),A.writeByte(0);var v=2,I=m(v);A.writeByte(v);for(var M=0;I.length-M>255;)A.writeByte(255),A.writeBytes(I,M,255),M+=255;A.writeByte(I.length-M),A.writeBytes(I,M,I.length-M),A.writeByte(0),A.writeString(";")};var P=function(A){var v=A,I=0,M=0,E={};return E.write=function(C,x){if(C>>>x)throw"length over";for(;I+x>=8;)v.writeByte(255&(C<<I|M)),x-=8-I,C>>>=8-I,M=0,I=0;M=C<<I|M,I=I+x},E.flush=function(){I>0&&v.writeByte(M)},E},m=function(A){for(var v=1<<A,I=(1<<A)+1,M=A+1,E=w(),C=0;C<v;C+=1)E.add(String.fromCharCode(C));E.add(String.fromCharCode(v)),E.add(String.fromCharCode(I));var x=S(),R=P(x);R.write(v,M);var D=0,B=String.fromCharCode(T[D]);for(D+=1;D<T.length;){var z=String.fromCharCode(T[D]);D+=1,E.contains(B+z)?B=B+z:(R.write(E.indexOf(B),M),E.size()<4095&&(E.size()==1<<M&&(M+=1),E.add(B+z)),B=z)}return R.write(E.indexOf(B),M),R.write(I,M),R.flush(),x.toByteArray()},w=function(){var A={},v=0,I={};return I.add=function(M){if(I.contains(M))throw"dup key:"+M;A[M]=v,v+=1},I.size=function(){return v},I.indexOf=function(M){return A[M]},I.contains=function(M){return typeof A[M]<"u"},I};return L},N=function(O,$,j){for(var k=_(O,$),T=0;T<$;T+=1)for(var L=0;L<O;L+=1)k.setPixel(L,T,j(L,T));var P=S();k.write(P);for(var m=y(),w=P.toByteArray(),A=0;A<w.length;A+=1)m.writeByte(w[A]);return m.flush(),"data:image/gif;base64,"+m};return r}();(function(){n.stringToBytesFuncs["UTF-8"]=function(r){function i(o){for(var s=[],a=0;a<o.length;a++){var c=o.charCodeAt(a);c<128?s.push(c):c<2048?s.push(192|c>>6,128|c&63):c<55296||c>=57344?s.push(224|c>>12,128|c>>6&63,128|c&63):(a++,c=65536+((c&1023)<<10|o.charCodeAt(a)&1023),s.push(240|c>>18,128|c>>12&63,128|c>>6&63,128|c&63))}return s}return i(r)}})(),function(r){t.exports=r()}(function(){return n})})(YW);var x3e=YW.exports,S3e=en&&en.__extends||function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},t(e,n)};return function(e,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),B_=en&&en.__assign||function(){return B_=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++){e=arguments[n];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])}return t},B_.apply(this,arguments)};Object.defineProperty(q8,"__esModule",{value:!0});var JW=q8.QRCode=void 0,_3e=E3e,C3e=x3e,c5=le,A3e=function(t){S3e(e,t);function e(n){var r=t.call(this,n)||this;return r.canvasRef=c5.createRef(),r}return e.prototype.download=function(n,r){if(this.canvasRef.current){var i=void 0;switch(n){case"jpg":i="image/jpeg";break;case"webp":i="image/webp";break;case"png":default:i="image/png";break}var o=this.canvasRef.current.toDataURL(i,1),s=document.createElement("a");s.download=r??"react-qrcode-logo",s.href=o,s.click()}},e.prototype.utf16to8=function(n){var r="",i,o,s=n.length;for(i=0;i<s;i++)o=n.charCodeAt(i),o>=1&&o<=127?r+=n.charAt(i):o>2047?(r+=String.fromCharCode(224|o>>12&15),r+=String.fromCharCode(128|o>>6&63),r+=String.fromCharCode(128|o>>0&63)):(r+=String.fromCharCode(192|o>>6&31),r+=String.fromCharCode(128|o>>0&63));return r},e.prototype.drawRoundedSquare=function(n,r,i,o,s,a,c,l){l.lineWidth=n,l.fillStyle=s,l.strokeStyle=s,i+=n/2,r+=n/2,o-=n,Array.isArray(a)||(a=[a,a,a,a]),a=a.map(function(g){return g=Math.min(g,o/2),g<0?0:g});var u=a[0]||0,d=a[1]||0,f=a[2]||0,h=a[3]||0;l.beginPath(),l.moveTo(r+u,i),l.lineTo(r+o-d,i),d&&l.quadraticCurveTo(r+o,i,r+o,i+d),l.lineTo(r+o,i+o-f),f&&l.quadraticCurveTo(r+o,i+o,r+o-f,i+o),l.lineTo(r+h,i+o),h&&l.quadraticCurveTo(r,i+o,r,i+o-h),l.lineTo(r,i+u),u&&l.quadraticCurveTo(r,i,r+u,i),l.closePath(),l.stroke(),c&&l.fill()},e.prototype.drawPositioningPattern=function(n,r,i,o,s,a,c){c===void 0&&(c=[0,0,0,0]);var l=Math.ceil(r),u,d;typeof c!="number"&&!Array.isArray(c)?(u=c.outer||0,d=c.inner||0):(u=c,d=u);var f,h;typeof a!="string"?(f=a.outer,h=a.inner):(f=a,h=a);var g=o*r+i,p=s*r+i,S=r*7;this.drawRoundedSquare(l,p,g,S,f,u,!1,n),S=r*3,g+=r*2,p+=r*2,this.drawRoundedSquare(l,p,g,S,h,d,!0,n)},e.prototype.isInPositioninZone=function(n,r,i){return i.some(function(o){return r>=o.row&&r<=o.row+7&&n>=o.col&&n<=o.col+7})},e.prototype.transformPixelLengthIntoNumberOfCells=function(n,r){return n/r},e.prototype.isCoordinateInImage=function(n,r,i,o,s,a,c,l){if(l){var u=2,d=this.transformPixelLengthIntoNumberOfCells(s,c),f=this.transformPixelLengthIntoNumberOfCells(a,c),h=this.transformPixelLengthIntoNumberOfCells(i,c)-1,g=this.transformPixelLengthIntoNumberOfCells(o,c)-1;return r>=d-u&&r<=d+h+u&&n>=f-u&&n<=f+g+u}else return!1},e.prototype.shouldComponentUpdate=function(n){return!_3e(this.props,n)},e.prototype.componentDidMount=function(){this.update()},e.prototype.componentDidUpdate=function(){this.update()},e.prototype.update=function(){var n,r=this.props,i=r.value,o=r.ecLevel,s=r.enableCORS,a=r.bgColor,c=r.fgColor,l=r.logoImage,u=r.logoOpacity,d=r.logoOnLoad,f=r.removeQrCodeBehindLogo,h=r.qrStyle,g=r.eyeRadius,p=r.eyeColor,S=r.logoPaddingStyle,y=+this.props.size,b=+this.props.quietZone,_=this.props.logoWidth?+this.props.logoWidth:0,N=this.props.logoHeight?+this.props.logoHeight:0,O=this.props.logoPadding?+this.props.logoPadding:0,$=C3e(0,o);$.addData(this.utf16to8(i)),$.make();var j=(n=this.canvasRef)===null||n===void 0?void 0:n.current,k=j.getContext("2d"),T=y+2*b,L=$.getModuleCount(),P=y/L,m=window.devicePixelRatio||1;j.height=j.width=T*m,k.scale(m,m),k.fillStyle=a,k.fillRect(0,0,T,T);var w=b,A=[{row:0,col:0},{row:0,col:L-7},{row:L-7,col:0}];if(k.strokeStyle=c,h==="dots"){k.fillStyle=c;for(var v=P/2,I=0;I<L;I++)for(var M=0;M<L;M++)$.isDark(I,M)&&!this.isInPositioninZone(I,M,A)&&(k.beginPath(),k.arc(Math.round(M*P)+v+w,Math.round(I*P)+v+w,v/100*75,0,2*Math.PI,!1),k.closePath(),k.fill())}else if(h==="fluid"){for(var v=Math.ceil(P/2),I=0;I<L;I++)for(var M=0;M<L;M++)if($.isDark(I,M)&&!this.isInPositioninZone(I,M,A)){var E=[!1,!1,!1,!1];I>0&&!$.isDark(I-1,M)&&M>0&&!$.isDark(I,M-1)&&(E[0]=!0),I>0&&!$.isDark(I-1,M)&&M<L-1&&!$.isDark(I,M+1)&&(E[1]=!0),I<L-1&&!$.isDark(I+1,M)&&M<L-1&&!$.isDark(I,M+1)&&(E[2]=!0),I<L-1&&!$.isDark(I+1,M)&&M>0&&!$.isDark(I,M-1)&&(E[3]=!0);var C=Math.ceil((M+1)*P)-Math.floor(M*P),x=Math.ceil((I+1)*P)-Math.floor(I*P);k.fillStyle=c,k.beginPath(),k.arc(Math.round(M*P)+v+w,Math.round(I*P)+v+w,v,0,2*Math.PI,!1),k.closePath(),k.fill(),E[0]||k.fillRect(Math.round(M*P)+w,Math.round(I*P)+w,C/2,x/2),E[1]||k.fillRect(Math.round(M*P)+w+Math.floor(C/2),Math.round(I*P)+w,C/2,x/2),E[2]||k.fillRect(Math.round(M*P)+w+Math.floor(C/2),Math.round(I*P)+w+Math.floor(x/2),C/2,x/2),E[3]||k.fillRect(Math.round(M*P)+w,Math.round(I*P)+w+Math.floor(x/2),C/2,x/2)}}else for(var I=0;I<L;I++)for(var M=0;M<L;M++)if($.isDark(I,M)&&!this.isInPositioninZone(I,M,A)){k.fillStyle=c;var C=Math.ceil((M+1)*P)-Math.floor(M*P),x=Math.ceil((I+1)*P)-Math.floor(I*P);k.fillRect(Math.round(M*P)+w,Math.round(I*P)+w,C,x)}for(var R=0;R<3;R++){var D=A[R],I=D.row,M=D.col,B=g,z=void 0;Array.isArray(B)&&(B=B[R]),typeof B=="number"&&(B=[B,B,B,B]),p?Array.isArray(p)?z=p[R]:z=p:z=c,this.drawPositioningPattern(k,P,w,I,M,z,B)}if(l){var H=new Image;s&&(H.crossOrigin="Anonymous"),H.onload=function(W){k.save();var G=_||y*.2,V=N||G,J=(y-G)/2,Y=(y-V)/2;if(f||O){k.beginPath(),k.strokeStyle=a,k.fillStyle=a;var ee=G+2*O,ne=V+2*O,K=J+w-O,Q=Y+w-O;if(S==="circle"){var ie=K+ee/2,ce=Q+ne/2;k.ellipse(ie,ce,ee/2,ne/2,0,0,2*Math.PI),k.stroke(),k.fill()}else k.fillRect(K,Q,ee,ne)}k.globalAlpha=u,k.drawImage(H,J+w,Y+w,G,V),k.restore(),d&&d(W)},H.src=l}},e.prototype.render=function(){var n,r=+this.props.size+2*+this.props.quietZone;return c5.createElement("canvas",{id:(n=this.props.id)!==null&&n!==void 0?n:"react-qrcode-logo",height:r,width:r,style:B_({height:r+"px",width:r+"px"},this.props.style),ref:this.canvasRef})},e.defaultProps={value:"https://reactjs.org/",ecLevel:"M",enableCORS:!1,size:150,quietZone:10,bgColor:"#FFFFFF",fgColor:"#000000",logoOpacity:1,qrStyle:"squares",eyeRadius:[0,0,0],logoPaddingStyle:"square"},e}(c5.Component);JW=q8.QRCode=A3e;function ZW(t){var e;const[n]=ei(void 0,{i18n:Pt}),{bodyState:r,setBodyState:i}=le.useContext(gy),{qrCodeValue:o,isDark:s,selectedButton:a,logoImage:c,primaryColor:l}=t,u=le.useMemo(()=>typeof window>"u"?!1:Jp.getParser(window.navigator.userAgent).getPlatformType()==="desktop",[]),d=document.documentElement,f="#FFFFFF",h="#000000",g=((e=getComputedStyle(d))===null||e===void 0||(e=e.getPropertyValue("--app-gray-800"))===null||e===void 0?void 0:e.trim())||"#1f2a37",p=l&&l.toLowerCase()==="#ffffff"?"#000000":l;return te.jsxs("div",{className:"w3a--contents",children:[o?te.jsxs("div",{className:"w3a--flex w3a--flex-col w3a--items-center w3a--justify-center w3a--gap-y-4 w3a--rounded-2xl w3a--border w3a--border-app-gray-200 w3a--p-4 dark:w3a--border-app-gray-700",children:[te.jsx("div",{className:"w3a--relative w3a--flex w3a--size-[300px] w3a--items-center w3a--justify-center w3a--rounded-2xl",children:te.jsx(JW,{size:u?300:260,eyeRadius:5,qrStyle:"dots",removeQrCodeBehindLogo:!0,logoImage:c||Nbe,value:o,logoHeight:32,logoWidth:32,logoPadding:10,eyeColor:s?f:p,bgColor:s?g:f,fgColor:s?f:h})}),te.jsx("p",{className:"w3a--text-center w3a--text-sm w3a--font-normal w3a--text-app-gray-500 dark:w3a--text-app-gray-300",children:n("modal.external.walletconnect-copy")})]}):te.jsx("div",{className:"w3a--mx-auto w3a--flex w3a--size-[300px] w3a--animate-pulse w3a--items-center w3a--justify-center w3a--rounded-lg w3a--bg-app-gray-200 w3a--p-2 dark:w3a--bg-app-gray-700",children:te.jsx(To,{imageId:`login-${a.name}`,hoverImageId:`login-${a.name}`,fallbackImageId:"wallet",height:"30",width:"30",isButton:!0,extension:a.imgExtension})}),te.jsxs("div",{className:"w3a--flex w3a--w-full w3a--items-center w3a--justify-between w3a--rounded-2xl w3a--bg-app-gray-50  w3a--px-4 w3a--py-2 w3a--text-app-gray-900 dark:w3a--bg-app-gray-800 dark:w3a--text-app-white",children:[te.jsxs("p",{className:"w3a--text-sm w3a--text-app-gray-900 dark:w3a--text-app-white",children:[n("modal.external.dont-have")," ",te.jsx("span",{children:a==null?void 0:a.displayName}),"?"]}),te.jsx("button",{type:"button",className:"w3a--appearance-none w3a--rounded-full w3a--border w3a--border-app-gray-200 w3a--bg-transparent w3a--px-5 w3a--py-2 w3a--text-base w3a--font-normal w3a--text-app-gray-700 w3a--transition-all w3a--duration-150 hover:w3a--border-transparent hover:w3a--shadow-light active:w3a--scale-95 dark:w3a--border-app-gray-700 dark:w3a--text-app-gray-300 dark:hover:w3a--border-transparent dark:hover:w3a--shadow-dark",onClick:()=>{i(ae(ae({},r),{},{installLinks:{show:!0,wallet:a}}))},children:n("modal.external.get-wallet")})]})]})}function I3e(t){const{totalExternalWalletCount:e,isLoading:n,walletSearch:r,handleWalletSearch:i,buttonRadius:o}=t,[s,a]=le.useState(!1),[c]=ei(void 0,{i18n:Pt}),l=u=>{i(u),a(!0)};return te.jsx("input",{type:"text",value:r,onInput:l,onFocus:u=>{u.target.placeholder="",a(!0)},onBlur:u=>{u.target.placeholder=c("modal.external.search-wallet",{count:e}),a(!1)},placeholder:n?c("modal.external.search-wallet-loading"):c("modal.external.search-wallet",{count:e}),disabled:n,className:At("w3a--input w3a--appearance-none w3a--outline-none active:w3a--outline-none focus:w3a--outline-none w3a--bg-transparent placeholder:w3a--text-app-gray-400 dark:placeholder:w3a--text-app-gray-500 w3a--text-app-gray-900 dark:w3a--text-app-white",s&&"!w3a--border-app-primary-600",{"w3a--rounded-full":o==="pill","w3a--rounded-lg":o==="rounded","w3a--rounded-none":o==="square"})})}function k3e(t){var e;const{isDark:n,config:r,walletConnectUri:i,metamaskConnectUri:o,walletRegistry:s,allExternalButtons:a,customConnectorButtons:c,connectorVisibilityMap:l,deviceDetails:u,buttonRadius:d="pill",chainNamespace:f,onBackClick:h,handleExternalWalletClick:g,handleWalletDetailsHeight:p}=t,{bodyState:S,setBodyState:y}=le.useContext(gy),{analytics:b}=le.useContext(K8),[_,N]=le.useState(Il.CONNECT_WALLET),[O,$]=le.useState(!1),[j]=le.useState(!1),[k,T]=le.useState(null),[L,P]=le.useState(""),[m,w]=le.useState("all"),[A,v]=le.useState(!1),I=()=>{if(!O&&_===Il.CONNECT_WALLET&&h){h(!1);return}O&&(N(Il.CONNECT_WALLET),$(!1),p())},M=le.useMemo(()=>s&&Object.keys(s.default||{}).length>0&&Object.keys(s.others||{}).length>0,[s]),E=le.useMemo(()=>{const ee=new Set;return c.concat(a).filter(ne=>ee.has(ne.name)?!1:(ee.add(ne.name),!0))},[a,c]),C=le.useMemo(()=>new Set(Object.keys(s.default)),[s]),x=le.useMemo(()=>{const ee=[...a.filter(K=>K.hasInjectedWallet&&C.has(K.name)),...c,...a.filter(K=>!K.hasInjectedWallet&&C.has(K.name))].sort((K,Q)=>K.name===Ye.METAMASK&&Q.name===Ye.METAMASK?K.hasInjectedWallet?-1:Q.hasInjectedWallet?1:K.isInstalled?-1:Q.isInstalled?1:0:K.name===Ye.METAMASK?-1:Q.name===Ye.METAMASK?1:0),ne=new Set;return ee.filter(K=>ne.has(K.name)?!1:(ne.add(K.name),!0)).filter(K=>{var Q;return m==="all"||((Q=K.chainNamespaces)===null||Q===void 0?void 0:Q.includes(m))})},[a,c,C,m]),R=le.useMemo(()=>{const ee=l;return Object.keys(r).reduce((ne,K)=>(K!==Ye.WALLET_CONNECT_V2&&ee[K]&&ne.push({name:K,displayName:r[K].label||K,hasInjectedWallet:r[K].isInjected,hasWalletConnect:!1,hasInstallLinks:!1}),ne),[])},[l,r]),D=ee=>{const ne=ee.target.value;P(ne)},B=ee=>{w(ee),v(!1)},z=le.useMemo(()=>M?[...E.filter(ee=>ee.hasInjectedWallet),...E.filter(ee=>!ee.hasInjectedWallet)].sort((ee,ne)=>ee.name===Ye.METAMASK?-1:1).filter(ee=>m==="all"||ee.chainNamespaces.includes(m)).filter(ee=>ee.name.toLowerCase().includes(L.toLowerCase())):R,[M,R,L,E,m]),H=le.useMemo(()=>M&&!L&&!A?x:z,[M,L,z,x,A]),W=le.useMemo(()=>z.length,[z]),G=le.useMemo(()=>A?W:M?x.length:R.length,[M,x,R,A,W]),V=ee=>{if(b==null||b.track(Wt.EXTERNAL_WALLET_SELECTED,{connector:ee.isInstalled?ee.name:ee.hasWalletConnect?Ye.WALLET_CONNECT_V2:"",wallet_name:ee.displayName,is_installed:ee.isInstalled,is_injected:ee.hasInjectedWallet,chain_namespaces:ee.chainNamespaces,has_wallet_connect:ee.hasWalletConnect,has_install_links:ee.hasInstallLinks,has_wallet_registry_item:!!ee.walletRegistryItem,total_external_wallets:E.length}),ee.isInstalled){var ne;if(ee.name===Ye.METAMASK&&!ee.hasInjectedWallet&&u.platform==="desktop"){g({connector:ee.name}),T(ee),$(!0),N(Il.SELECTED_WALLET),p();return}if(((ne=ee.chainNamespaces)===null||ne===void 0?void 0:ne.length)>1){y(ae(ae({},S),{},{multiChainSelector:{show:!0,wallet:ee}}));return}g({connector:ee.name});return}else ee.hasWalletConnect?(T(ee),$(!0),N(Il.SELECTED_WALLET),p()):y(ae(ae({},S),{},{installLinks:{show:!0,wallet:ee}}))},J=()=>{v(!0)},Y=le.useMemo(()=>O?k.name===Ye.METAMASK&&!k.hasInjectedWallet?o:i:null,[o,k,O,i]);return te.jsxs("div",{className:"w3a--relative w3a--flex w3a--flex-1 w3a--flex-col w3a--gap-y-4",children:[te.jsx(VW,{onBackClick:I,currentPage:_,selectedButton:k}),O?te.jsx(ZW,{qrCodeValue:Y,isDark:n,selectedButton:k,primaryColor:(e=k.walletRegistryItem)===null||e===void 0?void 0:e.primaryColor,logoImage:`https://images.web3auth.io/login-${k.name}.${k.imgExtension}`}):te.jsxs("div",{className:"w3a--flex w3a--flex-col w3a--gap-y-2",children:[te.jsx(d3e,{isDark:n,isLoading:j,selectedChain:m,setSelectedChain:B,chainNamespace:f}),te.jsx(I3e,{totalExternalWalletCount:W,isLoading:j,walletSearch:L,handleWalletSearch:D,buttonRadius:d}),te.jsx(b3e,{externalButtons:H,isLoading:j,totalExternalWalletsCount:W,initialWalletCount:G,handleWalletClick:V,handleMoreWallets:J,isDark:n,deviceDetails:u,walletConnectUri:i,buttonRadius:d})]})]})}const P3e=t=>{const{isDark:e,wallet:n,handleExternalWalletClick:r}=t,[i]=ei(void 0,{i18n:Pt}),o=n.chainNamespaces.sort().map(s=>({chainNamespace:s,displayName:s==="eip155"?"EVM":s,imageId:`chain-${s==="eip155"?"evm":s}`}));return te.jsxs("div",{children:[te.jsx("div",{className:"w3a--flex w3a--items-center w3a--justify-center",children:te.jsx("p",{className:"w3a--text-base w3a--font-medium w3a--text-app-gray-900 dark:w3a--text-app-white",children:i("modal.external.select-chain")})}),te.jsx("div",{className:"w3a--my-6 w3a--flex w3a--justify-center",children:te.jsx(To,{imageId:`login-${n.name}`,hoverImageId:`login-${n.name}`,fallbackImageId:"wallet",height:"100",width:"100",isButton:!0,extension:n.imgExtension})}),te.jsx("p",{className:"w3a--my-6 w3a--text-center w3a--text-sm w3a--text-app-gray-500",children:i("modal.external.select-chain-description",{wallet:n.displayName})}),te.jsx("ul",{className:"w3a--flex w3a--flex-col w3a--gap-3",children:o.map(({chainNamespace:s,displayName:a,imageId:c})=>te.jsx("li",{children:te.jsxs("button",{type:"button",className:"w3a--btn w3a--group w3a--relative w3a--h-11 w3a--w-full w3a--items-center !w3a--justify-between w3a--overflow-hidden w3a--rounded-full",onClick:()=>r({connector:n.name,chainNamespace:s}),children:[te.jsxs("div",{className:"w3a--flex w3a--items-center",children:[te.jsx(To,{imageId:c,hoverImageId:c,fallbackImageId:"wallet",height:"24",width:"24",isButton:!0,extension:"svg"}),te.jsx("p",{className:"w3a--ml-2 w3a--text-left w3a--text-sm first-letter:w3a--capitalize",children:a})]}),te.jsx("img",{id:"chain-namespace-arrow",className:"w3a--absolute w3a--right-4 w3a--top-1/2 -w3a--translate-x-6 -w3a--translate-y-1/2 w3a--opacity-0 w3a--transition-all w3a--duration-300 group-hover:w3a--translate-x-0 group-hover:w3a--opacity-100",src:xi(e?"chevron-right-dark":"chevron-right-light"),alt:"arrow"})]})},s))})]})};function O3e({privacyPolicy:t,termsOfService:e}){const[n]=ei(void 0,{i18n:Pt});return te.jsxs("div",{className:"w3a--mx-auto w3a--mt-auto w3a--flex w3a--flex-col w3a--items-center w3a--justify-center w3a--gap-y-4 w3a--pt-5",children:[(t||e)&&te.jsxs("p",{className:"w3a--mx-auto w3a--w-4/5 w3a--text-center w3a--text-xs w3a--text-app-gray-500 dark:w3a--text-app-gray-400",children:[n("modal.footer.by-signing-in")," ",e&&te.jsxs("a",{href:e,className:"w3a--text-app-primary-600 dark:w3a--text-app-primary-500",children:[n("modal.footer.terms-of-service")," "]}),t&&te.jsxs(te.Fragment,{children:[n("modal.footer.and")," ",te.jsx("a",{href:t,className:"w3a--text-app-primary-600 dark:w3a--text-app-primary-500",children:n("modal.footer.privacy-policy")})]})]}),te.jsxs("div",{className:"w3a--flex w3a--items-center w3a--justify-center w3a--gap-2",children:[te.jsx("img",{height:"36",src:"https://images.web3auth.io/metamask-footer-logo-light.svg",alt:"Web3Auth Logo Light",className:"w3a--block w3a--h-9 dark:w3a--hidden"}),te.jsx("img",{height:"36",src:"https://images.web3auth.io/metamask-footer-logo-dark.svg",alt:"Web3Auth Logo Dark",className:"w3a--hidden w3a--h-9 dark:w3a--block"})]})]})}const V8=()=>te.jsxs("div",{className:"w3a--flex w3a--items-center w3a--justify-center w3a--gap-x-2",children:[te.jsx("div",{className:"w3a--size-3 w3a--animate-pulse w3a--rounded-full w3a--bg-app-gray-500 dark:w3a--bg-app-gray-200"}),te.jsx("div",{className:"w3a--size-3 w3a--animate-pulse w3a--rounded-full w3a--bg-app-gray-400 dark:w3a--bg-app-gray-400"}),te.jsx("div",{className:"w3a--size-3 w3a--animate-pulse w3a--rounded-full w3a--bg-app-gray-200 dark:w3a--bg-app-gray-600"})]});function T3e(t){const[e]=ei(void 0,{i18n:Pt}),{connector:n,appLogo:r,connectorName:i}=t,o=le.useMemo(()=>n==="twitter"?te.jsx(To,{imageId:"login-x-dark"}):te.jsx(To,{imageId:`login-${n}`,height:"40",width:"40"}),[n]);return te.jsxs("div",{className:"w3a--flex w3a--h-full w3a--flex-1 w3a--flex-col w3a--items-center w3a--justify-center w3a--gap-y-4",children:[te.jsxs("div",{className:"w3a--flex w3a--items-center w3a--justify-center w3a--gap-x-6",children:[te.jsx("figure",{className:"w3a--flex w3a--size-10 w3a--items-center w3a--justify-center w3a--overflow-hidden",children:te.jsx("img",{src:r,alt:"",className:"w3a--size-full w3a--object-contain"})}),te.jsx(V8,{}),o]}),te.jsxs("div",{className:"w3a--flex w3a--flex-col w3a--gap-y-1",children:[te.jsx("div",{className:"w3a--text-center w3a--text-sm w3a--text-app-gray-500 dark:w3a--text-app-gray-400",children:e("modal.adapter-loader.message1",{adapter:i})}),te.jsx("div",{className:"w3a--text-center w3a--text-sm w3a--text-app-gray-500 dark:w3a--text-app-gray-400",children:e("modal.adapter-loader.message2",{adapter:i})})]})]})}function M3e(t){const{message:e}=t;return te.jsxs("div",{className:"w3a--flex w3a--flex-col w3a--items-center w3a--gap-y-2",children:[te.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 20 20",className:"w3a--connected-logo",children:te.jsx("path",{fill:"currentColor",fillRule:"evenodd",d:"M6.267 3.455a3.07 3.07 0 0 0 1.745-.723 3.066 3.066 0 0 1 3.976 0 3.07 3.07 0 0 0 1.745.723 3.066 3.066 0 0 1 2.812 2.812c.051.643.304 1.254.723 1.745a3.066 3.066 0 0 1 0 3.976 3.07 3.07 0 0 0-.723 1.745 3.066 3.066 0 0 1-2.812 2.812 3.07 3.07 0 0 0-1.745.723 3.066 3.066 0 0 1-3.976 0 3.07 3.07 0 0 0-1.745-.723 3.066 3.066 0 0 1-2.812-2.812 3.07 3.07 0 0 0-.723-1.745 3.066 3.066 0 0 1 0-3.976 3.07 3.07 0 0 0 .723-1.745 3.066 3.066 0 0 1 2.812-2.812m7.44 5.252a1 1 0 0 0-1.414-1.414L9 10.586 7.707 9.293a1 1 0 0 0-1.414 1.414l2 2a1 1 0 0 0 1.414 0z",clipRule:"evenodd"})}),te.jsx("p",{className:"w3a--text-center w3a--text-sm w3a--text-app-gray-500 dark:w3a--text-app-gray-400",children:e})]})}function N3e(t){const{message:e}=t;return te.jsxs("div",{className:"w3a--flex w3a--flex-col w3a--items-center w3a--gap-y-2",children:[te.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 20 20",className:"w3a--error-logo",children:te.jsx("path",{fill:"currentColor",fillRule:"evenodd",d:"M18 10a8 8 0 1 1-16.001 0A8 8 0 0 1 18 10m-7 4a1 1 0 1 1-2 0 1 1 0 0 1 2 0m-1-9a1 1 0 0 0-1 1v4a1 1 0 1 0 2 0V6a1 1 0 0 0-1-1",clipRule:"evenodd"})}),te.jsx("p",{className:"w3a--text-center w3a--text-sm w3a--text-app-gray-500 dark:w3a--text-app-gray-400",children:e})]})}function R3e(t){const{connector:e,connectorName:n,modalStatus:r,onClose:i,appLogo:o,message:s}=t;return le.useEffect(()=>{r===An.CONNECTED&&setTimeout(()=>{i()},1e3)},[r,i]),te.jsxs("div",{className:"w3a--flex w3a--h-full w3a--flex-1 w3a--flex-col w3a--items-center w3a--justify-center w3a--gap-y-4",children:[r===An.CONNECTING&&te.jsx(T3e,{connector:e,connectorName:n,appLogo:o}),r===An.CONNECTED&&te.jsx(M3e,{message:s}),r===An.ERRORED&&te.jsx(N3e,{message:s})]})}function lo(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function D_(t,e){return D_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,r){return n.__proto__=r,n},D_(t,e)}function L3e(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,D_(t,e)}var $3e=Object.defineProperty,B3e=Object.defineProperties,D3e=Object.getOwnPropertyDescriptors,pb=Object.getOwnPropertySymbols,QW=Object.prototype.hasOwnProperty,XW=Object.prototype.propertyIsEnumerable,j_=(t,e,n)=>e in t?$3e(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,Di=(t,e)=>{for(var n in e||(e={}))QW.call(e,n)&&j_(t,n,e[n]);if(pb)for(var n of pb(e))XW.call(e,n)&&j_(t,n,e[n]);return t},eK=(t,e)=>B3e(t,D3e(e)),j3e=(t,e)=>{var n={};for(var r in t)QW.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&pb)for(var r of pb(t))e.indexOf(r)<0&&XW.call(t,r)&&(n[r]=t[r]);return n},Zn=(t,e,n)=>(j_(t,typeof e!="symbol"?e+"":e,n),n),h0=(t,e,n)=>new Promise((r,i)=>{var o=c=>{try{a(n.next(c))}catch(l){i(l)}},s=c=>{try{a(n.throw(c))}catch(l){i(l)}},a=c=>c.done?r(c.value):Promise.resolve(c.value).then(o,s);a((n=n.apply(t,e)).next())}),F3e="hCaptcha-script",Bv="hCaptchaOnLoad",bN="script-error",Fu="@hCaptcha/loader";function U3e(t){return Object.entries(t).filter(([,e])=>e||e===!1).map(([e,n])=>`${encodeURIComponent(e)}=${encodeURIComponent(String(n))}`).join("&")}function tK(t){let e=t&&t.ownerDocument||document,n=e.defaultView||e.parentWindow||window;return{document:e,window:n}}function nK(t){return t||document.head}function z3e(t){var e;t.setTag("source",Fu),t.setTag("url",document.URL),t.setContext("os",{UA:navigator.userAgent}),t.setContext("browser",Di({},H3e())),t.setContext("device",eK(Di({},W3e()),{screen_width_pixels:screen.width,screen_height_pixels:screen.height,language:navigator.language,orientation:((e=screen.orientation)==null?void 0:e.type)||"Unknown",processor_count:navigator.hardwareConcurrency,platform:navigator.platform}))}function H3e(){var t,e,n,r,i,o;let s=navigator.userAgent,a,c;return s.indexOf("Firefox")!==-1?(a="Firefox",c=(t=s.match(/Firefox\/([\d.]+)/))==null?void 0:t[1]):s.indexOf("Edg")!==-1?(a="Microsoft Edge",c=(e=s.match(/Edg\/([\d.]+)/))==null?void 0:e[1]):s.indexOf("Chrome")!==-1&&s.indexOf("Safari")!==-1?(a="Chrome",c=(n=s.match(/Chrome\/([\d.]+)/))==null?void 0:n[1]):s.indexOf("Safari")!==-1&&s.indexOf("Chrome")===-1?(a="Safari",c=(r=s.match(/Version\/([\d.]+)/))==null?void 0:r[1]):s.indexOf("Opera")!==-1||s.indexOf("OPR")!==-1?(a="Opera",c=(i=s.match(/(Opera|OPR)\/([\d.]+)/))==null?void 0:i[2]):s.indexOf("MSIE")!==-1||s.indexOf("Trident")!==-1?(a="Internet Explorer",c=(o=s.match(/(MSIE |rv:)([\d.]+)/))==null?void 0:o[2]):(a="Unknown",c="Unknown"),{name:a,version:c}}function W3e(){let t=navigator.userAgent,e;t.indexOf("Win")!==-1?e="Windows":t.indexOf("Mac")!==-1?e="Mac":t.indexOf("Linux")!==-1?e="Linux":t.indexOf("Android")!==-1?e="Android":t.indexOf("like Mac")!==-1||t.indexOf("iPhone")!==-1||t.indexOf("iPad")!==-1?e="iOS":e="Unknown";let n;return/Mobile|iPhone|iPod|Android/i.test(t)?n="Mobile":/Tablet|iPad/i.test(t)?n="Tablet":n="Desktop",{model:e,family:e,device:n}}var K3e=class rK{constructor(e){Zn(this,"_parent"),Zn(this,"breadcrumbs",[]),Zn(this,"context",{}),Zn(this,"extra",{}),Zn(this,"tags",{}),Zn(this,"request"),Zn(this,"user"),this._parent=e}get parent(){return this._parent}child(){return new rK(this)}setRequest(e){return this.request=e,this}removeRequest(){return this.request=void 0,this}addBreadcrumb(e){return typeof e.timestamp>"u"&&(e.timestamp=new Date().toISOString()),this.breadcrumbs.push(e),this}setExtra(e,n){return this.extra[e]=n,this}removeExtra(e){return delete this.extra[e],this}setContext(e,n){return typeof n.type>"u"&&(n.type=e),this.context[e]=n,this}removeContext(e){return delete this.context[e],this}setTags(e){return this.tags=Di(Di({},this.tags),e),this}setTag(e,n){return this.tags[e]=n,this}removeTag(e){return delete this.tags[e],this}setUser(e){return this.user=e,this}removeUser(){return this.user=void 0,this}toBody(){let e=[],n=this;for(;n;)e.push(n),n=n.parent;return e.reverse().reduce((r,i)=>{var o;return r.breadcrumbs=[...(o=r.breadcrumbs)!=null?o:[],...i.breadcrumbs],r.extra=Di(Di({},r.extra),i.extra),r.contexts=Di(Di({},r.contexts),i.context),r.tags=Di(Di({},r.tags),i.tags),i.user&&(r.user=i.user),i.request&&(r.request=i.request),r},{breadcrumbs:[],extra:{},contexts:{},tags:{},request:void 0,user:void 0})}clear(){this.breadcrumbs=[],this.context={},this.tags={},this.user=void 0}},q3e=/^\s*at (?:(.*?) ?\()?((?:file|https?|blob|chrome-extension|address|native|eval|webpack|<anonymous>|[-a-z]+:|.*bundle|\/).*?)(?::(\d+))?(?::(\d+))?\)?\s*$/i,V3e=/^\s*(.*?)(?:\((.*?)\))?(?:^|@)?((?:file|https?|blob|chrome|webpack|resource|moz-extension).*?:\/.*?|\[native code\]|[^@]*(?:bundle|\d+\.js))(?::(\d+))?(?::(\d+))?\s*$/i,G3e=/^\s*at (?:((?:\[object object\])?.+) )?\(?((?:file|ms-appx|https?|webpack|blob):.*?):(\d+)(?::(\d+))?\)?\s*$/i,Y3e=/^(?:(\w+):)\/\/(?:(\w+)(?::(\w+))?@)([\w.-]+)(?::(\d+))?\/(.+)/,B1="?",EN="An unknown error occurred",J3e="0.0.4";function Z3e(t){for(let e=0;e<t.length;e++)t[e]=Math.floor(Math.random()*256);return t}function Ir(t){return(t+256).toString(16).substring(1)}function Q3e(){let t=Z3e(new Array(16));return t[6]=t[6]&15|64,t[8]=t[8]&63|128,Ir(t[0])+Ir(t[1])+Ir(t[2])+Ir(t[3])+"-"+Ir(t[4])+Ir(t[5])+"-"+Ir(t[6])+Ir(t[7])+"-"+Ir(t[8])+Ir(t[9])+"-"+Ir(t[10])+Ir(t[11])+Ir(t[12])+Ir(t[13])+Ir(t[14])+Ir(t[15])}var X3e=[[q3e,"chrome"],[G3e,"winjs"],[V3e,"gecko"]];function eEe(t){var e,n,r,i;if(!t.stack)return null;let o=[],s=(r=(n=(e=t.stack).split)==null?void 0:n.call(e,`
`))!=null?r:[];for(let a=0;a<s.length;++a){let c=null,l=null,u=null;for(let[d,f]of X3e)if(l=d.exec(s[a]),l){u=f;break}if(!(!l||!u)){if(u==="chrome")c={filename:(i=l[2])!=null&&i.startsWith("address at ")?l[2].substring(11):l[2],function:l[1]||B1,lineno:l[3]?+l[3]:null,colno:l[4]?+l[4]:null};else if(u==="winjs")c={filename:l[2],function:l[1]||B1,lineno:+l[3],colno:l[4]?+l[4]:null};else if(u==="gecko")a===0&&!l[5]&&t.columnNumber!==void 0&&o.length>0&&(o[0].column=t.columnNumber+1),c={filename:l[3],function:l[1]||B1,lineno:l[4]?+l[4]:null,colno:l[5]?+l[5]:null};else continue;!c.function&&c.lineno&&(c.function=B1),o.push(c)}}return o.length?o.reverse():null}function tEe(t){let e=eEe(t);return{type:t.name,value:t.message,stacktrace:{frames:e??[]}}}function nEe(t){let e=Y3e.exec(t),n=e?e.slice(1):[];if(n.length!==6)throw new Error("Invalid DSN");let r=n[5].split("/"),i=r.slice(0,-1).join("/");return n[0]+"://"+n[3]+(n[4]?":"+n[4]:"")+(i?"/"+i:"")+"/api/"+r.pop()+"/envelope/?sentry_version=7&sentry_key="+n[1]+(n[2]?"&sentry_secret="+n[2]:"")}function rEe(t,e,n){var r,i;let o=Di({event_id:Q3e().replaceAll("-",""),platform:"javascript",sdk:{name:"@hcaptcha/sentry",version:J3e},environment:e,release:n,timestamp:Date.now()/1e3},t.scope.toBody());if(t.type==="exception"){o.message=(i=(r=t.error)==null?void 0:r.message)!=null?i:"Unknown error",o.fingerprint=[o.message];let s=[],a=t.error;for(let c=0;c<5&&a&&(s.push(tEe(a)),!(!a.cause||!(a.cause instanceof Error)));c++)a=a.cause;o.exception={values:s.reverse()}}return t.type==="message"&&(o.message=t.message,o.level=t.level),o}function iEe(t){if(t instanceof Error)return t;if(typeof t=="string")return new Error(t);if(typeof t=="object"&&t!==null&&!Array.isArray(t)){let n=t,{message:r}=n,i=j3e(n,["message"]),o=new Error(typeof r=="string"?r:EN);return Object.assign(o,i)}let e=new Error(EN);return Object.assign(e,{cause:t})}function oEe(t,e,n){return h0(this,null,function*(){var r,i;try{if(typeof fetch<"u"&&typeof AbortSignal<"u"){let o;if(n){let c=new AbortController;o=c.signal,setTimeout(()=>c.abort(),n)}let s=yield fetch(t,eK(Di({},e),{signal:o})),a=yield s.text();return{status:s.status,body:a}}return yield new Promise((o,s)=>{var a,c;let l=new XMLHttpRequest;if(l.open((a=e==null?void 0:e.method)!=null?a:"GET",t),l.onload=()=>o({status:l.status,body:l.responseText}),l.onerror=()=>s(new Error("XHR Network Error")),e==null?void 0:e.headers)for(let[u,d]of Object.entries(e.headers))l.setRequestHeader(u,d);if(n){let u=setTimeout(()=>{l.abort(),s(new Error("Request timed out"))},n);l.onloadend=()=>{clearTimeout(u)}}l.send((c=e==null?void 0:e.body)==null?void 0:c.toString())})}catch(o){return{status:0,body:(i=(r=o==null?void 0:o.toString)==null?void 0:r.call(o))!=null?i:"Unknown error"}}})}var si,F_=(si=class{constructor(t){Zn(this,"apiURL"),Zn(this,"dsn"),Zn(this,"environment"),Zn(this,"release"),Zn(this,"sampleRate"),Zn(this,"debug"),Zn(this,"_scope"),Zn(this,"shouldBuffer",!1),Zn(this,"bufferlimit",20),Zn(this,"buffer",[]);var e,n,r,i,o;this.environment=t.environment,this.release=t.release,this.sampleRate=(e=t.sampleRate)!=null?e:1,this.debug=(n=t.debug)!=null?n:!1,this._scope=(r=t.scope)!=null?r:new K3e,this.apiURL=nEe(t.dsn),this.dsn=t.dsn,this.shouldBuffer=(i=t.buffer)!=null?i:!1,this.bufferlimit=(o=t.bufferLimit)!=null?o:20}static init(t){si._instance||(si._instance=new si(t))}static get instance(){if(!si._instance)throw new Error("Sentry has not been initialized");return si._instance}log(...t){this.debug&&console.log(...t)}get scope(){return this._scope}static get scope(){return si.instance.scope}withScope(t){let e=this._scope.child();t(e)}static withScope(t){si.instance.withScope(t)}captureException(t,e){this.captureEvent({type:"exception",level:"error",error:iEe(t),scope:e??this._scope})}static captureException(t,e){si.instance.captureException(t,e)}captureMessage(t,e="info",n){this.captureEvent({type:"message",level:e,message:t,scope:n??this._scope})}static captureMessage(t,e="info",n){si.instance.captureMessage(t,e,n)}captureEvent(t){if(Math.random()>=this.sampleRate){this.log("Dropped event due to sample rate");return}if(this.shouldBuffer){if(this.buffer.length>=this.bufferlimit)return;this.buffer.push(t)}else this.sendEvent(t)}sendEvent(t,e=5e3){return h0(this,null,function*(){try{this.log("Sending sentry event",t);let n=rEe(t,this.environment,this.release),r={event_id:n.event_id,dsn:this.dsn},i={type:"event"},o=JSON.stringify(r)+`
`+JSON.stringify(i)+`
`+JSON.stringify(n),s=yield oEe(this.apiURL,{method:"POST",headers:{"Content-Type":"application/x-sentry-envelope"},body:o},e);this.log("Sentry response",s.status),s.status!==200&&(console.log(s.body),console.error("Failed to send event to Sentry",s))}catch(n){console.error("Failed to send event",n)}})}flush(t=5e3){return h0(this,null,function*(){try{this.log("Flushing sentry events",this.buffer.length);let e=this.buffer.splice(0,this.buffer.length).map(n=>this.sendEvent(n,t));yield Promise.all(e),this.log("Flushed all events")}catch(e){console.error("Failed to flush events",e)}})}static flush(t=5e3){return si.instance.flush(t)}static reset(){si._instance=void 0}},Zn(si,"_instance"),si),sEe="https://d233059272824702afc8c43834c4912d@sentry.hcaptcha.com/6",aEe="2.1.0",cEe="production";function lEe(t=!0){if(!t)return xN();F_.init({dsn:sEe,release:aEe,environment:cEe});let e=F_.scope;return z3e(e),xN(e)}function xN(t=null){return{addBreadcrumb:e=>{t&&t.addBreadcrumb(e)},captureRequest:e=>{t&&t.setRequest(e)},captureException:e=>{t&&F_.captureException(e,t)}}}function uEe({scriptLocation:t,query:e,loadAsync:n=!0,crossOrigin:r="anonymous",apihost:i="https://js.hcaptcha.com",cleanup:o=!1,secureApi:s=!1,scriptSource:a=""}={},c){let l=nK(t),u=tK(l);return new Promise((d,f)=>{let h=u.document.createElement("script");h.id=F3e,a?h.src=`${a}?onload=${Bv}`:s?h.src=`${i}/1/secure-api.js?onload=${Bv}`:h.src=`${i}/1/api.js?onload=${Bv}`,h.crossOrigin=r,h.async=n;let g=(p,S)=>{try{!s&&o&&l.removeChild(h),S(p)}catch(y){f(y)}};h.onload=p=>g(p,d),h.onerror=p=>{c&&c(h.src),g(p,f)},h.src+=e!==""?`&${e}`:"",l.appendChild(h)})}var D1=[];function dEe(t={cleanup:!1},e){try{e.addBreadcrumb({category:Fu,message:"hCaptcha loader params",data:t});let n=nK(t.scriptLocation),r=tK(n),i=D1.find(({scope:s})=>s===r.window);if(i)return e.addBreadcrumb({category:Fu,message:"hCaptcha already loaded"}),i.promise;let o=new Promise((s,a)=>h0(this,null,function*(){try{r.window[Bv]=()=>{e.addBreadcrumb({category:Fu,message:"hCaptcha script called onload function"}),s(r.window.hcaptcha)};let c=U3e({custom:t.custom,render:t.render,sentry:t.sentry,assethost:t.assethost,imghost:t.imghost,reportapi:t.reportapi,endpoint:t.endpoint,host:t.host,recaptchacompat:t.recaptchacompat,hl:t.hl});yield uEe(Di({query:c},t),l=>{e.captureRequest({url:l,method:"GET"})}),e.addBreadcrumb({category:Fu,message:"hCaptcha loaded",data:i})}catch{e.addBreadcrumb({category:Fu,message:"hCaptcha failed to load"});let l=D1.findIndex(u=>u.scope===r.window);l!==-1&&D1.splice(l,1),a(new Error(bN))}}));return D1.push({promise:o,scope:r.window}),o}catch(n){return e.captureException(n),Promise.reject(new Error(bN))}}function iK(t,e,n=0){return h0(this,null,function*(){let r=n<2?"Retry loading hCaptcha Api":"Exceeded maximum retries";try{return yield dEe(t,e)}catch(i){return e.addBreadcrumb({category:Fu,message:r}),n>=2?(e.captureException(i),Promise.reject(i)):(n+=1,iK(t,e,n))}})}function fEe(){return h0(this,arguments,function*(t={}){let e=lEe(t.sentry);return yield iK(t,e)})}function SN(t){var e=t&&t.ownerDocument||document,n=e.defaultView||e.parentWindow||window;return{document:e,window:n}}function _N(t){return t||document.head}var hEe=function(t){L3e(e,t);function e(r){var i;return i=t.call(this,r)||this,i._hcaptcha=void 0,i.renderCaptcha=i.renderCaptcha.bind(lo(i)),i.resetCaptcha=i.resetCaptcha.bind(lo(i)),i.removeCaptcha=i.removeCaptcha.bind(lo(i)),i.isReady=i.isReady.bind(lo(i)),i._onReady=null,i.loadCaptcha=i.loadCaptcha.bind(lo(i)),i.handleOnLoad=i.handleOnLoad.bind(lo(i)),i.handleSubmit=i.handleSubmit.bind(lo(i)),i.handleExpire=i.handleExpire.bind(lo(i)),i.handleError=i.handleError.bind(lo(i)),i.handleOpen=i.handleOpen.bind(lo(i)),i.handleClose=i.handleClose.bind(lo(i)),i.handleChallengeExpired=i.handleChallengeExpired.bind(lo(i)),i.ref=le.createRef(),i.apiScriptRequested=!1,i.sentryHub=null,i.captchaId="",i.state={isApiReady:!1,isRemoved:!1,elementId:r.id},i}var n=e.prototype;return n.componentDidMount=function(){var i=this,o=_N(this.props.scriptLocation),s=SN(o);this._hcaptcha=s.window.hcaptcha||void 0;var a=typeof this._hcaptcha<"u";if(a){this.setState({isApiReady:!0},function(){i.renderCaptcha()});return}this.loadCaptcha()},n.componentWillUnmount=function(){var i=this._hcaptcha,o=this.captchaId;this.isReady()&&(i.reset(o),i.remove(o))},n.shouldComponentUpdate=function(i,o){return!(this.state.isApiReady!==o.isApiReady||this.state.isRemoved!==o.isRemoved)},n.componentDidUpdate=function(i){var o=this,s=["sitekey","size","theme","tabindex","languageOverride","endpoint"],a=s.every(function(c){return i[c]===o.props[c]});a||this.removeCaptcha(function(){o.renderCaptcha()})},n.loadCaptcha=function(){if(!this.apiScriptRequested){var i=this.props,o=i.apihost,s=i.assethost,a=i.endpoint,c=i.host,l=i.imghost,u=i.languageOverride,d=i.reCaptchaCompat,f=i.reportapi,h=i.sentry,g=i.custom,p=i.loadAsync,S=i.scriptLocation,y=i.scriptSource,b=i.secureApi,_=i.cleanup,N=_===void 0?!0:_,O={render:"explicit",apihost:o,assethost:s,endpoint:a,hl:u,host:c,imghost:l,recaptchacompat:d===!1?"off":null,reportapi:f,sentry:h,custom:g,loadAsync:p,scriptLocation:S,scriptSource:y,secureApi:b,cleanup:N};fEe(O).then(this.handleOnLoad,this.handleError).catch(this.handleError),this.apiScriptRequested=!0}},n.renderCaptcha=function(i){var o=this,s=this.props.onReady,a=this.state.isApiReady,c=this.captchaId;if(!(!a||c)){var l=Object.assign({"open-callback":this.handleOpen,"close-callback":this.handleClose,"error-callback":this.handleError,"chalexpired-callback":this.handleChallengeExpired,"expired-callback":this.handleExpire,callback:this.handleSubmit},this.props,{hl:this.props.hl||this.props.languageOverride,languageOverride:void 0}),u=this._hcaptcha,d=u.render(this.ref.current,l);this.captchaId=d,this.setState({isRemoved:!1},function(){i&&i(),s&&s(),o._onReady&&o._onReady(d)})}},n.resetCaptcha=function(){var i=this._hcaptcha,o=this.captchaId;this.isReady()&&i.reset(o)},n.removeCaptcha=function(i){var o=this,s=this._hcaptcha,a=this.captchaId;this.isReady()&&this.setState({isRemoved:!0},function(){o.captchaId="",s.remove(a),i&&i()})},n.handleOnLoad=function(){var i=this;this.setState({isApiReady:!0},function(){var o=_N(i.props.scriptLocation),s=SN(o);i._hcaptcha=s.window.hcaptcha,i.renderCaptcha(function(){var a=i.props.onLoad;a&&a()})})},n.handleSubmit=function(i){var o=this.props.onVerify,s=this.state.isRemoved,a=this._hcaptcha,c=this.captchaId;if(!(typeof a>"u"||s)){var l=a.getResponse(c),u=a.getRespKey(c);o&&o(l,u)}},n.handleExpire=function(){var i=this.props.onExpire,o=this._hcaptcha,s=this.captchaId;this.isReady()&&(o.reset(s),i&&i())},n.handleError=function(i){var o=this.props.onError,s=this._hcaptcha,a=this.captchaId;this.isReady()&&s.reset(a),o&&o(i)},n.isReady=function(){var i=this.state,o=i.isApiReady,s=i.isRemoved;return o&&!s},n.handleOpen=function(){!this.isReady()||!this.props.onOpen||this.props.onOpen()},n.handleClose=function(){!this.isReady()||!this.props.onClose||this.props.onClose()},n.handleChallengeExpired=function(){!this.isReady()||!this.props.onChalExpired||this.props.onChalExpired()},n.execute=function(i){var o=this;i===void 0&&(i=null),i=typeof i=="object"?i:null;try{var s=this._hcaptcha,a=this.captchaId;if(!this.isReady()){var c,l=new Promise(function(u,d){o._onReady=function(f){try{var h=o._hcaptcha;i&&i.async?h.execute(f,i).then(u).catch(d):u(h.execute(f,i))}catch(g){d(g)}}});return(c=i)!=null&&c.async?l:null}return s.execute(a,i)}catch(u){return i&&i.async?Promise.reject(u):null}},n.close=function(){var i=this._hcaptcha,o=this.captchaId;if(this.isReady())return i.close(o)},n.setData=function(i){var o=this._hcaptcha,s=this.captchaId;this.isReady()&&(i&&typeof i!="object"&&(i=null),o.setData(s,i))},n.getResponse=function(){var i=this._hcaptcha;return i.getResponse(this.captchaId)},n.getRespKey=function(){var i=this._hcaptcha;return i.getRespKey(this.captchaId)},n.render=function(){var i=this.state.elementId;return le.createElement("div",{ref:this.ref,id:i})},e}(le.Component);class oK{constructor(e){if(ue(this,"authBaseApiUrl",void 0),ue(this,"passwordlessParams",void 0),ue(this,"trackingIdentifier",void 0),ue(this,"version",`web3auth-${Sbe.split(".")[0]}`),!e.authConnection)throw Fe.invalidParams("authConnection is required");if(!e.web3authClientId)throw Fe.invalidParams("web3authClientId is required");if(!e.loginHint)throw Fe.invalidParams("loginHint is required");if(!e.network)throw Fe.invalidParams("network is required");e.authBuildEnv||(e.authBuildEnv=li.PRODUCTION),this.authBaseApiUrl=`${kbe[e.authBuildEnv]}/api/v3/auth`,this.passwordlessParams=e}get name(){if(this.passwordlessParams.authConnection===Be.EMAIL_PASSWORDLESS)return"Email";if(this.passwordlessParams.authConnection===Be.SMS_PASSWORDLESS)return"Mobile";throw Fe.invalidParams("Invalid authConnection")}get connection(){if(this.passwordlessParams.authConnection===Be.EMAIL_PASSWORDLESS)return"email";if(this.passwordlessParams.authConnection===Be.SMS_PASSWORDLESS)return"sms";throw Fe.invalidParams("Invalid authConnection")}get trackingId(){return this.trackingIdentifier}get sessionStorageAvailable(){return vx("sessionStorage")}get whiteLabelParams(){var e;const{uiConfig:n}=this.passwordlessParams;if(!n)return{};const{appName:r,appUrl:i,defaultLanguage:o,mode:s,logoLight:a,logoDark:c,theme:l}=n,u=(e=s==="dark"?c:a)!==null&&e!==void 0?e:"";return{mode:s??"light",name:r??"",url:i??"",language:o??"en",logo:u.includes(".svg")?"":u,theme:l??{}}}set trackingId(e){this.trackingIdentifier=e}async start(e){try{const r=await Id(`${this.authBaseApiUrl}/passwordless/start`,e);if(r&&r.success){var n;this.trackingId=(n=r.data)===null||n===void 0?void 0:n.trackingId,this.sessionStorageAvailable&&window.sessionStorage.setItem("trackingId",this.trackingId)}return r}catch(r){return this.handleError(r)}}async verify(e){try{const n=await Id(`${this.authBaseApiUrl}/passwordless/verify`,e);return n.success?(this.sessionStorageAvailable&&window.sessionStorage.removeItem("trackingId"),{success:!0,data:{id_token:n.id_token}}):{success:!1,error:n.message}}catch(n){return this.handleError(n)}}async handleError(e){let n;if(e.status===429)n="passwordless.error-too-many-requests";else try{const r=await e.json();n=r.error_code?C2e(r.error_code):r.message}catch{n="passwordless.something-wrong-error"}return{success:!1,error:n}}}class pEe extends oK{constructor(e){var n;super(e),ue(this,"mailSent",void 0),this.mailSent=!1,this.sessionStorageAvailable&&(this.trackingId=(n=window.sessionStorage.getItem("trackingId"))!==null&&n!==void 0?n:void 0)}async sendVerificationCode({captchaToken:e}){const{loginHint:n,network:r,web3authClientId:i}=this.passwordlessParams,o={client_id:i,web3auth_client_id:i,connection:this.connection,login_hint:n,tracking_id:this.trackingId,whitelabel:this.whiteLabelParams,version:this.version,network:r,flow_type:bx.code,captcha_token:e};return super.start(o)}async verifyCode(e){const{loginHint:n,network:r,web3authClientId:i}=this.passwordlessParams,o={client_id:i,login_hint:n,code:e,connection:"email",tracking_id:this.trackingId,version:this.version,network:r,flow_type:bx.code};return super.verify(o)}}class gEe extends oK{constructor(e){if(super(e),this.sessionStorageAvailable){var n;this.trackingId=(n=window.sessionStorage.getItem("trackingId"))!==null&&n!==void 0?n:void 0}}async sendVerificationCode({captchaToken:e}){const{loginHint:n,network:r,web3authClientId:i}=this.passwordlessParams,o=ae({client_id:i,web3auth_client_id:i,connection:this.connection,login_hint:n,tracking_id:this.trackingId,whitelabel:this.whiteLabelParams,version:this.version,network:r},e&&{captcha_token:e});return super.start(o)}async verifyCode(e){const{loginHint:n,network:r,web3authClientId:i}=this.passwordlessParams,o={client_id:i,login_hint:n,code:e,connection:this.connection,tracking_id:this.trackingId,version:this.version,network:r};return super.verify(o)}}const mEe=(t,e)=>{switch(t){case Be.EMAIL_PASSWORDLESS:return new pEe(e);case Be.SMS_PASSWORDLESS:return new gEe(e);default:throw Fe.invalidParams(`Unsupported auth connection: ${t}`)}},yEe="test_account_",vEe="@example.com",wEe="+1-555",bEe=(t,e)=>{if(t===Be.EMAIL_PASSWORDLESS)return e.startsWith(yEe)&&e.endsWith(vEe);if(t===Be.SMS_PASSWORDLESS)return e.startsWith(wEe);throw Fe.invalidParams(`Unsupported auth connection: ${t}`)},EEe=({children:t,content:e,isDark:n=!1,hideHint:r=!1})=>{const[i,o]=le.useState(!1),s=()=>{o(!0)},a=()=>{o(!1)},c=le.useMemo(()=>{const l="8px",u=n?"#ffffff":"#1f2a37";return{borderTop:`${l} solid transparent`,borderRight:"none",borderBottom:`${l} solid transparent`,borderLeft:`${l} solid ${u}`,left:"0%",top:`calc(100% - ${l})`}},[n]);return te.jsxs("div",{className:"w3a--relative","aria-hidden":!0,onMouseEnter:s,onMouseLeave:a,onFocus:s,onBlur:a,onClick:a,children:[t,i&&!r&&te.jsxs("div",{"data-popover":!0,role:"tooltip",className:At("w3a--absolute w3a--z-[45] w3a--shadow-2xl w3a--rounded-lg w3a--bottom-[100%] w3a--left-[50%] w3a--w-max w3a--text-xs w3a--px-[6px] w3a--py-[3px]",n?"w3a--bg-app-white w3a--text-app-gray-900":"w3a--bg-app-gray-800 w3a--text-app-gray-100"),children:[e,te.jsx("div",{className:"w3a--absolute",style:c})]})]})};function CN(t,e,n){const r=t===Be.TWITTER?`login-X${e?"-light":"-dark"}`:`login-${t}${e?"-light":"-dark"}`,i=t===Be.APPLE||t===Be.GITHUB||t===Be.TWITTER?r:`login-${t}-active`;return te.jsxs(te.Fragment,{children:[te.jsx("img",{id:"active-login-img",src:`https://images.web3auth.io/${i}${n}`,alt:"active-login-img",className:"w3a--hidden w3a--size-5 w3a--object-contain group-hover:w3a--block"}),te.jsx("img",{id:"login-img",src:`https://images.web3auth.io/${r}${n}`,alt:"login-img",className:"w3a--block w3a--size-5 w3a--object-contain group-hover:w3a--hidden"})]})}function xEe(t){const{visibleRow:e,otherRow:n,isDark:r,canShowMore:i,handleSocialLoginClick:o,handleExpandSocialLogins:s,buttonRadius:a}=t,c=()=>e.length===1?"w3a--grid-cols-1":e.length===2?"w3a--grid-cols-2":e.length===3?"w3a--grid-cols-3":"w3a--grid-cols-4";return e.length!==0&&(n==null?void 0:n.length)===0?te.jsx("div",{className:"w3a--flex w3a--w-full w3a--flex-col w3a--items-center w3a--justify-center w3a--gap-y-2",children:te.jsxs("div",{className:At("w3a--grid w3a--w-full w3a--gap-x-2",c()),children:[e.filter((l,u)=>e.length===4?u<=3:u<3).map(l=>te.jsx(EEe,{content:"Last Login",isDark:r,hideHint:!0,children:te.jsx($v,{type:Ih.SOCIAL,props:{showText:!1,method:l.method,isDark:r,isPrimaryBtn:!1,btnStyle:"w3a--flex w3a--items-center !w3a--justify-center w3a--w-full w3a--h-11 w3a--group",children:te.jsx(te.Fragment,{children:CN(l.method,r,".svg")}),onClick:()=>o({connector:l.connector,loginParams:l.loginParams}),buttonRadius:a}},l.method)},l.method)),i&&e.length>4&&te.jsx($v,{type:Ih.SOCIAL,props:{showIcon:!1,onClick:s,btnStyle:"w3a--flex w3a--items-center !w3a--justify-center w3a--w-full w3a--h-11",children:te.jsx("img",{src:xi(r?"dots-dark-horizontal":"dots-light-horizontal"),alt:"Logo",className:"w3a--object-contain"}),buttonRadius:a}})]})}):te.jsxs("div",{className:"w3a--flex w3a--w-full w3a--flex-col w3a--items-start w3a--justify-start w3a--gap-y-4",children:[te.jsx("button",{type:"button",className:"w3a--appearance-none",onClick:()=>s(),children:te.jsx("img",{src:xi(r?"arrow-left-dark":"arrow-left-light"),alt:"Logo",className:"w3a--object-contain"})}),te.jsx("div",{className:"w3a--social-container w3a--grid w3a--h-[300px] w3a--w-full w3a--auto-rows-min w3a--grid-cols-1 w3a--gap-y-2 w3a--overflow-y-auto w3a--pl-2 w3a--pr-3",children:n.map(l=>te.jsx("div",{className:"w3a--h-11 w3a--w-full",children:te.jsx($v,{type:Ih.SOCIAL,props:{method:l.method,isDark:r,isPrimaryBtn:!1,onClick:()=>o({connector:l.connector,loginParams:l.loginParams}),btnStyle:"w3a--group w3a--relative w3a--overflow-hidden w3a--flex w3a--items-center !w3a--justify-start w3a--w-full w3a--h-11",buttonRadius:a,children:te.jsxs(te.Fragment,{children:[CN(l.method,r,".svg"),te.jsx("p",{className:"w3a--text-sm w3a--font-normal w3a--text-app-gray-900 dark:w3a--text-app-white",children:l.name}),te.jsx("img",{id:"login-arrow",className:"w3a--absolute w3a--right-4 w3a--top-1/2 -w3a--translate-x-10 -w3a--translate-y-1/2 w3a--opacity-0 w3a--transition-all w3a--duration-300 group-hover:w3a--translate-x-0 group-hover:w3a--opacity-100",src:xi(r?"chevron-right-dark":"chevron-right-light"),alt:"arrow"})]})}})},l.method))})]})}const sK=le.forwardRef(({length:t,loading:e,resendTimer:n=60,onComplete:r,onChange:i,error:o=!1,success:s=!1,disabled:a=!1,classes:c,helperText:l="",onResendTimer:u,showCta:d=!0,showTimer:f=!0,autoFocus:h=!1,placeholder:g="",autoComplete:p="one-time-code",type:S="text",resendBtnText:y=""},b)=>{const[_,N]=le.useState(Array(t).fill("")),[O,$]=le.useState(n??0),[j]=ei(void 0,{i18n:Pt}),k=le.useRef([]),T=I=>/^\d$/.test(I)&&I.trim().length===1,L=(I,M)=>{if(I.key==="Backspace"||I.key==="Delete"){I.preventDefault();const R=[..._];if(_[M]!=="")R[M]="";else if(M>0){var E;(E=k.current[M-1])===null||E===void 0||E.focus(),R[M-1]=""}N(R),i&&i(R.join(""))}else if(I.key==="ArrowLeft"){var C;I.preventDefault(),(C=k.current[M-1])===null||C===void 0||C.focus()}else if(I.key==="ArrowRight"){var x;I.preventDefault(),(x=k.current[M+1])===null||x===void 0||x.focus()}else(I.key===" "||I.key==="Spacebar"||I.key==="Space"||!T(I.key)&&k.current[M+1])&&(I.preventDefault(),k.current[M+1].value="")},P=(I,M)=>{I.preventDefault();const{value:E}=I.target;if(E&&E.length>1&&E.length===t){var C;const R=E.split(""),D=[..._];R.forEach((B,z)=>{D[z]=B}),N(D),(C=k.current[R.length===t?t-1:R.length])===null||C===void 0||C.focus(),r&&t===D.length&&r(D.join(""))}else if(T(E)){const R=[..._].slice(0,t);R[M]=E,N(R);const D=R.join("");if(M<t-1&&k.current[M+1]){var x;(x=k.current[M+1])===null||x===void 0||x.focus()}i&&i(E),r&&t===D.length&&r(D)}},m=I=>{I.preventDefault();const M=I.clipboardData.getData("text").slice(0,t);if(M&&/^\d+$/.test(M)){var E;const C=M.split(""),x=[..._];C.forEach((R,D)=>{x[D]=R}),N(x),(E=k.current[C.length===t?t-1:C.length])===null||E===void 0||E.focus(),r&&t===x.length&&r(x.join(""))}},w=()=>{$(n||0),u&&u()};le.useEffect(()=>{let I=null;return d&&f&&(I=window.setInterval(()=>{O>0?$(M=>M-1):clearInterval(I)},1e3)),()=>{clearInterval(I)}},[O]),le.useEffect(()=>{if(k&&h){var I;(I=k.current)===null||I===void 0||I[0].focus()}},[h]);const A=At("w3a--text-xs w3a--font-normal w3a--text-app-gray-500 dark:w3a--text-app-white w3a--mt-2",{"w3a--text-app-red-500 dark:w3a--text-app-red-400":o,"w3a--text-app-green-500 dark:w3a--text-app-green-400":s},c==null?void 0:c.helperText),v=new Date().getFullYear();return te.jsxs("div",{className:At("w3a--flex w3a--flex-col w3a--items-center",c==null?void 0:c.root),ref:b,children:[te.jsx("form",{className:At("w3a--flex w3a--space-x-2",c==null?void 0:c.inputContainer),children:_.map((I,M)=>{var E,C,x;return te.jsx("input",{id:`${v+M}`,type:S,value:I,autoComplete:p,placeholder:Array.isArray(g)?g[M]:g,inputMode:"numeric",onInput:R=>P(R,M),onKeyUp:R=>L(R,M),onPaste:m,className:At("w3a--w-12 w3a--h-[42px] w3a--rounded-full w3a--border w3a--text-center w3a--text-xl w3a--focus:outline-none w3a--active:outline-none w3a--focus:border-app-primary-600 dark:w3a--focus:border-app-primary-500 w3a--border-app-gray-300 dark:w3a--border-app-gray-500 w3a--bg-app-gray-50 dark:w3a--bg-app-gray-700 w3a--text-app-gray-900 dark:w3a--text-app-white",s&&((E=c==null?void 0:c.success)!==null&&E!==void 0?E:"w3a--border-app-green-400 dark:w3a--border-app-green-500 w3a--focus:w3a--border-app-green-400 dark:w3a--focus:w3a--border-app-green-500"),o&&((C=c==null?void 0:c.error)!==null&&C!==void 0?C:"w3a--border-app-red-600 dark:w3a--border-app-red-500 w3a--focus:w3a--border-app-red-600 dark:w3a--focus:w3a--border-app-red-500"),a&&((x=c==null?void 0:c.disabled)!==null&&x!==void 0?x:"w3a--border-app-gray-200 w3a--bg-app-gray-200 dark:w3a--border-app-gray-700 w3a--focus:w3a--border-app-gray-200 dark:w3a--focus:w3a--border-app-gray-700 w3a--cursor-not-allowed"),c==null?void 0:c.input),ref:R=>{k.current[M]=R},disabled:a},`${v+M}`)})}),l&&te.jsx("p",{className:A,children:l}),e&&te.jsx("div",{className:"w3a--mt-3",children:te.jsx(V8,{})}),d&&!e&&te.jsx("div",{className:At("w3a--flex w3a--items-center w3a--mt-3",c==null?void 0:c.ctaContainer),children:O>0&&f?te.jsx("span",{className:At("w3a--text-xs w3a--text-app-gray-500 dark:w3a--text-app-gray-400",c==null?void 0:c.timerText),children:j("modal.resendTimer",{timer:O})}):te.jsx("button",{type:"button",className:At("w3a--text-xs w3a--p-0 w3a--text-app-primary-600 dark:w3a--text-app-primary-500",c==null?void 0:c.resendBtnText),onClick:w,disabled:O>0&&f,children:y||j("modal.resendCode")})})]})});sK.displayName="OtpInput";function SEe(t){const{setShowOtpFlow:e,handleOtpComplete:n,authConnection:r,loginHint:i="",errorMessage:o,otpLoading:s,countryFlag:a}=t,c=le.useMemo(()=>r===Be.SMS_PASSWORDLESS,[r]),[l]=ei(void 0,{i18n:Pt}),u=le.useMemo(()=>{if(r===Be.EMAIL_PASSWORDLESS)return i;const[d,f]=i.includes("-")?i.split("-"):["",i],h=`${f}`.slice(-Math.floor(f.length/2)).padStart(`${f}`.length,"*");return`${a} ${d} ${h}`},[i,r,a]);return te.jsxs(te.Fragment,{children:[te.jsx("div",{className:"w3a--mr-auto w3a--flex w3a--w-full w3a--items-start w3a--justify-start",children:te.jsx("button",{type:"button",className:"w3a--z-20 w3a--flex w3a--size-5 w3a--cursor-pointer w3a--items-center w3a--justify-center w3a--rounded-full",onClick:()=>e(!1),children:te.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 20 20",className:"w3a--text-app-gray-900 dark:w3a--text-app-white",children:te.jsx("path",{fill:"currentColor",fillRule:"evenodd",d:"M9.707 16.707a1 1 0 0 1-1.414 0l-6-6a1 1 0 0 1 0-1.414l6-6a1 1 0 0 1 1.414 1.414L5.414 9H17a1 1 0 1 1 0 2H5.414l4.293 4.293a1 1 0 0 1 0 1.414",clipRule:"evenodd"})})})}),te.jsxs("div",{className:"-w3a--mt-10 w3a--flex w3a--size-full w3a--flex-1 w3a--flex-col w3a--items-center w3a--justify-center w3a--gap-y-4",children:[te.jsx("img",{src:xi(c?"sms-otp-light":"email-otp-light"),alt:"otp",className:"w3a--size-auto"}),te.jsxs("div",{className:"w3a--mx-auto -w3a--mt-6 w3a--flex w3a--w-full w3a--flex-col w3a--items-center w3a--justify-center w3a--gap-y-2",children:[te.jsx("p",{className:"w3a--text-lg w3a--font-bold w3a--text-app-gray-900 dark:w3a--text-app-white",children:l(c?"modal.otp.mobile-title":"modal.otp.email-title")}),te.jsxs("div",{className:"w3a--mx-auto w3a--flex w3a--w-full w3a--flex-col w3a--items-center w3a--justify-center w3a--gap-y-1",children:[te.jsx("p",{className:"w3a--text-center w3a--text-sm w3a--font-normal w3a--text-app-gray-500 dark:w3a--text-app-gray-300",children:l(c?"modal.otp.mobile-subtext":"modal.otp.email-subtext")}),te.jsx("p",{className:"w3a--text-center w3a--text-sm w3a--font-normal w3a--text-app-gray-500 dark:w3a--text-app-gray-300",children:c?u:l("modal.otp.email-subtext-example",{email:u})})]})]}),te.jsx(sK,{length:6,onComplete:n,error:!!o,helperText:o,loading:s,disabled:s})]})]})}function _Ee(t){const{otpLoading:e,setShowOtpFlow:n,handleOtpComplete:r,authConnection:i,loginHint:o,errorMessage:s,countryFlag:a}=t;return te.jsx("div",{className:"w3a--flex w3a--size-full w3a--flex-1 w3a--flex-col w3a--items-center w3a--justify-center w3a--gap-y-4",children:te.jsx(SEe,{errorMessage:s,setShowOtpFlow:n,handleOtpComplete:r,authConnection:i,loginHint:o,otpLoading:e,countryFlag:a})})}function CEe(t){const{isModalVisible:e,isPasswordLessCtaClicked:n,setIsPasswordLessCtaClicked:r,title:i,placeholder:o,handleFormSubmit:s,errorMessage:a,isDark:c,isPasswordLessLoading:l,buttonRadius:u}=t,[d]=ei(void 0,{i18n:Pt}),f=le.useRef(null),[h,g]=le.useState(""),[p,S]=le.useState(!1),y=N=>{g(N.target.value),S(!0)},b=N=>{const{key:O}=N;O==="Enter"&&(s(h),S(!1))},_=N=>{N.preventDefault(),N.stopPropagation(),s(h),S(!1)};return le.useEffect(()=>{e||r(!1)},[e,r]),le.useEffect(()=>{if(n){var N;(N=f.current)===null||N===void 0||N.focus()}},[n]),n?te.jsxs(te.Fragment,{children:[te.jsxs("div",{className:At("w3a--input",p&&"!w3a--border-app-primary-600",{"w3a--rounded-full":u==="pill","w3a--rounded-lg":u==="rounded","w3a--rounded-none":u==="square"}),children:[te.jsx("input",{ref:f,onInput:y,value:h,placeholder:o,onFocus:()=>{S(!0)},onBlur:N=>{N.target.placeholder=`${o}`,S(!1)},type:"text",className:At("w3a--w-full w3a--appearance-none w3a--bg-transparent w3a--text-app-gray-900 w3a--outline-none placeholder:w3a--text-xs placeholder:w3a--text-app-gray-400 focus:w3a--outline-none active:w3a--outline-none dark:w3a--text-app-white dark:placeholder:w3a--text-app-gray-500"),onKeyDown:N=>b(N),disabled:l}),l&&te.jsx(V8,{}),h&&!l&&te.jsx("button",{type:"button",className:"w3a--appearance-none",onClick:_,children:te.jsx("img",{src:xi(c?"chevron-right-dark":"chevron-right-light"),alt:"arrow"})})]}),a&&!p&&n&&te.jsx("p",{className:"w3a--w-full w3a--pl-6 w3a--text-start w3a--text-xs w3a--font-normal w3a--text-app-red-500 dark:w3a--text-app-red-400",children:a})]}):te.jsxs("button",{type:"button",className:At("w3a--btn !w3a--justify-between w3a--relative w3a--group w3a--overflow-hidden",{"w3a--rounded-full":u==="pill","w3a--rounded-lg":u==="rounded","w3a--rounded-none":u==="square"}),onClick:()=>{r(!0)},children:[te.jsx("p",{className:"w3a--text-app-gray-900 dark:w3a--text-app-white",children:d("modal.passwordless.title",{title:i})}),te.jsx("img",{id:"passwordless-arrow",className:"w3a--absolute w3a--right-4 w3a--top-1/2 -w3a--translate-x-6 -w3a--translate-y-1/2 w3a--opacity-0 w3a--transition-all w3a--duration-300 group-hover:w3a--translate-x-0 group-hover:w3a--opacity-100",src:xi(c?"chevron-right-dark":"chevron-right-light"),alt:"arrow"})]})}const AEe=[Be.SMS_PASSWORDLESS,Be.EMAIL_PASSWORDLESS,Be.AUTHENTICATOR,Be.PASSKEYS,Be.TELEGRAM,Be.CUSTOM];function IEe(t){const{web3authClientId:e,web3authNetwork:n,authBuildEnv:r,appLogo:i,isModalVisible:o,handleSocialLoginHeight:s,socialLoginsConfig:a,installedExternalWalletConfig:c,isDark:l,handleSocialLoginClick:u,totalExternalWallets:d,isEmailPasswordLessLoginVisible:f,isSmsPasswordLessLoginVisible:h,handleExternalWalletBtnClick:g,handleExternalWalletClick:p,areSocialLoginsVisible:S,showPasswordLessInput:y,showExternalWalletButton:b,showExternalWalletCount:_,showInstalledExternalWallets:N,logoAlignment:O="center",buttonRadius:$="pill",deviceDetails:j}=t,[k]=ei(void 0,{i18n:Pt}),{bodyState:T,setBodyState:L}=le.useContext(gy),{analytics:P}=le.useContext(K8),[m,w]=le.useState(""),[A,v]=le.useState(""),[I,M]=le.useState(""),[E,C]=le.useState(""),[x,R]=le.useState(!1),[D,B]=le.useState(!1),[z,H]=le.useState([]),[W,G]=le.useState([]),[V,J]=le.useState(!1),[Y,ee]=le.useState(!1),[ne,K]=le.useState(void 0),[Q,ie]=le.useState(void 0),[ce,he]=le.useState(!1),[pe,Ee]=le.useState(!1),[Le,De]=le.useState(!1),[we,Je]=le.useState(""),He=le.useRef(null),Xe=()=>{R(Ne=>!Ne),J(!1),s()};le.useEffect(()=>{const Ne=Object.keys(a.loginMethods).filter(X=>a.loginMethods[X].showOnModal),ct=[],Tt=[],ut=(a.loginMethodsOrder||[]).reduce((X,re,_e)=>(X[re]=_e,X),{}),it=Object.keys(a.loginMethods).filter(X=>!!a.loginMethods[X].showOnModal&&!AEe.includes(X)).sort((X,re)=>{var _e,Oe;const Re=(a.loginMethodsOrder||[]).length,dt=(_e=ut[X])!==null&&_e!==void 0?_e:Re,fn=(Oe=ut[re])!==null&&Oe!==void 0?Oe:Re,{mainOption:Dt}=a.loginMethods[X]||{},{mainOption:kt}=a.loginMethods[re]||{};return Dt&&kt?dt-fn:Dt?-1:kt?1:dt-fn});it.forEach((X,re)=>{var _e;const Oe=a.loginMethods[X],Re=H8(Oe.name||X),dt=re+1,fn=(a==null||(_e=a.uiConfig)===null||_e===void 0?void 0:_e.primaryButton)==="socialLogin"&&dt===1,Dt=it.length;(Dt>=4?dt>0&&dt<=Dt:dt>0&&dt<4)&&ct.push({method:X,isDark:l,isPrimaryBtn:fn,name:Re,connector:a.connector,loginParams:{authConnection:Oe.authConnection||X,authConnectionId:Oe.authConnectionId,groupedAuthConnectionId:Oe.groupedAuthConnectionId,extraLoginOptions:Oe.extraLoginOptions,name:Re,login_hint:""},order:dt}),Tt.push({method:X,isDark:l,isPrimaryBtn:fn,name:Re==="Twitter"?"X":Re,connector:a.connector,loginParams:{authConnection:X,authConnectionId:Oe.authConnectionId,groupedAuthConnectionId:Oe.groupedAuthConnectionId,extraLoginOptions:Oe.extraLoginOptions,name:Re,login_hint:""},order:dt})}),H(ct),G(Tt),B(Ne.length>4)},[a,l,$]);const ze=async(Ne,ct)=>{try{const ut=mEe(Ne,{loginHint:ct,web3authClientId:e,network:n,uiConfig:a.uiConfig,authConnection:Ne,authBuildEnv:r});let it;if(!bEe(Ne,ct)){var Tt;const re=await((Tt=He.current)===null||Tt===void 0?void 0:Tt.execute({async:!0}));if(!re)throw ot.connectionError("Captcha token is required");it=re.response}const X=await ut.sendVerificationCode({captchaToken:it});if(X!=null&&X.error){M(k(X.error));return}K(Ne),ee(!0),ie(ut)}catch(ut){$e.error(ut)}finally{he(!1)}},q=async Ne=>{if(he(!0),f&&Ne.match(/^([\w.%+-]+)@([\w-]+\.)+([\w]{2,})$/i)){const Tt=a.loginMethods[Be.EMAIL_PASSWORDLESS];return Tt.isDefault?u({connector:a.connector,loginParams:{authConnection:Be.EMAIL_PASSWORDLESS,authConnectionId:Tt.authConnectionId,groupedAuthConnectionId:Tt.groupedAuthConnectionId,extraLoginOptions:Tt.extraLoginOptions,loginHint:Ne,name:"Email"}}):ze(Be.EMAIL_PASSWORDLESS,Ne)}if(h){const ct=Ne.startsWith("+")?Ne:`${m}${Ne}`,Tt=await S2e(ct);if(Tt.success){const ut=typeof Tt.parsed_number=="string"?Tt.parsed_number:ct,it=a.loginMethods[Be.SMS_PASSWORDLESS];return it.isDefault?u({connector:a.connector,loginParams:{authConnection:Be.SMS_PASSWORDLESS,authConnectionId:it.authConnectionId,groupedAuthConnectionId:it.groupedAuthConnectionId,extraLoginOptions:it.extraLoginOptions,loginHint:ut,name:"Mobile"}}):(v(Tt.country_flag),ze(Be.SMS_PASSWORDLESS,ut))}}M(Z),he(!1)},F=le.useMemo(()=>k(f&&h?"modal.social.passwordless-title":f?"modal.social.email":"modal.social.phone"),[f,h,k]),U=le.useMemo(()=>f&&h?"+(00)123456/name@example.com":f?"name@example.com":"+(00)123456",[f,h]),Z=le.useMemo(()=>k(f&&h?"modal.errors-invalid-number-email":f?"modal.errors-invalid-email":"modal.errors-invalid-number"),[f,h,k]);le.useEffect(()=>{h&&(async()=>{const ct=await x2e();ct&&ct.dialCode&&w(ct.dialCode)})()},[h]);const se=Ne=>{P==null||P.track(Wt.EXTERNAL_WALLET_LIST_EXPANDED,{total_external_wallets:d,installed_external_wallets:je.length}),J(!1),Ne.preventDefault(),g&&g(!0)},fe=async Ne=>{Ee(!0),E&&C("");try{var ct;const ut=a.loginMethods[ne],it=await(Q==null?void 0:Q.verifyCode(Ne));if(it!=null&&it.error){C(k(it.error));return}if(it!=null&&(ct=it.data)!==null&&ct!==void 0&&ct.id_token){var Tt;return u({connector:a.connector,loginParams:{authConnection:ne,authConnectionId:ut.authConnectionId,groupedAuthConnectionId:ut.groupedAuthConnectionId,extraLoginOptions:ae(ae({},ut.extraLoginOptions),{},{id_token:(Tt=it.data)===null||Tt===void 0?void 0:Tt.id_token}),loginHint:Q.passwordlessParams.loginHint,name:Q.name}})}}catch(ut){$e.error(ut)}finally{Ee(!1)}},ge=Ne=>{var ct;if(P==null||P.track(Wt.EXTERNAL_WALLET_SELECTED,{connector:Ne.name,wallet_name:Ne.displayName,is_installed:Ne.isInstalled,is_injected:Ne.hasInjectedWallet,chain_namespaces:Ne.chainNamespaces,has_wallet_connect:Ne.hasWalletConnect,has_install_links:Ne.hasInstallLinks,has_wallet_registry_item:!!Ne.walletRegistryItem,total_external_wallets:d}),Ne.name===Ye.METAMASK&&!Ne.hasInjectedWallet&&j.platform==="desktop"){p({connector:Ne.name}),L(ae(ae({},T),{},{metamaskQrCode:{show:!0,wallet:Ne}}));return}((ct=Ne.chainNamespaces)===null||ct===void 0?void 0:ct.length)>1?L(ae(ae({},T),{},{multiChainSelector:{show:!0,wallet:Ne}})):p({connector:Ne.name})},je=le.useMemo(()=>N?c:c.filter(Ne=>Ne.name===Ye.METAMASK),[c,N]);if(Y)return te.jsx(_Ee,{otpLoading:pe,loginHint:Q==null?void 0:Q.passwordlessParams.loginHint,setShowOtpFlow:ee,authConnection:ne,handleOtpComplete:fe,errorMessage:E,countryFlag:A});const yt=(Ne=[])=>te.jsx(xEe,{otherRow:Ne,isDark:l,visibleRow:z,canShowMore:D,handleSocialLoginClick:u,socialLoginsConfig:a,handleExpandSocialLogins:Xe,buttonRadius:$},"social-login-section"),Ke=()=>te.jsx(CEe,{isModalVisible:o,isPasswordLessCtaClicked:V,setIsPasswordLessCtaClicked:J,title:F,placeholder:U,handleFormSubmit:q,errorMessage:I,isDark:l,buttonRadius:$,isPasswordLessLoading:ce},"passwordless-section"),at=()=>te.jsxs("div",{className:At("w3a--flex w3a--w-full w3a--flex-col w3a--items-start w3a--justify-start w3a--gap-y-2"),children:[je.length>0&&je.map(Ne=>te.jsxs("button",{type:"button",className:At("w3a--btn !w3a--justify-between w3a--group w3a--relative w3a--overflow-hidden",{"w3a--rounded-full":$==="pill","w3a--rounded-lg":$==="rounded","w3a--rounded-none":$==="square"}),onClick:()=>ge(Ne),children:[te.jsx("p",{className:"w3a--max-w-[180px] w3a--truncate w3a--text-base w3a--font-normal w3a--text-app-gray-700 dark:w3a--text-app-white",children:Ne.displayName}),te.jsxs("div",{className:"w3a--absolute w3a--right-4 w3a--top-1/2 w3a--flex w3a--w-auto -w3a--translate-y-1/2 w3a--items-center w3a--gap-x-2 w3a--transition-all w3a--duration-300 group-hover:w3a--translate-x-6 group-hover:w3a--opacity-0",children:[Ne.hasInjectedWallet&&te.jsx("span",{className:"w3a--inline-flex w3a--items-center w3a--rounded-md w3a--bg-app-primary-100 w3a--px-2 w3a--py-1 w3a--text-xs w3a--font-medium w3a--text-app-primary-800  dark:w3a--border dark:w3a--border-app-primary-400 dark:w3a--bg-transparent dark:w3a--text-app-primary-400",children:k("modal.external.installed")}),te.jsx("figure",{className:"w3a--size-5",children:te.jsx(To,{imageData:Ne.icon,imageId:`login-${Ne.name}`,hoverImageId:`login-${Ne.name}`,fallbackImageId:"wallet",height:"24",width:"24",isButton:!0,extension:Ne.imgExtension||"webp"})})]}),te.jsx("img",{id:"injected-wallet-arrow",className:"w3a--absolute w3a--right-4 w3a--top-1/2 -w3a--translate-x-10 -w3a--translate-y-1/2 w3a--opacity-0 w3a--transition-all w3a--duration-300 group-hover:w3a--translate-x-0 group-hover:w3a--opacity-100",src:xi(l?"chevron-right-dark":"chevron-right-light"),alt:"arrow"})]},Ne.name)),d>3&&te.jsxs("button",{type:"button",className:At("w3a--btn !w3a--justify-between w3a--group w3a--relative w3a--overflow-hidden",{"w3a--rounded-full":$==="pill","w3a--rounded-lg":$==="rounded","w3a--rounded-none":$==="square"}),onClick:se,children:[te.jsx("p",{className:"w3a--text-base w3a--font-normal w3a--text-app-gray-900 dark:w3a--text-app-white",children:k("modal.external.all-wallets")}),_&&d>0&&te.jsx("div",{id:"external-wallet-count",className:"w3a--absolute w3a--right-4 w3a--top-1/2 w3a--w-auto -w3a--translate-y-1/2 w3a--rounded-full w3a--bg-app-primary-100 w3a--px-2.5 w3a--py-0.5 w3a--text-xs w3a--font-medium w3a--text-app-primary-800 w3a--transition-all w3a--delay-300 w3a--duration-300 group-hover:w3a--translate-x-6 group-hover:w3a--opacity-0 group-hover:w3a--delay-0 dark:w3a--border dark:w3a--border-app-primary-500 dark:w3a--bg-transparent dark:w3a--text-app-primary-500",children:d-1}),te.jsx("img",{id:"external-wallet-arrow",className:"w3a--absolute w3a--right-4 w3a--top-1/2 -w3a--translate-x-10 -w3a--translate-y-1/2 w3a--opacity-0 w3a--transition-all w3a--duration-300 group-hover:w3a--translate-x-0 group-hover:w3a--opacity-100",src:xi(l?"chevron-right-dark":"chevron-right-light"),alt:"arrow"})]})]},"external-wallets-section"),ft=[_W,SW].includes(i)?"":i,vt=Ne=>te.jsxs("div",{className:At("w3a--flex w3a--w-full w3a--items-center w3a--gap-x-2",ft?"w3a--my-2":"w3a--my-4"),children:[te.jsx("div",{className:"w3a--h-px w3a--w-full w3a--bg-app-gray-200 dark:w3a--bg-app-gray-500"}),te.jsx("p",{className:"w3a--text-xs w3a--font-normal w3a--uppercase w3a--text-app-gray-400 dark:w3a--text-app-gray-400",children:"or"}),te.jsx("div",{className:"w3a--h-px w3a--w-full w3a--bg-app-gray-200 dark:w3a--bg-app-gray-500"})]},`section-delimiter-${Ne}`),jt=()=>{var Ne;const ct={social:yt,passwordless:Ke,externalWallets:at},Tt={social:S,passwordless:y,externalWallets:b},ut=((Ne=a.uiConfig)===null||Ne===void 0?void 0:Ne.signInMethods)||["social","passwordless","externalWallets"];Object.entries(Tt).forEach(([X,re])=>{re&&!ut.includes(X)&&ut.push(X)});const it=ut.map(X=>Tt[X]&&ct[X]()).filter(Boolean);if(it.length===3){const X=ut.findIndex(re=>re==="externalWallets");X===0?it.splice(1,0,vt(1)):X===1?(it.splice(1,0,vt(1)),it.splice(3,0,vt(2))):X===2&&it.splice(2,0,vt(1))}else it.length===2&&Tt.externalWallets&&it.splice(1,0,vt(1));return it},ti=()=>yt(W);return te.jsxs("div",{className:"w3a--flex w3a--flex-col w3a--items-center w3a--gap-y-4 w3a--p-2",children:[te.jsxs("div",{className:At("w3a--flex w3a--flex-col w3a--items-center w3a--justify-center w3a--gap-y-2 w3a--pt-6",O==="center"?"":"w3a--w-full"),children:[ft&&te.jsx("figure",{className:At("w3a--mx-auto w3a--h-12 w3a--w-[200px]",O==="center"?"w3a--flex w3a--justify-center w3a--items-center":"w3a--ml-0 w3a--w-auto"),children:te.jsx("img",{src:ft,alt:"Logo",className:"w3a--size-full w3a--object-contain"})}),te.jsx("p",{className:At("w3a--text-app-gray-900 dark:w3a--text-app-white",O==="center"?"w3a--text-center":"w3a--text-left w3a--w-full w3a--ml-4",ft?"w3a--text-lg w3a--font-semibold":"w3a--text-3xl w3a--font-medium"),children:k("modal.social.sign-in")})]}),te.jsx(hEe,{ref:He,sitekey:Pbe,size:"invisible",languageOverride:a.uiConfig.defaultLanguage,theme:a.uiConfig.theme,onOpen:()=>De(!0),onClose:()=>De(!1),onError:()=>Je("passwordless.captcha-default-error"),onChalExpired:()=>Je("passwordless.captcha-default-error")}),we&&Le&&te.jsx("p",{className:"-w3a--mt-2 w3a--w-full w3a--pl-6 w3a--text-start w3a--text-xs w3a--font-normal w3a--text-app-red-500 dark:w3a--text-app-red-400",children:k(we)}),!Le&&te.jsxs("div",{className:"w3a--flex w3a--w-full w3a--flex-col w3a--items-center w3a--justify-center w3a--gap-y-2",children:[!x&&jt(),x&&ti()]})]})}const kEe=()=>{const{toast:t,setToast:e}=le.useContext(gy);if(le.useEffect(()=>{t.message&&setTimeout(()=>{e({message:"",type:lb.SUCCESS})},3e3)},[t.message,e]),!t.message)return null;const n={success:"w3a--border-app-green-200 w3a--bg-app-green-100 w3a--text-app-green-900",error:"w3a--border-app-red-200 w3a--bg-app-red-100 w3a--text-app-red-900",warning:"w3a--border-app-yellow-200 w3a--bg-app-yellow-100 w3a--text-app-yellow-900",info:"w3a--border-app-blue-200 w3a--bg-app-blue-100 w3a--text-app-blue-900"},r={success:"w3a--text-app-green-900",error:"w3a--text-app-red-900",warning:"w3a--text-app-yellow-900",info:"w3a--text-app-blue-900"};return te.jsxs("div",{className:`w3a--absolute w3a--inset-x-4 w3a--bottom-4 w3a--z-[60] w3a--mx-auto w3a--w-[90%] w3a--rounded-md w3a--border w3a--p-4 w3a--text-sm ${n[t.type]}`,children:[te.jsx("div",{className:"w3a--absolute w3a--right-4 w3a--top-4 w3a--z-10 w3a--cursor-pointer",children:te.jsx("svg",{width:"13",height:"13",viewBox:"0 0 13 13",fill:"none",xmlns:"http://www.w3.org/2000/svg",onClick:()=>e({message:"",type:lb.SUCCESS}),className:r[t.type],children:te.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M0.292787 1.29299C0.480314 1.10552 0.734622 1.0002 0.999786 1.0002C1.26495 1.0002 1.51926 1.10552 1.70679 1.29299L5.99979 5.58599L10.2928 1.29299C10.385 1.19748 10.4954 1.1213 10.6174 1.06889C10.7394 1.01648 10.8706 0.988893 11.0034 0.987739C11.1362 0.986585 11.2678 1.01189 11.3907 1.06217C11.5136 1.11245 11.6253 1.1867 11.7192 1.28059C11.8131 1.37449 11.8873 1.48614 11.9376 1.60904C11.9879 1.73193 12.0132 1.86361 12.012 1.99639C12.0109 2.12917 11.9833 2.26039 11.9309 2.38239C11.8785 2.5044 11.8023 2.61474 11.7068 2.70699L7.41379 6.99999L11.7068 11.293C11.8889 11.4816 11.9897 11.7342 11.9875 11.9964C11.9852 12.2586 11.88 12.5094 11.6946 12.6948C11.5092 12.8802 11.2584 12.9854 10.9962 12.9877C10.734 12.9899 10.4814 12.8891 10.2928 12.707L5.99979 8.41399L1.70679 12.707C1.51818 12.8891 1.26558 12.9899 1.00339 12.9877C0.741188 12.9854 0.490376 12.8802 0.304968 12.6948C0.11956 12.5094 0.0143906 12.2586 0.0121121 11.9964C0.00983372 11.7342 0.110629 11.4816 0.292787 11.293L4.58579 6.99999L0.292787 2.70699C0.105316 2.51946 0 2.26515 0 1.99999C0 1.73483 0.105316 1.48052 0.292787 1.29299V1.29299Z",fill:"currentColor"})})}),te.jsxs("div",{className:"w3a--flex w3a--items-center w3a--gap-2",children:[te.jsx("p",{className:r[t.type],children:"x"}),te.jsx("p",{children:t.message})]})]})};function AN(t){var e,n,r,i,o,s,a;const{setModalState:c,modalState:l,handleExternalWalletBtnClick:u,chainNamespaces:d,walletRegistry:f,appLogo:h,onCloseLoader:g,handleSocialLoginClick:p,showPasswordLessInput:S,showExternalWalletButton:y,socialLoginsConfig:b,areSocialLoginsVisible:_,isEmailPrimary:N,isExternalPrimary:O,showExternalWalletPage:$,isEmailPasswordLessLoginVisible:j,isSmsPasswordLessLoginVisible:k,preHandleExternalWalletClick:T,uiConfig:L,deviceDetails:P}=t,{logoAlignment:m="center",buttonRadiusType:w="pill",privacyPolicy:A="",tncLink:v="",displayInstalledExternalWallets:I=!0,displayExternalWalletsCount:M=!0}=L,[E]=ei(void 0,{i18n:Pt}),{isDark:C}=le.useContext(l3),[x,R]=le.useState({metamaskQrCode:{show:!1,wallet:null},installLinks:{show:!1,wallet:null},multiChainSelector:{show:!1,wallet:null}}),[D,B]=le.useState({message:"",type:lb.SUCCESS}),[z,H]=le.useState(!1),[W,G]=le.useState(!1),V=ze=>{c(ae(ae({},l),{},{currentPage:ju.CONNECT_WALLET})),u&&u(ze)},J=ze=>{c(ae(ae({},l),{},{currentPage:ju.LOGIN})),u&&u(ze)},Y=le.useMemo(()=>{var ze;if(P.platform==="desktop")return[];const q=((ze=x.installLinks)===null||ze===void 0||(ze=ze.wallet)===null||ze===void 0||(ze=ze.walletRegistryItem)===null||ze===void 0?void 0:ze.app)||{};return Object.keys(q).reduce((U,Z)=>{if(!["android","ios"].includes(Z))return U;const se=q[Z];if(!se)return U;const fe=w2e(Z,se);if(!fe)return U;const ge=`${Z}-light`,je=`${Z}-dark`;return U.push(te.jsx("li",{className:"w3a--w-full",children:te.jsx("a",{href:fe,rel:"noopener noreferrer",target:"_blank",children:te.jsxs("button",{type:"button",className:At("w3a--group w3a--relative w3a--overflow-hidden w3a--h-11 w3a--flex w3a--w-full w3a--items-center w3a--justify-start w3a--gap-x-2 w3a--border w3a--border-app-gray-200 w3a--bg-app-gray-50 w3a--px-5 w3a--py-2.5 hover:w3a--translate-y-[0.5px] hover:w3a--border-app-gray-50 dark:w3a--border-app-gray-500 dark:w3a--bg-app-gray-800 dark:hover:w3a--border-app-gray-800",{"w3a--rounded-full":w==="pill","w3a--rounded-lg":w==="rounded","w3a--rounded-none":w==="square"}),children:[te.jsx(To,{imageId:ge,darkImageId:je,hoverImageId:ge,darkHoverImageId:je,height:"28",width:"28",isButton:!0}),te.jsx("span",{className:"w3a--text-sm w3a--font-medium w3a--text-app-gray-900 dark:w3a--text-app-white",children:E("modal.external.install-mobile-app",{os:b2e(Z)})}),te.jsx("img",{id:"install-links-arrow",className:"w3a--absolute w3a--right-4 w3a--top-1/2 -w3a--translate-x-6 -w3a--translate-y-1/2 w3a--opacity-0 w3a--transition-all w3a--duration-300 group-hover:w3a--translate-x-0 group-hover:w3a--opacity-100",src:xi(C?"chevron-right-dark":"chevron-right-light"),alt:"arrow"})]})})},fe)),U},[])},[(e=x.installLinks)===null||e===void 0||(e=e.wallet)===null||e===void 0||(e=e.walletRegistryItem)===null||e===void 0?void 0:e.app,P.platform,C,E,w]),ee=le.useMemo(()=>{var ze;if(P.platform!=="desktop")return[];const q=P.browser==="brave"?"chrome":P.browser,F=((ze=x.installLinks)===null||ze===void 0||(ze=ze.wallet)===null||ze===void 0||(ze=ze.walletRegistryItem)===null||ze===void 0?void 0:ze.app)||{},U=F.browser&&F.browser.includes(q)?F.browser:void 0,Z=F[q]||U,se=Z?v2e(q,Z):null;return[se?te.jsx("li",{children:te.jsx("a",{href:se,rel:"noopener noreferrer",target:"_blank",children:te.jsxs("button",{type:"button",className:At("w3a--group w3a--relative w3a--overflow-hidden w3a--h-11 w3a--flex w3a--w-full w3a--items-center w3a--justify-start w3a--gap-x-2 w3a--border w3a--border-app-gray-200 w3a--bg-app-gray-50 w3a--px-5 w3a--py-2.5 hover:w3a--translate-y-[0.5px] hover:w3a--border-app-gray-50 dark:w3a--border-app-gray-500 dark:w3a--bg-app-gray-800 dark:hover:w3a--border-app-gray-800",{"w3a--rounded-full":w==="pill","w3a--rounded-lg":w==="rounded","w3a--rounded-none":w==="square"}),children:[te.jsx(To,{imageId:P.browser,darkImageId:P.browser,hoverImageId:P.browser,darkHoverImageId:P.browser,height:"30",width:"30",isButton:!0}),te.jsx("span",{className:"w3a--text-sm w3a--font-medium w3a--text-app-gray-900 dark:w3a--text-app-white",children:E("modal.external.install-browser-extension",{browser:E2e(P.browser)})}),te.jsx("img",{id:"install-links-arrow",className:"w3a--absolute w3a--right-4 w3a--top-1/2 -w3a--translate-x-6 -w3a--translate-y-1/2 w3a--opacity-0 w3a--transition-all w3a--duration-300 group-hover:w3a--translate-x-0 group-hover:w3a--opacity-100",src:xi(C?"chevron-right-dark":"chevron-right-light"),alt:"arrow"})]})})},se):null,...Y]},[(n=x.installLinks)===null||n===void 0||(n=n.wallet)===null||n===void 0||(n=n.walletRegistryItem)===null||n===void 0?void 0:n.app,P.browser,P.platform,C,Y,w,E]),ne=le.useMemo(()=>l.externalWalletsConfig,[l.externalWalletsConfig]),K=le.useMemo(()=>{const ze={};return Object.keys(ne).forEach(q=>{var F;ze[q]=!!(!((F=ne[q])===null||F===void 0)&&F.showOnModal)}),ze},[ne]),Q=le.useMemo(()=>Object.keys((f==null?void 0:f.default)||{}).length>0||Object.keys((f==null?void 0:f.others)||{}).length>0,[f]),ie=le.useCallback(ze=>Object.keys(ze).reduce((q,F)=>{var U,Z,se;if(K[F]===!1)return q;const fe=ze[F];let ge="";if(P.platform!=="desktop"){var je,yt;const Ne=fe==null||(je=fe.mobile)===null||je===void 0?void 0:je.universal,ct=fe==null||(yt=fe.mobile)===null||yt===void 0?void 0:yt.native;ge=Ne||ct}const Ke=ne[F],at=(Ke==null?void 0:Ke.chainNamespaces)||[],ft=new Set((U=fe.chains)===null||U===void 0?void 0:U.map(Ne=>Ne.split(":")[0])),vt=new Set((Z=fe.injected)===null||Z===void 0?void 0:Z.map(Ne=>Ne.namespace)),jt=d.filter(Ne=>ft.has(Ne)||vt.has(Ne)||at.includes(Ne)),ti={name:F,displayName:fe.name,href:ge,hasInjectedWallet:(Ke==null?void 0:Ke.isInjected)||!1,isInstalled:!!Ke,hasWalletConnect:Q&&((se=fe.walletConnect)===null||se===void 0||(se=se.sdks)===null||se===void 0?void 0:se.includes("sign_v2")),hasInstallLinks:Object.keys(fe.app||{}).length>0,walletRegistryItem:fe,imgExtension:fe.imgExtension||"svg",icon:Ke==null?void 0:Ke.icon,chainNamespaces:jt};return!ti.hasInjectedWallet&&!ti.hasWalletConnect&&!ti.hasInstallLinks||jt.length===0||q.push(ti),q},[]),[K,d,ne,P.platform,Q]),ce=le.useMemo(()=>[...ie(f.default),...ie(f.others)],[ie,f.default,f.others]),he=le.useMemo(()=>{const ze=Object.keys(ne).reduce((F,U)=>{if(U===Ye.WALLET_CONNECT_V2||!K[U])return F;const Z=ne[U];return F.push({name:U,displayName:(Z==null?void 0:Z.label)||U,hasInjectedWallet:(Z==null?void 0:Z.isInjected)||!1,isInstalled:!0,hasWalletConnect:!1,hasInstallLinks:!1,icon:Z==null?void 0:Z.icon,chainNamespaces:(Z==null?void 0:Z.chainNamespaces)||[]}),F},[]),q=ze.findIndex(F=>F.name===Ye.METAMASK&&!F.hasInjectedWallet);if(q!==-1){const F=ze[q];let U=ce.find(Z=>Z.name===Ye.METAMASK);U||(U=ie({[Ye.METAMASK]:$be})[0]),U&&ze.splice(q,1,ae(ae({},U),{},{chainNamespaces:F.chainNamespaces,isInstalled:!0}))}return ze},[ce,ne,K,ie]),pe=le.useMemo(()=>he.filter(ze=>!ze.hasInjectedWallet),[he]),Ee=le.useMemo(()=>he.sort((q,F)=>q.name===Ye.METAMASK?-1:1).slice(0,I?3:1),[he,I]),Le=le.useMemo(()=>{const ze=new Set;return ce.concat(he).filter(q=>ze.has(q.name)?!1:(ze.add(q.name),!0)).length},[ce,he]),De=()=>{H(ze=>!ze)},we=()=>{G(ze=>!ze)},Je=le.useMemo(()=>{var ze;const q=A||v;if(l.status!==An.INITIALIZED)return"530px";if(W||(ze=x.metamaskQrCode)!==null&&ze!==void 0&&ze.show)return q?"640px":"588px";if(l.currentPage===ju.CONNECT_WALLET)return q?"640px":"580px";if(z)return q?"644px":"588px";if(Ee.length===1)return q?"560px":"530px";if(Ee.length>1){const F=500+(Ee.length-1)*58;return q?`${F+60}px`:`${F+16}px`}return"539px"},[A,v,l.status,l.currentPage,W,(r=x.metamaskQrCode)===null||r===void 0?void 0:r.show,z,Ee.length]),He=le.useMemo(()=>({bodyState:x,setBodyState:R,toast:D,setToast:B}),[x,R,D,B]),Xe=le.useMemo(()=>l.status!==An.INITIALIZED,[l.status]);return te.jsx(gy.Provider,{value:He,children:te.jsxs("div",{className:"w3a--relative w3a--flex w3a--flex-col",children:[te.jsxs("div",{className:"w3a--relative w3a--h-screen w3a--overflow-hidden w3a--transition-all w3a--duration-[400ms] w3a--ease-in-out",style:{maxHeight:Je},children:[te.jsx("div",{className:"w3a--modal-curtain"}),te.jsxs("div",{className:"w3a--relative w3a--flex w3a--h-full w3a--flex-1 w3a--flex-col w3a--p-6",children:[Xe?te.jsx(R3e,{connector:l.detailedLoaderConnector,connectorName:l.detailedLoaderConnectorName,modalStatus:l.status,onClose:g,appLogo:h}):te.jsx(te.Fragment,{children:(i=x.metamaskQrCode)!==null&&i!==void 0&&i.show?te.jsxs("div",{className:"w3a--relative w3a--flex w3a--flex-1 w3a--flex-col w3a--gap-y-4",children:[te.jsx(VW,{onBackClick:()=>R(ae(ae({},x),{},{metamaskQrCode:{show:!1,wallet:null}})),currentPage:Il.SELECTED_WALLET,selectedButton:x.metamaskQrCode.wallet}),te.jsx(ZW,{qrCodeValue:l.metamaskConnectUri,isDark:C,selectedButton:x.metamaskQrCode.wallet,primaryColor:(o=x.metamaskQrCode.wallet.walletRegistryItem)===null||o===void 0?void 0:o.primaryColor,logoImage:`https://images.web3auth.io/login-${x.metamaskQrCode.wallet.name}.${x.metamaskQrCode.wallet.imgExtension}`})]}):te.jsxs(te.Fragment,{children:[l.currentPage===ju.LOGIN&&$&&l.status===An.INITIALIZED&&te.jsx(IEe,{web3authClientId:l.web3authClientId,web3authNetwork:l.web3authNetwork,authBuildEnv:l.authBuildEnv,isModalVisible:l.modalVisibility,isDark:C,appLogo:h,showPasswordLessInput:S,showExternalWalletButton:y,showExternalWalletCount:M,showInstalledExternalWallets:I,socialLoginsConfig:b,areSocialLoginsVisible:_,isEmailPrimary:N,isExternalPrimary:O,installedExternalWalletConfig:Ee,isEmailPasswordLessLoginVisible:j,isSmsPasswordLessLoginVisible:k,totalExternalWallets:Le,logoAlignment:m,buttonRadius:w,deviceDetails:P,handleSocialLoginClick:p,handleExternalWalletBtnClick:V,handleSocialLoginHeight:De,handleExternalWalletClick:T}),l.currentPage===ju.CONNECT_WALLET&&!$&&l.status===An.INITIALIZED&&te.jsx(k3e,{isDark:C,walletConnectUri:l.walletConnectUri,metamaskConnectUri:l.metamaskConnectUri,config:l.externalWalletsConfig,walletRegistry:f,allExternalButtons:ce,connectorVisibilityMap:K,customConnectorButtons:pe,deviceDetails:P,chainNamespace:d,buttonRadius:w,handleWalletDetailsHeight:we,onBackClick:J,handleExternalWalletClick:T})]})}),te.jsx(O3e,{privacyPolicy:A,termsOfService:v}),((s=x.multiChainSelector)===null||s===void 0?void 0:s.show)&&te.jsx(wN,{uiConfig:L,isShown:x.multiChainSelector.show,onClose:()=>R(ae(ae({},x),{},{multiChainSelector:{show:!1,wallet:null}})),children:te.jsx(P3e,{isDark:C,wallet:x.multiChainSelector.wallet,handleExternalWalletClick:ze=>{T(ze),R(ae(ae({},x),{},{multiChainSelector:{show:!1,wallet:null}}))}})}),((a=x.installLinks)===null||a===void 0?void 0:a.show)&&te.jsxs(wN,{uiConfig:L,isShown:x.installLinks.show,onClose:()=>R(ae(ae({},x),{},{installLinks:{show:!1,wallet:null}})),children:[te.jsx("p",{className:"w3a--mb-2 w3a--text-center w3a--text-base w3a--font-semibold w3a--text-app-gray-900 dark:w3a--text-app-white",children:E("modal.getWallet")}),te.jsx("div",{className:"w3a--my-4 w3a--flex w3a--justify-center",children:te.jsx(To,{imageId:`login-${x.installLinks.wallet.name}`,hoverImageId:`login-${x.installLinks.wallet.name}`,fallbackImageId:"wallet",height:"80",width:"80",isButton:!0,extension:x.installLinks.wallet.imgExtension})}),te.jsx("ul",{className:"w3a--flex w3a--flex-col w3a--gap-y-2",children:P.platform==="desktop"?ee:Y})]})]})]}),te.jsx(kEe,{})]})})}function PEe(t){const{stateListener:e,handleSocialLoginClick:n,handleExternalWalletClick:r,handleShowExternalWallets:i,closeModal:o,appLogo:s,appName:a,chainNamespaces:c,walletRegistry:l,uiConfig:u,deviceDetails:d}=t,{widgetType:f}=u,h=le.useMemo(()=>f===qf.EMBED,[f]),[g,p]=le.useState({externalWalletsVisibility:!1,status:An.INITIALIZED,hasExternalWallets:!1,externalWalletsInitialized:!1,modalVisibility:!1,modalVisibilityDelayed:!1,postLoadingMessage:"",walletConnectUri:"",metamaskConnectUri:"",socialLoginsConfig:{loginMethods:{},loginMethodsOrder:[],connector:"",uiConfig:{}},externalWalletsConfig:{},showExternalWalletsOnly:!1,currentPage:ju.LOGIN,detailedLoaderConnector:"",detailedLoaderConnectorName:"",web3authClientId:"",web3authNetwork:ph.SAPPHIRE_MAINNET,authBuildEnv:li.PRODUCTION});le.useEffect(()=>{p(A=>ae(ae({},A),{},{modalVisibility:h}))},[h]),le.useEffect(()=>{e.on("STATE_UPDATED",A=>{$e.debug("state updated",A),p(v=>Vu(ln(v,A,{arrayMerge:(M,E)=>E})))}),e.emit("MOUNTED")},[e]);const S=A=>{const{connector:v}=A;p(I=>ae(ae({},I),{},{detailedLoaderConnector:v,detailedLoaderAdapterName:Z7[v]})),r&&r(A)},y=A=>{const{loginParams:v}=A;p(I=>ae(ae({},I),{},{detailedLoaderConnector:v.authConnection,detailedLoaderConnectorName:v.name})),n(A)},b=le.useMemo(()=>{var A,v;return g.showExternalWalletsOnly||Object.keys(((A=g.socialLoginsConfig)===null||A===void 0?void 0:A.loginMethods)||{}).length===0?!1:Object.entries(((v=g.socialLoginsConfig)===null||v===void 0?void 0:v.loginMethods)||{}).some(([M,E])=>M!==Be.EMAIL_PASSWORDLESS&&E.showOnModal!==!1)},[g]),_=le.useMemo(()=>{var A;return(A=g.socialLoginsConfig)===null||A===void 0||(A=A.loginMethods[Be.EMAIL_PASSWORDLESS])===null||A===void 0?void 0:A.showOnModal},[g.socialLoginsConfig]),N=le.useMemo(()=>{var A;return(A=g.socialLoginsConfig)===null||A===void 0||(A=A.loginMethods[Be.SMS_PASSWORDLESS])===null||A===void 0?void 0:A.showOnModal},[g.socialLoginsConfig]),O=le.useMemo(()=>{var A;return((A=g.socialLoginsConfig)===null||A===void 0||(A=A.uiConfig)===null||A===void 0?void 0:A.primaryButton)==="emailLogin"},[g.socialLoginsConfig]),$=le.useMemo(()=>{var A;return((A=g.socialLoginsConfig)===null||A===void 0||(A=A.uiConfig)===null||A===void 0?void 0:A.primaryButton)==="externalLogin"},[g.socialLoginsConfig]),j=le.useMemo(()=>_||N,[_,N]),k=le.useMemo(()=>g.hasExternalWallets||!!g.externalWalletsConfig[Ye.METAMASK],[g]),T=le.useMemo(()=>(b||j||!!g.externalWalletsConfig[Ye.METAMASK])&&!g.externalWalletsVisibility,[b,j,g]),L=A=>{p(v=>ae(ae({},v),{},{externalWalletsVisibility:A})),A&&i&&i(g.externalWalletsInitialized)},P=()=>{p(A=>ae(ae({},A),{},{externalWalletsVisibility:!1,modalVisibility:!1,currentPage:ju.LOGIN})),o()},m=()=>{g.status===An.CONNECTED&&p(ae(ae({},g),{},{modalVisibility:!1,externalWalletsVisibility:!1})),g.status===An.ERRORED&&p(ae(ae({},g),{},{modalVisibility:!0,status:An.INITIALIZED}))},w=le.useMemo(()=>g.status===An.INITIALIZED||g.status===An.CONNECTED||g.status===An.ERRORED,[g.status]);return le.useEffect(()=>{if(g.modalVisibility&&typeof g.externalWalletsConfig=="object"){var A;(((A=g.externalWalletsConfig[Ye.WALLET_CONNECT_V2])===null||A===void 0?void 0:A.showOnModal)||!1)!==!1&&!g.walletConnectUri&&typeof r=="function"&&r({connector:Ye.WALLET_CONNECT_V2})}},[g,r]),f===qf.MODAL?te.jsx(I2e,{open:g.modalVisibility,placement:"center",padding:!1,showCloseIcon:w,onClose:P,borderRadius:u.borderRadiusType,children:g.modalVisibility&&te.jsx(AN,{appLogo:s,appName:a,chainNamespaces:c,walletRegistry:l,showPasswordLessInput:j,showExternalWalletButton:k,handleSocialLoginClick:A=>y(A),socialLoginsConfig:g.socialLoginsConfig,areSocialLoginsVisible:b,isEmailPrimary:O,isExternalPrimary:$,showExternalWalletPage:T,handleExternalWalletBtnClick:L,modalState:g,preHandleExternalWalletClick:S,setModalState:p,onCloseLoader:m,isEmailPasswordLessLoginVisible:_,isSmsPasswordLessLoginVisible:N,uiConfig:u,deviceDetails:d})}):te.jsx(A2e,{open:g.modalVisibility,padding:!1,onClose:P,borderRadius:u.borderRadiusType,children:g.modalVisibility&&te.jsx(AN,{chainNamespaces:c,walletRegistry:l,appLogo:s,appName:a,showPasswordLessInput:j,showExternalWalletButton:k,handleSocialLoginClick:A=>y(A),socialLoginsConfig:g.socialLoginsConfig,areSocialLoginsVisible:b,isEmailPrimary:O,isExternalPrimary:$,showExternalWalletPage:T,handleExternalWalletBtnClick:L,modalState:g,preHandleExternalWalletClick:S,setModalState:p,onCloseLoader:m,isEmailPasswordLessLoginVisible:_,isSmsPasswordLessLoginVisible:N,uiConfig:u,deviceDetails:d})})}function OEe(t){const e=document.getElementById("w3a-parent-container");e&&e.remove();const n=document.createElement("section");n.classList.add("w3a-parent-container"),n.setAttribute("id","w3a-parent-container"),n.style.zIndex=t,n.style.position="relative",document.body.appendChild(n)}function TEe(t){const e=document.getElementById(t);if(!e){$e.error(`Element with ID ${t} not found`);return}e.innerHTML='<div id="w3a-parent-container" class="w3a-parent-container"></div>'}class MEe{constructor(e,n){if(ue(this,"uiConfig",void 0),ue(this,"stateEmitter",void 0),ue(this,"chainNamespaces",void 0),ue(this,"walletRegistry",void 0),ue(this,"callbacks",void 0),ue(this,"externalWalletsConfig",void 0),ue(this,"analytics",void 0),ue(this,"initModal",async()=>{const r={isDark:this.isDark},i=this.uiConfig.defaultLanguage||uo.en;return i===uo.de?Lt(()=>import("./german.json-BA4x9QbI.js"),[]).then(o=>(Pt.addResourceBundle(i,"translation",o.default),Pt.changeLanguage(i))).catch(o=>{$e.error(o)}):i===uo.ja?Lt(()=>import("./japanese.json-7Mklqb6K.js"),[]).then(o=>(Pt.addResourceBundle(i,"translation",o.default),Pt.changeLanguage(i))).catch(o=>{$e.error(o)}):i===uo.ko?Lt(()=>import("./korean.json-go86i6vu.js"),[]).then(o=>(Pt.addResourceBundle(i,"translation",o.default),Pt.changeLanguage(i))).catch(o=>{$e.error(o)}):i===uo.zh?Lt(()=>import("./mandarin.json-BCFiiB7j.js"),[]).then(o=>(Pt.addResourceBundle(i,"translation",o.default),Pt.changeLanguage(i))).catch(o=>{$e.error(o)}):i===uo.es?Lt(()=>import("./spanish.json-hcJYa-HC.js"),[]).then(o=>(Pt.addResourceBundle(i,"translation",o.default),Pt.changeLanguage(i))).catch(o=>{$e.error(o)}):i===uo.fr?Lt(()=>import("./french.json-CNaRgoEZ.js"),[]).then(o=>(Pt.addResourceBundle(i,"translation",o.default),Pt.changeLanguage(i))).catch(o=>{$e.error(o)}):i===uo.pt?Lt(()=>import("./portuguese.json-Dtrng74A.js"),[]).then(o=>(Pt.addResourceBundle(i,"translation",o.default),Pt.changeLanguage(i))).catch(o=>{$e.error(o)}):i===uo.nl?Lt(()=>import("./dutch.json-BZVBI9RL.js"),[]).then(o=>(Pt.addResourceBundle(i,"translation",o.default),Pt.changeLanguage(i))).catch(o=>{$e.error(o)}):i===uo.tr?Lt(()=>import("./turkish.json-CHfdJZqr.js"),[]).then(o=>(Pt.addResourceBundle(i,"translation",o.default),Pt.changeLanguage(i))).catch(o=>{$e.error(o)}):i===uo.en&&Lt(()=>Promise.resolve().then(()=>u3e),void 0).then(o=>(Pt.addResourceBundle(i,"translation",o.default),Pt.changeLanguage(i))).catch(o=>{$e.error(o)}),new Promise(o=>{var s,a,c;if(this.stateEmitter.once("MOUNTED",()=>($e.info("rendered"),this.setState({status:An.INITIALIZED,web3authClientId:this.uiConfig.web3authClientId,web3authNetwork:this.uiConfig.web3authNetwork,authBuildEnv:this.uiConfig.authBuildEnv}),o())),this.uiConfig.widgetType===qf.MODAL)OEe(this.uiConfig.modalZIndex);else if(this.uiConfig.widgetType===qf.EMBED)TEe(this.uiConfig.targetId);else throw Fe.invalidParams(`Invalid widget type: ${this.uiConfig.widgetType}`);const l=document.getElementById("w3a-parent-container");r.isDark?l.classList.add("w3a--dark"):l.classList.remove("w3a--dark"),f$(l).render(te.jsx(l3.Provider,{value:r,children:te.jsx(K8.Provider,{value:{analytics:this.analytics},children:te.jsx(PEe,{stateListener:this.stateEmitter,appLogo:r.isDark?this.uiConfig.logoDark:this.uiConfig.logoLight,appName:this.uiConfig.appName,chainNamespaces:this.chainNamespaces,walletRegistry:this.walletRegistry,deviceDetails:this.deviceDetails,handleShowExternalWallets:this.handleShowExternalWallets,handleExternalWalletClick:this.handleExternalWalletClick,handleSocialLoginClick:this.handleSocialLoginClick,closeModal:this.closeModal,uiConfig:this.uiConfig})})}));const d=((s=this.uiConfig)===null||s===void 0||(s=s.theme)===null||s===void 0?void 0:s.primary)===Rbe&&((a=this.uiConfig.theme)===null||a===void 0?void 0:a.onPrimary)===Lbe;(c=this.uiConfig)!==null&&c!==void 0&&c.theme&&!d&&Lt(async()=>{const{default:f}=await import("./index-nXJIE8XW.js");return{default:f}},[]).then(({default:f})=>{const h=document.getElementById("w3a-parent-container");mse(f,h,this.uiConfig.theme)}).catch(f=>{$e.error(f)})})}),ue(this,"addSocialLogins",(r,i,o,s)=>{this.setState({socialLoginsConfig:{connector:r,loginMethods:i,loginMethodsOrder:o,uiConfig:s}}),$e.info("addSocialLogins",r,i,o,s)}),ue(this,"addWalletLogins",(r,i)=>{this.externalWalletsConfig=r;const o=!!r[Ye.METAMASK];this.setState({externalWalletsConfig:r,externalWalletsInitialized:!!i.externalWalletsInitialized,showExternalWalletsOnly:!!i.showExternalWalletsOnly,externalWalletsVisibility:o?!1:!!i.externalWalletsVisibility})}),ue(this,"open",()=>{var r,i,o;this.setState({modalVisibility:!0}),(r=this.analytics)===null||r===void 0||r.track(Wt.LOGIN_MODAL_OPENED,ae(ae({chain_namespaces:this.chainNamespaces,wallet_registry_count:Object.keys((i=this.walletRegistry)===null||i===void 0?void 0:i.default).length+Object.keys((o=this.walletRegistry)===null||o===void 0?void 0:o.others).length,external_wallet_connectors:Object.keys(this.externalWalletsConfig||{})},G7(this.uiConfig)),Mbe(this.uiConfig))),this.callbacks.onModalVisibility&&this.callbacks.onModalVisibility(!0)}),ue(this,"closeModal",()=>{var r;this.setState({modalVisibility:!1,externalWalletsVisibility:!1}),(r=this.analytics)===null||r===void 0||r.track(Wt.LOGIN_MODAL_CLOSED),this.callbacks.onModalVisibility&&this.callbacks.onModalVisibility(!1)}),ue(this,"initExternalWalletContainer",()=>{this.setState({hasExternalWallets:!0})}),ue(this,"handleShowExternalWallets",r=>{this.callbacks.onInitExternalWallets&&this.callbacks.onInitExternalWallets({externalWalletsInitialized:r})}),ue(this,"handleExternalWalletClick",r=>{$e.info("external wallet clicked",r);const{connector:i,chainNamespace:o}=r;this.callbacks.onExternalWalletLogin&&this.callbacks.onExternalWalletLogin({connector:i,loginParams:{chainNamespace:o}})}),ue(this,"handleSocialLoginClick",r=>{var i;$e.info("social login clicked",r);const{connector:o,loginParams:s}=r;(i=this.analytics)===null||i===void 0||i.track(Wt.SOCIAL_LOGIN_SELECTED,{connector:o,auth_connection:s.authConnection,auth_connection_id:s.authConnectionId,group_auth_connection_id:s.groupedAuthConnectionId}),this.callbacks.onSocialLogin&&this.callbacks.onSocialLogin({connector:o,loginParams:s})}),ue(this,"setState",r=>{this.stateEmitter.emit("STATE_UPDATED",r)}),ue(this,"handleConnectorData",r=>{if(r.connectorName===Ye.WALLET_CONNECT_V2){const i=r.data;i.uri&&this.setState({walletConnectUri:i.uri})}if(r.connectorName===Ye.METAMASK){const i=r.data;i.uri&&this.setState({metamaskConnectUri:i.uri})}}),ue(this,"subscribeCoreEvents",r=>{r.on(qe.CONNECTING,i=>{var o;if($e.info("connecting with connector",i),(i==null?void 0:i.connector)===Ye.WALLET_CONNECT_V2)return;const s=(o=this.externalWalletsConfig)===null||o===void 0||(o=o[Ye.METAMASK])===null||o===void 0?void 0:o.isInjected;(i==null?void 0:i.connector)===Ye.METAMASK&&!s&&this.deviceDetails.platform==="desktop"||this.setState({status:An.CONNECTING})}),r.on(qe.CONNECTED,i=>{$e.debug("connected with connector",i),!i.reconnected&&i.loginMode===jg.MODAL?this.setState({status:An.CONNECTED,modalVisibility:!0,postLoadingMessage:"modal.post-loading.connected"}):this.setState({status:An.CONNECTED})}),r.on(qe.ERRORED,(i,o)=>{$e.error("error",i,i.message),o!==jg.NO_MODAL&&(i.code===5e3?this.uiConfig.displayErrorsOnModal?this.setState({modalVisibility:!0,postLoadingMessage:i.message||"modal.post-loading.something-wrong",status:An.ERRORED}):this.setState({modalVisibility:!1}):this.setState({modalVisibility:!0,status:An.INITIALIZED}))}),r.on(qe.DISCONNECTED,()=>{this.setState({status:An.INITIALIZED,externalWalletsVisibility:!1})}),r.on(qe.CONNECTOR_DATA_UPDATED,i=>{this.handleConnectorData(i)})}),this.uiConfig=e,e.logoDark||(this.uiConfig.logoDark=_W),e.logoLight||(this.uiConfig.logoLight=SW),e.mode||(this.uiConfig.mode="light"),e.modalZIndex||(this.uiConfig.modalZIndex="99998"),typeof e.displayErrorsOnModal>"u"&&(this.uiConfig.displayErrorsOnModal=!0),e.appName||(this.uiConfig.appName="Web3Auth"),e.loginGridCol||(this.uiConfig.loginGridCol=3),e.primaryButton||(this.uiConfig.primaryButton="socialLogin"),e.defaultLanguage||(this.uiConfig.defaultLanguage=BW(e.defaultLanguage)),e.widgetType||(this.uiConfig.widgetType=qf.MODAL),e.widgetType===qf.EMBED&&!e.targetId)throw $e.error("targetId is required for embed widget"),Fe.invalidParams("targetId is required for embed widget");this.stateEmitter=new bu,this.chainNamespaces=e.chainNamespaces,this.walletRegistry=e.walletRegistry,this.callbacks=n,this.analytics=e.analytics,this.subscribeCoreEvents(this.uiConfig.connectorListener)}get isDark(){return this.uiConfig.mode==="dark"||this.uiConfig.mode==="auto"&&window.matchMedia("(prefers-color-scheme: dark)").matches}get deviceDetails(){if(typeof window>"u")return{platform:"mobile",browser:"chrome",os:"ios"};const e=Jp.getParser(window.navigator.userAgent);return{platform:e.getPlatformType(),browser:e.getBrowserName().toLowerCase(),os:e.getOSName()}}}class NEe extends Spe{constructor(e,n){super(e,n),ue(this,"loginModal",void 0),ue(this,"options",void 0),ue(this,"modalConfig",Vu(_be)),ue(this,"onInitExternalWallets",async r=>{r.externalWalletsInitialized||await this.initExternalConnectors(this.connectors.filter(i=>i.name===Ye.WALLET_CONNECT_V2),{externalWalletsInitialized:!0,externalWalletsVisibility:!0})}),ue(this,"onSocialLogin",async r=>{try{await this.connectTo(Ye.AUTH,r.loginParams,jg.MODAL)}catch(i){$e.error(`Error while connecting to connector: ${r.connector}`,i)}}),ue(this,"onExternalWalletLogin",async r=>{try{var i;const o=this.getConnector(r.connector,(i=r.loginParams)===null||i===void 0?void 0:i.chainNamespace);if(o.name===Ye.WALLET_CONNECT_V2){const a=this.getInitialChainIdForConnector(o);await o.connect({chainId:a.chainId})}else await this.connectTo(r.connector,r.loginParams,jg.MODAL)}catch(o){$e.error(`Error while connecting to connector: ${r.connector}`,o)}}),ue(this,"onModalVisibility",async r=>{$e.debug("is login modal visible",r),this.emit(N1.MODAL_VISIBILITY,r);const i=this.getConnector(Ye.WALLET_CONNECT_V2);if(i){const o=i==null?void 0:i.status;if($e.debug("trying refreshing wc session",r,o),r&&(o===Ue.READY||o===Ue.CONNECTING)){$e.debug("refreshing wc session");try{const s=this.getInitialChainIdForConnector(i);i.connect({chainId:s.chainId})}catch(s){$e.error("Error while disconnecting to wallet connect in core",s)}}!r&&this.status===Ue.CONNECTED&&(o===Ue.READY||o===Ue.CONNECTING)&&($e.debug("this stops wc connector from trying to reconnect once proposal expires"),i.status=Ue.READY)}}),ue(this,"getChainNamespaces",()=>{var r;return[...new Set(((r=this.coreOptions.chains)===null||r===void 0?void 0:r.map(i=>i.chainNamespace))||[])]}),this.options=ae({},e),this.options.uiConfig||(this.options.uiConfig={}),this.options.modalConfig&&(this.modalConfig=this.options.modalConfig),$e.info("modalConfig",this.modalConfig)}async init(e){const n=Date.now();this.analytics.init(),this.analytics.identify(this.options.clientId,{web3auth_client_id:this.options.clientId,web3auth_network:this.options.web3AuthNetwork}),this.analytics.setGlobalProperties({dapp_url:window.location.origin,sdk_name:q7.WEB_MODAL,sdk_version:Y7,web3auth_client_id:this.options.clientId,web3auth_network:this.options.web3AuthNetwork});let r={};try{var i,o;const{signal:s}=e||{};super.checkInitRequirements();const{projectConfig:a,walletRegistry:c}=await this.getProjectAndWalletConfig();this.initUIConfig(a),super.initAccountAbstractionConfig(a),super.initChainsConfig(a),super.initCachedConnectorAndChainId(),super.initWalletServicesConfig(a),this.analytics.setGlobalProperties({team_id:a.teamId}),r=this.getInitializationTrackData();const{filteredWalletRegistry:l,disabledExternalWallets:u}=this.filterWalletRegistry(c,a);this.loginModal=new MEe(ae(ae({},this.options.uiConfig),{},{connectorListener:this,web3authClientId:this.options.clientId,web3authNetwork:this.options.web3AuthNetwork,authBuildEnv:this.options.authBuildEnv,chainNamespaces:this.getChainNamespaces(),walletRegistry:l,analytics:this.analytics}),{onInitExternalWallets:this.onInitExternalWallets,onSocialLogin:this.onSocialLogin,onExternalWalletLogin:this.onExternalWalletLogin,onModalVisibility:this.onModalVisibility}),await Za(()=>this.loginModal.initModal(),s),await Za(()=>this.setupCommonJRPCProvider(),s),this.on(qe.CONNECTORS_UPDATED,({connectors:f})=>{Za(()=>this.initConnectors({connectors:f,projectConfig:a,disabledExternalWallets:u}),s,()=>{var g;$e.debug("init aborted"),((g=this.connectors)===null||g===void 0?void 0:g.length)>0&&super.cleanup()})}),await Za(()=>super.loadConnectors({projectConfig:a,modalMode:!0}),s),await Za(()=>super.initPlugins(),s);const d=this.getConnector(Ye.AUTH);r=ae(ae({},r),{},{connectors:this.connectors.map(f=>f.name),plugins:Object.keys(this.plugins),auth_ux_mode:(d==null||(i=d.authInstance)===null||i===void 0||(i=i.options)===null||i===void 0?void 0:i.uxMode)||((o=this.coreOptions.uiConfig)===null||o===void 0?void 0:o.uxMode)}),this.analytics.track(Wt.SDK_INITIALIZATION_COMPLETED,ae(ae({},r),{},{duration:Date.now()-n}))}catch(s){if(s instanceof DOMException&&s.name==="AbortError")return;throw this.analytics.track(Wt.SDK_INITIALIZATION_FAILED,ae(ae(ae({},r),Pf(s)),{},{duration:Date.now()-n})),$e.error("Failed to initialize modal",s),s}}async connect(){if(!this.loginModal)throw Fe.notReady("Login modal is not initialized");return this.connectedConnectorName&&this.status===Ue.CONNECTED&&this.provider?this.provider:(this.loginModal.open(),new Promise((e,n)=>{const r=()=>(this.removeListener(qe.ERRORED,i),this.removeListener(N1.MODAL_VISIBILITY,o),e(this.provider)),i=s=>(this.removeListener(qe.CONNECTED,r),this.removeListener(N1.MODAL_VISIBILITY,o),n(s)),o=s=>{if(!s&&this.status!==Ue.CONNECTED)return this.removeListener(qe.CONNECTED,r),this.removeListener(qe.ERRORED,i),n(new Error("User closed the modal"))};this.once(qe.CONNECTED,r),this.once(qe.ERRORED,i),this.once(N1.MODAL_VISIBILITY,o)}))}initUIConfig(e){super.initUIConfig(e),this.options.uiConfig=ln(Vu(e.whitelabel||{}),this.options.uiConfig||{}),this.options.uiConfig.defaultLanguage||(this.options.uiConfig.defaultLanguage=BW(this.options.uiConfig.defaultLanguage)),this.options.uiConfig.mode||(this.options.uiConfig.mode="light"),this.options.uiConfig=ln(e.loginModal||{},this.options.uiConfig,{arrayMerge:(s,a)=>a});const n=e.embeddedWalletAuth.filter(s=>s.isDefault).map(s=>s.authConnection),r=[...this.options.uiConfig.loginMethodsOrder||[],...n],i=[],o=new Set;for(const s of r)o.has(s)||(o.add(s),i.push(s));this.options.uiConfig.loginMethodsOrder=i}getInitializationTrackData(){var e,n,r,i,o,s,a,c,l,u,d,f,h,g,p,S,y;return ae(ae({},super.getInitializationTrackData()),{},{modal_hide_wallet_discovery:(e=this.modalConfig)===null||e===void 0?void 0:e.hideWalletDiscovery,modal_connectors:Object.keys(((n=this.modalConfig)===null||n===void 0?void 0:n.connectors)||{}),modal_auth_connector_login_methods:Object.keys(((r=this.modalConfig)===null||r===void 0||(r=r.connectors)===null||r===void 0||(r=r[Ye.AUTH])===null||r===void 0?void 0:r.loginMethods)||{}),ui_login_methods_order:(i=this.options.uiConfig)===null||i===void 0?void 0:i.loginMethodsOrder,ui_modal_z_index:(o=this.options.uiConfig)===null||o===void 0?void 0:o.modalZIndex,ui_display_errors_on_modal:(s=this.options.uiConfig)===null||s===void 0?void 0:s.displayErrorsOnModal,ui_login_grid_col:(a=this.options.uiConfig)===null||a===void 0?void 0:a.loginGridCol,ui_primary_button:(c=this.options.uiConfig)===null||c===void 0?void 0:c.primaryButton,ui_modal_widget_type:(l=this.options.uiConfig)===null||l===void 0?void 0:l.widgetType,ui_modal_target_id_used:!!(!((u=this.options.uiConfig)===null||u===void 0)&&u.targetId),ui_modal_logo_alignment:(d=this.options.uiConfig)===null||d===void 0?void 0:d.logoAlignment,ui_modal_border_radius_type:(f=this.options.uiConfig)===null||f===void 0?void 0:f.borderRadiusType,ui_modal_button_radius_type:(h=this.options.uiConfig)===null||h===void 0?void 0:h.buttonRadiusType,ui_modal_sign_in_methods:(g=this.options.uiConfig)===null||g===void 0?void 0:g.signInMethods,ui_modal_add_previous_login_hint:(p=this.options.uiConfig)===null||p===void 0?void 0:p.addPreviousLoginHint,ui_modal_display_installed_external_wallets:(S=this.options.uiConfig)===null||S===void 0?void 0:S.displayInstalledExternalWallets,ui_modal_display_external_wallets_count:(y=this.options.uiConfig)===null||y===void 0?void 0:y.displayExternalWalletsCount})}filterWalletRegistry(e,n){const{disableAllRecommendedWallets:r,disableAllOtherWallets:i,disabledWallets:o}=n.externalWalletAuth||{},s=new Set(o||[]);r&&Object.keys(e.default).forEach(c=>s.add(c)),i&&Object.keys(e.others).forEach(c=>s.add(c)),s.delete(Ye.METAMASK);const a=Vu(e);return s.forEach(c=>{delete a.default[c],delete a.others[c]}),{disabledExternalWallets:s,filteredWalletRegistry:a}}async getProjectAndWalletConfig(){var e,n;const[r,i]=await Promise.allSettled([V7({clientId:this.options.clientId,web3AuthNetwork:this.options.web3AuthNetwork,aaProvider:(e=this.options.accountAbstractionConfig)===null||e===void 0?void 0:e.smartAccountType,authBuildEnv:this.options.authBuildEnv}),oue(Cbe)]);if(r.status==="rejected"){const c=await vC(r.reason);throw $e.error("Failed to fetch project configurations",c),Fe.notReady("failed to fetch project configurations",c)}const o=r.value;let s={others:{},default:{}};return!!o.externalWalletAuth&&!((n=this.modalConfig)!==null&&n!==void 0&&n.hideWalletDiscovery)&&(i.status==="fulfilled"?s=i.value:$e.error("Failed to fetch wallet registry",i.reason)),{projectConfig:o,walletRegistry:s}}async initConnectors({connectors:e,projectConfig:n,disabledExternalWallets:r}){const i=await this.filterConnectors({projectConfig:n,disabledExternalWallets:r}),{hasInAppConnectors:o,hasExternalConnectors:s}=await this.checkConnectorAvailability(i),a=e.filter(c=>i.includes(c.name));await this.initInAppAndCachedConnectors(a),s&&(o?(this.loginModal.initExternalWalletContainer(),this.initExternalConnectors(a.filter(c=>c.type===Ba.EXTERNAL&&c.name!==Ye.WALLET_CONNECT_V2),{externalWalletsInitialized:!1,showExternalWalletsOnly:!1,externalWalletsVisibility:!1})):await this.initExternalConnectors(a.filter(c=>c.type===Ba.EXTERNAL),{externalWalletsInitialized:!0,showExternalWalletsOnly:!0,externalWalletsVisibility:!0})),this.status===Ue.NOT_READY&&(this.status=Ue.READY,this.emit(qe.READY))}async filterConnectors({projectConfig:e,disabledExternalWallets:n}){var r;const i={},o=new Map;for(const u of e.embeddedWalletAuth||[]){const{isDefault:d,authConnection:f,groupedAuthConnectionId:h,authConnectionId:g}=u;d&&(i[f]={name:Ibe[f],authConnection:f,authConnectionId:g,groupedAuthConnectionId:h,extraLoginOptions:u.jwtParameters,isDefault:!0,showOnModal:!0}),o.set(h||g,u)}const s={[Ye.AUTH]:{label:Ye.AUTH,loginMethods:i}};(r=this.modalConfig)!==null&&r!==void 0&&(r=r.connectors)!==null&&r!==void 0&&r[Ye.AUTH]&&(this.modalConfig.connectors[Ye.AUTH].loginMethods||(this.modalConfig.connectors[Ye.AUTH].loginMethods={}));const a=new Set(k_);return Object.keys(this.modalConfig.connectors[Ye.AUTH].loginMethods).forEach(u=>{const d=this.modalConfig.connectors[Ye.AUTH].loginMethods[u],{authConnectionId:f,groupedAuthConnectionId:h}=d;if(!a.has(u))throw Fe.invalidParams(`Invalid auth connection: ${u}`);if(h||f){if(!o.has(h||f))throw Fe.invalidParams(`Invalid auth connection config, authConnection: ${u}. Missing AuthConnectionConfig from the dashboard.`);const g=o.get(h||f);this.modalConfig.connectors[Ye.AUTH].loginMethods[u]={authConnection:g.authConnection,authConnectionId:g.authConnectionId,groupedAuthConnectionId:g.groupedAuthConnectionId,isDefault:g.isDefault||!1,extraLoginOptions:ae(ae({},g.jwtParameters),d.extraLoginOptions)}}}),this.modalConfig.connectors=ln(s,Vu(this.modalConfig.connectors||{})),[...new Set([...Object.keys(this.modalConfig.connectors||{}),...this.connectors.map(u=>u.name)])].map(u=>{var d,f,h;const g={label:Z7[u]||u.split("-").map(H8).join(" "),showOnModal:!0};this.modalConfig.connectors[u]=ae(ae({},g),((d=this.modalConfig)===null||d===void 0||(d=d.connectors)===null||d===void 0?void 0:d[u])||{});const p=this.getConnector(u);$e.debug("connector config",u,(f=this.modalConfig.connectors)===null||f===void 0||(f=f[u])===null||f===void 0?void 0:f.showOnModal,p);const S=(h=this.modalConfig.connectors)===null||h===void 0?void 0:h[u];if(!p){if(S.showOnModal)throw Fe.invalidParams(`Connector ${u} is not configured`);return}if(!S.showOnModal)return;const y=!!e.externalWalletAuth;if(!(p.type===Ba.EXTERNAL&&p.name!==Ye.METAMASK&&(!y||n.has(u)))){if(u===Ye.WALLET_CONNECT_V2){var b;if(!y||(b=this.modalConfig)!==null&&b!==void 0&&b.hideWalletDiscovery)return}return this.modalConfig.connectors[u]=S,u}}).filter(u=>u!==void 0)}async checkConnectorAvailability(e){const n=this.connectors.some(i=>{var o,s;return i.type!==Ba.IN_APP||((o=this.modalConfig.connectors)===null||o===void 0||(o=o[i.name])===null||o===void 0?void 0:o.showOnModal)!==!0?!1:!!(!((s=this.modalConfig.connectors)!==null&&s!==void 0&&(s=s[i.name])!==null&&s!==void 0&&s.loginMethods)||Object.values(this.modalConfig.connectors[i.name].loginMethods).some(a=>a.showOnModal))});$e.debug(n,this.connectors,e,"hasInAppWallets");const r=e.some(i=>{var o,s;return i===Ye.WALLET_CONNECT_V2?!0:((o=this.getConnector(i))===null||o===void 0?void 0:o.type)===Ba.EXTERNAL&&((s=this.modalConfig.connectors)===null||s===void 0||(s=s[i])===null||s===void 0?void 0:s.showOnModal)});return{hasInAppConnectors:n,hasExternalConnectors:r}}async initInAppAndCachedConnectors(e){await Promise.all(e.map(async n=>{const r=n.name;try{if(n.status!==Ue.NOT_READY||this.cachedConnector!==r&&n.type===Ba.EXTERNAL)return;this.subscribeToConnectorEvents(n);const c=this.getInitialChainIdForConnector(n),l=super.checkIfAutoConnect(n);if(await n.init({autoConnect:l,chainId:c.chainId}),n.type===Ba.IN_APP){var i,o,s,a;$e.info("connectorInitResults",r);const u=((i=this.modalConfig.connectors[r])===null||i===void 0?void 0:i.loginMethods)||{};this.loginModal.addSocialLogins(r,u,((o=this.options.uiConfig)===null||o===void 0?void 0:o.loginMethodsOrder)||k_,ae(ae({},this.options.uiConfig),{},{loginGridCol:((s=this.options.uiConfig)===null||s===void 0?void 0:s.loginGridCol)||3,primaryButton:((a=this.options.uiConfig)===null||a===void 0?void 0:a.primaryButton)||"socialLogin"}))}}catch(c){$e.error(c,"error while initializing connector ",r)}}))}async initExternalConnectors(e,n){const r={},i={};e.forEach(async o=>{const s=o.name;if($e.debug("init external wallet",this.cachedConnector,s,o.status),i[s]||(i[s]=new Set),o.connectorNamespace===Zl.MULTICHAIN?this.getChainNamespaces().forEach(a=>i[s].add(a)):i[s].add(o.connectorNamespace),o.status===Ue.NOT_READY&&this.cachedConnector!==s)try{this.subscribeToConnectorEvents(o);const a=this.getInitialChainIdForConnector(o);await o.init({autoConnect:this.cachedConnector===s,chainId:a.chainId})}catch(a){$e.error(a,"error while initializing connector",s)}if([Ue.NOT_READY,Ue.READY,Ue.CONNECTING,Ue.CONNECTED].includes(o.status)){const a=this.modalConfig.connectors[s];r[s]=ae(ae({},a),{},{isInjected:o.isInjected,icon:o.icon,chainNamespaces:Array.from(i[s])}),this.loginModal.addWalletLogins(r,{showExternalWalletsOnly:!!n.showExternalWalletsOnly,externalWalletsVisibility:!!n.externalWalletsVisibility,externalWalletsInitialized:!!n.externalWalletsInitialized})}})}}const G8=le.createContext(null);function REe(t){const{children:e,config:n,initialState:r}=t,{web3AuthOptions:i}=n,[o,s]=le.useState(!1),[a,c]=le.useState(null),[l,u]=le.useState(null),[d,f]=le.useState(!1),[h,g]=le.useState(!1),p=le.useMemo(()=>(u(null),new NEe(i,r)),[i,r]),[S,y]=le.useState(p.status===Ue.CONNECTED),[b,_]=le.useState(p.status),N=le.useCallback($=>{if(!p)throw Fe.notReady();return p.getPlugin($)},[p]);le.useEffect(()=>{const $=new AbortController;async function j(){try{c(null),s(!0),p.setAnalyticsProperties({integration_type:K7.REACT_HOOKS}),await p.init({signal:$.signal})}catch(k){c(k)}finally{s(!1)}}return p&&j(),()=>{$.abort()}},[p,n]),le.useEffect(()=>{const $=()=>_(p.status),j=()=>{_(p.status),f(!0)},k=A=>{_(p.status),p.status===Ue.CONNECTED&&(f(!0),y(!0),u(A.provider))},T=()=>{_(p.status),y(!1),u(null)},L=()=>{_(p.status)},P=()=>{_(p.status)},m=()=>{_(p.status),y(!1),u(null)},w=A=>{typeof A=="boolean"&&g(A)};return p&&(_(p.status),p.on(qe.NOT_READY,$),p.on(qe.READY,j),p.on(qe.CONNECTED,k),p.on(qe.DISCONNECTED,T),p.on(qe.CONNECTING,L),p.on(qe.ERRORED,P),p.on(qe.REHYDRATION_ERROR,m),p.on(qe.MFA_ENABLED,w)),()=>{p&&(p.off(qe.NOT_READY,$),p.off(qe.READY,j),p.off(qe.CONNECTED,k),p.off(qe.DISCONNECTED,T),p.off(qe.CONNECTING,L),p.off(qe.ERRORED,P),p.off(qe.REHYDRATION_ERROR,m),p.off(qe.MFA_ENABLED,w),p.cleanup())}},[p]);const O=le.useMemo(()=>({web3Auth:p,isConnected:S,isInitialized:d,provider:l,status:b,isInitializing:o,initError:a,isMFAEnabled:h,getPlugin:N,setIsMFAEnabled:g}),[p,S,h,g,d,l,b,N,o,a]);return le.createElement(G8.Provider,{value:O},e)}const aK=()=>{const t=le.useContext(G8);if(!t)throw Fe.fromCode(1e3,"usage of useWeb3Auth not wrapped in `Web3AuthContextProvider`.");return t},cK=()=>{const{initError:t,isConnected:e,isInitialized:n,isInitializing:r,provider:i,status:o,web3Auth:s,getPlugin:a}=aK();return{initError:t,isConnected:e,isInitialized:n,isInitializing:r,provider:i,status:o,web3Auth:s,getPlugin:a}},LEe=()=>{const{web3Auth:t}=aK(),[e,n]=le.useState(!1),[r,i]=le.useState(null),o=le.useCallback(async s=>{n(!0),i(null);try{await t.logout(s)}catch(a){i(a)}finally{n(!1)}},[t]);return{loading:e,error:r,disconnect:o}};function $Ee({config:t,initialState:e,children:n}){const r=le.createElement(xbe,{context:G8},n);return le.createElement(REe,{config:t,initialState:e},r)}const BEe="BJDsmOCjEJNO46dyNiB5ErcH-mVgMoi22VvKUHufsu3cCAne66z542DJVMMbf9rs4wUwsirOiO1RCWtswZnfXYg",DEe={web3AuthOptions:{clientId:BEe,web3AuthNetwork:ph.SAPPHIRE_DEVNET}},Dv="2.21.2",jEe=()=>`@wagmi/core@${Dv}`;var lK=function(t,e,n,r){if(n==="a"&&!r)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?t!==e||!r:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return n==="m"?r:n==="a"?r.call(t):r?r.value:e.get(t)},gb,uK;let d3=class U_ extends Error{get docsBaseUrl(){return"https://wagmi.sh/core"}get version(){return jEe()}constructor(e,n={}){var o;super(),gb.add(this),Object.defineProperty(this,"details",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"docsPath",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"metaMessages",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"shortMessage",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"WagmiCoreError"});const r=n.cause instanceof U_?n.cause.details:(o=n.cause)!=null&&o.message?n.cause.message:n.details,i=n.cause instanceof U_&&n.cause.docsPath||n.docsPath;this.message=[e||"An error occurred.","",...n.metaMessages?[...n.metaMessages,""]:[],...i?[`Docs: ${this.docsBaseUrl}${i}.html${n.docsSlug?`#${n.docsSlug}`:""}`]:[],...r?[`Details: ${r}`]:[],`Version: ${this.version}`].join(`
`),n.cause&&(this.cause=n.cause),this.details=r,this.docsPath=i,this.metaMessages=n.metaMessages,this.shortMessage=e}walk(e){return lK(this,gb,"m",uK).call(this,this,e)}};gb=new WeakSet,uK=function t(e,n){return n!=null&&n(e)?e:e.cause?lK(this,gb,"m",t).call(this,e.cause,n):e};class z_ extends d3{constructor(){super("Chain not configured."),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ChainNotConfiguredError"})}}class FEe extends d3{constructor(){super("Connector already connected."),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ConnectorAlreadyConnectedError"})}}async function UEe(t,e){var r;let n;if(typeof e.connector=="function"?n=t._internal.connectors.setup(e.connector):n=e.connector,n.uid===t.state.current)throw new FEe;try{t.setState(a=>({...a,status:"connecting"})),n.emitter.emit("message",{type:"connecting"});const{connector:i,...o}=e,s=await n.connect(o);return n.emitter.off("connect",t._internal.events.connect),n.emitter.on("change",t._internal.events.change),n.emitter.on("disconnect",t._internal.events.disconnect),await((r=t.storage)==null?void 0:r.setItem("recentConnectorId",n.id)),t.setState(a=>({...a,connections:new Map(a.connections).set(n.uid,{accounts:o.withCapabilities?s.accounts.map(c=>typeof c=="object"?c.address:c):s.accounts,chainId:s.chainId,connector:n}),current:n.uid,status:"connected"})),{accounts:o.withCapabilities?s.accounts.map(a=>typeof a=="object"?a:{address:a,capabilities:{}}):s.accounts,chainId:s.chainId}}catch(i){throw t.setState(o=>({...o,status:o.current?"connected":"disconnected"})),i}}async function zEe(t,e={}){var i,o;let n;if(e.connector)n=e.connector;else{const{connections:s,current:a}=t.state,c=s.get(a);n=c==null?void 0:c.connector}const r=t.state.connections;n&&(await n.disconnect(),n.emitter.off("change",t._internal.events.change),n.emitter.off("disconnect",t._internal.events.disconnect),n.emitter.on("connect",t._internal.events.connect),r.delete(n.uid)),t.setState(s=>{if(r.size===0)return{...s,connections:new Map,current:null,status:"disconnected"};const a=r.values().next().value;return{...s,connections:new Map(r),current:a.connector.uid}});{const s=t.state.current;if(!s)return;const a=(i=t.state.connections.get(s))==null?void 0:i.connector;if(!a)return;await((o=t.storage)==null?void 0:o.setItem("recentConnectorId",a.id))}}function dK(t){const e=t.state.current,n=t.state.connections.get(e),r=n==null?void 0:n.accounts,i=r==null?void 0:r[0],o=t.chains.find(a=>a.id===(n==null?void 0:n.chainId)),s=t.state.status;switch(s){case"connected":return{address:i,addresses:r,chain:o,chainId:n==null?void 0:n.chainId,connector:n==null?void 0:n.connector,isConnected:!0,isConnecting:!1,isDisconnected:!1,isReconnecting:!1,status:s};case"reconnecting":return{address:i,addresses:r,chain:o,chainId:n==null?void 0:n.chainId,connector:n==null?void 0:n.connector,isConnected:!!i,isConnecting:!1,isDisconnected:!1,isReconnecting:!0,status:s};case"connecting":return{address:i,addresses:r,chain:o,chainId:n==null?void 0:n.chainId,connector:n==null?void 0:n.connector,isConnected:!1,isConnecting:!0,isDisconnected:!1,isReconnecting:!1,status:s};case"disconnected":return{address:void 0,addresses:void 0,chain:void 0,chainId:void 0,connector:void 0,isConnected:!1,isConnecting:!1,isDisconnected:!0,isReconnecting:!1,status:s}}}function p0(t,e){if(t===e)return!0;if(t&&e&&typeof t=="object"&&typeof e=="object"){if(t.constructor!==e.constructor)return!1;let n,r;if(Array.isArray(t)&&Array.isArray(e)){if(n=t.length,n!==e.length)return!1;for(r=n;r--!==0;)if(!p0(t[r],e[r]))return!1;return!0}if(typeof t.valueOf=="function"&&t.valueOf!==Object.prototype.valueOf)return t.valueOf()===e.valueOf();if(typeof t.toString=="function"&&t.toString!==Object.prototype.toString)return t.toString()===e.toString();const i=Object.keys(t);if(n=i.length,n!==Object.keys(e).length)return!1;for(r=n;r--!==0;)if(!Object.hasOwn(e,i[r]))return!1;for(r=n;r--!==0;){const o=i[r];if(o&&!p0(t[o],e[o]))return!1}return!0}return t!==t&&e!==e}let j1=[];function H_(t){const e=[...t.state.connections.values()];return t.state.status==="reconnecting"||p0(j1,e)?j1:(j1=e,e)}let F1=[];function IN(t){const e=t.connectors;return F1.length===e.length&&F1.every((n,r)=>n===e[r])?F1:(F1=e,e)}let l5=!1;async function fK(t,e={}){var l,u;if(l5)return[];l5=!0,t.setState(d=>({...d,status:d.current?"reconnecting":"connecting"}));const n=[];if((l=e.connectors)!=null&&l.length)for(const d of e.connectors){let f;typeof d=="function"?f=t._internal.connectors.setup(d):f=d,n.push(f)}else n.push(...t.connectors);let r;try{r=await((u=t.storage)==null?void 0:u.getItem("recentConnectorId"))}catch{}const i={};for(const[,d]of t.state.connections)i[d.connector.id]=1;r&&(i[r]=0);const o=Object.keys(i).length>0?[...n].sort((d,f)=>(i[d.id]??10)-(i[f.id]??10)):n;let s=!1;const a=[],c=[];for(const d of o){const f=await d.getProvider().catch(()=>{});if(!f||c.some(p=>p===f)||!await d.isAuthorized())continue;const g=await d.connect({isReconnecting:!0}).catch(()=>null);g&&(d.emitter.off("connect",t._internal.events.connect),d.emitter.on("change",t._internal.events.change),d.emitter.on("disconnect",t._internal.events.disconnect),t.setState(p=>{const S=new Map(s?p.connections:new Map).set(d.uid,{accounts:g.accounts,chainId:g.chainId,connector:d});return{...p,current:s?p.current:d.uid,connections:S}}),a.push({accounts:g.accounts,chainId:g.chainId,connector:d}),c.push(f),s=!0)}return(t.state.status==="reconnecting"||t.state.status==="connecting")&&(s?t.setState(d=>({...d,status:"connected"})):t.setState(d=>({...d,connections:new Map,current:null,status:"disconnected"}))),l5=!1,a}class Af extends d3{constructor(){super("Provider not found."),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ProviderNotFoundError"})}}function hK(t,e){const{onChange:n}=e;return t.subscribe(()=>dK(t),n,{equalityFn(r,i){const{connector:o,...s}=r,{connector:a,...c}=i;return p0(s,c)&&(o==null?void 0:o.id)===(a==null?void 0:a.id)&&(o==null?void 0:o.uid)===(a==null?void 0:a.uid)}})}function HEe(t,e){const{onChange:n}=e;return t.subscribe(()=>H_(t),n,{equalityFn:p0})}function WEe(t,e){const{onChange:n}=e;return t._internal.connectors.subscribe((r,i)=>{n(Object.values(r),i)})}z0.type="injected";function z0(t={}){const{shimDisconnect:e=!0,unstable_shimAsyncInject:n}=t;function r(){const c=t.target;if(typeof c=="function"){const l=c();if(l)return l}return typeof c=="object"?c:typeof c=="string"?{...KEe[c]??{id:c,name:`${c[0].toUpperCase()}${c.slice(1)}`,provider:`is${c[0].toUpperCase()}${c.slice(1)}`}}:{id:"injected",name:"Injected",provider(l){return l==null?void 0:l.ethereum}}}let i,o,s,a;return c=>({get icon(){return r().icon},get id(){return r().id},get name(){return r().name},get supportsSimulation(){return!0},type:z0.type,async setup(){const l=await this.getProvider();l!=null&&l.on&&t.target&&(s||(s=this.onConnect.bind(this),l.on("connect",s)),i||(i=this.onAccountsChanged.bind(this),l.on("accountsChanged",i)))},async connect({chainId:l,isReconnecting:u,withCapabilities:d}={}){var g,p,S,y,b,_;const f=await this.getProvider();if(!f)throw new Af;let h=[];if(u)h=await this.getAccounts().catch(()=>[]);else if(e)try{h=(y=(S=(p=(g=(await f.request({method:"wallet_requestPermissions",params:[{eth_accounts:{}}]}))[0])==null?void 0:g.caveats)==null?void 0:p[0])==null?void 0:S.value)==null?void 0:y.map(O=>Xu(O)),h.length>0&&(h=await this.getAccounts())}catch(N){const O=N;if(O.code===Hr.code)throw new Hr(O);if(O.code===nu.code)throw O}try{!(h!=null&&h.length)&&!u&&(h=(await f.request({method:"eth_requestAccounts"})).map($=>Xu($))),s&&(f.removeListener("connect",s),s=void 0),i||(i=this.onAccountsChanged.bind(this),f.on("accountsChanged",i)),o||(o=this.onChainChanged.bind(this),f.on("chainChanged",o)),a||(a=this.onDisconnect.bind(this),f.on("disconnect",a));let N=await this.getChainId();if(l&&N!==l){const O=await this.switchChain({chainId:l}).catch($=>{if($.code===Hr.code)throw $;return{id:N}});N=(O==null?void 0:O.id)??N}return e&&await((b=c.storage)==null?void 0:b.removeItem(`${this.id}.disconnected`)),t.target||await((_=c.storage)==null?void 0:_.setItem("injected.connected",!0)),{accounts:d?h.map(O=>({address:O,capabilities:{}})):h,chainId:N}}catch(N){const O=N;throw O.code===Hr.code?new Hr(O):O.code===nu.code?new nu(O):O}},async disconnect(){var u,d;const l=await this.getProvider();if(!l)throw new Af;o&&(l.removeListener("chainChanged",o),o=void 0),a&&(l.removeListener("disconnect",a),a=void 0),s||(s=this.onConnect.bind(this),l.on("connect",s));try{await T8(()=>l.request({method:"wallet_revokePermissions",params:[{eth_accounts:{}}]}),{timeout:100})}catch{}e&&await((u=c.storage)==null?void 0:u.setItem(`${this.id}.disconnected`,!0)),t.target||await((d=c.storage)==null?void 0:d.removeItem("injected.connected"))},async getAccounts(){const l=await this.getProvider();if(!l)throw new Af;return(await l.request({method:"eth_accounts"})).map(d=>Xu(d))},async getChainId(){const l=await this.getProvider();if(!l)throw new Af;const u=await l.request({method:"eth_chainId"});return Number(u)},async getProvider(){if(typeof window>"u")return;let l;const u=r();return typeof u.provider=="function"?l=u.provider(window):typeof u.provider=="string"?l=jv(window,u.provider):l=u.provider,l&&!l.removeListener&&("off"in l&&typeof l.off=="function"?l.removeListener=l.off:l.removeListener=()=>{}),l},async isAuthorized(){var l,u;try{if(e&&await((l=c.storage)==null?void 0:l.getItem(`${this.id}.disconnected`))||!t.target&&!await((u=c.storage)==null?void 0:u.getItem("injected.connected")))return!1;if(!await this.getProvider()){if(n!==void 0&&n!==!1){const g=async()=>(typeof window<"u"&&window.removeEventListener("ethereum#initialized",g),!!await this.getProvider()),p=typeof n=="number"?n:1e3;if(await Promise.race([...typeof window<"u"?[new Promise(y=>window.addEventListener("ethereum#initialized",()=>y(g()),{once:!0}))]:[],new Promise(y=>setTimeout(()=>y(g()),p))]))return!0}throw new Af}return!!(await Sm(()=>this.getAccounts())).length}catch{return!1}},async switchChain({addEthereumChainParameter:l,chainId:u}){var g,p,S,y;const d=await this.getProvider();if(!d)throw new Af;const f=c.chains.find(b=>b.id===u);if(!f)throw new $d(new z_);const h=new Promise(b=>{const _=N=>{"chainId"in N&&N.chainId===u&&(c.emitter.off("change",_),b())};c.emitter.on("change",_)});try{return await Promise.all([d.request({method:"wallet_switchEthereumChain",params:[{chainId:et(u)}]}).then(async()=>{await this.getChainId()===u&&c.emitter.emit("change",{chainId:u})}),h]),f}catch(b){const _=b;if(_.code===4902||((p=(g=_==null?void 0:_.data)==null?void 0:g.originalError)==null?void 0:p.code)===4902)try{const{default:N,...O}=f.blockExplorers??{};let $;l!=null&&l.blockExplorerUrls?$=l.blockExplorerUrls:N&&($=[N.url,...Object.values(O).map(T=>T.url)]);let j;(S=l==null?void 0:l.rpcUrls)!=null&&S.length?j=l.rpcUrls:j=[((y=f.rpcUrls.default)==null?void 0:y.http[0])??""];const k={blockExplorerUrls:$,chainId:et(u),chainName:(l==null?void 0:l.chainName)??f.name,iconUrls:l==null?void 0:l.iconUrls,nativeCurrency:(l==null?void 0:l.nativeCurrency)??f.nativeCurrency,rpcUrls:j};return await Promise.all([d.request({method:"wallet_addEthereumChain",params:[k]}).then(async()=>{if(await this.getChainId()===u)c.emitter.emit("change",{chainId:u});else throw new Hr(new Error("User rejected switch after adding network."))}),h]),f}catch(N){throw new Hr(N)}throw _.code===Hr.code?new Hr(_):new $d(_)}},async onAccountsChanged(l){var u;if(l.length===0)this.onDisconnect();else if(c.emitter.listenerCount("connect")){const d=(await this.getChainId()).toString();this.onConnect({chainId:d}),e&&await((u=c.storage)==null?void 0:u.removeItem(`${this.id}.disconnected`))}else c.emitter.emit("change",{accounts:l.map(d=>Xu(d))})},onChainChanged(l){const u=Number(l);c.emitter.emit("change",{chainId:u})},async onConnect(l){const u=await this.getAccounts();if(u.length===0)return;const d=Number(l.chainId);c.emitter.emit("connect",{accounts:u,chainId:d});const f=await this.getProvider();f&&(s&&(f.removeListener("connect",s),s=void 0),i||(i=this.onAccountsChanged.bind(this),f.on("accountsChanged",i)),o||(o=this.onChainChanged.bind(this),f.on("chainChanged",o)),a||(a=this.onDisconnect.bind(this),f.on("disconnect",a)))},async onDisconnect(l){const u=await this.getProvider();l&&l.code===1013&&u&&(await this.getAccounts()).length||(c.emitter.emit("disconnect"),u&&(o&&(u.removeListener("chainChanged",o),o=void 0),a&&(u.removeListener("disconnect",a),a=void 0),s||(s=this.onConnect.bind(this),u.on("connect",s))))}})}const KEe={coinbaseWallet:{id:"coinbaseWallet",name:"Coinbase Wallet",provider(t){return t!=null&&t.coinbaseWalletExtension?t.coinbaseWalletExtension:jv(t,"isCoinbaseWallet")}},metaMask:{id:"metaMask",name:"MetaMask",provider(t){return jv(t,e=>{if(!e.isMetaMask||e.isBraveWallet&&!e._events&&!e._state)return!1;const n=["isApexWallet","isAvalanche","isBitKeep","isBlockWallet","isKuCoinWallet","isMathWallet","isOkxWallet","isOKExWallet","isOneInchIOSWallet","isOneInchAndroidWallet","isOpera","isPhantom","isPortal","isRabby","isTokenPocket","isTokenary","isUniswapWallet","isZerion"];for(const r of n)if(e[r])return!1;return!0})}},phantom:{id:"phantom",name:"Phantom",provider(t){var e,n;return(e=t==null?void 0:t.phantom)!=null&&e.ethereum?(n=t.phantom)==null?void 0:n.ethereum:jv(t,"isPhantom")}}};function jv(t,e){function n(i){return typeof e=="function"?e(i):typeof e=="string"?i[e]:!0}const r=t.ethereum;if(r!=null&&r.providers)return r.providers.find(i=>n(i));if(r&&n(r))return r}const qEe=t=>(e,n,r)=>{const i=r.subscribe;return r.subscribe=(s,a,c)=>{let l=s;if(a){const u=(c==null?void 0:c.equalityFn)||Object.is;let d=s(r.getState());l=f=>{const h=s(f);if(!u(d,h)){const g=d;a(d=h,g)}},c!=null&&c.fireImmediately&&a(d,d)}return i(l)},t(e,n,r)},VEe=qEe;function GEe(t,e){let n;try{n=t()}catch{return}return{getItem:i=>{var o;const s=c=>c===null?null:JSON.parse(c,void 0),a=(o=n.getItem(i))!=null?o:null;return a instanceof Promise?a.then(s):s(a)},setItem:(i,o)=>n.setItem(i,JSON.stringify(o,void 0)),removeItem:i=>n.removeItem(i)}}const W_=t=>e=>{try{const n=t(e);return n instanceof Promise?n:{then(r){return W_(r)(n)},catch(r){return this}}}catch(n){return{then(r){return this},catch(r){return W_(r)(n)}}}},YEe=(t,e)=>(n,r,i)=>{let o={storage:GEe(()=>localStorage),partialize:p=>p,version:0,merge:(p,S)=>({...S,...p}),...e},s=!1;const a=new Set,c=new Set;let l=o.storage;if(!l)return t((...p)=>{console.warn(`[zustand persist middleware] Unable to update item '${o.name}', the given storage is currently unavailable.`),n(...p)},r,i);const u=()=>{const p=o.partialize({...r()});return l.setItem(o.name,{state:p,version:o.version})},d=i.setState;i.setState=(p,S)=>{d(p,S),u()};const f=t((...p)=>{n(...p),u()},r,i);i.getInitialState=()=>f;let h;const g=()=>{var p,S;if(!l)return;s=!1,a.forEach(b=>{var _;return b((_=r())!=null?_:f)});const y=((S=o.onRehydrateStorage)==null?void 0:S.call(o,(p=r())!=null?p:f))||void 0;return W_(l.getItem.bind(l))(o.name).then(b=>{if(b)if(typeof b.version=="number"&&b.version!==o.version){if(o.migrate)return[!0,o.migrate(b.state,b.version)];console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}else return[!1,b.state];return[!1,void 0]}).then(b=>{var _;const[N,O]=b;if(h=o.merge(O,(_=r())!=null?_:f),n(h,!0),N)return u()}).then(()=>{y==null||y(h,void 0),h=r(),s=!0,c.forEach(b=>b(h))}).catch(b=>{y==null||y(void 0,b)})};return i.persist={setOptions:p=>{o={...o,...p},p.storage&&(l=p.storage)},clearStorage:()=>{l==null||l.removeItem(o.name)},getOptions:()=>o,rehydrate:()=>g(),hasHydrated:()=>s,onHydrate:p=>(a.add(p),()=>{a.delete(p)}),onFinishHydration:p=>(c.add(p),()=>{c.delete(p)})},o.skipHydration||g(),h||f},JEe=YEe,kN=t=>{let e;const n=new Set,r=(l,u)=>{const d=typeof l=="function"?l(e):l;if(!Object.is(d,e)){const f=e;e=u??(typeof d!="object"||d===null)?d:Object.assign({},e,d),n.forEach(h=>h(e,f))}},i=()=>e,a={setState:r,getState:i,getInitialState:()=>c,subscribe:l=>(n.add(l),()=>n.delete(l))},c=e=t(r,i,a);return a},u5=t=>t?kN(t):kN;class ZEe{constructor(e){Object.defineProperty(this,"uid",{enumerable:!0,configurable:!0,writable:!0,value:e}),Object.defineProperty(this,"_emitter",{enumerable:!0,configurable:!0,writable:!0,value:new Ipe})}on(e,n){this._emitter.on(e,n)}once(e,n){this._emitter.once(e,n)}off(e,n){this._emitter.off(e,n)}emit(e,...n){const r=n[0];this._emitter.emit(e,{uid:this.uid,...r})}listenerCount(e){return this._emitter.listenerCount(e)}}function QEe(t){return new ZEe(t)}function XEe(t,e){return JSON.parse(t,(n,r)=>{let i=r;return(i==null?void 0:i.__type)==="bigint"&&(i=BigInt(i.value)),(i==null?void 0:i.__type)==="Map"&&(i=new Map(i.value)),(e==null?void 0:e(n,i))??i})}function PN(t,e){return t.slice(0,e).join(".")||"."}function ON(t,e){const{length:n}=t;for(let r=0;r<n;++r)if(t[r]===e)return r+1;return 0}function e6e(t,e){const n=typeof t=="function",r=typeof e=="function",i=[],o=[];return function(a,c){if(typeof c=="object")if(i.length){const l=ON(i,this);l===0?i[i.length]=this:(i.splice(l),o.splice(l)),o[o.length]=a;const u=ON(i,c);if(u!==0)return r?e.call(this,a,c,PN(o,u)):`[ref=${PN(o,u)}]`}else i[0]=c,o[0]=a;return n?t.call(this,a,c):c}}function t6e(t,e,n,r){return JSON.stringify(t,e6e((i,o)=>{let s=o;return typeof s=="bigint"&&(s={__type:"bigint",value:o.toString()}),s instanceof Map&&(s={__type:"Map",value:Array.from(o.entries())}),(e==null?void 0:e(i,s))??s},r),n??void 0)}function n6e(t){const{deserialize:e=XEe,key:n="wagmi",serialize:r=t6e,storage:i=pK}=t;function o(s){return s instanceof Promise?s.then(a=>a).catch(()=>null):s}return{...i,key:n,async getItem(s,a){const c=i.getItem(`${n}.${s}`),l=await o(c);return l?e(l)??null:a??null},async setItem(s,a){const c=`${n}.${s}`;a===null?await o(i.removeItem(c)):await o(i.setItem(c,r(a)))},async removeItem(s){await o(i.removeItem(`${n}.${s}`))}}}const pK={getItem:()=>null,setItem:()=>{},removeItem:()=>{}};function r6e(){const t=typeof window<"u"&&window.localStorage?window.localStorage:pK;return{getItem(e){return t.getItem(e)},removeItem(e){t.removeItem(e)},setItem(e,n){try{t.setItem(e,n)}catch{}}}}const K_=256;let U1=K_,z1;function i6e(t=11){if(!z1||U1+t>K_*2){z1="",U1=0;for(let e=0;e<K_;e++)z1+=(256+Math.random()*256|0).toString(16).substring(1)}return z1.substring(U1,U1+++t)}function Y8(t){const{multiInjectedProviderDiscovery:e=!0,storage:n=n6e({storage:r6e()}),syncConnectedChain:r=!0,ssr:i=!1,...o}=t,s=typeof window<"u"&&e?Cpe():void 0,a=u5(()=>o.chains),c=u5(()=>{const O=[],$=new Set;for(const j of o.connectors??[]){const k=l(j);if(O.push(k),!i&&k.rdns){const T=typeof k.rdns=="string"?[k.rdns]:k.rdns;for(const L of T)$.add(L)}}if(!i&&s){const j=s.getProviders();for(const k of j)$.has(k.info.rdns)||O.push(l(u(k)))}return O});function l(O){var k;const $=QEe(i6e()),j={...O({emitter:$,chains:a.getState(),storage:n,transports:o.transports}),emitter:$,uid:$.uid};return $.on("connect",_),(k=j.setup)==null||k.call(j),j}function u(O){const{info:$}=O,j=O.provider;return z0({target:{...$,id:$.rdns,provider:j}})}const d=new Map;function f(O={}){const $=O.chainId??S.getState().chainId,j=a.getState().find(T=>T.id===$);if(O.chainId&&!j)throw new z_;{const T=d.get(S.getState().chainId);if(T&&!j)return T;if(!j)throw new z_}{const T=d.get($);if(T)return T}let k;if(o.client)k=o.client({chain:j});else{const T=j.id,L=a.getState().map(w=>w.id),P={},m=Object.entries(o);for(const[w,A]of m)if(!(w==="chains"||w==="client"||w==="connectors"||w==="transports"))if(typeof A=="object")if(T in A)P[w]=A[T];else{if(L.some(I=>I in A))continue;P[w]=A}else P[w]=A;k=A8({...P,chain:j,batch:P.batch??{multicall:!0},transport:w=>o.transports[T]({...w,connectors:c})})}return d.set($,k),k}function h(){return{chainId:a.getState()[0].id,connections:new Map,current:null,status:"disconnected"}}let g;const p="0.0.0-canary-";Dv.startsWith(p)?g=Number.parseInt(Dv.replace(p,""),10):g=Number.parseInt(Dv.split(".")[0]??"0",10);const S=u5(VEe(n?JEe(h,{migrate(O,$){if($===g)return O;const j=h(),k=y(O,j.chainId);return{...j,chainId:k}},name:"store",partialize(O){return{connections:{__type:"Map",value:Array.from(O.connections.entries()).map(([$,j])=>{const{id:k,name:T,type:L,uid:P}=j.connector;return[$,{...j,connector:{id:k,name:T,type:L,uid:P}}]})},chainId:O.chainId,current:O.current}},merge(O,$){typeof O=="object"&&O&&"status"in O&&delete O.status;const j=y(O,$.chainId);return{...$,...O,chainId:j}},skipHydration:i,storage:n,version:g}):h));S.setState(h());function y(O,$){return O&&typeof O=="object"&&"chainId"in O&&typeof O.chainId=="number"&&a.getState().some(j=>j.id===O.chainId)?O.chainId:$}r&&S.subscribe(({connections:O,current:$})=>{var j;return $?(j=O.get($))==null?void 0:j.chainId:void 0},O=>{if(a.getState().some(j=>j.id===O))return S.setState(j=>({...j,chainId:O??j.chainId}))}),s==null||s.subscribe(O=>{const $=new Set,j=new Set;for(const T of c.getState())if($.add(T.id),T.rdns){const L=typeof T.rdns=="string"?[T.rdns]:T.rdns;for(const P of L)j.add(P)}const k=[];for(const T of O){if(j.has(T.info.rdns))continue;const L=l(u(T));$.has(L.id)||k.push(L)}n&&!S.persist.hasHydrated()||c.setState(T=>[...T,...k],!0)});function b(O){S.setState($=>{const j=$.connections.get(O.uid);return j?{...$,connections:new Map($.connections).set(O.uid,{accounts:O.accounts??j.accounts,chainId:O.chainId??j.chainId,connector:j.connector})}:$})}function _(O){S.getState().status==="connecting"||S.getState().status==="reconnecting"||S.setState($=>{const j=c.getState().find(k=>k.uid===O.uid);return j?(j.emitter.listenerCount("connect")&&j.emitter.off("connect",b),j.emitter.listenerCount("change")||j.emitter.on("change",b),j.emitter.listenerCount("disconnect")||j.emitter.on("disconnect",N),{...$,connections:new Map($.connections).set(O.uid,{accounts:O.accounts,chainId:O.chainId,connector:j}),current:O.uid,status:"connected"}):$})}function N(O){S.setState($=>{const j=$.connections.get(O.uid);if(j){const T=j.connector;T.emitter.listenerCount("change")&&j.connector.emitter.off("change",b),T.emitter.listenerCount("disconnect")&&j.connector.emitter.off("disconnect",N),T.emitter.listenerCount("connect")||j.connector.emitter.on("connect",_)}if($.connections.delete(O.uid),$.connections.size===0)return{...$,connections:new Map,current:null,status:"disconnected"};const k=$.connections.values().next().value;return{...$,connections:new Map($.connections),current:k.connector.uid}})}return{get chains(){return a.getState()},get connectors(){return c.getState()},storage:n,getClient:f,get state(){return S.getState()},setState(O){let $;typeof O=="function"?$=O(S.getState()):$=O;const j=h();typeof $!="object"&&($=j),Object.keys(j).some(T=>!(T in $))&&($=j),S.setState($,!0)},subscribe(O,$,j){return S.subscribe(O,$,j?{...j,fireImmediately:j.emitImmediately}:void 0)},_internal:{mipd:s,async revalidate(){const O=S.getState(),$=O.connections;let j=O.current;for(const[,k]of $){const T=k.connector;T.isAuthorized&&await T.isAuthorized()||($.delete(T.uid),j===T.uid&&(j=null))}S.setState(k=>({...k,connections:$,current:j}))},store:S,ssr:!!i,syncConnectedChain:r,transports:o.transports,chains:{setState(O){const $=typeof O=="function"?O(a.getState()):O;if($.length!==0)return a.setState($,!0)},subscribe(O){return a.subscribe(O)}},connectors:{providerDetailToConnector:u,setup:l,setState(O){return c.setState(typeof O=="function"?O(c.getState()):O,!0)},subscribe(O){return c.subscribe(O)}},events:{change:b,connect:_,disconnect:N}}}}function o6e(t,e){const{initialState:n,reconnectOnMount:r}=e;return n&&!t._internal.store.persist.hasHydrated()&&t.setState({...n,chainId:t.chains.some(i=>i.id===n.chainId)?n.chainId:t.chains[0].id,connections:r?n.connections:new Map,status:r?"reconnecting":"disconnected"}),{async onMount(){t._internal.ssr&&(await t._internal.store.persist.rehydrate(),t._internal.mipd&&t._internal.connectors.setState(i=>{var c;const o=new Set;for(const l of i??[])if(l.rdns){const u=Array.isArray(l.rdns)?l.rdns:[l.rdns];for(const d of u)o.add(d)}const s=[],a=((c=t._internal.mipd)==null?void 0:c.getProviders())??[];for(const l of a){if(o.has(l.info.rdns))continue;const u=t._internal.connectors.providerDetailToConnector(l),d=t._internal.connectors.setup(u);s.push(d)}return[...i,...s]})),r?fK(t):t.storage&&t.setState(i=>({...i,connections:new Map}))}}}function s6e(t){const{children:e,config:n,initialState:r,reconnectOnMount:i=!0}=t,{onMount:o}=o6e(n,{initialState:r,reconnectOnMount:i});n._internal.ssr||o();const s=le.useRef(!0);return le.useEffect(()=>{if(s.current&&n._internal.ssr)return o(),()=>{s.current=!1}},[]),e}const gK=le.createContext(void 0);function a6e(t){const{children:e,config:n}=t,r={value:n};return le.createElement(s6e,t,le.createElement(gK.Provider,r,e))}const c6e="2.17.5",l6e=()=>`wagmi@${c6e}`;class u6e extends d3{constructor(){super(...arguments),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"WagmiError"})}get docsBaseUrl(){return"https://wagmi.sh/react"}get version(){return l6e()}}class d6e extends u6e{constructor(){super("`useConfig` must be used within `WagmiProvider`.",{docsPath:"/api/WagmiProvider"}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"WagmiProviderNotFoundError"})}}function Eu(t={}){const e=t.config??le.useContext(gK);if(!e)throw new d6e;return e}var mK={exports:{}},yK={},vK={exports:{}},wK={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var g0=le;function f6e(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var h6e=typeof Object.is=="function"?Object.is:f6e,p6e=g0.useState,g6e=g0.useEffect,m6e=g0.useLayoutEffect,y6e=g0.useDebugValue;function v6e(t,e){var n=e(),r=p6e({inst:{value:n,getSnapshot:e}}),i=r[0].inst,o=r[1];return m6e(function(){i.value=n,i.getSnapshot=e,d5(i)&&o({inst:i})},[t,n,e]),g6e(function(){return d5(i)&&o({inst:i}),t(function(){d5(i)&&o({inst:i})})},[t]),y6e(n),n}function d5(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!h6e(t,n)}catch{return!0}}function w6e(t,e){return e()}var b6e=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?w6e:v6e;wK.useSyncExternalStore=g0.useSyncExternalStore!==void 0?g0.useSyncExternalStore:b6e;vK.exports=wK;var E6e=vK.exports;/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var f3=le,x6e=E6e;function S6e(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var _6e=typeof Object.is=="function"?Object.is:S6e,C6e=x6e.useSyncExternalStore,A6e=f3.useRef,I6e=f3.useEffect,k6e=f3.useMemo,P6e=f3.useDebugValue;yK.useSyncExternalStoreWithSelector=function(t,e,n,r,i){var o=A6e(null);if(o.current===null){var s={hasValue:!1,value:null};o.current=s}else s=o.current;o=k6e(function(){function c(h){if(!l){if(l=!0,u=h,h=r(h),i!==void 0&&s.hasValue){var g=s.value;if(i(g,h))return d=g}return d=h}if(g=d,_6e(u,h))return g;var p=r(h);return i!==void 0&&i(g,p)?(u=h,g):(u=h,d=p)}var l=!1,u,d,f=n===void 0?null:n;return[function(){return c(e())},f===null?void 0:function(){return c(f())}]},[e,n,r,i]);var a=C6e(t,o[0],o[1]);return I6e(function(){s.hasValue=!0,s.value=a},[a]),P6e(a),a};mK.exports=yK;var O6e=mK.exports;const f5=t=>typeof t=="object"&&!Array.isArray(t);function T6e(t,e,n=e,r=p0){const i=le.useRef([]),o=O6e.useSyncExternalStoreWithSelector(t,e,n,s=>s,(s,a)=>{if(f5(s)&&f5(a)&&i.current.length){for(const c of i.current)if(!r(s[c],a[c]))return!1;return!0}return r(s,a)});return le.useMemo(()=>{if(f5(o)){const s={...o};let a={};for(const[c,l]of Object.entries(s))a={...a,[c]:{configurable:!1,enumerable:!0,get:()=>(i.current.includes(c)||i.current.push(c),l)}};return Object.defineProperties(s,a),s}return o},[o])}function M6e(t={}){const e=Eu(t);return T6e(n=>hK(e,{onChange:n}),()=>dK(e))}function N6e(t={}){const{onConnect:e,onDisconnect:n}=t,r=Eu(t);le.useEffect(()=>hK(r,{onChange(i,o){if((o.status==="reconnecting"||o.status==="connecting"&&o.address===void 0)&&i.status==="connected"){const{address:s,addresses:a,chain:c,chainId:l,connector:u}=i,d=o.status==="reconnecting"||o.status===void 0;e==null||e({address:s,addresses:a,chain:c,chainId:l,connector:u,isReconnected:d})}else o.status==="connected"&&i.status==="disconnected"&&(n==null||n())}}),[r,e,n])}var my=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(t){return this.listeners.add(t),this.onSubscribe(),()=>{this.listeners.delete(t),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},R6e={setTimeout:(t,e)=>setTimeout(t,e),clearTimeout:t=>clearTimeout(t),setInterval:(t,e)=>setInterval(t,e),clearInterval:t=>clearInterval(t)},kl,Q_,jN,L6e=(jN=class{constructor(){Et(this,kl,R6e);Et(this,Q_,!1)}setTimeoutProvider(t){lt(this,kl,t)}setTimeout(t,e){return ye(this,kl).setTimeout(t,e)}clearTimeout(t){ye(this,kl).clearTimeout(t)}setInterval(t,e){return ye(this,kl).setInterval(t,e)}clearInterval(t){ye(this,kl).clearInterval(t)}},kl=new WeakMap,Q_=new WeakMap,jN),q_=new L6e;function $6e(t){setTimeout(t,0)}var h3=typeof window>"u"||"Deno"in globalThis;function So(){}function B6e(t,e){return typeof t=="function"?t(e):t}function D6e(t){return typeof t=="number"&&t>=0&&t!==1/0}function j6e(t,e){return Math.max(t+(e||0)-Date.now(),0)}function V_(t,e){return typeof t=="function"?t(e):t}function F6e(t,e){return typeof t=="function"?t(e):t}function TN(t,e){const{type:n="all",exact:r,fetchStatus:i,predicate:o,queryKey:s,stale:a}=t;if(s){if(r){if(e.queryHash!==J8(s,e.options))return!1}else if(!Im(e.queryKey,s))return!1}if(n!=="all"){const c=e.isActive();if(n==="active"&&!c||n==="inactive"&&c)return!1}return!(typeof a=="boolean"&&e.isStale()!==a||i&&i!==e.state.fetchStatus||o&&!o(e))}function MN(t,e){const{exact:n,status:r,predicate:i,mutationKey:o}=t;if(o){if(!e.options.mutationKey)return!1;if(n){if(Ud(e.options.mutationKey)!==Ud(o))return!1}else if(!Im(e.options.mutationKey,o))return!1}return!(r&&e.state.status!==r||i&&!i(e))}function J8(t,e){return((e==null?void 0:e.queryKeyHashFn)||Ud)(t)}function Ud(t){return JSON.stringify(t,(e,n)=>G_(n)?Object.keys(n).sort().reduce((r,i)=>(r[i]=n[i],r),{}):n)}function Im(t,e){return t===e?!0:typeof t!=typeof e?!1:t&&e&&typeof t=="object"&&typeof e=="object"?Object.keys(e).every(n=>Im(t[n],e[n])):!1}var U6e=Object.prototype.hasOwnProperty;function bK(t,e){if(t===e)return t;const n=NN(t)&&NN(e);if(!n&&!(G_(t)&&G_(e)))return e;const i=(n?t:Object.keys(t)).length,o=n?e:Object.keys(e),s=o.length,a=n?new Array(s):{};let c=0;for(let l=0;l<s;l++){const u=n?l:o[l],d=t[u],f=e[u];if(d===f){a[u]=d,(n?l<i:U6e.call(t,u))&&c++;continue}if(d===null||f===null||typeof d!="object"||typeof f!="object"){a[u]=f;continue}const h=bK(d,f);a[u]=h,h===d&&c++}return i===s&&c===i?t:a}function z6e(t,e){if(!e||Object.keys(t).length!==Object.keys(e).length)return!1;for(const n in t)if(t[n]!==e[n])return!1;return!0}function NN(t){return Array.isArray(t)&&t.length===Object.keys(t).length}function G_(t){if(!RN(t))return!1;const e=t.constructor;if(e===void 0)return!0;const n=e.prototype;return!(!RN(n)||!n.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(t)!==Object.prototype)}function RN(t){return Object.prototype.toString.call(t)==="[object Object]"}function H6e(t){return new Promise(e=>{q_.setTimeout(e,t)})}function W6e(t,e,n){return typeof n.structuralSharing=="function"?n.structuralSharing(t,e):n.structuralSharing!==!1?bK(t,e):e}function K6e(t,e,n=0){const r=[...t,e];return n&&r.length>n?r.slice(1):r}function q6e(t,e,n=0){const r=[e,...t];return n&&r.length>n?r.slice(0,-1):r}var Z8=Symbol();function EK(t,e){return!t.queryFn&&(e!=null&&e.initialPromise)?()=>e.initialPromise:!t.queryFn||t.queryFn===Z8?()=>Promise.reject(new Error(`Missing queryFn: '${t.queryHash}'`)):t.queryFn}function V6e(t,e){return typeof t=="function"?t(...e):!!t}var rd,Pl,kh,FN,G6e=(FN=class extends my{constructor(){super();Et(this,rd);Et(this,Pl);Et(this,kh);lt(this,kh,e=>{if(!h3&&window.addEventListener){const n=()=>e();return window.addEventListener("visibilitychange",n,!1),()=>{window.removeEventListener("visibilitychange",n)}}})}onSubscribe(){ye(this,Pl)||this.setEventListener(ye(this,kh))}onUnsubscribe(){var e;this.hasListeners()||((e=ye(this,Pl))==null||e.call(this),lt(this,Pl,void 0))}setEventListener(e){var n;lt(this,kh,e),(n=ye(this,Pl))==null||n.call(this),lt(this,Pl,e(r=>{typeof r=="boolean"?this.setFocused(r):this.onFocus()}))}setFocused(e){ye(this,rd)!==e&&(lt(this,rd,e),this.onFocus())}onFocus(){const e=this.isFocused();this.listeners.forEach(n=>{n(e)})}isFocused(){var e;return typeof ye(this,rd)=="boolean"?ye(this,rd):((e=globalThis.document)==null?void 0:e.visibilityState)!=="hidden"}},rd=new WeakMap,Pl=new WeakMap,kh=new WeakMap,FN),xK=new G6e;function Y6e(){let t,e;const n=new Promise((i,o)=>{t=i,e=o});n.status="pending",n.catch(()=>{});function r(i){Object.assign(n,i),delete n.resolve,delete n.reject}return n.resolve=i=>{r({status:"fulfilled",value:i}),t(i)},n.reject=i=>{r({status:"rejected",reason:i}),e(i)},n}var J6e=$6e;function Z6e(){let t=[],e=0,n=a=>{a()},r=a=>{a()},i=J6e;const o=a=>{e?t.push(a):i(()=>{n(a)})},s=()=>{const a=t;t=[],a.length&&i(()=>{r(()=>{a.forEach(c=>{n(c)})})})};return{batch:a=>{let c;e++;try{c=a()}finally{e--,e||s()}return c},batchCalls:a=>(...c)=>{o(()=>{a(...c)})},schedule:o,setNotifyFunction:a=>{n=a},setBatchNotifyFunction:a=>{r=a},setScheduler:a=>{i=a}}}var gr=Z6e(),Ph,Ol,Oh,UN,Q6e=(UN=class extends my{constructor(){super();Et(this,Ph,!0);Et(this,Ol);Et(this,Oh);lt(this,Oh,e=>{if(!h3&&window.addEventListener){const n=()=>e(!0),r=()=>e(!1);return window.addEventListener("online",n,!1),window.addEventListener("offline",r,!1),()=>{window.removeEventListener("online",n),window.removeEventListener("offline",r)}}})}onSubscribe(){ye(this,Ol)||this.setEventListener(ye(this,Oh))}onUnsubscribe(){var e;this.hasListeners()||((e=ye(this,Ol))==null||e.call(this),lt(this,Ol,void 0))}setEventListener(e){var n;lt(this,Oh,e),(n=ye(this,Ol))==null||n.call(this),lt(this,Ol,e(this.setOnline.bind(this)))}setOnline(e){ye(this,Ph)!==e&&(lt(this,Ph,e),this.listeners.forEach(r=>{r(e)}))}isOnline(){return ye(this,Ph)}},Ph=new WeakMap,Ol=new WeakMap,Oh=new WeakMap,UN),mb=new Q6e;function X6e(t){return Math.min(1e3*2**t,3e4)}function SK(t){return(t??"online")==="online"?mb.isOnline():!0}var Y_=class extends Error{constructor(t){super("CancelledError"),this.revert=t==null?void 0:t.revert,this.silent=t==null?void 0:t.silent}};function _K(t){let e=!1,n=0,r;const i=Y6e(),o=()=>i.status!=="pending",s=p=>{var S;if(!o()){const y=new Y_(p);f(y),(S=t.onCancel)==null||S.call(t,y)}},a=()=>{e=!0},c=()=>{e=!1},l=()=>xK.isFocused()&&(t.networkMode==="always"||mb.isOnline())&&t.canRun(),u=()=>SK(t.networkMode)&&t.canRun(),d=p=>{o()||(r==null||r(),i.resolve(p))},f=p=>{o()||(r==null||r(),i.reject(p))},h=()=>new Promise(p=>{var S;r=y=>{(o()||l())&&p(y)},(S=t.onPause)==null||S.call(t)}).then(()=>{var p;r=void 0,o()||(p=t.onContinue)==null||p.call(t)}),g=()=>{if(o())return;let p;const S=n===0?t.initialPromise:void 0;try{p=S??t.fn()}catch(y){p=Promise.reject(y)}Promise.resolve(p).then(d).catch(y=>{var $;if(o())return;const b=t.retry??(h3?0:3),_=t.retryDelay??X6e,N=typeof _=="function"?_(n,y):_,O=b===!0||typeof b=="number"&&n<b||typeof b=="function"&&b(n,y);if(e||!O){f(y);return}n++,($=t.onFail)==null||$.call(t,n,y),H6e(N).then(()=>l()?void 0:h()).then(()=>{e?f(y):g()})})};return{promise:i,status:()=>i.status,cancel:s,continue:()=>(r==null||r(),i),cancelRetry:a,continueRetry:c,canStart:u,start:()=>(u()?g():h().then(g),i)}}var id,zN,CK=(zN=class{constructor(){Et(this,id)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),D6e(this.gcTime)&&lt(this,id,q_.setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(t){this.gcTime=Math.max(this.gcTime||0,t??(h3?1/0:5*60*1e3))}clearGcTimeout(){ye(this,id)&&(q_.clearTimeout(ye(this,id)),lt(this,id,void 0))}},id=new WeakMap,zN),od,Th,wo,sd,Gn,km,ad,Qo,La,HN,e5e=(HN=class extends CK{constructor(e){super();Et(this,Qo);Et(this,od);Et(this,Th);Et(this,wo);Et(this,sd);Et(this,Gn);Et(this,km);Et(this,ad);lt(this,ad,!1),lt(this,km,e.defaultOptions),this.setOptions(e.options),this.observers=[],lt(this,sd,e.client),lt(this,wo,ye(this,sd).getQueryCache()),this.queryKey=e.queryKey,this.queryHash=e.queryHash,lt(this,od,LN(this.options)),this.state=e.state??ye(this,od),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var e;return(e=ye(this,Gn))==null?void 0:e.promise}setOptions(e){if(this.options={...ye(this,km),...e},this.updateGcTime(this.options.gcTime),this.state&&this.state.data===void 0){const n=LN(this.options);n.data!==void 0&&(this.setData(n.data,{updatedAt:n.dataUpdatedAt,manual:!0}),lt(this,od,n))}}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&ye(this,wo).remove(this)}setData(e,n){const r=W6e(this.state.data,e,this.options);return Pn(this,Qo,La).call(this,{data:r,type:"success",dataUpdatedAt:n==null?void 0:n.updatedAt,manual:n==null?void 0:n.manual}),r}setState(e,n){Pn(this,Qo,La).call(this,{type:"setState",state:e,setStateOptions:n})}cancel(e){var r,i;const n=(r=ye(this,Gn))==null?void 0:r.promise;return(i=ye(this,Gn))==null||i.cancel(e),n?n.then(So).catch(So):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(ye(this,od))}isActive(){return this.observers.some(e=>F6e(e.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===Z8||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStatic(){return this.getObserversCount()>0?this.observers.some(e=>V_(e.options.staleTime,this)==="static"):!1}isStale(){return this.getObserversCount()>0?this.observers.some(e=>e.getCurrentResult().isStale):this.state.data===void 0||this.state.isInvalidated}isStaleByTime(e=0){return this.state.data===void 0?!0:e==="static"?!1:this.state.isInvalidated?!0:!j6e(this.state.dataUpdatedAt,e)}onFocus(){var n;const e=this.observers.find(r=>r.shouldFetchOnWindowFocus());e==null||e.refetch({cancelRefetch:!1}),(n=ye(this,Gn))==null||n.continue()}onOnline(){var n;const e=this.observers.find(r=>r.shouldFetchOnReconnect());e==null||e.refetch({cancelRefetch:!1}),(n=ye(this,Gn))==null||n.continue()}addObserver(e){this.observers.includes(e)||(this.observers.push(e),this.clearGcTimeout(),ye(this,wo).notify({type:"observerAdded",query:this,observer:e}))}removeObserver(e){this.observers.includes(e)&&(this.observers=this.observers.filter(n=>n!==e),this.observers.length||(ye(this,Gn)&&(ye(this,ad)?ye(this,Gn).cancel({revert:!0}):ye(this,Gn).cancelRetry()),this.scheduleGc()),ye(this,wo).notify({type:"observerRemoved",query:this,observer:e}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||Pn(this,Qo,La).call(this,{type:"invalidate"})}async fetch(e,n){var c,l,u,d,f,h,g,p,S,y,b,_;if(this.state.fetchStatus!=="idle"&&((c=ye(this,Gn))==null?void 0:c.status())!=="rejected"){if(this.state.data!==void 0&&(n!=null&&n.cancelRefetch))this.cancel({silent:!0});else if(ye(this,Gn))return ye(this,Gn).continueRetry(),ye(this,Gn).promise}if(e&&this.setOptions(e),!this.options.queryFn){const N=this.observers.find(O=>O.options.queryFn);N&&this.setOptions(N.options)}const r=new AbortController,i=N=>{Object.defineProperty(N,"signal",{enumerable:!0,get:()=>(lt(this,ad,!0),r.signal)})},o=()=>{const N=EK(this.options,n),$=(()=>{const j={client:ye(this,sd),queryKey:this.queryKey,meta:this.meta};return i(j),j})();return lt(this,ad,!1),this.options.persister?this.options.persister(N,$,this):N($)},a=(()=>{const N={fetchOptions:n,options:this.options,queryKey:this.queryKey,client:ye(this,sd),state:this.state,fetchFn:o};return i(N),N})();(l=this.options.behavior)==null||l.onFetch(a,this),lt(this,Th,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((u=a.fetchOptions)==null?void 0:u.meta))&&Pn(this,Qo,La).call(this,{type:"fetch",meta:(d=a.fetchOptions)==null?void 0:d.meta}),lt(this,Gn,_K({initialPromise:n==null?void 0:n.initialPromise,fn:a.fetchFn,onCancel:N=>{N instanceof Y_&&N.revert&&this.setState({...ye(this,Th),fetchStatus:"idle"}),r.abort()},onFail:(N,O)=>{Pn(this,Qo,La).call(this,{type:"failed",failureCount:N,error:O})},onPause:()=>{Pn(this,Qo,La).call(this,{type:"pause"})},onContinue:()=>{Pn(this,Qo,La).call(this,{type:"continue"})},retry:a.options.retry,retryDelay:a.options.retryDelay,networkMode:a.options.networkMode,canRun:()=>!0}));try{const N=await ye(this,Gn).start();if(N===void 0)throw new Error(`${this.queryHash} data is undefined`);return this.setData(N),(h=(f=ye(this,wo).config).onSuccess)==null||h.call(f,N,this),(p=(g=ye(this,wo).config).onSettled)==null||p.call(g,N,this.state.error,this),N}catch(N){if(N instanceof Y_){if(N.silent)return ye(this,Gn).promise;if(N.revert){if(this.state.data===void 0)throw N;return this.state.data}}throw Pn(this,Qo,La).call(this,{type:"error",error:N}),(y=(S=ye(this,wo).config).onError)==null||y.call(S,N,this),(_=(b=ye(this,wo).config).onSettled)==null||_.call(b,this.state.data,N,this),N}finally{this.scheduleGc()}}},od=new WeakMap,Th=new WeakMap,wo=new WeakMap,sd=new WeakMap,Gn=new WeakMap,km=new WeakMap,ad=new WeakMap,Qo=new WeakSet,La=function(e){const n=r=>{switch(e.type){case"failed":return{...r,fetchFailureCount:e.failureCount,fetchFailureReason:e.error};case"pause":return{...r,fetchStatus:"paused"};case"continue":return{...r,fetchStatus:"fetching"};case"fetch":return{...r,...t5e(r.data,this.options),fetchMeta:e.meta??null};case"success":const i={...r,data:e.data,dataUpdateCount:r.dataUpdateCount+1,dataUpdatedAt:e.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!e.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};return lt(this,Th,e.manual?i:void 0),i;case"error":const o=e.error;return{...r,error:o,errorUpdateCount:r.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:r.fetchFailureCount+1,fetchFailureReason:o,fetchStatus:"idle",status:"error"};case"invalidate":return{...r,isInvalidated:!0};case"setState":return{...r,...e.state}}};this.state=n(this.state),gr.batch(()=>{this.observers.forEach(r=>{r.onQueryUpdate()}),ye(this,wo).notify({query:this,type:"updated",action:e})})},HN);function t5e(t,e){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:SK(e.networkMode)?"fetching":"paused",...t===void 0&&{error:null,status:"pending"}}}function LN(t){const e=typeof t.initialData=="function"?t.initialData():t.initialData,n=e!==void 0,r=n?typeof t.initialDataUpdatedAt=="function"?t.initialDataUpdatedAt():t.initialDataUpdatedAt:0;return{data:e,dataUpdateCount:0,dataUpdatedAt:n?r??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:n?"success":"pending",fetchStatus:"idle"}}function $N(t){return{onFetch:(e,n)=>{var u,d,f,h,g;const r=e.options,i=(f=(d=(u=e.fetchOptions)==null?void 0:u.meta)==null?void 0:d.fetchMore)==null?void 0:f.direction,o=((h=e.state.data)==null?void 0:h.pages)||[],s=((g=e.state.data)==null?void 0:g.pageParams)||[];let a={pages:[],pageParams:[]},c=0;const l=async()=>{let p=!1;const S=_=>{Object.defineProperty(_,"signal",{enumerable:!0,get:()=>(e.signal.aborted?p=!0:e.signal.addEventListener("abort",()=>{p=!0}),e.signal)})},y=EK(e.options,e.fetchOptions),b=async(_,N,O)=>{if(p)return Promise.reject();if(N==null&&_.pages.length)return Promise.resolve(_);const j=(()=>{const P={client:e.client,queryKey:e.queryKey,pageParam:N,direction:O?"backward":"forward",meta:e.options.meta};return S(P),P})(),k=await y(j),{maxPages:T}=e.options,L=O?q6e:K6e;return{pages:L(_.pages,k,T),pageParams:L(_.pageParams,N,T)}};if(i&&o.length){const _=i==="backward",N=_?n5e:BN,O={pages:o,pageParams:s},$=N(r,O);a=await b(O,$,_)}else{const _=t??o.length;do{const N=c===0?s[0]??r.initialPageParam:BN(r,a);if(c>0&&N==null)break;a=await b(a,N),c++}while(c<_)}return a};e.options.persister?e.fetchFn=()=>{var p,S;return(S=(p=e.options).persister)==null?void 0:S.call(p,l,{client:e.client,queryKey:e.queryKey,meta:e.options.meta,signal:e.signal},n)}:e.fetchFn=l}}}function BN(t,{pages:e,pageParams:n}){const r=e.length-1;return e.length>0?t.getNextPageParam(e[r],e,n[r],n):void 0}function n5e(t,{pages:e,pageParams:n}){var r;return e.length>0?(r=t.getPreviousPageParam)==null?void 0:r.call(t,e[0],e,n[0],n):void 0}var Pm,Ds,Fr,cd,js,dl,WN,r5e=(WN=class extends CK{constructor(e){super();Et(this,js);Et(this,Pm);Et(this,Ds);Et(this,Fr);Et(this,cd);lt(this,Pm,e.client),this.mutationId=e.mutationId,lt(this,Fr,e.mutationCache),lt(this,Ds,[]),this.state=e.state||AK(),this.setOptions(e.options),this.scheduleGc()}setOptions(e){this.options=e,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(e){ye(this,Ds).includes(e)||(ye(this,Ds).push(e),this.clearGcTimeout(),ye(this,Fr).notify({type:"observerAdded",mutation:this,observer:e}))}removeObserver(e){lt(this,Ds,ye(this,Ds).filter(n=>n!==e)),this.scheduleGc(),ye(this,Fr).notify({type:"observerRemoved",mutation:this,observer:e})}optionalRemove(){ye(this,Ds).length||(this.state.status==="pending"?this.scheduleGc():ye(this,Fr).remove(this))}continue(){var e;return((e=ye(this,cd))==null?void 0:e.continue())??this.execute(this.state.variables)}async execute(e){var s,a,c,l,u,d,f,h,g,p,S,y,b,_,N,O,$,j,k,T;const n=()=>{Pn(this,js,dl).call(this,{type:"continue"})},r={client:ye(this,Pm),meta:this.options.meta,mutationKey:this.options.mutationKey};lt(this,cd,_K({fn:()=>this.options.mutationFn?this.options.mutationFn(e,r):Promise.reject(new Error("No mutationFn found")),onFail:(L,P)=>{Pn(this,js,dl).call(this,{type:"failed",failureCount:L,error:P})},onPause:()=>{Pn(this,js,dl).call(this,{type:"pause"})},onContinue:n,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>ye(this,Fr).canRun(this)}));const i=this.state.status==="pending",o=!ye(this,cd).canStart();try{if(i)n();else{Pn(this,js,dl).call(this,{type:"pending",variables:e,isPaused:o}),await((a=(s=ye(this,Fr).config).onMutate)==null?void 0:a.call(s,e,this,r));const P=await((l=(c=this.options).onMutate)==null?void 0:l.call(c,e,r));P!==this.state.context&&Pn(this,js,dl).call(this,{type:"pending",context:P,variables:e,isPaused:o})}const L=await ye(this,cd).start();return await((d=(u=ye(this,Fr).config).onSuccess)==null?void 0:d.call(u,L,e,this.state.context,this,r)),await((h=(f=this.options).onSuccess)==null?void 0:h.call(f,L,e,this.state.context,r)),await((p=(g=ye(this,Fr).config).onSettled)==null?void 0:p.call(g,L,null,this.state.variables,this.state.context,this,r)),await((y=(S=this.options).onSettled)==null?void 0:y.call(S,L,null,e,this.state.context,r)),Pn(this,js,dl).call(this,{type:"success",data:L}),L}catch(L){try{throw await((_=(b=ye(this,Fr).config).onError)==null?void 0:_.call(b,L,e,this.state.context,this,r)),await((O=(N=this.options).onError)==null?void 0:O.call(N,L,e,this.state.context,r)),await((j=($=ye(this,Fr).config).onSettled)==null?void 0:j.call($,void 0,L,this.state.variables,this.state.context,this,r)),await((T=(k=this.options).onSettled)==null?void 0:T.call(k,void 0,L,e,this.state.context,r)),L}finally{Pn(this,js,dl).call(this,{type:"error",error:L})}}finally{ye(this,Fr).runNext(this)}}},Pm=new WeakMap,Ds=new WeakMap,Fr=new WeakMap,cd=new WeakMap,js=new WeakSet,dl=function(e){const n=r=>{switch(e.type){case"failed":return{...r,failureCount:e.failureCount,failureReason:e.error};case"pause":return{...r,isPaused:!0};case"continue":return{...r,isPaused:!1};case"pending":return{...r,context:e.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:e.isPaused,status:"pending",variables:e.variables,submittedAt:Date.now()};case"success":return{...r,data:e.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...r,data:void 0,error:e.error,failureCount:r.failureCount+1,failureReason:e.error,isPaused:!1,status:"error"}}};this.state=n(this.state),gr.batch(()=>{ye(this,Ds).forEach(r=>{r.onMutationUpdate(e)}),ye(this,Fr).notify({mutation:this,type:"updated",action:e})})},WN);function AK(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var qa,Xo,Om,KN,i5e=(KN=class extends my{constructor(e={}){super();Et(this,qa);Et(this,Xo);Et(this,Om);this.config=e,lt(this,qa,new Set),lt(this,Xo,new Map),lt(this,Om,0)}build(e,n,r){const i=new r5e({client:e,mutationCache:this,mutationId:++xy(this,Om)._,options:e.defaultMutationOptions(n),state:r});return this.add(i),i}add(e){ye(this,qa).add(e);const n=H1(e);if(typeof n=="string"){const r=ye(this,Xo).get(n);r?r.push(e):ye(this,Xo).set(n,[e])}this.notify({type:"added",mutation:e})}remove(e){if(ye(this,qa).delete(e)){const n=H1(e);if(typeof n=="string"){const r=ye(this,Xo).get(n);if(r)if(r.length>1){const i=r.indexOf(e);i!==-1&&r.splice(i,1)}else r[0]===e&&ye(this,Xo).delete(n)}}this.notify({type:"removed",mutation:e})}canRun(e){const n=H1(e);if(typeof n=="string"){const r=ye(this,Xo).get(n),i=r==null?void 0:r.find(o=>o.state.status==="pending");return!i||i===e}else return!0}runNext(e){var r;const n=H1(e);if(typeof n=="string"){const i=(r=ye(this,Xo).get(n))==null?void 0:r.find(o=>o!==e&&o.state.isPaused);return(i==null?void 0:i.continue())??Promise.resolve()}else return Promise.resolve()}clear(){gr.batch(()=>{ye(this,qa).forEach(e=>{this.notify({type:"removed",mutation:e})}),ye(this,qa).clear(),ye(this,Xo).clear()})}getAll(){return Array.from(ye(this,qa))}find(e){const n={exact:!0,...e};return this.getAll().find(r=>MN(n,r))}findAll(e={}){return this.getAll().filter(n=>MN(e,n))}notify(e){gr.batch(()=>{this.listeners.forEach(n=>{n(e)})})}resumePausedMutations(){const e=this.getAll().filter(n=>n.state.isPaused);return gr.batch(()=>Promise.all(e.map(n=>n.continue().catch(So))))}},qa=new WeakMap,Xo=new WeakMap,Om=new WeakMap,KN);function H1(t){var e;return(e=t.options.scope)==null?void 0:e.id}var Va,Tl,ci,Ga,pc,Fv,J_,qN,o5e=(qN=class extends my{constructor(n,r){super();Et(this,pc);Et(this,Va);Et(this,Tl);Et(this,ci);Et(this,Ga);lt(this,Va,n),this.setOptions(r),this.bindMethods(),Pn(this,pc,Fv).call(this)}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(n){var i;const r=this.options;this.options=ye(this,Va).defaultMutationOptions(n),z6e(this.options,r)||ye(this,Va).getMutationCache().notify({type:"observerOptionsUpdated",mutation:ye(this,ci),observer:this}),r!=null&&r.mutationKey&&this.options.mutationKey&&Ud(r.mutationKey)!==Ud(this.options.mutationKey)?this.reset():((i=ye(this,ci))==null?void 0:i.state.status)==="pending"&&ye(this,ci).setOptions(this.options)}onUnsubscribe(){var n;this.hasListeners()||(n=ye(this,ci))==null||n.removeObserver(this)}onMutationUpdate(n){Pn(this,pc,Fv).call(this),Pn(this,pc,J_).call(this,n)}getCurrentResult(){return ye(this,Tl)}reset(){var n;(n=ye(this,ci))==null||n.removeObserver(this),lt(this,ci,void 0),Pn(this,pc,Fv).call(this),Pn(this,pc,J_).call(this)}mutate(n,r){var i;return lt(this,Ga,r),(i=ye(this,ci))==null||i.removeObserver(this),lt(this,ci,ye(this,Va).getMutationCache().build(ye(this,Va),this.options)),ye(this,ci).addObserver(this),ye(this,ci).execute(n)}},Va=new WeakMap,Tl=new WeakMap,ci=new WeakMap,Ga=new WeakMap,pc=new WeakSet,Fv=function(){var r;const n=((r=ye(this,ci))==null?void 0:r.state)??AK();lt(this,Tl,{...n,isPending:n.status==="pending",isSuccess:n.status==="success",isError:n.status==="error",isIdle:n.status==="idle",mutate:this.mutate,reset:this.reset})},J_=function(n){gr.batch(()=>{var r,i,o,s,a,c,l,u;if(ye(this,Ga)&&this.hasListeners()){const d=ye(this,Tl).variables,f=ye(this,Tl).context,h={client:ye(this,Va),meta:this.options.meta,mutationKey:this.options.mutationKey};(n==null?void 0:n.type)==="success"?((i=(r=ye(this,Ga)).onSuccess)==null||i.call(r,n.data,d,f,h),(s=(o=ye(this,Ga)).onSettled)==null||s.call(o,n.data,null,d,f,h)):(n==null?void 0:n.type)==="error"&&((c=(a=ye(this,Ga)).onError)==null||c.call(a,n.error,d,f,h),(u=(l=ye(this,Ga)).onSettled)==null||u.call(l,void 0,n.error,d,f,h))}this.listeners.forEach(d=>{d(ye(this,Tl))})})},qN),Fs,VN,s5e=(VN=class extends my{constructor(e={}){super();Et(this,Fs);this.config=e,lt(this,Fs,new Map)}build(e,n,r){const i=n.queryKey,o=n.queryHash??J8(i,n);let s=this.get(o);return s||(s=new e5e({client:e,queryKey:i,queryHash:o,options:e.defaultQueryOptions(n),state:r,defaultOptions:e.getQueryDefaults(i)}),this.add(s)),s}add(e){ye(this,Fs).has(e.queryHash)||(ye(this,Fs).set(e.queryHash,e),this.notify({type:"added",query:e}))}remove(e){const n=ye(this,Fs).get(e.queryHash);n&&(e.destroy(),n===e&&ye(this,Fs).delete(e.queryHash),this.notify({type:"removed",query:e}))}clear(){gr.batch(()=>{this.getAll().forEach(e=>{this.remove(e)})})}get(e){return ye(this,Fs).get(e)}getAll(){return[...ye(this,Fs).values()]}find(e){const n={exact:!0,...e};return this.getAll().find(r=>TN(n,r))}findAll(e={}){const n=this.getAll();return Object.keys(e).length>0?n.filter(r=>TN(e,r)):n}notify(e){gr.batch(()=>{this.listeners.forEach(n=>{n(e)})})}onFocus(){gr.batch(()=>{this.getAll().forEach(e=>{e.onFocus()})})}onOnline(){gr.batch(()=>{this.getAll().forEach(e=>{e.onOnline()})})}},Fs=new WeakMap,VN),xn,Ml,Nl,Mh,Nh,Rl,Rh,Lh,GN,a5e=(GN=class{constructor(t={}){Et(this,xn);Et(this,Ml);Et(this,Nl);Et(this,Mh);Et(this,Nh);Et(this,Rl);Et(this,Rh);Et(this,Lh);lt(this,xn,t.queryCache||new s5e),lt(this,Ml,t.mutationCache||new i5e),lt(this,Nl,t.defaultOptions||{}),lt(this,Mh,new Map),lt(this,Nh,new Map),lt(this,Rl,0)}mount(){xy(this,Rl)._++,ye(this,Rl)===1&&(lt(this,Rh,xK.subscribe(async t=>{t&&(await this.resumePausedMutations(),ye(this,xn).onFocus())})),lt(this,Lh,mb.subscribe(async t=>{t&&(await this.resumePausedMutations(),ye(this,xn).onOnline())})))}unmount(){var t,e;xy(this,Rl)._--,ye(this,Rl)===0&&((t=ye(this,Rh))==null||t.call(this),lt(this,Rh,void 0),(e=ye(this,Lh))==null||e.call(this),lt(this,Lh,void 0))}isFetching(t){return ye(this,xn).findAll({...t,fetchStatus:"fetching"}).length}isMutating(t){return ye(this,Ml).findAll({...t,status:"pending"}).length}getQueryData(t){var n;const e=this.defaultQueryOptions({queryKey:t});return(n=ye(this,xn).get(e.queryHash))==null?void 0:n.state.data}ensureQueryData(t){const e=this.defaultQueryOptions(t),n=ye(this,xn).build(this,e),r=n.state.data;return r===void 0?this.fetchQuery(t):(t.revalidateIfStale&&n.isStaleByTime(V_(e.staleTime,n))&&this.prefetchQuery(e),Promise.resolve(r))}getQueriesData(t){return ye(this,xn).findAll(t).map(({queryKey:e,state:n})=>{const r=n.data;return[e,r]})}setQueryData(t,e,n){const r=this.defaultQueryOptions({queryKey:t}),i=ye(this,xn).get(r.queryHash),o=i==null?void 0:i.state.data,s=B6e(e,o);if(s!==void 0)return ye(this,xn).build(this,r).setData(s,{...n,manual:!0})}setQueriesData(t,e,n){return gr.batch(()=>ye(this,xn).findAll(t).map(({queryKey:r})=>[r,this.setQueryData(r,e,n)]))}getQueryState(t){var n;const e=this.defaultQueryOptions({queryKey:t});return(n=ye(this,xn).get(e.queryHash))==null?void 0:n.state}removeQueries(t){const e=ye(this,xn);gr.batch(()=>{e.findAll(t).forEach(n=>{e.remove(n)})})}resetQueries(t,e){const n=ye(this,xn);return gr.batch(()=>(n.findAll(t).forEach(r=>{r.reset()}),this.refetchQueries({type:"active",...t},e)))}cancelQueries(t,e={}){const n={revert:!0,...e},r=gr.batch(()=>ye(this,xn).findAll(t).map(i=>i.cancel(n)));return Promise.all(r).then(So).catch(So)}invalidateQueries(t,e={}){return gr.batch(()=>(ye(this,xn).findAll(t).forEach(n=>{n.invalidate()}),(t==null?void 0:t.refetchType)==="none"?Promise.resolve():this.refetchQueries({...t,type:(t==null?void 0:t.refetchType)??(t==null?void 0:t.type)??"active"},e)))}refetchQueries(t,e={}){const n={...e,cancelRefetch:e.cancelRefetch??!0},r=gr.batch(()=>ye(this,xn).findAll(t).filter(i=>!i.isDisabled()&&!i.isStatic()).map(i=>{let o=i.fetch(void 0,n);return n.throwOnError||(o=o.catch(So)),i.state.fetchStatus==="paused"?Promise.resolve():o}));return Promise.all(r).then(So)}fetchQuery(t){const e=this.defaultQueryOptions(t);e.retry===void 0&&(e.retry=!1);const n=ye(this,xn).build(this,e);return n.isStaleByTime(V_(e.staleTime,n))?n.fetch(e):Promise.resolve(n.state.data)}prefetchQuery(t){return this.fetchQuery(t).then(So).catch(So)}fetchInfiniteQuery(t){return t.behavior=$N(t.pages),this.fetchQuery(t)}prefetchInfiniteQuery(t){return this.fetchInfiniteQuery(t).then(So).catch(So)}ensureInfiniteQueryData(t){return t.behavior=$N(t.pages),this.ensureQueryData(t)}resumePausedMutations(){return mb.isOnline()?ye(this,Ml).resumePausedMutations():Promise.resolve()}getQueryCache(){return ye(this,xn)}getMutationCache(){return ye(this,Ml)}getDefaultOptions(){return ye(this,Nl)}setDefaultOptions(t){lt(this,Nl,t)}setQueryDefaults(t,e){ye(this,Mh).set(Ud(t),{queryKey:t,defaultOptions:e})}getQueryDefaults(t){const e=[...ye(this,Mh).values()],n={};return e.forEach(r=>{Im(t,r.queryKey)&&Object.assign(n,r.defaultOptions)}),n}setMutationDefaults(t,e){ye(this,Nh).set(Ud(t),{mutationKey:t,defaultOptions:e})}getMutationDefaults(t){const e=[...ye(this,Nh).values()],n={};return e.forEach(r=>{Im(t,r.mutationKey)&&Object.assign(n,r.defaultOptions)}),n}defaultQueryOptions(t){if(t._defaulted)return t;const e={...ye(this,Nl).queries,...this.getQueryDefaults(t.queryKey),...t,_defaulted:!0};return e.queryHash||(e.queryHash=J8(e.queryKey,e)),e.refetchOnReconnect===void 0&&(e.refetchOnReconnect=e.networkMode!=="always"),e.throwOnError===void 0&&(e.throwOnError=!!e.suspense),!e.networkMode&&e.persister&&(e.networkMode="offlineFirst"),e.queryFn===Z8&&(e.enabled=!1),e}defaultMutationOptions(t){return t!=null&&t._defaulted?t:{...ye(this,Nl).mutations,...(t==null?void 0:t.mutationKey)&&this.getMutationDefaults(t.mutationKey),...t,_defaulted:!0}}clear(){ye(this,xn).clear(),ye(this,Ml).clear()}},xn=new WeakMap,Ml=new WeakMap,Nl=new WeakMap,Mh=new WeakMap,Nh=new WeakMap,Rl=new WeakMap,Rh=new WeakMap,Lh=new WeakMap,GN);function c5e(t){return{mutationFn(e){return UEe(t,e)},mutationKey:["connect"]}}function l5e(t){return{mutationFn(e){return zEe(t,e)},mutationKey:["disconnect"]}}function u5e(t){return{mutationFn(e){return fK(t,e)},mutationKey:["reconnect"]}}var IK=le.createContext(void 0),d5e=t=>{const e=le.useContext(IK);if(!e)throw new Error("No QueryClient set, use QueryClientProvider to set one");return e},f5e=({client:t,children:e})=>(le.useEffect(()=>(t.mount(),()=>{t.unmount()}),[t]),te.jsx(IK.Provider,{value:t,children:e}));function Q8(t,e){const n=d5e(),[r]=le.useState(()=>new o5e(n,t));le.useEffect(()=>{r.setOptions(t)},[r,t]);const i=le.useSyncExternalStore(le.useCallback(s=>r.subscribe(gr.batchCalls(s)),[r]),()=>r.getCurrentResult(),()=>r.getCurrentResult()),o=le.useCallback((s,a)=>{r.mutate(s,a).catch(So)},[r]);if(i.error&&V6e(r.options.throwOnError,[i.error]))throw i.error;return{...i,mutate:o,mutateAsync:i.mutate}}function h5e(t={}){const e=Eu(t);return le.useSyncExternalStore(n=>WEe(e,{onChange:n}),()=>IN(e),()=>IN(e))}function p5e(t={}){const{mutation:e}=t,n=Eu(t),r=c5e(n),{mutate:i,mutateAsync:o,...s}=Q8({...e,...r});return le.useEffect(()=>n.subscribe(({status:a})=>a,(a,c)=>{c==="connected"&&a==="disconnected"&&s.reset()}),[n,s.reset]),{...s,connect:i,connectAsync:o,connectors:h5e({config:n})}}function g5e(t={}){const e=Eu(t);return le.useSyncExternalStore(n=>HEe(e,{onChange:n}),()=>H_(e),()=>H_(e))}function m5e(t={}){const{mutation:e}=t,n=Eu(t),r=l5e(n),{mutate:i,mutateAsync:o,...s}=Q8({...e,...r});return{...s,connectors:g5e({config:n}).map(a=>a.connector),disconnect:i,disconnectAsync:o}}function y5e(t={}){const{mutation:e}=t,n=Eu(t),r=u5e(n),{mutate:i,mutateAsync:o,...s}=Q8({...e,...r});return{...s,connectors:n.connectors,reconnect:i,reconnectAsync:o}}const hg=FH({id:1,name:"Ethereum",nativeCurrency:{name:"Ether",symbol:"ETH",decimals:18},blockTime:12e3,rpcUrls:{default:{http:["https://eth.merkle.io"]}},blockExplorers:{default:{name:"Etherscan",url:"https://etherscan.io",apiUrl:"https://api.etherscan.io/api"}},contracts:{ensUniversalResolver:{address:"0xeeeeeeee14d718c2b47d9923deab1335e144eeee",blockCreated:23085558},multicall3:{address:"0xca11bde05977b3631167028862be2a173976ca11",blockCreated:14353601}}}),v5e=Y8({chains:[hg],connectors:[],ssr:!0,transports:{[hg.id]:nd(hg.rpcUrls.default.http[0])}}),w5e=["children"],Z_="web3auth";async function b5e(t,e){let n=e.connectors.find(i=>i.id===Z_);if(n)return n;n=z0({target:{provider:t,id:Z_,name:"Web3Auth"}});const r=e._internal.connectors.setup(n);return e._internal.connectors.setState(i=>[...i,r]),r}async function E5e(t,e){var n,r;await Promise.all([(n=e.storage)===null||n===void 0?void 0:n.removeItem(`${t.id}.disconnected`),(r=e.storage)===null||r===void 0?void 0:r.setItem("recentConnectorId",t.id)]);let i=await t.getChainId();e.chains.find(a=>a.id===i)||(i=e.chains[0].id);const o=await t.getAccounts(),s=new Map([[t.uid,{accounts:[o[0]],chainId:i,connector:t}]]);e.setState(a=>ae(ae({},a),{},{chainId:i,connections:s,current:t.uid,status:"connected"}))}async function x5e(t){t._internal.connectors.setState(e=>e.filter(n=>n.id!==Z_)),t.setState(e=>ae(ae({},e),{},{chainId:e.chainId,connections:new Map,current:void 0,status:"disconnected"}))}function S5e({children:t}){const{isConnected:e,provider:n}=cK(),{disconnect:r}=LEe(),i=Eu(),{reconnect:o}=y5e();return N6e({onDisconnect:async()=>{$e.info("Disconnected from wagmi"),e&&await r()}}),le.useEffect(()=>{(async()=>{if(e&&n){const s=await b5e(n,i);if(!s)throw $e.error("Failed to setup react wagmi connector"),new Error("Failed to setup connector");await E5e(s,i),o()}else e||i.state.status==="connected"&&await x5e(i)})()},[e,i,n,o]),le.createElement(le.Fragment,null,t)}function _5e(t){let{children:e}=t,n=Lb(t,w5e);const{config:r}=n,{web3Auth:i,isInitialized:o}=cK(),s=le.useMemo(()=>{var a;if(i==null||i.setAnalyticsProperties({wagmi_enabled:!0}),!o)return v5e;const c=ae(ae({ssr:!0},r),{},{chains:void 0,connectors:[],transports:{},multiInjectedProviderDiscovery:!1,client:void 0}),l=[];if(o&&i!==null&&i!==void 0&&(a=i.coreOptions)!==null&&a!==void 0&&a.chains){var u;const d=(u=i.currentChain)===null||u===void 0?void 0:u.chainId,f=i.coreOptions.chains.filter(h=>h.chainNamespace===mt.EIP155);if(f.length===0)throw Fe.invalidParams("No valid chains found in web3auth config for wagmi.");f.forEach(h=>{const g=FH({id:Number.parseInt(h.chainId,16),name:h.displayName,rpcUrls:{default:{http:[h.rpcTarget],webSocket:[h.wsTarget]}},blockExplorers:h.blockExplorerUrl?{default:{name:"explorer",url:h.blockExplorerUrl}}:void 0,nativeCurrency:{name:h.tickerName,symbol:h.ticker,decimals:h.decimals||18}});d===h.chainId?l.unshift(g):l.push(g),c.transports[g.id]=h.wsTarget?bbe(h.wsTarget):nd(h.rpcTarget)}),c.chains=[l[0],...l.slice(1)]}return Y8(c)},[r,i,o]);return le.createElement(a6e,ae(ae({},n),{},{config:s,reconnectOnMount:!1}),le.createElement(S5e,null,e))}const h5={id:420420422,name:"Paseo PassetHub",nativeCurrency:{name:"PAS",symbol:"PAS",decimals:18},rpcUrls:{default:{http:["https://testnet-passet-hub-eth-rpc.polkadot.io"]},public:{http:["https://testnet-passet-hub-eth-rpc.polkadot.io"]}},blockExplorers:{default:{name:"Blockscout",url:"https://blockscout-passet-hub.parity-testnet.parity.io"}},testnet:!0},p5={id:420420418,name:"Kusama Asset Hub",nativeCurrency:{name:"Kusama",symbol:"KSM",decimals:12},rpcUrls:{default:{http:["https://kusama-asset-hub-eth-rpc.polkadot.io/"]}},blockExplorers:{default:{name:"Blockscout",url:"https://blockscout-kusama-asset-hub.parity-chains-scw.parity.io/"}}},g5={id:420420421,name:"Westend Network",nativeCurrency:{name:"Westend",symbol:"WND",decimals:12},rpcUrls:{default:{http:["https://westend-asset-hub-eth-rpc.polkadot.io"]}},blockExplorers:{default:{name:"Blockscout",url:"https://blockscout-asset-hub.parity-chains-scw.parity.io"}}},C5e=Y8({chains:[h5,hg,p5,g5],connectors:[z0()],transports:{[h5.id]:nd(h5.rpcUrls.default.http[0]),[hg.id]:nd(),[p5.id]:nd(p5.rpcUrls.default.http[0]),[g5.id]:nd(g5.rpcUrls.default.http[0])}}),yb={id:420420422,name:"Paseo PassetHub",network:"passetHub",nativeCurrency:{name:"PAS",symbol:"PAS",decimals:18},rpcUrls:{default:{http:["https://testnet-passet-hub-eth-rpc.polkadot.io"]},public:{http:["https://testnet-passet-hub-eth-rpc.polkadot.io"]}},blockExplorers:{default:{name:"Blockscout",url:"https://blockscout-passet-hub.parity-testnet.parity.io"}},testnet:!0},DN=[{inputs:[{internalType:"string",name:"serial",type:"string"},{internalType:"string",name:"brand",type:"string"}],name:"registerBike",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"string",name:"serial",type:"string"}],name:"getBikeOwner",outputs:[{internalType:"address",name:"owner",type:"address"},{internalType:"string",name:"brand",type:"string"},{internalType:"uint256",name:"registeredAt",type:"uint256"}],stateMutability:"view",type:"function"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"owner",type:"address"},{indexed:!1,internalType:"string",name:"serial",type:"string"},{indexed:!1,internalType:"string",name:"brand",type:"string"},{indexed:!1,internalType:"uint256",name:"timestamp",type:"uint256"}],name:"BikeRegistered",type:"event"}],A5e={[yb.id]:"0x7eb34cec627927d09bc9fb7b336bba4c459330c5"},m5=A5e[yb.id];function I5e(){const{address:t,isConnected:e}=M6e(),{connect:n}=p5e(),{disconnect:r}=m5e(),[i,o]=le.useState(""),[s,a]=le.useState(""),[c,l]=le.useState(""),[u,d]=le.useState(null),f=nbe({chain:yb,transport:nd()}),h=async()=>vbe({chain:yb,transport:wbe(window.ethereum)}),g=async()=>{if(!e||!t)return l("⚠️ Por favor, conecta tu wallet...");if(!i.trim()||!s.trim())return l("⚠️ Debes ingresar Serial y Marca.");l("Registrando bicicleta en la blockchain...");try{console.log("Intentando registrar:",{serial:i,brand:s,address:t,contractAddress:m5});const S=await h(),{request:y}=await f.simulateContract({account:t,address:m5,abi:DN,functionName:"registerBike",args:[i.trim(),s.trim()]}),b=await S.writeContract(y);l(`Transacción enviada. Hash: ${b.slice(0,10)}...${b.slice(-4)}`)}catch(S){console.error("Error en registerBike:",S),l(`Error al registrar: ${S.shortMessage||S.message}`)}},p=async()=>{var S;if(!i.trim())return l("⚠️ Debes ingresar un Serial para buscar.");d(null),l("⏳ Buscando bicicleta...");try{const y=await f.readContract({address:m5,abi:DN,functionName:"getBikeOwner",args:[i.trim()]}),b={owner:y[0],brand:y[1],registeredAt:y[2]};l("Bicicleta encontrada."),d(b)}catch(y){console.error(y),(S=y.shortMessage)!=null&&S.includes("not registered")?(l("ℹBicicleta no registrada."),d(null)):l(`Error al buscar: ${y.shortMessage||y.message}`)}};return te.jsx("div",{className:"app-container",children:te.jsx("div",{className:"main-content",children:te.jsxs("div",{className:"layout-grid",children:[te.jsxs("div",{className:"sidebar bg-light shadow-md border-right",children:[te.jsx("h3",{className:"title font-bold color-primary",children:"KitDot Registry DApp"}),te.jsx("p",{className:"subtitle",children:"Polkadot Smart Contracts"}),te.jsx("div",{className:"mt-5 mb-5 flex-row",children:e?te.jsx("button",{className:"button button-disconnect",onClick:()=>r(),children:"Desconectar"}):te.jsx("button",{className:"button button-primary",onClick:()=>n({connector:z0()}),children:"Conectar Wallet"})}),e&&te.jsxs("div",{className:"balance-grid border rounded-md p-3",children:[te.jsxs("div",{className:"balance-address",children:[te.jsx("span",{className:"balance-label",children:"Wallet"}),te.jsxs("span",{className:"balance-value",children:[t==null?void 0:t.slice(0,8),"...",t==null?void 0:t.slice(-4)]})]}),te.jsx("div",{className:"balance-amount",children:te.jsxs("span",{className:"balance-amount-value",children:[e?"...":"0"," PAS"]})})]})]}),te.jsxs("div",{className:"main-panel",children:[te.jsx("h2",{className:"section-title",children:"Registro y Consulta de Bicicletas"}),te.jsxs("div",{className:"form-section",children:[te.jsx("h3",{className:"section-subtitle",children:"1. Registrar Nueva Bicicleta"}),te.jsx("p",{className:"section-description",children:"El serial se guarda como texto."}),te.jsx("input",{type:"text",className:"input-field",placeholder:"Serial (ej: ABCD-123)",value:i,onChange:S=>o(S.target.value)}),te.jsx("input",{type:"text",className:"input-field",placeholder:"Marca (ej: Specialized)",value:s,onChange:S=>a(S.target.value)}),te.jsx("button",{className:"button button-secondary",onClick:g,disabled:!e,children:"Registrar"})]}),te.jsxs("div",{className:"form-section mt-5",children:[te.jsx("h3",{className:"section-subtitle",children:"2. Consultar Serial"}),te.jsxs("div",{className:"flex-row gap-2",children:[te.jsx("input",{type:"text",className:"input-field grow",placeholder:"Serial de Bicicleta a Consultar",value:i,onChange:S=>o(S.target.value)}),te.jsx("button",{className:"button button-primary",onClick:p,children:"Consultar"})]})]}),te.jsx("div",{className:"status-area border rounded-md p-3 my-5",children:te.jsx("p",{className:"status-message",children:c||"Esperando acción..."})}),u?te.jsxs("div",{className:"bike-detail-widget border-orange rounded-lg bg-light shadow-md",children:[te.jsxs("h4",{className:"widget-title text-orange font-bold",children:["Detalle de la Bici ",i]}),te.jsxs("div",{className:"widget-info-grid",children:[te.jsxs("div",{children:[te.jsx("b",{children:"Dueño Actual:"})," ",te.jsx("span",{className:"break-word",children:u.owner})]}),te.jsxs("div",{children:[te.jsx("b",{children:"Marca:"})," ",u.brand]}),te.jsxs("div",{children:[te.jsx("b",{children:"Registrada En:"}),new Date(Number(u.registeredAt)*1e3).toLocaleString()]})]})]}):te.jsx("div",{className:"placeholder-widget border-muted rounded-lg bg-light text-center text-sm text-muted p-4",children:"Busca una bicicleta para ver su estado actual en la blockchain."})]})]})})})}const k5e=new a5e;w5.createRoot(document.getElementById("root")).render(te.jsx($Ee,{config:DEe,children:te.jsx(f5e,{client:k5e,children:te.jsx(_5e,{config:C5e,children:te.jsx(I5e,{})})})}));export{l7 as $,o3 as A,mpe as B,Zl as C,l1e as D,due as E,t3 as F,$o as G,ef as H,dg as I,$s as J,pa as K,ale as L,cs as M,Bo as N,poe as O,Lse as P,lxe as Q,zn as R,fxe as S,o1 as T,Fg as U,t0 as V,ot as W,z7 as X,ol as Y,sle as Z,ue as _,mt as a,j5e as a$,WC as a0,GC as a1,Yce as a2,tg as a3,uc as a4,Eae as a5,Nc as a6,_B as a7,WX as a8,Xp as a9,Fe as aA,hpe as aB,fpe as aC,jse as aD,Fse as aE,ppe as aF,gpe as aG,M5e as aH,wc as aI,T5e as aJ,zG as aK,JG as aL,Mg as aM,ZG as aN,B5e as aO,Mre as aP,XK as aQ,ma as aR,HG as aS,E$ as aT,v$ as aU,yY as aV,yue as aW,mue as aX,zse as aY,vu as aZ,yw as a_,hh as aa,cv as ab,av as ac,Dl as ad,LB as ae,ae as af,toe as ag,w$ as ah,lc as ai,bu as aj,exe as ak,nxe as al,X5e as am,sxe as an,VD as ao,aM as ap,oxe as aq,CP as ar,Ex as as,hxe as at,en as au,rde as av,ode as aw,fS as ax,_l as ay,Q7 as az,Ba as b,zH as b$,dP as b0,Ye as b1,ln as b2,Vf as b3,Wt as b4,Ise as b5,wge as b6,L0 as b7,Lo as b8,fu as b9,Ki as bA,of as bB,Rn as bC,Qi as bD,Vme as bE,EW as bF,B0 as bG,l8 as bH,kc as bI,r1e as bJ,Pc as bK,j0 as bL,A8 as bM,e3 as bN,sy as bO,vbe as bP,wbe as bQ,pbe as bR,a1e as bS,fbe as bT,UH as bU,kn as bV,Ic as bW,Ps as bX,kxe as bY,Txe as bZ,M8 as b_,N0 as ba,c0 as bb,Iz as bc,Mz as bd,et as be,Kge as bf,_ge as bg,_xe as bh,mxe as bi,R0 as bj,Xu as bk,yr as bl,l0 as bm,Nme as bn,W2 as bo,ga as bp,eve as bq,rt as br,m_ as bs,bs as bt,mz as bu,ay as bv,Ei as bw,Ame as bx,QS as by,zz as bz,Ue as c,dM as c0,t1e as c1,Vye as c2,nd as c3,cse as c4,ixe as c5,FH as c6,nbe as c7,qe as d,ko as e,Cpe as f,tt as g,nt as h,Lt as i,Te as j,axe as k,$e as l,cxe as m,dxe as n,WE as o,fue as p,goe as q,txe as r,hoe as s,hA as t,iae as u,Ae as v,cy as w,Dn as x,gme as y,uy as z};
